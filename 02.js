/*! For license information please see main.js.LICENSE.txt */
!function(){var t,e,n,r,i={67068:function(t,e,n){var r=n(95616);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}if(void 0===r)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(r),function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one("bsTransitionEnd",(function(){n=!0}));return setTimeout((function(){n||t(r).trigger(t.support.transition.end)}),e),this},t((function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})}))}(r),function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function r(){a.detach().trigger("closed.bs.alert").remove()}var i=t(this),o=i.attr("data-target");o||(o=(o=i.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,""));var a=t("#"===o?[]:o);e&&e.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r())};var r=t.fn.alert;t.fn.alert=function(e){return this.each((function(){var r=t(this),i=r.data("bs.alert");i||r.data("bs.alert",i=new n(this)),"string"==typeof e&&i[e].call(r)}))},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(r),function(t){"use strict";function e(e){return this.each((function(){var r=t(this),o=r.data("bs.button"),a="object"==i(e)&&e;o||r.data("bs.button",o=new n(this,a)),"toggle"==e?o.toggle():e&&o.setState(e)}))}var n=function(e,r){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();e+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(t.proxy((function(){r[i](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,r.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n).prop(n,!1))}),this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=r,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(n){var r=t(n.target).closest(".btn");e.call(r,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),r.is("input,button")?r.trigger("focus"):r.find("input:visible,button:visible").first().trigger("focus"))})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))}))}(r),function(t){"use strict";function e(e){return this.each((function(){var r=t(this),o=r.data("bs.carousel"),a=t.extend({},n.DEFAULTS,r.data(),"object"==i(e)&&e),s="string"==typeof e?e:a.slide;o||r.data("bs.carousel",o=new n(this,a)),"number"==typeof e?o.to(e):s?o[s]():a.interval&&o.pause().cycle()}))}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var r=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(r)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",(function(){e.to(t)})):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(e,i),a=this.interval,s="next"==e?"left":"right",c=this;if(o.hasClass("active"))return this.sliding=!1;var l=o[0],u=t.Event("slide.bs.carousel",{relatedTarget:l,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:l,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",(function(){o.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout((function(){c.$element.trigger(f)}),0)})).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(f)),a&&this.cycle(),this}};var r=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=r,this};var o=function(n){var r,i=t(this),o=t(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=t.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),e.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",(function(){t('[data-ride="carousel"]').each((function(){var n=t(this);e.call(n,n.data())}))}))}(r),function(t){"use strict";function e(e){var n,r=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(r)}function n(e){return this.each((function(){var n=t(this),o=n.data("bs.collapse"),a=t.extend({},r.DEFAULTS,n.data(),"object"==i(e)&&e);!o&&a.toggle&&/show|hide/.test(e)&&(a.toggle=!1),o||n.data("bs.collapse",o=new r(this,a)),"string"==typeof e&&o[e]()}))}var r=function(e,n){this.$element=t(e),this.options=t.extend({},r.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.7",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(e=i.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),e||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var c=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][c])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy((function(n,r){var i=t(r);this.addAriaAndCollapsedClass(e(i),i)}),this)).end()},r.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=r,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(r){var i=t(this);i.attr("data-target")||r.preventDefault();var o=e(i),a=o.data("bs.collapse")?"toggle":i.data();n.call(o,a)}))}(r),function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=(n=e.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&t(n);return r&&r.length?r:e.parent()}function n(n){n&&3===n.which||(t(r).remove(),t(i).each((function(){var r=t(this),i=e(r),o={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(i[0],n.target)||(i.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))})))}var r=".dropdown-backdrop",i='.dropdown-toggle[data-toggle="dropdown"]',o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.7",o.prototype.toggle=function(r){var i=t(this);if(!i.is(".disabled, :disabled")){var o=e(i),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(r=t.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},o.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=t(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var o=e(r),a=o.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&o.find(i).trigger("focus"),r.trigger("click");var s=o.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var c=s.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<s.length-1&&c++,~c||(c=0),s.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each((function(){var n=t(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new o(this)),"string"==typeof e&&r[e].call(n)}))},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})).on("click.bs.dropdown.data-api",i,o.prototype.toggle).on("keydown.bs.dropdown.data-api",i,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(r),function(t){"use strict";function e(e,r){return this.each((function(){var o=t(this),a=o.data("bs.modal"),s=t.extend({},n.DEFAULTS,o.data(),"object"==i(e)&&e);a||o.data("bs.modal",a=new n(this,s)),"string"==typeof e?a[e](r):s.show&&a.show(r)}))}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy((function(){this.$element.trigger("loaded.bs.modal")}),this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var r=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",(function(){r.$element.one("mouseup.dismiss.bs.modal",(function(e){t(e.target).is(r.$element)&&(r.ignoreBackdropClick=!0)}))})),this.backdrop((function(){var i=t.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});i?r.$dialog.one("bsTransitionEnd",(function(){r.$element.trigger("focus").trigger(o)})).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)})))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy((function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")}),this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy((function(t){27==t.which&&this.hide()}),this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop((function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")}))},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&i;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy((function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))}),this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var r=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=r,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(n){var r=t(this),i=r.attr("href"),o=t(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",(function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",(function(){r.is(":visible")&&r.trigger("focus")}))})),e.call(o,a,this)}))}(r),function(t){"use strict";var e=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};e.VERSION="3.3.7",e.TRANSITION_DURATION=150,e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},e.prototype.init=function(e,n,r){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",c="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(c+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,(function(t,r){n[t]!=r&&(e[t]=r)})),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout((function(){"in"==n.hoverState&&n.show()}),n.options.delay.show)):n.show())},e.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout((function(){"out"==n.hoverState&&n.hide()}),n.options.delay.hide)):n.hide()},e.prototype.show=function(){var n=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var r=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,c=/\s?auto?\s?/i,l=c.test(s);l&&(s=s.replace(c,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=o[0].offsetWidth,f=o[0].offsetHeight;if(l){var h=s,p=this.getPosition(this.$viewport);s="bottom"==s&&u.bottom+f>p.bottom?"top":"top"==s&&u.top-f<p.top?"bottom":"right"==s&&u.right+d>p.width?"left":"left"==s&&u.left-d<p.left?"right":s,o.removeClass(h).addClass(s)}var m=this.getCalculatedOffset(s,u,d,f);this.applyPlacement(m,s);var y=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",y).emulateTransitionEnd(e.TRANSITION_DURATION):y()}},e.prototype.applyPlacement=function(e,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top+=a,e.left+=s,t.offset.setOffset(r[0],t.extend({using:function(t){r.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),r.addClass("in");var c=r[0].offsetWidth,l=r[0].offsetHeight;"top"==n&&l!=o&&(e.top=e.top+o-l);var u=this.getViewportAdjustedDelta(n,e,c,l);u.left?e.left+=u.left:e.top+=u.top;var d=/top|bottom/.test(n),f=d?2*u.left-i+c:2*u.top-o+l,h=d?"offsetWidth":"offsetHeight";r.offset(e),this.replaceArrow(f,r[0][h],d)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(n){function r(){"in"!=i.hoverState&&o.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),n&&n()}var i=this,o=t(this.$tip),a=t.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(e.TRANSITION_DURATION):r(),this.hoverState=null,this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(e){var n=(e=e||this.$element)[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=t.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=r?{top:0,left:0}:o?null:e.offset(),s={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},c=r?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},i,s,c,a)},e.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},e.prototype.getViewportAdjustedDelta=function(t,e,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,c=e.top+o-a.scroll+r;s<a.top?i.top=a.top-s:c>a.top+a.height&&(i.top=a.top+a.height-c)}else{var l=e.left-o,u=e.left+o+n;l<a.left?i.left=a.left-l:u>a.right&&(i.left=a.left+a.width-u)}return i},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},e.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide((function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null}))};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each((function(){var r=t(this),o=r.data("bs.tooltip"),a="object"==i(n)&&n;!o&&/destroy|hide/.test(n)||(o||r.data("bs.tooltip",o=new e(this,a)),"string"==typeof n&&o[n]())}))},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(r),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.3.7",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=function(n){return this.each((function(){var r=t(this),o=r.data("bs.popover"),a="object"==i(n)&&n;!o&&/destroy|hide/.test(n)||(o||r.data("bs.popover",o=new e(this,a)),"string"==typeof n&&o[n]())}))},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(r),function(t){"use strict";function e(n,r){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each((function(){var r=t(this),o=r.data("bs.scrollspy"),a="object"==i(n)&&n;o||r.data("bs.scrollspy",o=new e(this,a)),"string"==typeof n&&o[n]()}))}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map((function(){var e=t(this),i=e.data("target")||e.attr("href"),o=/^#./.test(i)&&t(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null})).sort((function(t,e){return t[0]-e[0]})).each((function(){e.offsets.push(this[0]),e.targets.push(this[1])}))},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=r)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<i[0])return this.activeTarget=null,this.clear();for(t=i.length;t--;)a!=o[t]&&e>=i[t]&&(void 0===i[t+1]||e<i[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',r=t(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=r,this},t(window).on("load.bs.scrollspy.data-api",(function(){t('[data-spy="scroll"]').each((function(){var e=t(this);n.call(e,e.data())}))}))}(r),function(t){"use strict";function e(e){return this.each((function(){var r=t(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof e&&i[e]()}))}var n=function(e){this.element=t(e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),r=e.data("target");if(r||(r=(r=e.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),e.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=t(r);this.activate(e.closest("li"),n),this.activate(s,s.parent(),(function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})}))}}},n.prototype.activate=function(e,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&t.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=r,this};var i=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(r),function(t){"use strict";function e(e){return this.each((function(){var r=t(this),o=r.data("bs.affix"),a="object"==i(e)&&e;o||r.data("bs.affix",o=new n(this,a)),"string"==typeof e&&o[e]()}))}var n=function(e,r){this.options=t.extend({},n.DEFAULTS,r),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return i<n&&"top";if("bottom"==this.affixed)return null!=n?!(i+this.unpin<=o.top)&&"bottom":!(i+a<=t-r)&&"bottom";var s=null==this.affixed,c=s?i:o.top;return null!=n&&i<=n?"top":null!=r&&c+(s?a:e)>=t-r&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),r=this.options.offset,o=r.top,a=r.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=i(r)&&(a=o=r),"function"==typeof o&&(o=r.top(this.$element)),"function"==typeof a&&(a=r.bottom(this.$element));var c=this.getState(s,e,o,a);if(this.affixed!=c){null!=this.unpin&&this.$element.css("top","");var l="affix"+(c?"-"+c:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=c,this.unpin="bottom"==c?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==c&&this.$element.offset({top:s-e-a})}};var r=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=r,this},t(window).on("load",(function(){t('[data-spy="affix"]').each((function(){var n=t(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),e.call(n,r)}))}))}(r)},56376:function(t,e,n){var r,i;function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}void 0===this&&void 0!==window&&window,r=[n(95616)],i=function(t){!function(t){"use strict";var e=["sanitize","whiteList","sanitizeFn"],n=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],r={"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},i=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,a=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function s(e,r){var o=e.nodeName.toLowerCase();if(-1!==t.inArray(o,r))return-1===t.inArray(o,n)||Boolean(e.nodeValue.match(i)||e.nodeValue.match(a));for(var s=t(r).filter((function(t,e){return e instanceof RegExp})),c=0,l=s.length;c<l;c++)if(o.match(s[c]))return!0;return!1}function c(t,e,n){if(n&&"function"==typeof n)return n(t);for(var r=Object.keys(e),i=0,o=t.length;i<o;i++)for(var a=t[i].querySelectorAll("*"),c=0,l=a.length;c<l;c++){var u=a[c],d=u.nodeName.toLowerCase();if(-1!==r.indexOf(d))for(var f=[].slice.call(u.attributes),h=[].concat(e["*"]||[],e[d]||[]),p=0,m=f.length;p<m;p++){var y=f[p];s(y,h)||u.removeAttribute(y.nodeName)}else u.parentNode.removeChild(u)}}"classList"in document.createElement("_")||function(e){if("Element"in e){var n="classList",r="prototype",i=e.Element[r],o=Object,a=function(){var e=t(this);return{add:function(t){return t=Array.prototype.slice.call(arguments).join(" "),e.addClass(t)},remove:function(t){return t=Array.prototype.slice.call(arguments).join(" "),e.removeClass(t)},toggle:function(t,n){return e.toggleClass(t,n)},contains:function(t){return e.hasClass(t)}}};if(o.defineProperty){var s={get:a,enumerable:!0,configurable:!0};try{o.defineProperty(i,n,s)}catch(c){void 0!==c.number&&-2146823252!==c.number||(s.enumerable=!1,o.defineProperty(i,n,s))}}else o[r].__defineGetter__&&i.__defineGetter__(n,a)}}(window);var l,u,d,f=document.createElement("_");if(f.classList.add("c1","c2"),!f.classList.contains("c2")){var h=DOMTokenList.prototype.add,p=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,h.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,p.bind(this))}}if(f.classList.toggle("c3",!1),f.classList.contains("c3")){var m=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:m.call(this,t)}}function y(t,e){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))}function v(t,e){var n,r=t.selectedOptions,i=[];if(e){for(var o=0,a=r.length;o<a;o++)(n=r[o]).disabled||"OPTGROUP"===n.parentNode.tagName&&n.parentNode.disabled||i.push(n);return i}return r}function b(t,e){for(var n,r=[],i=e||t.selectedOptions,o=0,a=i.length;o<a;o++)(n=i[o]).disabled||"OPTGROUP"===n.parentNode.tagName&&n.parentNode.disabled||r.push(n.value);return t.multiple?r:r.length?r[0]:null}f=null,String.prototype.startsWith||(l=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(r){}return n}(),u={}.toString,d=function(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==u.call(t))throw new TypeError;var n=e.length,r=String(t),i=r.length,o=arguments.length>1?arguments[1]:void 0,a=o?Number(o):0;a!=a&&(a=0);var s=Math.min(Math.max(a,0),n);if(i+s>n)return!1;for(var c=-1;++c<i;)if(e.charCodeAt(s+c)!=r.charCodeAt(c))return!1;return!0},l?l(String.prototype,"startsWith",{value:d,configurable:!0,writable:!0}):String.prototype.startsWith=d),Object.keys||(Object.keys=function(t,e,n){for(e in n=[],t)n.hasOwnProperty.call(t,e)&&n.push(e);return n}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var g={useDefault:!1,_set:t.valHooks.select.set};t.valHooks.select.set=function(e,n){return n&&!g.useDefault&&t(e).data("selected",!0),g._set.apply(this,arguments)};var w=null,j=function(){try{return new Event("change"),!0}catch(t){return!1}}();function x(t,e,n,r){for(var i=["display","subtext","tokens"],o=!1,a=0;a<i.length;a++){var s=i[a],c=t[s];if(c&&(c=c.toString(),"display"===s&&(c=c.replace(/<[^>]+>/g,"")),r&&(c=A(c)),c=c.toUpperCase(),o="function"==typeof n?n(c,e):"contains"===n?c.indexOf(e)>=0:c.startsWith(e)))break}return o}function _(t){return parseInt(t,10)||0}t.fn.triggerNative=function(t){var e,n=this[0];n.dispatchEvent?(j?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event")).initEvent(t,!0,!1),n.dispatchEvent(e)):n.fireEvent?((e=document.createEventObject()).eventType=t,n.fireEvent("on"+t,e)):this.trigger(t)};var S={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},O=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,k=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function T(t){return S[t]}function A(t){return(t=t.toString())&&t.replace(O,T).replace(k,"")}var C,P,E,I,N,D=(C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=function(t){return C[t]},E="(?:"+Object.keys(C).join("|")+")",I=RegExp(E),N=RegExp(E,"g"),function(t){return t=null==t?"":""+t,I.test(t)?t.replace(N,P):t}),L={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},M={ESCAPE:27,ENTER:13,SPACE:32,TAB:9,ARROW_UP:38,ARROW_DOWN:40},R={success:!1,major:"3"};try{R.full=(t.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),R.major=R.full[0],R.success=!0}catch(Z){}var B=0,H=".bs.select",$={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},F={MENU:"."+$.MENU},W={div:document.createElement("div"),span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()};W.noResults=W.li.cloneNode(!1),W.noResults.className="no-results",W.a.setAttribute("role","option"),W.a.className="dropdown-item",W.subtext.className="text-muted",W.text=W.span.cloneNode(!1),W.text.className="text",W.checkMark=W.span.cloneNode(!1);var U=new RegExp(M.ARROW_UP+"|"+M.ARROW_DOWN),V=new RegExp("^"+M.TAB+"$|"+M.ESCAPE),G={li:function(t,e,n){var r=W.li.cloneNode(!1);return t&&(1===t.nodeType||11===t.nodeType?r.appendChild(t):r.innerHTML=t),void 0!==e&&""!==e&&(r.className=e),null!=n&&r.classList.add("optgroup-"+n),r},a:function(t,e,n){var r=W.a.cloneNode(!0);return t&&(11===t.nodeType?r.appendChild(t):r.insertAdjacentHTML("beforeend",t)),void 0!==e&&""!==e&&r.classList.add.apply(r.classList,e.split(/\s+/)),n&&r.setAttribute("style",n),r},text:function(t,e){var n,r,i=W.text.cloneNode(!1);if(t.content)i.innerHTML=t.content;else{if(i.textContent=t.text,t.icon){var o=W.whitespace.cloneNode(!1);(r=(!0===e?W.i:W.span).cloneNode(!1)).className=this.options.iconBase+" "+t.icon,W.fragment.appendChild(r),W.fragment.appendChild(o)}t.subtext&&((n=W.subtext.cloneNode(!1)).textContent=t.subtext,i.appendChild(n))}if(!0===e)for(;i.childNodes.length>0;)W.fragment.appendChild(i.childNodes[0]);else W.fragment.appendChild(i);return W.fragment},label:function(t){var e,n,r=W.text.cloneNode(!1);if(r.innerHTML=t.display,t.icon){var i=W.whitespace.cloneNode(!1);(n=W.span.cloneNode(!1)).className=this.options.iconBase+" "+t.icon,W.fragment.appendChild(n),W.fragment.appendChild(i)}return t.subtext&&((e=W.subtext.cloneNode(!1)).textContent=t.subtext,r.appendChild(e)),W.fragment.appendChild(r),W.fragment}};function z(t,e){t.length||(W.noResults.innerHTML=this.options.noneResultsText.replace("{0}",'"'+D(e)+'"'),this.$menuInner[0].firstChild.appendChild(W.noResults))}var Y=function(e,n){var r=this;g.useDefault||(t.valHooks.select.set=g._set,g.useDefault=!0),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.options=n,this.selectpicker={main:{},search:{},current:{},view:{},isSearching:!1,keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout((function(){r.selectpicker.keydown.keyHistory=""}),800)}}}},this.sizeInfo={},null===this.options.title&&(this.options.title=this.$element.attr("title"));var i=this.options.windowPadding;"number"==typeof i&&(this.options.windowPadding=[i,i,i,i]),this.val=Y.prototype.val,this.render=Y.prototype.render,this.refresh=Y.prototype.refresh,this.setStyle=Y.prototype.setStyle,this.selectAll=Y.prototype.selectAll,this.deselectAll=Y.prototype.deselectAll,this.destroy=Y.prototype.destroy,this.remove=Y.prototype.remove,this.show=Y.prototype.show,this.hide=Y.prototype.hide,this.init()};function X(n){var r,i=arguments,a=n;if([].shift.apply(i),!R.success){try{R.full=(t.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(Z){Y.BootstrapVersion?R.full=Y.BootstrapVersion.split(" ")[0].split("."):(R.full=[R.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",Z))}R.major=R.full[0],R.success=!0}if("4"===R.major){var s=[];Y.DEFAULTS.style===$.BUTTONCLASS&&s.push({name:"style",className:"BUTTONCLASS"}),Y.DEFAULTS.iconBase===$.ICONBASE&&s.push({name:"iconBase",className:"ICONBASE"}),Y.DEFAULTS.tickIcon===$.TICKICON&&s.push({name:"tickIcon",className:"TICKICON"}),$.DIVIDER="dropdown-divider",$.SHOW="show",$.BUTTONCLASS="btn-light",$.POPOVERHEADER="popover-header",$.ICONBASE="",$.TICKICON="bs-ok-default";for(var c=0;c<s.length;c++)n=s[c],Y.DEFAULTS[n.name]=$[n.className]}var l=this.each((function(){var n=t(this);if(n.is("select")){var s=n.data("selectpicker"),c="object"==o(a)&&a;if(s){if(c)for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(s.options[l]=c[l])}else{var u=n.data();for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&-1!==t.inArray(d,e)&&delete u[d];var f=t.extend({},Y.DEFAULTS,t.fn.selectpicker.defaults||{},u,c);f.template=t.extend({},Y.DEFAULTS.template,t.fn.selectpicker.defaults?t.fn.selectpicker.defaults.template:{},u.template,c.template),n.data("selectpicker",s=new Y(this,f))}"string"==typeof a&&(r=s[a]instanceof Function?s[a].apply(s,i):s.options[a])}}));return void 0!==r?r:l}Y.VERSION="1.13.18",Y.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:$.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:$.ICONBASE,tickIcon:$.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:r},Y.prototype={constructor:Y,init:function(){var t=this,e=this.$element.attr("id"),n=this.$element[0],r=n.form;B++,this.selectId="bs-select-"+B,n.classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),n.classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.buildData(),this.$element.after(this.$newElement).prependTo(this.$newElement),r&&null===n.form&&(r.id||(r.id="form-"+this.selectId),n.setAttribute("form",r.id)),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(F.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),n.classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add($.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+H,(function(){if(t.isVirtual()){var e=t.$menuInner[0],n=e.firstChild.cloneNode(!1);e.replaceChild(n,e.firstChild),e.scrollTop=0}})),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$element.trigger("hide"+H,e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden"+H,e)},"show.bs.dropdown":function(e){t.$element.trigger("show"+H,e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown"+H,e)}}),n.hasAttribute("required")&&this.$element.on("invalid"+H,(function(){t.$button[0].classList.add("bs-invalid"),t.$element.on("shown"+H+".invalid",(function(){t.$element.val(t.$element.val()).off("shown"+H+".invalid")})).on("rendered"+H,(function(){this.validity.valid&&t.$button[0].classList.remove("bs-invalid"),t.$element.off("rendered"+H)})),t.$button.on("blur"+H,(function(){t.$element.trigger("focus").trigger("blur"),t.$button.off("blur"+H)}))})),setTimeout((function(){t.buildList(),t.$element.trigger("loaded"+H)}))},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",n=this.multiple?' aria-multiselectable="true"':"",r="",i=this.autofocus?" autofocus":"";R.major<4&&this.$element.parent().hasClass("input-group")&&(r=" input-group-btn");var o,a="",s="",c="",l="";return this.options.header&&(a='<div class="'+$.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(s='<div class="bs-searchbox"><input type="search" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+D(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list"></div>'),this.multiple&&this.options.actionsBox&&(c='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+$.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+$.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(l='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+$.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),o='<div class="dropdown bootstrap-select'+e+r+'"><button type="button" tabindex="-1" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+i+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===R.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+$.MENU+" "+("4"===R.major?"":$.SHOW)+'">'+a+s+c+'<div class="inner '+$.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+n+'><ul class="'+$.MENU+" inner "+("4"===R.major?$.SHOW:"")+'" role="presentation"></ul></div>'+l+"</div></div>",t(o)},setPositionData:function(){this.selectpicker.view.canHighlight=[],this.selectpicker.view.size=0,this.selectpicker.view.firstHighlightIndex=!1;for(var t=0;t<this.selectpicker.current.data.length;t++){var e=this.selectpicker.current.data[t],n=!0;"divider"===e.type?(n=!1,e.height=this.sizeInfo.dividerHeight):"optgroup-label"===e.type?(n=!1,e.height=this.sizeInfo.dropdownHeaderHeight):e.height=this.sizeInfo.liHeight,e.disabled&&(n=!1),this.selectpicker.view.canHighlight.push(n),n&&(this.selectpicker.view.size++,e.posinset=this.selectpicker.view.size,!1===this.selectpicker.view.firstHighlightIndex&&(this.selectpicker.view.firstHighlightIndex=t)),e.position=(0===t?0:this.selectpicker.current.data[t-1].position)+e.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(e,n,r){var i,o,a=this,s=0,l=[];if(this.selectpicker.isSearching=e,this.selectpicker.current=e?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),n)if(r)s=this.$menuInner[0].scrollTop;else if(!a.multiple){var u=a.$element[0],d=(u.options[u.selectedIndex]||{}).liIndex;if("number"==typeof d&&!1!==a.options.size){var f=a.selectpicker.main.data[d],h=f&&f.position;h&&(s=h-(a.sizeInfo.menuInnerHeight+a.sizeInfo.liHeight)/2)}}function p(t,n){var r,s,u,d,f,h,p,m,v=a.selectpicker.current.elements.length,b=[],g=!0,w=a.isVirtual();a.selectpicker.view.scrollTop=t,r=Math.ceil(a.sizeInfo.menuInnerHeight/a.sizeInfo.liHeight*1.5),s=Math.round(v/r)||1;for(var j=0;j<s;j++){var x=(j+1)*r;if(j===s-1&&(x=v),b[j]=[j*r+(j?1:0),x],!v)break;void 0===f&&t-1<=a.selectpicker.current.data[x-1].position-a.sizeInfo.menuInnerHeight&&(f=j)}if(void 0===f&&(f=0),h=[a.selectpicker.view.position0,a.selectpicker.view.position1],u=Math.max(0,f-1),d=Math.min(s-1,f+1),a.selectpicker.view.position0=!1===w?0:Math.max(0,b[u][0])||0,a.selectpicker.view.position1=!1===w?v:Math.min(v,b[d][1])||0,p=h[0]!==a.selectpicker.view.position0||h[1]!==a.selectpicker.view.position1,void 0!==a.activeIndex&&(o=a.selectpicker.main.elements[a.prevActiveIndex],l=a.selectpicker.main.elements[a.activeIndex],i=a.selectpicker.main.elements[a.selectedIndex],n&&(a.activeIndex!==a.selectedIndex&&a.defocusItem(l),a.activeIndex=void 0),a.activeIndex&&a.activeIndex!==a.selectedIndex&&a.defocusItem(i)),void 0!==a.prevActiveIndex&&a.prevActiveIndex!==a.activeIndex&&a.prevActiveIndex!==a.selectedIndex&&a.defocusItem(o),(n||p)&&(m=a.selectpicker.view.visibleElements?a.selectpicker.view.visibleElements.slice():[],a.selectpicker.view.visibleElements=!1===w?a.selectpicker.current.elements:a.selectpicker.current.elements.slice(a.selectpicker.view.position0,a.selectpicker.view.position1),a.setOptionStatus(),(e||!1===w&&n)&&(g=!y(m,a.selectpicker.view.visibleElements)),(n||!0===w)&&g)){var _,S,O=a.$menuInner[0],k=document.createDocumentFragment(),T=O.firstChild.cloneNode(!1),A=a.selectpicker.view.visibleElements,C=[];O.replaceChild(T,O.firstChild),j=0;for(var P=A.length;j<P;j++){var E,I,N=A[j];a.options.sanitize&&(E=N.lastChild)&&(I=a.selectpicker.current.data[j+a.selectpicker.view.position0])&&I.content&&!I.sanitized&&(C.push(E),I.sanitized=!0),k.appendChild(N)}if(a.options.sanitize&&C.length&&c(C,a.options.whiteList,a.options.sanitizeFn),!0===w?(_=0===a.selectpicker.view.position0?0:a.selectpicker.current.data[a.selectpicker.view.position0-1].position,S=a.selectpicker.view.position1>v-1?0:a.selectpicker.current.data[v-1].position-a.selectpicker.current.data[a.selectpicker.view.position1-1].position,O.firstChild.style.marginTop=_+"px",O.firstChild.style.marginBottom=S+"px"):(O.firstChild.style.marginTop=0,O.firstChild.style.marginBottom=0),O.firstChild.appendChild(k),!0===w&&a.sizeInfo.hasScrollBar){var D=O.firstChild.offsetWidth;if(n&&D<a.sizeInfo.menuInnerInnerWidth&&a.sizeInfo.totalMenuWidth>a.sizeInfo.selectWidth)O.firstChild.style.minWidth=a.sizeInfo.menuInnerInnerWidth+"px";else if(D>a.sizeInfo.menuInnerInnerWidth){a.$menu[0].style.minWidth=0;var L=O.firstChild.offsetWidth;L>a.sizeInfo.menuInnerInnerWidth&&(a.sizeInfo.menuInnerInnerWidth=L,O.firstChild.style.minWidth=a.sizeInfo.menuInnerInnerWidth+"px"),a.$menu[0].style.minWidth=""}}}if(a.prevActiveIndex=a.activeIndex,a.options.liveSearch){if(e&&n){var M,R=0;a.selectpicker.view.canHighlight[R]||(R=1+a.selectpicker.view.canHighlight.slice(1).indexOf(!0)),M=a.selectpicker.view.visibleElements[R],a.defocusItem(a.selectpicker.view.currentActive),a.activeIndex=(a.selectpicker.current.data[R]||{}).index,a.focusItem(M)}}else a.$menuInner.trigger("focus")}p(s,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",(function(t,e){a.noScroll||p(this.scrollTop,e),a.noScroll=!1})),t(window).off("resize"+H+"."+this.selectId+".createView").on("resize"+H+"."+this.selectId+".createView",(function(){a.$newElement.hasClass($.SHOW)&&p(a.$menuInner[0].scrollTop)}))},focusItem:function(t,e,n){if(t){e=e||this.selectpicker.main.data[this.activeIndex];var r=t.firstChild;r&&(r.setAttribute("aria-setsize",this.selectpicker.view.size),r.setAttribute("aria-posinset",e.posinset),!0!==n&&(this.focusedParent.setAttribute("aria-activedescendant",r.id),t.classList.add("active"),r.classList.add("active")))}},defocusItem:function(t){t&&(t.classList.remove("active"),t.firstChild&&t.firstChild.classList.remove("active"))},setPlaceholder:function(){var t=this,e=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=!0;var n=this.$element[0],r=!1,i=!this.selectpicker.view.titleOption.parentNode,o=n.selectedIndex,a=n.options[o],s=window.performance&&window.performance.getEntriesByType("navigation"),c=s&&s.length?"back_forward"!==s[0].type:2!==window.performance.navigation.type;i&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",r=!a||0===o&&!1===a.defaultSelected&&void 0===this.$element.data("selected")),(i||0!==this.selectpicker.view.titleOption.index)&&n.insertBefore(this.selectpicker.view.titleOption,n.firstChild),r&&c?n.selectedIndex=0:"complete"!==document.readyState&&window.addEventListener("pageshow",(function(){t.selectpicker.view.displayedValue!==n.value&&t.render()}))}return e},buildData:function(){var t=':not([hidden]):not([data-hidden="true"])',e=[],n=0,r=this.setPlaceholder()?1:0;this.options.hideDisabled&&(t+=":not(:disabled)");var i=this.$element[0].querySelectorAll("select > *"+t);function o(t){var n=e[e.length-1];n&&"divider"===n.type&&(n.optID||t.optID)||((t=t||{}).type="divider",e.push(t))}function a(t,n){if((n=n||{}).divider="true"===t.getAttribute("data-divider"),n.divider)o({optID:n.optID});else{var r=e.length,i=t.style.cssText,a=i?D(i):"",s=(t.className||"")+(n.optgroupClass||"");n.optID&&(s="opt "+s),n.optionClass=s.trim(),n.inlineStyle=a,n.text=t.textContent,n.content=t.getAttribute("data-content"),n.tokens=t.getAttribute("data-tokens"),n.subtext=t.getAttribute("data-subtext"),n.icon=t.getAttribute("data-icon"),t.liIndex=r,n.display=n.content||n.text,n.type="option",n.index=r,n.option=t,n.selected=!!t.selected,n.disabled=n.disabled||!!t.disabled,e.push(n)}}function s(i,s){var c=s[i],l=!(i-1<r)&&s[i-1],u=s[i+1],d=c.querySelectorAll("option"+t);if(d.length){var f,h,p={display:D(c.label),subtext:c.getAttribute("data-subtext"),icon:c.getAttribute("data-icon"),type:"optgroup-label",optgroupClass:" "+(c.className||"")};n++,l&&o({optID:n}),p.optID=n,e.push(p);for(var m=0,y=d.length;m<y;m++){var v=d[m];0===m&&(h=(f=e.length-1)+y),a(v,{headerIndex:f,lastIndex:h,optID:p.optID,optgroupClass:p.optgroupClass,disabled:c.disabled})}u&&o({optID:n})}}for(var c=i.length,l=r;l<c;l++){var u=i[l];"OPTGROUP"!==u.tagName?a(u,{}):s(l,i)}this.selectpicker.main.data=this.selectpicker.current.data=e},buildList:function(){var t=this,e=this.selectpicker.main.data,n=[],r=0;function i(e){var i,o=0;switch(e.type){case"divider":i=G.li(!1,$.DIVIDER,e.optID?e.optID+"div":void 0);break;case"option":(i=G.li(G.a(G.text.call(t,e),e.optionClass,e.inlineStyle),"",e.optID)).firstChild&&(i.firstChild.id=t.selectId+"-"+e.index);break;case"optgroup-label":i=G.li(G.label.call(t,e),"dropdown-header"+e.optgroupClass,e.optID)}e.element=i,n.push(i),e.display&&(o+=e.display.length),e.subtext&&(o+=e.subtext.length),e.icon&&(o+=1),o>r&&(r=o,t.selectpicker.view.widestOption=n[n.length-1])}!t.options.showTick&&!t.multiple||W.checkMark.parentNode||(W.checkMark.className=this.options.iconBase+" "+t.options.tickIcon+" check-mark",W.a.appendChild(W.checkMark));for(var o=e.length,a=0;a<o;a++)i(e[a]);this.selectpicker.main.elements=this.selectpicker.current.elements=n},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var t,e,n=this,r=this.$element[0],i=this.setPlaceholder()&&0===r.selectedIndex,o=v(r,this.options.hideDisabled),a=o.length,s=this.$button[0],l=s.querySelector(".filter-option-inner-inner"),u=document.createTextNode(this.options.multipleSeparator),d=W.fragment.cloneNode(!1),f=!1;if(s.classList.toggle("bs-placeholder",n.multiple?!a:!b(r,o)),n.multiple||1!==o.length||(n.selectpicker.view.displayedValue=b(r,o)),"static"===this.options.selectedTextFormat)d=G.text.call(this,{text:this.options.title},!0);else if((t=this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&a>1)&&(t=(e=this.options.selectedTextFormat.split(">")).length>1&&a>e[1]||1===e.length&&a>=2),!1===t){if(!i){for(var h=0;h<a&&h<50;h++){var p=o[h],m=this.selectpicker.main.data[p.liIndex],y={};this.multiple&&h>0&&d.appendChild(u.cloneNode(!1)),p.title?y.text=p.title:m&&(m.content&&n.options.showContent?(y.content=m.content.toString(),f=!0):(n.options.showIcon&&(y.icon=m.icon),n.options.showSubtext&&!n.multiple&&m.subtext&&(y.subtext=" "+m.subtext),y.text=p.textContent.trim())),d.appendChild(G.text.call(this,y,!0))}a>49&&d.appendChild(document.createTextNode("..."))}}else{var g=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(g+=":not(:disabled)");var w=this.$element[0].querySelectorAll("select > option"+g+", optgroup"+g+" option"+g).length,j="function"==typeof this.options.countSelectedText?this.options.countSelectedText(a,w):this.options.countSelectedText;d=G.text.call(this,{text:j.replace("{0}",a.toString()).replace("{1}",w.toString())},!0)}if(null==this.options.title&&(this.options.title=this.$element.attr("title")),d.childNodes.length||(d=G.text.call(this,{text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),s.title=d.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&f&&c([d],n.options.whiteList,n.options.sanitizeFn),l.innerHTML="",l.appendChild(d),R.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")){var x=s.querySelector(".filter-expand"),_=l.cloneNode(!0);_.className="filter-expand",x?s.replaceChild(_,x):s.appendChild(_)}this.$element.trigger("rendered"+H)},setStyle:function(t,e){var n,r=this.$button[0],i=this.$newElement[0],o=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),R.major<4&&(i.classList.add("bs3"),i.parentNode.classList&&i.parentNode.classList.contains("input-group")&&(i.previousElementSibling||i.nextElementSibling)&&(i.previousElementSibling||i.nextElementSibling).classList.contains("input-group-addon")&&i.classList.add("bs3-has-addon")),n=t?t.trim():o,"add"==e?n&&r.classList.add.apply(r.classList,n.split(" ")):"remove"==e?n&&r.classList.remove.apply(r.classList,n.split(" ")):(o&&r.classList.remove.apply(r.classList,o.split(" ")),n&&r.classList.add.apply(r.classList,n.split(" ")))},liHeight:function(e){if(e||!1!==this.options.size&&!Object.keys(this.sizeInfo).length){var n,r=W.div.cloneNode(!1),i=W.div.cloneNode(!1),o=W.div.cloneNode(!1),a=document.createElement("ul"),s=W.li.cloneNode(!1),c=W.li.cloneNode(!1),l=W.a.cloneNode(!1),u=W.span.cloneNode(!1),d=this.options.header&&this.$menu.find("."+$.POPOVERHEADER).length>0?this.$menu.find("."+$.POPOVERHEADER)[0].cloneNode(!0):null,f=this.options.liveSearch?W.div.cloneNode(!1):null,h=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,m=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,u.className="text",l.className="dropdown-item "+(m?m.className:""),r.className=this.$menu[0].parentNode.className+" "+$.SHOW,r.style.width=0,"auto"===this.options.width&&(i.style.minWidth=0),i.className=$.MENU+" "+$.SHOW,o.className="inner "+$.SHOW,a.className=$.MENU+" inner "+("4"===R.major?$.SHOW:""),s.className=$.DIVIDER,c.className="dropdown-header",u.appendChild(document.createTextNode("​")),this.selectpicker.current.data.length)for(var y=0;y<this.selectpicker.current.data.length;y++){var v=this.selectpicker.current.data[y];if("option"===v.type&&"none"!==t(v.element.firstChild).css("display")){n=v.element;break}}else n=W.li.cloneNode(!1),l.appendChild(u),n.appendChild(l);if(c.appendChild(u.cloneNode(!0)),this.selectpicker.view.widestOption&&a.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),a.appendChild(n),a.appendChild(s),a.appendChild(c),d&&i.appendChild(d),f){var b=document.createElement("input");f.className="bs-searchbox",b.className="form-control",f.appendChild(b),i.appendChild(f)}h&&i.appendChild(h),o.appendChild(a),i.appendChild(o),p&&i.appendChild(p),r.appendChild(i),document.body.appendChild(r);var g,w=n.offsetHeight,j=c?c.offsetHeight:0,x=d?d.offsetHeight:0,S=f?f.offsetHeight:0,O=h?h.offsetHeight:0,k=p?p.offsetHeight:0,T=t(s).outerHeight(!0),A=!!window.getComputedStyle&&window.getComputedStyle(i),C=i.offsetWidth,P=A?null:t(i),E={vert:_(A?A.paddingTop:P.css("paddingTop"))+_(A?A.paddingBottom:P.css("paddingBottom"))+_(A?A.borderTopWidth:P.css("borderTopWidth"))+_(A?A.borderBottomWidth:P.css("borderBottomWidth")),horiz:_(A?A.paddingLeft:P.css("paddingLeft"))+_(A?A.paddingRight:P.css("paddingRight"))+_(A?A.borderLeftWidth:P.css("borderLeftWidth"))+_(A?A.borderRightWidth:P.css("borderRightWidth"))},I={vert:E.vert+_(A?A.marginTop:P.css("marginTop"))+_(A?A.marginBottom:P.css("marginBottom"))+2,horiz:E.horiz+_(A?A.marginLeft:P.css("marginLeft"))+_(A?A.marginRight:P.css("marginRight"))+2};o.style.overflowY="scroll",g=i.offsetWidth-C,document.body.removeChild(r),this.sizeInfo.liHeight=w,this.sizeInfo.dropdownHeaderHeight=j,this.sizeInfo.headerHeight=x,this.sizeInfo.searchHeight=S,this.sizeInfo.actionsHeight=O,this.sizeInfo.doneButtonHeight=k,this.sizeInfo.dividerHeight=T,this.sizeInfo.menuPadding=E,this.sizeInfo.menuExtras=I,this.sizeInfo.menuWidth=C,this.sizeInfo.menuInnerInnerWidth=C-E.horiz,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=g,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var e,n=this,r=t(window),i=n.$newElement.offset(),o=t(n.options.container);n.options.container&&o.length&&!o.is("body")?((e=o.offset()).top+=parseInt(o.css("borderTopWidth")),e.left+=parseInt(o.css("borderLeftWidth"))):e={top:0,left:0};var a=n.options.windowPadding;this.sizeInfo.selectOffsetTop=i.top-e.top-r.scrollTop(),this.sizeInfo.selectOffsetBot=r.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-a[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-r.scrollLeft(),this.sizeInfo.selectOffsetRight=r.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-a[1],this.sizeInfo.selectOffsetTop-=a[0],this.sizeInfo.selectOffsetLeft-=a[3]},setMenuSize:function(t){this.getSelectPosition();var e,n,r,i,o,a,s,c,l=this.sizeInfo.selectWidth,u=this.sizeInfo.liHeight,d=this.sizeInfo.headerHeight,f=this.sizeInfo.searchHeight,h=this.sizeInfo.actionsHeight,p=this.sizeInfo.doneButtonHeight,m=this.sizeInfo.dividerHeight,y=this.sizeInfo.menuPadding,v=0;if(this.options.dropupAuto&&(s="auto"!==this.options.size?u*this.options.size+y.vert:u*this.selectpicker.current.data.length+y.vert,c=this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&s+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot,!0===this.selectpicker.isSearching&&(c=this.selectpicker.dropup),this.$newElement.toggleClass($.DROPUP,c),this.selectpicker.dropup=c),"auto"===this.options.size)i=this.selectpicker.current.elements.length>3?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,n=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,r=i+d+f+h+p,a=Math.max(i-y.vert,0),this.$newElement.hasClass($.DROPUP)&&(n=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),o=n,e=n-d-f-h-p-y.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var b=0;b<this.options.size;b++)"divider"===this.selectpicker.current.data[b].type&&v++;e=(n=u*this.options.size+v*m+y.vert)-y.vert,o=n+d+f+h+p,r=a=""}this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":r+"px"}),this.$menuInner.css({"max-height":e+"px","overflow-y":"auto","min-height":a+"px"}),this.sizeInfo.menuInnerHeight=Math.max(e,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass($.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-l),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){if(this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var n=this,r=t(window);this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",(function(){return n.setMenuSize()})),"auto"===this.options.size?r.off("resize"+H+"."+this.selectId+".setMenuSize scroll"+H+"."+this.selectId+".setMenuSize").on("resize"+H+"."+this.selectId+".setMenuSize scroll"+H+"."+this.selectId+".setMenuSize",(function(){return n.setMenuSize()})):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&r.off("resize"+H+"."+this.selectId+".setMenuSize scroll"+H+"."+this.selectId+".setMenuSize")}this.createView(!1,!0,e)},setWidth:function(){var t=this;"auto"===this.options.width?requestAnimationFrame((function(){t.$menu.css("min-width","0"),t.$element.on("loaded"+H,(function(){t.liHeight(),t.setMenuSize();var e=t.$newElement.clone().appendTo("body"),n=e.css("width","auto").children("button").outerWidth();e.remove(),t.sizeInfo.selectWidth=Math.max(t.sizeInfo.totalMenuWidth,n),t.$newElement.css("width",t.sizeInfo.selectWidth+"px")}))})):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=t('<div class="bs-container" />');var e,n,r,i=this,o=t(this.options.container),a=function(a){var s={},c=i.options.display||!!t.fn.dropdown.Constructor.Default&&t.fn.dropdown.Constructor.Default.display;i.$bsContainer.addClass(a.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass($.DROPUP,a.hasClass($.DROPUP)),e=a.offset(),o.is("body")?n={top:0,left:0}:((n=o.offset()).top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),n.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),r=a.hasClass($.DROPUP)?0:a[0].offsetHeight,(R.major<4||"static"===c)&&(s.top=e.top-n.top+r,s.left=e.left-n.left),s.width=a[0].offsetWidth,i.$bsContainer.css(s)};this.$button.on("click.bs.dropdown.data-api",(function(){i.isDisabled()||(a(i.$newElement),i.$bsContainer.appendTo(i.options.container).toggleClass($.SHOW,!i.$button.hasClass($.SHOW)).append(i.$menu))})),t(window).off("resize"+H+"."+this.selectId+" scroll"+H+"."+this.selectId).on("resize"+H+"."+this.selectId+" scroll"+H+"."+this.selectId,(function(){i.$newElement.hasClass($.SHOW)&&a(i.$newElement)})),this.$element.on("hide"+H,(function(){i.$menu.data("height",i.$menu.height()),i.$bsContainer.detach()}))},setOptionStatus:function(t){var e=this;if(e.noScroll=!1,e.selectpicker.view.visibleElements&&e.selectpicker.view.visibleElements.length)for(var n=0;n<e.selectpicker.view.visibleElements.length;n++){var r=e.selectpicker.current.data[n+e.selectpicker.view.position0],i=r.option;i&&(!0!==t&&e.setDisabled(r.index,r.disabled),e.setSelected(r.index,i.selected))}},setSelected:function(t,e){var n,r,i=this.selectpicker.main.elements[t],o=this.selectpicker.main.data[t],a=void 0!==this.activeIndex,s=this.activeIndex===t||e&&!this.multiple&&!a;o.selected=e,r=i.firstChild,e&&(this.selectedIndex=t),i.classList.toggle("selected",e),s?(this.focusItem(i,o),this.selectpicker.view.currentActive=i,this.activeIndex=t):this.defocusItem(i),r&&(r.classList.toggle("selected",e),e?r.setAttribute("aria-selected",!0):this.multiple?r.setAttribute("aria-selected",!1):r.removeAttribute("aria-selected")),s||a||!e||void 0===this.prevActiveIndex||(n=this.selectpicker.main.elements[this.prevActiveIndex],this.defocusItem(n))},setDisabled:function(t,e){var n,r=this.selectpicker.main.elements[t];this.selectpicker.main.data[t].disabled=e,n=r.firstChild,r.classList.toggle($.DISABLED,e),n&&("4"===R.major&&n.classList.toggle($.DISABLED,e),e?(n.setAttribute("aria-disabled",e),n.setAttribute("tabindex",-1)):(n.removeAttribute("aria-disabled"),n.setAttribute("tabindex",0)))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add($.DISABLED),this.$button.addClass($.DISABLED).attr("aria-disabled",!0)):this.$button[0].classList.contains($.DISABLED)&&(this.$newElement[0].classList.remove($.DISABLED),this.$button.removeClass($.DISABLED).attr("aria-disabled",!1))},clickListener:function(){var e=this,n=t(document);function r(){e.options.liveSearch?e.$searchbox.trigger("focus"):e.$menuInner.trigger("focus")}function i(){e.dropdown&&e.dropdown._popper&&e.dropdown._popper.state.isCreated?r():requestAnimationFrame(i)}n.data("spaceSelect",!1),this.$button.on("keyup",(function(t){/(32)/.test(t.keyCode.toString(10))&&n.data("spaceSelect")&&(t.preventDefault(),n.data("spaceSelect",!1))})),this.$newElement.on("show.bs.dropdown",(function(){R.major>3&&!e.dropdown&&(e.dropdown=e.$button.data("bs.dropdown"),e.dropdown._menu=e.$menu[0])})),this.$button.on("click.bs.dropdown.data-api",(function(){e.$newElement.hasClass($.SHOW)||e.setSize()})),this.$element.on("shown"+H,(function(){e.$menuInner[0].scrollTop!==e.selectpicker.view.scrollTop&&(e.$menuInner[0].scrollTop=e.selectpicker.view.scrollTop),R.major>3?requestAnimationFrame(i):r()})),this.$menuInner.on("mouseenter","li a",(function(t){var n=this.parentElement,r=e.isVirtual()?e.selectpicker.view.position0:0,i=Array.prototype.indexOf.call(n.parentElement.children,n),o=e.selectpicker.current.data[i+r];e.focusItem(n,o,!0)})),this.$menuInner.on("click","li a",(function(n,r){var i=t(this),o=e.$element[0],a=e.isVirtual()?e.selectpicker.view.position0:0,s=e.selectpicker.current.data[i.parent().index()+a],c=s.index,l=b(o),u=o.selectedIndex,d=o.options[u],f=!0;if(e.multiple&&1!==e.options.maxOptions&&n.stopPropagation(),n.preventDefault(),!e.isDisabled()&&!i.parent().hasClass($.DISABLED)){var h=s.option,p=t(h),m=h.selected,y=p.parent("optgroup"),g=y.find("option"),j=e.options.maxOptions,x=y.data("maxOptions")||!1;if(c===e.activeIndex&&(r=!0),r||(e.prevActiveIndex=e.activeIndex,e.activeIndex=void 0),e.multiple){if(h.selected=!m,e.setSelected(c,!m),e.focusedParent.focus(),!1!==j||!1!==x){var _=j<v(o).length,S=x<y.find("option:selected").length;if(j&&_||x&&S)if(j&&1==j)o.selectedIndex=-1,h.selected=!0,e.setOptionStatus(!0);else if(x&&1==x){for(var O=0;O<g.length;O++){var k=g[O];k.selected=!1,e.setSelected(k.liIndex,!1)}h.selected=!0,e.setSelected(c,!0)}else{var T="string"==typeof e.options.maxOptionsText?[e.options.maxOptionsText,e.options.maxOptionsText]:e.options.maxOptionsText,A="function"==typeof T?T(j,x):T,C=A[0].replace("{n}",j),P=A[1].replace("{n}",x),E=t('<div class="notify"></div>');A[2]&&(C=C.replace("{var}",A[2][j>1?0:1]),P=P.replace("{var}",A[2][x>1?0:1])),h.selected=!1,e.$menu.append(E),j&&_&&(E.append(t("<div>"+C+"</div>")),f=!1,e.$element.trigger("maxReached"+H)),x&&S&&(E.append(t("<div>"+P+"</div>")),f=!1,e.$element.trigger("maxReachedGrp"+H)),setTimeout((function(){e.setSelected(c,!1)}),10),E[0].classList.add("fadeOut"),setTimeout((function(){E.remove()}),1050)}}}else d&&(d.selected=!1),h.selected=!0,e.setSelected(c,!0);!e.multiple||e.multiple&&1===e.options.maxOptions?e.$button.trigger("focus"):e.options.liveSearch&&e.$searchbox.trigger("focus"),f&&(e.multiple||u!==o.selectedIndex)&&(w=[h.index,p.prop("selected"),l],e.$element.triggerNative("change"))}})),this.$menu.on("click","li."+$.DISABLED+" a, ."+$.POPOVERHEADER+", ."+$.POPOVERHEADER+" :not(.close)",(function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),e.options.liveSearch&&!t(n.target).hasClass("close")?e.$searchbox.trigger("focus"):e.$button.trigger("focus"))})),this.$menuInner.on("click",".divider, .dropdown-header",(function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.trigger("focus"):e.$button.trigger("focus")})),this.$menu.on("click","."+$.POPOVERHEADER+" .close",(function(){e.$button.trigger("click")})),this.$searchbox.on("click",(function(t){t.stopPropagation()})),this.$menu.on("click",".actions-btn",(function(n){e.options.liveSearch?e.$searchbox.trigger("focus"):e.$button.trigger("focus"),n.preventDefault(),n.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll()})),this.$button.on("focus"+H,(function(t){var n=e.$element[0].getAttribute("tabindex");void 0!==n&&t.originalEvent&&t.originalEvent.isTrusted&&(this.setAttribute("tabindex",n),e.$element[0].setAttribute("tabindex",-1),e.selectpicker.view.tabindex=n)})).on("blur"+H,(function(t){void 0!==e.selectpicker.view.tabindex&&t.originalEvent&&t.originalEvent.isTrusted&&(e.$element[0].setAttribute("tabindex",e.selectpicker.view.tabindex),this.setAttribute("tabindex",-1),e.selectpicker.view.tabindex=void 0)})),this.$element.on("change"+H,(function(){e.render(),e.$element.trigger("changed"+H,w),w=null})).on("focus"+H,(function(){e.options.mobile||e.$button[0].focus()}))},liveSearchListener:function(){var t=this;this.$button.on("click.bs.dropdown.data-api",(function(){t.$searchbox.val()&&(t.$searchbox.val(""),t.selectpicker.search.previousValue=void 0)})),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",(function(t){t.stopPropagation()})),this.$searchbox.on("input propertychange",(function(){var e=t.$searchbox[0].value;if(t.selectpicker.search.elements=[],t.selectpicker.search.data=[],e){var n=[],r=e.toUpperCase(),i={},o=[],a=t._searchStyle(),s=t.options.liveSearchNormalize;s&&(r=A(r));for(var c=0;c<t.selectpicker.main.data.length;c++){var l=t.selectpicker.main.data[c];i[c]||(i[c]=x(l,r,a,s)),i[c]&&void 0!==l.headerIndex&&-1===o.indexOf(l.headerIndex)&&(l.headerIndex>0&&(i[l.headerIndex-1]=!0,o.push(l.headerIndex-1)),i[l.headerIndex]=!0,o.push(l.headerIndex),i[l.lastIndex+1]=!0),i[c]&&"optgroup-label"!==l.type&&o.push(c)}c=0;for(var u=o.length;c<u;c++){var d=o[c],f=o[c-1],h=(l=t.selectpicker.main.data[d],t.selectpicker.main.data[f]);("divider"!==l.type||"divider"===l.type&&h&&"divider"!==h.type&&u-1!==c)&&(t.selectpicker.search.data.push(l),n.push(t.selectpicker.main.elements[d]))}t.activeIndex=void 0,t.noScroll=!0,t.$menuInner.scrollTop(0),t.selectpicker.search.elements=n,t.createView(!0),z.call(t,n,e)}else t.selectpicker.search.previousValue&&(t.$menuInner.scrollTop(0),t.createView(!1));t.selectpicker.search.previousValue=e}))},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(t){var e=this.$element[0];if(void 0!==t){var n=b(e);if(w=[null,null,n],this.$element.val(t).trigger("changed"+H,w),this.$newElement.hasClass($.SHOW))if(this.multiple)this.setOptionStatus(!0);else{var r=(e.options[e.selectedIndex]||{}).liIndex;"number"==typeof r&&(this.setSelected(this.selectedIndex,!1),this.setSelected(r,!0))}return this.render(),w=null,this.$element}return this.$element.val()},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0);var e=this.$element[0],n=0,r=0,i=b(e);e.classList.add("bs-select-hidden");for(var o=0,a=this.selectpicker.current.data,s=a.length;o<s;o++){var c=a[o],l=c.option;l&&!c.disabled&&"divider"!==c.type&&(c.selected&&n++,l.selected=t,!0===t&&r++)}e.classList.remove("bs-select-hidden"),n!==r&&(this.setOptionStatus(),w=[null,null,i],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){(t=t||window.event)&&t.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(e){var n,r,i,o,a,s=t(this),c=s.hasClass("dropdown-toggle"),l=(c?s.closest(".dropdown"):s.closest(F.MENU)).data("this"),u=l.findLis(),d=!1,f=e.which===M.TAB&&!c&&!l.options.selectOnTab,h=U.test(e.which)||f,p=l.$menuInner[0].scrollTop,m=!0===l.isVirtual()?l.selectpicker.view.position0:0;if(!(e.which>=112&&e.which<=123))if(!(r=l.$newElement.hasClass($.SHOW))&&(h||e.which>=48&&e.which<=57||e.which>=96&&e.which<=105||e.which>=65&&e.which<=90)&&(l.$button.trigger("click.bs.dropdown.data-api"),l.options.liveSearch))l.$searchbox.trigger("focus");else{if(e.which===M.ESCAPE&&r&&(e.preventDefault(),l.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),h){if(!u.length)return;-1!==(n=(i=l.selectpicker.main.elements[l.activeIndex])?Array.prototype.indexOf.call(i.parentElement.children,i):-1)&&l.defocusItem(i),e.which===M.ARROW_UP?(-1!==n&&n--,n+m<0&&(n+=u.length),l.selectpicker.view.canHighlight[n+m]||-1==(n=l.selectpicker.view.canHighlight.slice(0,n+m).lastIndexOf(!0)-m)&&(n=u.length-1)):(e.which===M.ARROW_DOWN||f)&&(++n+m>=l.selectpicker.view.canHighlight.length&&(n=l.selectpicker.view.firstHighlightIndex),l.selectpicker.view.canHighlight[n+m]||(n=n+1+l.selectpicker.view.canHighlight.slice(n+m+1).indexOf(!0))),e.preventDefault();var y=m+n;e.which===M.ARROW_UP?0===m&&n===u.length-1?(l.$menuInner[0].scrollTop=l.$menuInner[0].scrollHeight,y=l.selectpicker.current.elements.length-1):d=(a=(o=l.selectpicker.current.data[y]).position-o.height)<p:(e.which===M.ARROW_DOWN||f)&&(n===l.selectpicker.view.firstHighlightIndex?(l.$menuInner[0].scrollTop=0,y=l.selectpicker.view.firstHighlightIndex):d=(a=(o=l.selectpicker.current.data[y]).position-l.sizeInfo.menuInnerHeight)>p),i=l.selectpicker.current.elements[y],l.activeIndex=l.selectpicker.current.data[y].index,l.focusItem(i),l.selectpicker.view.currentActive=i,d&&(l.$menuInner[0].scrollTop=a),l.options.liveSearch?l.$searchbox.trigger("focus"):s.trigger("focus")}else if(!s.is("input")&&!V.test(e.which)||e.which===M.SPACE&&l.selectpicker.keydown.keyHistory){var v,b,g=[];e.preventDefault(),l.selectpicker.keydown.keyHistory+=L[e.which],l.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(l.selectpicker.keydown.resetKeyHistory.cancel),l.selectpicker.keydown.resetKeyHistory.cancel=l.selectpicker.keydown.resetKeyHistory.start(),b=l.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(b)&&(b=b.charAt(0));for(var w=0;w<l.selectpicker.current.data.length;w++){var j=l.selectpicker.current.data[w];x(j,b,"startsWith",!0)&&l.selectpicker.view.canHighlight[w]&&g.push(j.index)}if(g.length){var _=0;u.removeClass("active").find("a").removeClass("active"),1===b.length&&(-1===(_=g.indexOf(l.activeIndex))||_===g.length-1?_=0:_++),v=g[_],p-(o=l.selectpicker.main.data[v]).position>0?(a=o.position-o.height,d=!0):(a=o.position-l.sizeInfo.menuInnerHeight,d=o.position>p+l.sizeInfo.menuInnerHeight),i=l.selectpicker.main.elements[v],l.activeIndex=g[_],l.focusItem(i),i&&i.firstChild.focus(),d&&(l.$menuInner[0].scrollTop=a),s.trigger("focus")}}r&&(e.which===M.SPACE&&!l.selectpicker.keydown.keyHistory||e.which===M.ENTER||e.which===M.TAB&&l.options.selectOnTab)&&(e.which!==M.SPACE&&e.preventDefault(),l.options.liveSearch&&e.which===M.SPACE||(l.$menuInner.find(".active a").trigger("click",!0),s.trigger("focus"),l.options.liveSearch||(e.preventDefault(),t(document).data("spaceSelect",!0))))}},mobile:function(){this.options.mobile=!0,this.$element[0].classList.add("mobile-device")},refresh:function(){var e=t.extend({},this.options,this.$element.data());this.options=e,this.checkDisabled(),this.buildData(),this.setStyle(),this.render(),this.buildList(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+H)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.selectpicker.view.titleOption&&this.selectpicker.view.titleOption.parentNode&&this.selectpicker.view.titleOption.parentNode.removeChild(this.selectpicker.view.titleOption),this.$element.off(H).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),t(window).off(H+"."+this.selectId)}};var q=t.fn.selectpicker;function K(){if(t.fn.dropdown)return(t.fn.dropdown.Constructor._dataApiKeydownHandler||t.fn.dropdown.Constructor.prototype.keydown).apply(this,arguments)}t.fn.selectpicker=X,t.fn.selectpicker.Constructor=Y,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=q,this},t(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.dropdown.data-api",':not(.bootstrap-select) > [data-toggle="dropdown"]',K).on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > .dropdown-menu",K).on("keydown"+H,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',Y.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',(function(t){t.stopPropagation()})),t(window).on("load"+H+".data-api",(function(){t(".selectpicker").each((function(){var e=t(this);X.call(e,e.data())}))}))}(t)}.apply(e,r),void 0===i||(t.exports=i)},6659:function(t,e,n){var r,i;function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}r=[n(42689),n(95616)],void 0===(i=function(t,e){return e.fn||(e.fn={}),function(t,e){var n=function(n,r,i){if(this.parentEl="body",this.element=e(n),this.startDate=t().startOf("day"),this.endDate=t().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:t.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:t.weekdaysMin(),monthNames:t.monthsShort(),firstDay:t.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"===o(r)&&null!==r||(r={}),"string"==typeof(r=e.extend(this.element.data(),r)).template||r.template instanceof e||(r.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=r.parentEl&&e(r.parentEl).length?e(r.parentEl):e(this.parentEl),this.container=e(r.template).appendTo(this.parentEl),"object"===o(r.locale)&&("string"==typeof r.locale.direction&&(this.locale.direction=r.locale.direction),"string"==typeof r.locale.format&&(this.locale.format=r.locale.format),"string"==typeof r.locale.separator&&(this.locale.separator=r.locale.separator),"object"===o(r.locale.daysOfWeek)&&(this.locale.daysOfWeek=r.locale.daysOfWeek.slice()),"object"===o(r.locale.monthNames)&&(this.locale.monthNames=r.locale.monthNames.slice()),"number"==typeof r.locale.firstDay&&(this.locale.firstDay=r.locale.firstDay),"string"==typeof r.locale.applyLabel&&(this.locale.applyLabel=r.locale.applyLabel),"string"==typeof r.locale.cancelLabel&&(this.locale.cancelLabel=r.locale.cancelLabel),"string"==typeof r.locale.weekLabel&&(this.locale.weekLabel=r.locale.weekLabel),"string"==typeof r.locale.customRangeLabel)){(h=document.createElement("textarea")).innerHTML=r.locale.customRangeLabel;var a=h.value;this.locale.customRangeLabel=a}if(this.container.addClass(this.locale.direction),"string"==typeof r.startDate&&(this.startDate=t(r.startDate,this.locale.format)),"string"==typeof r.endDate&&(this.endDate=t(r.endDate,this.locale.format)),"string"==typeof r.minDate&&(this.minDate=t(r.minDate,this.locale.format)),"string"==typeof r.maxDate&&(this.maxDate=t(r.maxDate,this.locale.format)),"object"===o(r.startDate)&&(this.startDate=t(r.startDate)),"object"===o(r.endDate)&&(this.endDate=t(r.endDate)),"object"===o(r.minDate)&&(this.minDate=t(r.minDate)),"object"===o(r.maxDate)&&(this.maxDate=t(r.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof r.applyClass&&(this.applyClass=r.applyClass),"string"==typeof r.cancelClass&&(this.cancelClass=r.cancelClass),"object"===o(r.dateLimit)&&(this.dateLimit=r.dateLimit),"string"==typeof r.opens&&(this.opens=r.opens),"string"==typeof r.drops&&(this.drops=r.drops),"boolean"==typeof r.showWeekNumbers&&(this.showWeekNumbers=r.showWeekNumbers),"boolean"==typeof r.showISOWeekNumbers&&(this.showISOWeekNumbers=r.showISOWeekNumbers),"string"==typeof r.buttonClasses&&(this.buttonClasses=r.buttonClasses),"object"===o(r.buttonClasses)&&(this.buttonClasses=r.buttonClasses.join(" ")),"boolean"==typeof r.showDropdowns&&(this.showDropdowns=r.showDropdowns),"boolean"==typeof r.showCustomRangeLabel&&(this.showCustomRangeLabel=r.showCustomRangeLabel),"boolean"==typeof r.singleDatePicker&&(this.singleDatePicker=r.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof r.timePicker&&(this.timePicker=r.timePicker),"boolean"==typeof r.timePickerSeconds&&(this.timePickerSeconds=r.timePickerSeconds),"number"==typeof r.timePickerIncrement&&(this.timePickerIncrement=r.timePickerIncrement),"boolean"==typeof r.timePicker24Hour&&(this.timePicker24Hour=r.timePicker24Hour),"boolean"==typeof r.autoApply&&(this.autoApply=r.autoApply),"boolean"==typeof r.autoUpdateInput&&(this.autoUpdateInput=r.autoUpdateInput),"boolean"==typeof r.linkedCalendars&&(this.linkedCalendars=r.linkedCalendars),"function"==typeof r.isInvalidDate&&(this.isInvalidDate=r.isInvalidDate),"function"==typeof r.isCustomDate&&(this.isCustomDate=r.isCustomDate),"boolean"==typeof r.alwaysShowCalendars&&(this.alwaysShowCalendars=r.alwaysShowCalendars),0!=this.locale.firstDay)for(var s=this.locale.firstDay;s>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),s--;var c,l,u;if(void 0===r.startDate&&void 0===r.endDate&&e(this.element).is("input[type=text]")){var d=e(this.element).val(),f=d.split(this.locale.separator);c=l=null,2==f.length?(c=t(f[0],this.locale.format),l=t(f[1],this.locale.format)):this.singleDatePicker&&""!==d&&(c=t(d,this.locale.format),l=t(d,this.locale.format)),null!==c&&null!==l&&(this.setStartDate(c),this.setEndDate(l))}if("object"===o(r.ranges)){for(u in r.ranges){c="string"==typeof r.ranges[u][0]?t(r.ranges[u][0],this.locale.format):t(r.ranges[u][0]),l="string"==typeof r.ranges[u][1]?t(r.ranges[u][1],this.locale.format):t(r.ranges[u][1]),this.minDate&&c.isBefore(this.minDate)&&(c=this.minDate.clone());var h,p=this.maxDate;this.dateLimit&&p&&c.clone().add(this.dateLimit).isAfter(p)&&(p=c.clone().add(this.dateLimit)),p&&l.isAfter(p)&&(l=p.clone()),(h=document.createElement("textarea")).innerHTML=u,a=h.value,this.ranges[a]=[c,l]}var m="<ul>";for(u in this.ranges)m+='<li data-range-key="'+u+'">'+u+"</li>";this.showCustomRangeLabel&&(m+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),m+="</ul>",this.container.find(".ranges").prepend(m)}"function"==typeof i&&(this.callback=i),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!==o(r.ranges)?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide()),(void 0===r.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),void 0!==r.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",e.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",e.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",e.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",e.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",e.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",e.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",e.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsKeydown,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",e.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",e.proxy(this.clickCancel,this)).on("click.daterangepicker","li",e.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",e.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",e.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":e.proxy(this.show,this),"focus.daterangepicker":e.proxy(this.show,this),"keyup.daterangepicker":e.proxy(this.elementChanged,this),"keydown.daterangepicker":e.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",e.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",e.proxy(this.toggle,this))),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return n.prototype={constructor:n,setStartDate:function(e){"string"==typeof e&&(this.startDate=t(e,this.locale.format)),"object"===o(e)&&(this.startDate=t(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=t(e,this.locale.format)),"object"===o(e)&&(this.endDate=t(e)),this.timePicker||(this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){var t,e,n,r;this.timePicker&&(this.endDate?(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(r=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"===r&&12===t&&(t=0))):(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(r=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"===r&&12===t&&(t=0))),this.leftCalendar.month.hour(t).minute(e).second(n),this.rightCalendar.month.hour(t).minute(e).second(n));this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(n){var r,i=(r="left"==n?this.leftCalendar:this.rightCalendar).month.month(),o=r.month.year(),a=r.month.hour(),s=r.month.minute(),c=r.month.second(),l=t([o,i]).daysInMonth(),u=t([o,i,1]),d=t([o,i,l]),f=t(u).subtract(1,"month").month(),h=t(u).subtract(1,"month").year(),p=t([h,f]).daysInMonth(),m=u.day();(r=[]).firstDay=u,r.lastDay=d;for(var y=0;y<6;y++)r[y]=[];var v=p-m+this.locale.firstDay+1;v>p&&(v-=7),m==this.locale.firstDay&&(v=p-6);for(var b=t([h,f,v,12,s,c]),g=(y=0,0),w=0;y<42;y++,g++,b=t(b).add(24,"hour"))y>0&&g%7==0&&(g=0,w++),r[w][g]=b.clone().hour(a).minute(s).second(c),b.hour(12),this.minDate&&r[w][g].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&r[w][g].isBefore(this.minDate)&&"left"==n&&(r[w][g]=this.minDate.clone()),this.maxDate&&r[w][g].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&r[w][g].isAfter(this.maxDate)&&"right"==n&&(r[w][g]=this.maxDate.clone());"left"==n?this.leftCalendar.calendar=r:this.rightCalendar.calendar=r;var j="left"==n?this.minDate:this.startDate,x=this.maxDate,_=("left"==n?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"}),S='<table class="table-condensed">';S+="<thead>",S+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(S+="<th></th>"),j&&!j.isBefore(r.firstDay)||this.linkedCalendars&&"left"!=n?S+="<th></th>":S+='<th class="prev available"><i class="fa fa-'+_.left+" glyphicon glyphicon-"+_.left+'"></i></th>';var O=this.locale.monthNames[r[1][1].month()]+r[1][1].format(" YYYY");if(this.showDropdowns){for(var k=r[1][1].month(),T=r[1][1].year(),A=x&&x.year()||T+5,C=j&&j.year()||T-50,P=T==C,E=T==A,I='<select class="monthselect">',N=0;N<12;N++)(!P||N>=j.month())&&(!E||N<=x.month())?I+="<option value='"+N+"'"+(N===k?" selected='selected'":"")+">"+this.locale.monthNames[N]+"</option>":I+="<option value='"+N+"'"+(N===k?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[N]+"</option>";I+="</select>";for(var D='<select class="yearselect">',L=C;L<=A;L++)D+='<option value="'+L+'"'+(L===T?' selected="selected"':"")+">"+L+"</option>";O=I+(D+="</select>")}if(S+='<th colspan="5" class="month">'+O+"</th>",x&&!x.isAfter(r.lastDay)||this.linkedCalendars&&"right"!=n&&!this.singleDatePicker?S+="<th></th>":S+='<th class="next available"><i class="fa fa-'+_.right+" glyphicon glyphicon-"+_.right+'"></i></th>',S+="</tr>",S+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(S+='<th class="week">'+this.locale.weekLabel+"</th>"),e.each(this.locale.daysOfWeek,(function(t,e){S+="<th>"+e+"</th>"})),S+="</tr>",S+="</thead>",S+="<tbody>",null==this.endDate&&this.dateLimit){var M=this.startDate.clone().add(this.dateLimit).endOf("day");x&&!M.isBefore(x)||(x=M)}for(w=0;w<6;w++){for(S+="<tr>",this.showWeekNumbers?S+='<td class="week">'+r[w][0].week()+"</td>":this.showISOWeekNumbers&&(S+='<td class="week">'+r[w][0].isoWeek()+"</td>"),g=0;g<7;g++){var R=[];r[w][g].isSame(new Date,"day")&&R.push("today"),r[w][g].isoWeekday()>5&&R.push("weekend"),r[w][g].month()!=r[1][1].month()&&R.push("off"),this.minDate&&r[w][g].isBefore(this.minDate,"day")&&R.push("off","disabled"),x&&r[w][g].isAfter(x,"day")&&R.push("off","disabled"),this.isInvalidDate(r[w][g])&&R.push("off","disabled"),r[w][g].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&R.push("active","start-date"),null!=this.endDate&&r[w][g].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&R.push("active","end-date"),null!=this.endDate&&r[w][g]>this.startDate&&r[w][g]<this.endDate&&R.push("in-range");var B=this.isCustomDate(r[w][g]);!1!==B&&("string"==typeof B?R.push(B):Array.prototype.push.apply(R,B));var H="",$=!1;for(y=0;y<R.length;y++)H+=R[y]+" ","disabled"==R[y]&&($=!0);$||(H+="available"),S+='<td class="'+H.replace(/^\s+|\s+$/g,"")+'" data-title="r'+w+"c"+g+'">'+r[w][g].date()+"</td>"}S+="</tr>"}S+="</tbody>",S+="</table>",this.container.find(".calendar."+n+" .calendar-table").html(S)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,n,r,i=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(i=this.startDate.clone().add(this.dateLimit)),"left"==t)n=this.startDate.clone(),r=this.minDate;else if("right"==t){n=this.endDate.clone(),r=this.startDate;var o=this.container.find(".calendar.right .calendar-time div");if(""!=o.html()&&(n.hour(o.find(".hourselect option:selected").val()||n.hour()),n.minute(o.find(".minuteselect option:selected").val()||n.minute()),n.second(o.find(".secondselect option:selected").val()||n.second()),!this.timePicker24Hour)){var a=o.find(".ampmselect option:selected").val();"PM"===a&&n.hour()<12&&n.hour(n.hour()+12),"AM"===a&&12===n.hour()&&n.hour(0)}n.isBefore(this.startDate)&&(n=this.startDate.clone()),i&&n.isAfter(i)&&(n=i.clone())}e='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,c=this.timePicker24Hour?23:12,l=s;l<=c;l++){var u=l;this.timePicker24Hour||(u=n.hour()>=12?12==l?12:l+12:12==l?0:l);var d=n.clone().hour(u),f=!1;r&&d.minute(59).isBefore(r)&&(f=!0),i&&d.minute(0).isAfter(i)&&(f=!0),u!=n.hour()||f?e+=f?'<option value="'+l+'" disabled="disabled" class="disabled">'+l+"</option>":'<option value="'+l+'">'+l+"</option>":e+='<option value="'+l+'" selected="selected">'+l+"</option>"}for(e+="</select> ",e+=': <select class="minuteselect">',l=0;l<60;l+=this.timePickerIncrement){var h=l<10?"0"+l:l;d=n.clone().minute(l),f=!1,r&&d.second(59).isBefore(r)&&(f=!0),i&&d.second(0).isAfter(i)&&(f=!0),n.minute()!=l||f?e+=f?'<option value="'+l+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+l+'">'+h+"</option>":e+='<option value="'+l+'" selected="selected">'+h+"</option>"}if(e+="</select> ",this.timePickerSeconds){for(e+=': <select class="secondselect">',l=0;l<60;l++)h=l<10?"0"+l:l,d=n.clone().second(l),f=!1,r&&d.isBefore(r)&&(f=!0),i&&d.isAfter(i)&&(f=!0),n.second()!=l||f?e+=f?'<option value="'+l+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+l+'">'+h+"</option>":e+='<option value="'+l+'" selected="selected">'+h+"</option>";e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var p="",m="";r&&n.clone().hour(12).minute(0).second(0).isBefore(r)&&(p=' disabled="disabled" class="disabled"'),i&&n.clone().hour(0).minute(0).second(0).isAfter(i)&&(m=' disabled="disabled" class="disabled"'),n.hour()>=12?e+='<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+m+">PM</option>":e+='<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+m+">PM</option>",e+="</select>"}this.container.find(".calendar."+t+" .calendar-time div").html(e)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var t,n={top:0,left:0},r=e(window).width();this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},r=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-n.top:this.element.offset().top+this.element.outerHeight()-n.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:t,right:r-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-n.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-n.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>e(window).width()&&this.container.css({left:"auto",right:0}))},show:function(t){this.isShowing||(this._outsideClickProxy=e.proxy((function(t){this.outsideClick(t)}),this),e(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),e(window).on("resize.daterangepicker",e.proxy((function(t){this.move(t)}),this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.element.addClass("open-daterangepicker"),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),e(document).off(".daterangepicker"),e(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.element.removeClass("open-daterangepicker"),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var n=e(t.target);"focusin"==t.type||n.closest(this.element).length||n.closest(this.container).length||n.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(t){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var e=t.target.getAttribute("data-range-key");if(e==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.locale.format))}}},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(t){e(t.target).parents(".calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){e(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(e(t.target).hasClass("available")){var n=e(t.target).attr("data-title"),r=n.substr(1,1),i=n.substr(3,1),o=e(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.calendar[r][i]:this.rightCalendar.calendar[r][i];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(o.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(o.format(this.locale.format));var a=this.leftCalendar,s=this.rightCalendar,c=this.startDate;this.endDate||this.container.find(".calendar tbody td").each((function(t,n){if(!e(n).hasClass("week")){var r=e(n).attr("data-title"),i=r.substr(1,1),l=r.substr(3,1),u=e(n).parents(".calendar").hasClass("left")?a.calendar[i][l]:s.calendar[i][l];u.isAfter(c)&&u.isBefore(o)||u.isSame(o,"day")?e(n).addClass("in-range"):e(n).removeClass("in-range")}}))}},clickDate:function(t){if(e(t.target).hasClass("available")){var n=e(t.target).attr("data-title"),r=n.substr(1,1),i=n.substr(3,1),o=e(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.calendar[r][i]:this.rightCalendar.calendar[r][i];if(this.endDate||o.isBefore(this.startDate,"day")){if(this.timePicker){var a=parseInt(this.container.find(".left .hourselect").val(),10);this.timePicker24Hour||("PM"===(l=this.container.find(".left .ampmselect").val())&&a<12&&(a+=12),"AM"===l&&12===a&&(a=0));var s=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;o=o.clone().hour(a).minute(s).second(c)}this.endDate=null,this.setStartDate(o.clone())}else if(!this.endDate&&o.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{var l;if(this.timePicker)a=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(l=this.container.find(".right .ampmselect").val())&&a<12&&(a+=12),"AM"===l&&12===a&&(a=0)),s=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,o=o.clone().hour(a).minute(s).second(c);this.setEndDate(o.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var t=!0,e=0;for(var n in this.ranges){if(this.timePicker){var r=this.timePickerSeconds?"YYYY-MM-DD hh:mm:ss":"YYYY-MM-DD hh:mm";if(this.startDate.format(r)==this.ranges[n][0].format(r)&&this.endDate.format(r)==this.ranges[n][1].format(r)){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}e++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html():this.chosenLabel=null,this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var n=e(t.target).closest(".calendar").hasClass("left"),r=n?"left":"right",i=this.container.find(".calendar."+r),o=parseInt(i.find(".monthselect").val(),10),a=i.find(".yearselect").val();n||(a<this.startDate.year()||a==this.startDate.year()&&o<this.startDate.month())&&(o=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&o<this.minDate.month())&&(o=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&o>this.maxDate.month())&&(o=this.maxDate.month(),a=this.maxDate.year()),n?(this.leftCalendar.month.month(o).year(a),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(o).year(a),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var n=e(t.target).closest(".calendar"),r=n.hasClass("left"),i=parseInt(n.find(".hourselect").val(),10),o=parseInt(n.find(".minuteselect").val(),10),a=this.timePickerSeconds?parseInt(n.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var s=n.find(".ampmselect").val();"PM"===s&&i<12&&(i+=12),"AM"===s&&12===i&&(i=0)}if(r){var c=this.startDate.clone();c.hour(i),c.minute(o),c.second(a),this.setStartDate(c),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==c.format("YYYY-MM-DD")&&this.endDate.isBefore(c)&&this.setEndDate(c.clone())}else if(this.endDate){var l=this.endDate.clone();l.hour(i),l.minute(o),l.second(a),this.setEndDate(l)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(n){var r=e(n.target).closest(".calendar").hasClass("right"),i=t(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),o=t(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);i.isValid()&&o.isValid()&&(r&&o.isBefore(i)&&(i=o.clone()),this.setStartDate(i),this.setEndDate(o),r?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(t){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),e(t.target).addClass("active"),e(t.target).closest(".calendar").hasClass("right")&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(e){if(!this.endDate){var n=this.container.find('input[name="daterangepicker_end"]').val(),r=t(n,this.locale.format);r.isValid()&&(this.setEndDate(r),this.updateView())}},formInputsKeydown:function(t){13===t.keyCode&&(t.preventDefault(),this.formInputsChanged(t))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var e=this.element.val().split(this.locale.separator),n=null,r=null;2===e.length&&(n=t(e[0],this.locale.format),r=t(e[1],this.locale.format)),(this.singleDatePicker||null===n||null===r)&&(r=n=t(this.element.val(),this.locale.format)),n.isValid()&&r.isValid()&&(this.setStartDate(n),this.setEndDate(r),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},e.fn.daterangepicker=function(t,r){var i=e.extend(!0,{},e.fn.daterangepicker.defaultOptions,t);return this.each((function(){var t=e(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new n(t,i,r))})),this},n}(t,e)}.apply(e,r))||(t.exports=i)},62581:function(t,e,n){var r,i,o;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}!function(){"use strict";i=[n(95616),n(42689)],r=function(t,e){if(!e)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,r){var i,o,a,s,c,l,u,d={},f=!0,h=!1,p=!1,m=0,y=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],b=["top","bottom","auto"],g=["left","right","auto"],w=["default","top","bottom"],j={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},x={},_=function(){return void 0!==e.tz&&void 0!==r.timeZone&&null!==r.timeZone&&""!==r.timeZone},S=function(t){var n;return n=null==t?e():e.isDate(t)||e.isMoment(t)?e(t):_()?e.tz(t,l,r.useStrict,r.timeZone):e(t,l,r.useStrict),_()&&n.tz(r.timeZone),n},O=function(t){if("string"!=typeof t||t.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==c.indexOf("Y");case"M":return-1!==c.indexOf("M");case"d":return-1!==c.toLowerCase().indexOf("d");case"h":case"H":return-1!==c.toLowerCase().indexOf("h");case"m":return-1!==c.indexOf("m");case"s":return-1!==c.indexOf("s");default:return!1}},k=function(){return O("h")||O("m")||O("s")},T=function(){return O("y")||O("M")||O("d")},A=function(){var e=t("<thead>").append(t("<tr>").append(t("<th>").addClass("prev").attr("data-action","previous").append(t("<span>").addClass(r.icons.previous))).append(t("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",r.calendarWeeks?"6":"5")).append(t("<th>").addClass("next").attr("data-action","next").append(t("<span>").addClass(r.icons.next)))),n=t("<tbody>").append(t("<tr>").append(t("<td>").attr("colspan",r.calendarWeeks?"8":"7")));return[t("<div>").addClass("datepicker-days").append(t("<table>").addClass("table-condensed").append(e).append(t("<tbody>"))),t("<div>").addClass("datepicker-months").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-years").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-decades").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone()))]},C=function(){var e=t("<tr>"),n=t("<tr>"),i=t("<tr>");return O("h")&&(e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(t("<span>").addClass(r.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:r.tooltips.pickHour}).attr("data-action","showHours"))),i.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(t("<span>").addClass(r.icons.down))))),O("m")&&(O("h")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),i.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(t("<span>").addClass(r.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:r.tooltips.pickMinute}).attr("data-action","showMinutes"))),i.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(t("<span>").addClass(r.icons.down))))),O("s")&&(O("m")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),i.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(t("<span>").addClass(r.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:r.tooltips.pickSecond}).attr("data-action","showSeconds"))),i.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(t("<span>").addClass(r.icons.down))))),s||(e.append(t("<td>").addClass("separator")),n.append(t("<td>").append(t("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:r.tooltips.togglePeriod}))),i.append(t("<td>").addClass("separator"))),t("<div>").addClass("timepicker-picker").append(t("<table>").addClass("table-condensed").append([e,n,i]))},P=function(){var e=t("<div>").addClass("timepicker-hours").append(t("<table>").addClass("table-condensed")),n=t("<div>").addClass("timepicker-minutes").append(t("<table>").addClass("table-condensed")),r=t("<div>").addClass("timepicker-seconds").append(t("<table>").addClass("table-condensed")),i=[C()];return O("h")&&i.push(e),O("m")&&i.push(n),O("s")&&i.push(r),i},E=function(){var e=[];return r.showTodayButton&&e.push(t("<td>").append(t("<a>").attr({"data-action":"today",title:r.tooltips.today}).append(t("<span>").addClass(r.icons.today)))),!r.sideBySide&&T()&&k()&&e.push(t("<td>").append(t("<a>").attr({"data-action":"togglePicker",title:r.tooltips.selectTime}).append(t("<span>").addClass(r.icons.time)))),r.showClear&&e.push(t("<td>").append(t("<a>").attr({"data-action":"clear",title:r.tooltips.clear}).append(t("<span>").addClass(r.icons.clear)))),r.showClose&&e.push(t("<td>").append(t("<a>").attr({"data-action":"close",title:r.tooltips.close}).append(t("<span>").addClass(r.icons.close)))),t("<table>").addClass("table-condensed").append(t("<tbody>").append(t("<tr>").append(e)))},I=function(){var e=t("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),n=t("<div>").addClass("datepicker").append(A()),i=t("<div>").addClass("timepicker").append(P()),o=t("<ul>").addClass("list-unstyled"),a=t("<li>").addClass("picker-switch"+(r.collapse?" accordion-toggle":"")).append(E());return r.inline&&e.removeClass("dropdown-menu"),s&&e.addClass("usetwentyfour"),O("s")&&!s&&e.addClass("wider"),r.sideBySide&&T()&&k()?(e.addClass("timepicker-sbs"),"top"===r.toolbarPlacement&&e.append(a),e.append(t("<div>").addClass("row").append(n.addClass("col-md-6")).append(i.addClass("col-md-6"))),"bottom"===r.toolbarPlacement&&e.append(a),e):("top"===r.toolbarPlacement&&o.append(a),T()&&o.append(t("<li>").addClass(r.collapse&&k()?"collapse in":"").append(n)),"default"===r.toolbarPlacement&&o.append(a),k()&&o.append(t("<li>").addClass(r.collapse&&T()?"collapse":"").append(i)),"bottom"===r.toolbarPlacement&&o.append(a),e.append(o))},N=function(){var e,i={};return(e=n.is("input")||r.inline?n.data():n.find("input").data()).dateOptions&&e.dateOptions instanceof Object&&(i=t.extend(!0,i,e.dateOptions)),t.each(r,(function(t){var n="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==e[n]&&(i[t]=e[n])})),i},D=function(){var e,i=(h||n).position(),o=(h||n).offset(),a=r.widgetPositioning.vertical,s=r.widgetPositioning.horizontal;if(r.widgetParent)e=r.widgetParent.append(p);else if(n.is("input"))e=n.after(p).parent();else{if(r.inline)return void(e=n.append(p));e=n,n.children().first().after(p)}if("auto"===a&&(a=o.top+1.5*p.height()>=t(window).height()+t(window).scrollTop()&&p.height()+n.outerHeight()<o.top?"top":"bottom"),"auto"===s&&(s=e.width()<o.left+p.outerWidth()/2&&o.left+p.outerWidth()>t(window).width()?"right":"left"),"top"===a?p.addClass("top").removeClass("bottom"):p.addClass("bottom").removeClass("top"),"right"===s?p.addClass("pull-right"):p.removeClass("pull-right"),"static"===e.css("position")&&(e=e.parents().filter((function(){return"static"!==t(this).css("position")})).first()),0===e.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");p.css({top:"top"===a?"auto":i.top+n.outerHeight(),bottom:"top"===a?e.outerHeight()-(e===n?0:i.top):"auto",left:"left"===s?e===n?0:i.left:"auto",right:"left"===s?"auto":e.outerWidth()-n.outerWidth()-(e===n?0:i.left)})},L=function(t){("dp.change"!==t.type||t.date||t.oldDate)&&n.trigger(t)},M=function(t){"y"===t&&(t="YYYY"),L({type:"dp.update",change:t,viewDate:o.clone()})},R=function(t){p&&(t&&(u=Math.max(m,Math.min(3,u+t))),p.find(".datepicker > div").hide().filter(".datepicker-"+y[u].clsName).show())},B=function(){var e=t("<tr>"),n=o.clone().startOf("w").startOf("d");for(!0===r.calendarWeeks&&e.append(t("<th>").addClass("cw").text("#"));n.isBefore(o.clone().endOf("w"));)e.append(t("<th>").addClass("dow").text(n.format("dd"))),n.add(1,"d");p.find(".datepicker-days thead").append(e)},H=function(t){return!0===r.disabledDates[t.format("YYYY-MM-DD")]},$=function(t){return!0===r.enabledDates[t.format("YYYY-MM-DD")]},F=function(t){return!0===r.disabledHours[t.format("H")]},W=function(t){return!0===r.enabledHours[t.format("H")]},U=function(e,n){if(!e.isValid())return!1;if(r.disabledDates&&"d"===n&&H(e))return!1;if(r.enabledDates&&"d"===n&&!$(e))return!1;if(r.minDate&&e.isBefore(r.minDate,n))return!1;if(r.maxDate&&e.isAfter(r.maxDate,n))return!1;if(r.daysOfWeekDisabled&&"d"===n&&-1!==r.daysOfWeekDisabled.indexOf(e.day()))return!1;if(r.disabledHours&&("h"===n||"m"===n||"s"===n)&&F(e))return!1;if(r.enabledHours&&("h"===n||"m"===n||"s"===n)&&!W(e))return!1;if(r.disabledTimeIntervals&&("h"===n||"m"===n||"s"===n)){var i=!1;if(t.each(r.disabledTimeIntervals,(function(){if(e.isBetween(this[0],this[1]))return i=!0,!1})),i)return!1}return!0},V=function(){for(var e=[],n=o.clone().startOf("y").startOf("d");n.isSame(o,"y");)e.push(t("<span>").attr("data-action","selectMonth").addClass("month").text(n.format("MMM"))),n.add(1,"M");p.find(".datepicker-months td").empty().append(e)},G=function(){var e=p.find(".datepicker-months"),n=e.find("th"),a=e.find("tbody").find("span");n.eq(0).find("span").attr("title",r.tooltips.prevYear),n.eq(1).attr("title",r.tooltips.selectYear),n.eq(2).find("span").attr("title",r.tooltips.nextYear),e.find(".disabled").removeClass("disabled"),U(o.clone().subtract(1,"y"),"y")||n.eq(0).addClass("disabled"),n.eq(1).text(o.year()),U(o.clone().add(1,"y"),"y")||n.eq(2).addClass("disabled"),a.removeClass("active"),i.isSame(o,"y")&&!f&&a.eq(i.month()).addClass("active"),a.each((function(e){U(o.clone().month(e),"M")||t(this).addClass("disabled")}))},z=function(){var t=p.find(".datepicker-years"),e=t.find("th"),n=o.clone().subtract(5,"y"),a=o.clone().add(6,"y"),s="";for(e.eq(0).find("span").attr("title",r.tooltips.prevDecade),e.eq(1).attr("title",r.tooltips.selectDecade),e.eq(2).find("span").attr("title",r.tooltips.nextDecade),t.find(".disabled").removeClass("disabled"),r.minDate&&r.minDate.isAfter(n,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(n.year()+"-"+a.year()),r.maxDate&&r.maxDate.isBefore(a,"y")&&e.eq(2).addClass("disabled");!n.isAfter(a,"y");)s+='<span data-action="selectYear" class="year'+(n.isSame(i,"y")&&!f?" active":"")+(U(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");t.find("td").html(s)},Y=function(){var t,n=p.find(".datepicker-decades"),a=n.find("th"),s=e({y:o.year()-o.year()%100-1}),c=s.clone().add(100,"y"),l=s.clone(),u=!1,d=!1,f="";for(a.eq(0).find("span").attr("title",r.tooltips.prevCentury),a.eq(2).find("span").attr("title",r.tooltips.nextCentury),n.find(".disabled").removeClass("disabled"),(s.isSame(e({y:1900}))||r.minDate&&r.minDate.isAfter(s,"y"))&&a.eq(0).addClass("disabled"),a.eq(1).text(s.year()+"-"+c.year()),(s.isSame(e({y:2e3}))||r.maxDate&&r.maxDate.isBefore(c,"y"))&&a.eq(2).addClass("disabled");!s.isAfter(c,"y");)t=s.year()+12,u=r.minDate&&r.minDate.isAfter(s,"y")&&r.minDate.year()<=t,d=r.maxDate&&r.maxDate.isAfter(s,"y")&&r.maxDate.year()<=t,f+='<span data-action="selectDecade" class="decade'+(i.isAfter(s)&&i.year()<=t?" active":"")+(U(s,"y")||u||d?"":" disabled")+'" data-selection="'+(s.year()+6)+'">'+(s.year()+1)+" - "+(s.year()+12)+"</span>",s.add(12,"y");f+="<span></span><span></span><span></span>",n.find("td").html(f),a.eq(1).text(l.year()+1+"-"+s.year())},X=function(){var e,n,a,s=p.find(".datepicker-days"),c=s.find("th"),l=[],u=[];if(T()){for(c.eq(0).find("span").attr("title",r.tooltips.prevMonth),c.eq(1).attr("title",r.tooltips.selectMonth),c.eq(2).find("span").attr("title",r.tooltips.nextMonth),s.find(".disabled").removeClass("disabled"),c.eq(1).text(o.format(r.dayViewHeaderFormat)),U(o.clone().subtract(1,"M"),"M")||c.eq(0).addClass("disabled"),U(o.clone().add(1,"M"),"M")||c.eq(2).addClass("disabled"),e=o.clone().startOf("M").startOf("w").startOf("d"),a=0;a<42;a++)0===e.weekday()&&(n=t("<tr>"),r.calendarWeeks&&n.append('<td class="cw">'+e.week()+"</td>"),l.push(n)),u=["day"],e.isBefore(o,"M")&&u.push("old"),e.isAfter(o,"M")&&u.push("new"),e.isSame(i,"d")&&!f&&u.push("active"),U(e,"d")||u.push("disabled"),e.isSame(S(),"d")&&u.push("today"),0!==e.day()&&6!==e.day()||u.push("weekend"),L({type:"dp.classify",date:e,classNames:u}),n.append('<td data-action="selectDay" data-day="'+e.format("L")+'" class="'+u.join(" ")+'">'+e.date()+"</td>"),e.add(1,"d");s.find("tbody").empty().append(l),G(),z(),Y()}},q=function(){var e=p.find(".timepicker-hours table"),n=o.clone().startOf("d"),r=[],i=t("<tr>");for(o.hour()>11&&!s&&n.hour(12);n.isSame(o,"d")&&(s||o.hour()<12&&n.hour()<12||o.hour()>11);)n.hour()%4==0&&(i=t("<tr>"),r.push(i)),i.append('<td data-action="selectHour" class="hour'+(U(n,"h")?"":" disabled")+'">'+n.format(s?"HH":"hh")+"</td>"),n.add(1,"h");e.empty().append(r)},K=function(){for(var e=p.find(".timepicker-minutes table"),n=o.clone().startOf("h"),i=[],a=t("<tr>"),s=1===r.stepping?5:r.stepping;o.isSame(n,"h");)n.minute()%(4*s)==0&&(a=t("<tr>"),i.push(a)),a.append('<td data-action="selectMinute" class="minute'+(U(n,"m")?"":" disabled")+'">'+n.format("mm")+"</td>"),n.add(s,"m");e.empty().append(i)},Z=function(){for(var e=p.find(".timepicker-seconds table"),n=o.clone().startOf("m"),r=[],i=t("<tr>");o.isSame(n,"m");)n.second()%20==0&&(i=t("<tr>"),r.push(i)),i.append('<td data-action="selectSecond" class="second'+(U(n,"s")?"":" disabled")+'">'+n.format("ss")+"</td>"),n.add(5,"s");e.empty().append(r)},J=function(){var t,e,n=p.find(".timepicker span[data-time-component]");s||(t=p.find(".timepicker [data-action=togglePeriod]"),e=i.clone().add(i.hours()>=12?-12:12,"h"),t.text(i.format("A")),U(e,"h")?t.removeClass("disabled"):t.addClass("disabled")),n.filter("[data-time-component=hours]").text(i.format(s?"HH":"hh")),n.filter("[data-time-component=minutes]").text(i.format("mm")),n.filter("[data-time-component=seconds]").text(i.format("ss")),q(),K(),Z()},Q=function(){p&&(X(),J())},tt=function(t){var e=f?null:i;if(!t)return f=!0,a.val(""),n.data("date",""),L({type:"dp.change",date:!1,oldDate:e}),void Q();if(t=t.clone().locale(r.locale),_()&&t.tz(r.timeZone),1!==r.stepping)for(t.minutes(Math.round(t.minutes()/r.stepping)*r.stepping).seconds(0);r.minDate&&t.isBefore(r.minDate);)t.add(r.stepping,"minutes");U(t)?(o=(i=t).clone(),a.val(i.format(c)),n.data("date",i.format(c)),f=!1,Q(),L({type:"dp.change",date:i.clone(),oldDate:e})):(r.keepInvalid?L({type:"dp.change",date:t,oldDate:e}):a.val(f?"":i.format(c)),L({type:"dp.error",date:t,oldDate:e}))},et=function(){var e=!1;return p?(p.find(".collapse").each((function(){var n=t(this).data("collapse");return!n||!n.transitioning||(e=!0,!1)})),e||(h&&h.hasClass("btn")&&h.toggleClass("active"),p.hide(),t(window).off("resize",D),p.off("click","[data-action]"),p.off("mousedown",!1),p.remove(),p=!1,L({type:"dp.hide",date:i.clone()}),a.blur(),o=i.clone()),d):d},nt=function(){tt(null)},rt=function(t){return void 0===r.parseInputDate?(!e.isMoment(t)||t instanceof Date)&&(t=S(t)):t=r.parseInputDate(t),t},it={next:function(){var t=y[u].navFnc;o.add(y[u].navStep,t),X(),M(t)},previous:function(){var t=y[u].navFnc;o.subtract(y[u].navStep,t),X(),M(t)},pickerSwitch:function(){R(1)},selectMonth:function(e){var n=t(e.target).closest("tbody").find("span").index(t(e.target));o.month(n),u===m?(tt(i.clone().year(o.year()).month(o.month())),r.inline||et()):(R(-1),X()),M("M")},selectYear:function(e){var n=parseInt(t(e.target).text(),10)||0;o.year(n),u===m?(tt(i.clone().year(o.year())),r.inline||et()):(R(-1),X()),M("YYYY")},selectDecade:function(e){var n=parseInt(t(e.target).data("selection"),10)||0;o.year(n),u===m?(tt(i.clone().year(o.year())),r.inline||et()):(R(-1),X()),M("YYYY")},selectDay:function(e){var n=o.clone();t(e.target).is(".old")&&n.subtract(1,"M"),t(e.target).is(".new")&&n.add(1,"M"),tt(n.date(parseInt(t(e.target).text(),10))),k()||r.keepOpen||r.inline||et()},incrementHours:function(){var t=i.clone().add(1,"h");U(t,"h")&&tt(t)},incrementMinutes:function(){var t=i.clone().add(r.stepping,"m");U(t,"m")&&tt(t)},incrementSeconds:function(){var t=i.clone().add(1,"s");U(t,"s")&&tt(t)},decrementHours:function(){var t=i.clone().subtract(1,"h");U(t,"h")&&tt(t)},decrementMinutes:function(){var t=i.clone().subtract(r.stepping,"m");U(t,"m")&&tt(t)},decrementSeconds:function(){var t=i.clone().subtract(1,"s");U(t,"s")&&tt(t)},togglePeriod:function(){tt(i.clone().add(i.hours()>=12?-12:12,"h"))},togglePicker:function(e){var n,i=t(e.target),o=i.closest("ul"),a=o.find(".in"),s=o.find(".collapse:not(.in)");if(a&&a.length){if((n=a.data("collapse"))&&n.transitioning)return;a.collapse?(a.collapse("hide"),s.collapse("show")):(a.removeClass("in"),s.addClass("in")),i.is("span")?i.toggleClass(r.icons.time+" "+r.icons.date):i.find("span").toggleClass(r.icons.time+" "+r.icons.date)}},showPicker:function(){p.find(".timepicker > div:not(.timepicker-picker)").hide(),p.find(".timepicker .timepicker-picker").show()},showHours:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-hours").show()},showMinutes:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var n=parseInt(t(e.target).text(),10);s||(i.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),tt(i.clone().hours(n)),it.showPicker.call(d)},selectMinute:function(e){tt(i.clone().minutes(parseInt(t(e.target).text(),10))),it.showPicker.call(d)},selectSecond:function(e){tt(i.clone().seconds(parseInt(t(e.target).text(),10))),it.showPicker.call(d)},clear:nt,today:function(){var t=S();U(t,"d")&&tt(t)},close:et},ot=function(e){return t(e.currentTarget).is(".disabled")||it[t(e.currentTarget).data("action")].apply(d,arguments),!1},at=function(){var e,n={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}};return a.prop("disabled")||!r.ignoreReadonly&&a.prop("readonly")||p||(void 0!==a.val()&&0!==a.val().trim().length?tt(rt(a.val().trim())):f&&r.useCurrent&&(r.inline||a.is("input")&&0===a.val().trim().length)&&(e=S(),"string"==typeof r.useCurrent&&(e=n[r.useCurrent](e)),tt(e)),p=I(),B(),V(),p.find(".timepicker-hours").hide(),p.find(".timepicker-minutes").hide(),p.find(".timepicker-seconds").hide(),Q(),R(),t(window).on("resize",D),p.on("click","[data-action]",ot),p.on("mousedown",!1),h&&h.hasClass("btn")&&h.toggleClass("active"),D(),p.show(),r.focusOnShow&&!a.is(":focus")&&a.focus(),L({type:"dp.show"})),d},st=function(){return p?et():at()},ct=function(t){var e,n,i,o,a=null,s=[],c={},l=t.which,u="p";for(e in x[l]=u,x)x.hasOwnProperty(e)&&x[e]===u&&(s.push(e),parseInt(e,10)!==l&&(c[e]=!0));for(e in r.keyBinds)if(r.keyBinds.hasOwnProperty(e)&&"function"==typeof r.keyBinds[e]&&(i=e.split(" ")).length===s.length&&j[l]===i[i.length-1]){for(o=!0,n=i.length-2;n>=0;n--)if(!(j[i[n]]in c)){o=!1;break}if(o){a=r.keyBinds[e];break}}a&&(a.call(d,p),t.stopPropagation(),t.preventDefault())},lt=function(t){x[t.which]="r",t.stopPropagation(),t.preventDefault()},ut=function(e){var n=t(e.target).val().trim(),r=n?rt(n):null;return tt(r),e.stopImmediatePropagation(),!1},dt=function(){a.on({change:ut,blur:r.debug?"":et,keydown:ct,keyup:lt,focus:r.allowInputToggle?at:""}),n.is("input")?a.on({focus:at}):h&&(h.on("click",st),h.on("mousedown",!1))},ft=function(){a.off({change:ut,blur:blur,keydown:ct,keyup:lt,focus:r.allowInputToggle?et:""}),n.is("input")?a.off({focus:at}):h&&(h.off("click",st),h.off("mousedown",!1))},ht=function(e){var n={};return t.each(e,(function(){var t=rt(this);t.isValid()&&(n[t.format("YYYY-MM-DD")]=!0)})),!!Object.keys(n).length&&n},pt=function(e){var n={};return t.each(e,(function(){n[this]=!0})),!!Object.keys(n).length&&n},mt=function(){var t=r.format||"L LT";c=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,(function(t){return(i.localeData().longDateFormat(t)||t).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,(function(t){return i.localeData().longDateFormat(t)||t}))})),(l=r.extraFormats?r.extraFormats.slice():[]).indexOf(t)<0&&l.indexOf(c)<0&&l.push(c),s=c.toLowerCase().indexOf("a")<1&&c.replace(/\[.*?\]/g,"").indexOf("h")<1,O("y")&&(m=2),O("M")&&(m=1),O("d")&&(m=0),u=Math.max(m,u),f||tt(i)};if(d.destroy=function(){et(),ft(),n.removeData("DateTimePicker"),n.removeData("date")},d.toggle=st,d.show=at,d.hide=et,d.disable=function(){return et(),h&&h.hasClass("btn")&&h.addClass("disabled"),a.prop("disabled",!0),d},d.enable=function(){return h&&h.hasClass("btn")&&h.removeClass("disabled"),a.prop("disabled",!1),d},d.ignoreReadonly=function(t){if(0===arguments.length)return r.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");return r.ignoreReadonly=t,d},d.options=function(e){if(0===arguments.length)return t.extend(!0,{},r);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return t.extend(!0,r,e),t.each(r,(function(t,e){if(void 0===d[t])throw new TypeError("option "+t+" is not recognized!");d[t](e)})),d},d.date=function(t){if(0===arguments.length)return f?null:i.clone();if(!(null===t||"string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return tt(null===t?null:rt(t)),d},d.format=function(t){if(0===arguments.length)return r.format;if("string"!=typeof t&&("boolean"!=typeof t||!1!==t))throw new TypeError("format() expects a string or boolean:false parameter "+t);return r.format=t,c&&mt(),d},d.timeZone=function(t){if(0===arguments.length)return r.timeZone;if("string"!=typeof t)throw new TypeError("newZone() expects a string parameter");return r.timeZone=t,d},d.dayViewHeaderFormat=function(t){if(0===arguments.length)return r.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return r.dayViewHeaderFormat=t,d},d.extraFormats=function(t){if(0===arguments.length)return r.extraFormats;if(!1!==t&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return r.extraFormats=t,l&&mt(),d},d.disabledDates=function(e){if(0===arguments.length)return r.disabledDates?t.extend({},r.disabledDates):r.disabledDates;if(!e)return r.disabledDates=!1,Q(),d;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return r.disabledDates=ht(e),r.enabledDates=!1,Q(),d},d.enabledDates=function(e){if(0===arguments.length)return r.enabledDates?t.extend({},r.enabledDates):r.enabledDates;if(!e)return r.enabledDates=!1,Q(),d;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return r.enabledDates=ht(e),r.disabledDates=!1,Q(),d},d.daysOfWeekDisabled=function(t){if(0===arguments.length)return r.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return r.daysOfWeekDisabled=!1,Q(),d;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(r.daysOfWeekDisabled=t.reduce((function(t,e){return(e=parseInt(e,10))>6||e<0||isNaN(e)||-1===t.indexOf(e)&&t.push(e),t}),[]).sort(),r.useCurrent&&!r.keepInvalid){for(var e=0;!U(i,"d");){if(i.add(1,"d"),31===e)throw"Tried 31 times to find a valid date";e++}tt(i)}return Q(),d},d.maxDate=function(t){if(0===arguments.length)return r.maxDate?r.maxDate.clone():r.maxDate;if("boolean"==typeof t&&!1===t)return r.maxDate=!1,Q(),d;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=S()));var e=rt(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(r.minDate&&e.isBefore(r.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+e.format(c));return r.maxDate=e,r.useCurrent&&!r.keepInvalid&&i.isAfter(t)&&tt(r.maxDate),o.isAfter(e)&&(o=e.clone().subtract(r.stepping,"m")),Q(),d},d.minDate=function(t){if(0===arguments.length)return r.minDate?r.minDate.clone():r.minDate;if("boolean"==typeof t&&!1===t)return r.minDate=!1,Q(),d;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=S()));var e=rt(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(r.maxDate&&e.isAfter(r.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+e.format(c));return r.minDate=e,r.useCurrent&&!r.keepInvalid&&i.isBefore(t)&&tt(r.minDate),o.isBefore(e)&&(o=e.clone().add(r.stepping,"m")),Q(),d},d.defaultDate=function(t){if(0===arguments.length)return r.defaultDate?r.defaultDate.clone():r.defaultDate;if(!t)return r.defaultDate=!1,d;"string"==typeof t&&(t="now"===t||"moment"===t?S():S(t));var e=rt(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!U(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return r.defaultDate=e,(r.defaultDate&&r.inline||""===a.val().trim())&&tt(r.defaultDate),d},d.locale=function(t){if(0===arguments.length)return r.locale;if(!e.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return r.locale=t,i.locale(r.locale),o.locale(r.locale),c&&mt(),p&&(et(),at()),d},d.stepping=function(t){return 0===arguments.length?r.stepping:(t=parseInt(t,10),(isNaN(t)||t<1)&&(t=1),r.stepping=t,d)},d.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return r.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));return r.useCurrent=t,d},d.collapse=function(t){if(0===arguments.length)return r.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");return r.collapse===t||(r.collapse=t,p&&(et(),at())),d},d.icons=function(e){if(0===arguments.length)return t.extend({},r.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return t.extend(r.icons,e),p&&(et(),at()),d},d.tooltips=function(e){if(0===arguments.length)return t.extend({},r.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return t.extend(r.tooltips,e),p&&(et(),at()),d},d.useStrict=function(t){if(0===arguments.length)return r.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");return r.useStrict=t,d},d.sideBySide=function(t){if(0===arguments.length)return r.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");return r.sideBySide=t,p&&(et(),at()),d},d.viewMode=function(t){if(0===arguments.length)return r.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return r.viewMode=t,u=Math.max(v.indexOf(t),m),R(),d},d.toolbarPlacement=function(t){if(0===arguments.length)return r.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===w.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value");return r.toolbarPlacement=t,p&&(et(),at()),d},d.widgetPositioning=function(e){if(0===arguments.length)return t.extend({},r.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===g.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+g.join(", ")+")");r.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===b.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+b.join(", ")+")");r.widgetPositioning.vertical=e.vertical}return Q(),d},d.calendarWeeks=function(t){if(0===arguments.length)return r.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return r.calendarWeeks=t,Q(),d},d.showTodayButton=function(t){if(0===arguments.length)return r.showTodayButton;if("boolean"!=typeof t)throw new TypeError("showTodayButton() expects a boolean parameter");return r.showTodayButton=t,p&&(et(),at()),d},d.showClear=function(t){if(0===arguments.length)return r.showClear;if("boolean"!=typeof t)throw new TypeError("showClear() expects a boolean parameter");return r.showClear=t,p&&(et(),at()),d},d.widgetParent=function(e){if(0===arguments.length)return r.widgetParent;if("string"==typeof e&&(e=t(e)),null!==e&&"string"!=typeof e&&!(e instanceof t))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return r.widgetParent=e,p&&(et(),at()),d},d.keepOpen=function(t){if(0===arguments.length)return r.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");return r.keepOpen=t,d},d.focusOnShow=function(t){if(0===arguments.length)return r.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");return r.focusOnShow=t,d},d.inline=function(t){if(0===arguments.length)return r.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");return r.inline=t,d},d.clear=function(){return nt(),d},d.keyBinds=function(t){return 0===arguments.length?r.keyBinds:(r.keyBinds=t,d)},d.getMoment=function(t){return S(t)},d.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");return r.debug=t,d},d.allowInputToggle=function(t){if(0===arguments.length)return r.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");return r.allowInputToggle=t,d},d.showClose=function(t){if(0===arguments.length)return r.showClose;if("boolean"!=typeof t)throw new TypeError("showClose() expects a boolean parameter");return r.showClose=t,d},d.keepInvalid=function(t){if(0===arguments.length)return r.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");return r.keepInvalid=t,d},d.datepickerInput=function(t){if(0===arguments.length)return r.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");return r.datepickerInput=t,d},d.parseInputDate=function(t){if(0===arguments.length)return r.parseInputDate;if("function"!=typeof t)throw new TypeError("parseInputDate() sholud be as function");return r.parseInputDate=t,d},d.disabledTimeIntervals=function(e){if(0===arguments.length)return r.disabledTimeIntervals?t.extend({},r.disabledTimeIntervals):r.disabledTimeIntervals;if(!e)return r.disabledTimeIntervals=!1,Q(),d;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return r.disabledTimeIntervals=e,Q(),d},d.disabledHours=function(e){if(0===arguments.length)return r.disabledHours?t.extend({},r.disabledHours):r.disabledHours;if(!e)return r.disabledHours=!1,Q(),d;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(r.disabledHours=pt(e),r.enabledHours=!1,r.useCurrent&&!r.keepInvalid){for(var n=0;!U(i,"h");){if(i.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}tt(i)}return Q(),d},d.enabledHours=function(e){if(0===arguments.length)return r.enabledHours?t.extend({},r.enabledHours):r.enabledHours;if(!e)return r.enabledHours=!1,Q(),d;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(r.enabledHours=pt(e),r.disabledHours=!1,r.useCurrent&&!r.keepInvalid){for(var n=0;!U(i,"h");){if(i.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}tt(i)}return Q(),d},d.viewDate=function(t){if(0===arguments.length)return o.clone();if(!t)return o=i.clone(),d;if(!("string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return o=rt(t),M(),d},n.is("input"))a=n;else if(0===(a=n.find(r.datepickerInput)).length)a=n.find("input");else if(!a.is("input"))throw new Error('CSS class "'+r.datepickerInput+'" cannot be applied to non input element');if(n.hasClass("input-group")&&(h=0===n.find(".datepickerbutton").length?n.find(".input-group-addon"):n.find(".datepickerbutton")),!r.inline&&!a.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return i=S(),o=i.clone(),t.extend(!0,r,N()),d.options(r),mt(),dt(),a.prop("disabled")&&d.disable(),a.is("input")&&0!==a.val().trim().length?tt(rt(a.val().trim())):r.defaultDate&&void 0===a.attr("placeholder")&&tt(r.defaultDate),r.inline&&at(),d};return t.fn.datetimepicker=function(e){e=e||{};var r,i=Array.prototype.slice.call(arguments,1),o=!0,s=["destroy","hide","show","toggle"];if("object"===a(e))return this.each((function(){var r,i=t(this);i.data("DateTimePicker")||(r=t.extend(!0,{},t.fn.datetimepicker.defaults,e),i.data("DateTimePicker",n(i,r)))}));if("string"==typeof e)return this.each((function(){var n=t(this).data("DateTimePicker");if(!n)throw new Error('bootstrap-datetimepicker("'+e+'") method was called on an element that is not using DateTimePicker');r=n[e].apply(n,i),o=r===n})),o||t.inArray(e,s)>-1?this:r;throw new TypeError("Invalid arguments for DateTimePicker: "+e)},t.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:e.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(7,"d")):this.date(e.clone().add(this.stepping(),"m"))}},down:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(7,"d")):this.date(e.clone().subtract(this.stepping(),"m"))}else this.show()},"control up":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(1,"y")):this.date(e.clone().add(1,"h"))}},"control down":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(1,"y")):this.date(e.clone().subtract(1,"h"))}},left:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"d"))}},right:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"d"))}},pageUp:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"M"))}},pageDown:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){t&&t.find(".timepicker").is(":visible")&&t.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},t.fn.datetimepicker},void 0===(o="function"==typeof r?r.apply(e,i):r)||(t.exports=o)}()},51597:function(t,e,n){var r=n(95616);r.expr[":"].regex=function(t,e,n){var i=n[3].split(","),o=/^(data|css):/,a={method:i[0].match(o)?i[0].split(":")[0]:"attr",property:i.shift().replace(o,"")};return new RegExp(i.join("").replace(/^\s+|\s+$/g,""),"ig").test(r(t)[a.method](a.property))}},34064:function(t,e,n){var r,i=n(95616);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}(r=i).fn.virtualKeyboard=function(t){var e=this,n=r.extend({},{symbols:[7,8,9,4,5,6,1,2,3,".",0,"←"],floatDivider:"."},t);if(this.length>1)return this.each((function(){r(this).virtualKeyboard(n)})),this;var i=!1,a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e5,i=function(t){var e="".concat(t).replace(/[^0-9.]/g,""),r=-1!==e.indexOf(n.floatDivider),i=o(e.split(n.floatDivider),2),a=i[0],s=i[1];return a=parseInt(a),r&&s.length>1&&(s=s.substr(0,2)),0===a&&r?0:r?"".concat(a,".").concat(s):a}(t);return(i<e||isNaN(i))&&(i=e),i>r&&(i=r),i},s=function(t,e){return a(t,e)},c=function(t){t.preventDefault();var n=r(t.currentTarget).find("input");e.isOpened()?e.close():e.open(n)};this.open=function(t){var e=l(t),o=['<div class="virtual-keyboard virtual-keyboard--pa js-virtual-keyboard">'];o.push('<div class="virtual-keyboard__overlay"></div>'),o.push('<div class="virtual-keyboard__keys" style="top: '.concat(e.top,"px; left: ").concat(e.left,'px">'));for(var a=0;a<n.symbols.length;a++)o.push('<div class="virtual-keyboard__col">'),o.push('<div class="virtual-keyboard__input">'.concat(n.symbols[a],"</div>")),o.push("</div>");o.push("</div>"),o.push("</div>"),r("body").prepend(o.join("")).find(".js-virtual-keyboard .virtual-keyboard__input").on("click",(function(e){return function(t,e){var n=r.trim(t.text()),i=e.val(),o="";switch(n){case".":o=s("".concat(i).concat(n),1);break;case"←":o=s(i.length>1?i.slice(0,-1):"",0);break;default:o=s(0===i.length?"".concat(n):"".concat(i).concat(n),1)}e.val(o)}(r(e.currentTarget),t)})),i=!0};var l=function(t){var e=t.offset();return e.top=(e.top+t.innerHeight()+3).toFixed(4),e.left=e.left.toFixed(4),e};return this.close=function(){i=!1,r("body").find(".js-virtual-keyboard").remove()},this.isOpened=function(){return i},this.initialize=function(){var t=this,n=r(this);return document.addEventListener("click",(function(t){return n=t,void(e.isOpened()&&r(n.target).hasClass("virtual-keyboard__overlay")&&e.close());var n})),window.addEventListener("orientationchange",(function(){return t.close()})),window.addEventListener("optimizedResize",(function(e){"horizontal"===e.dir&&t.close()})),n.on("click",c),this},this.initialize()}},84387:function(t,e,n){var r,i,o,a=n(95616);i=[n(95616)],r=function(t){var e,n,r,i,o,s,c="Close",l="BeforeClose",u="AfterClose",d="BeforeAppend",f="MarkupParse",h="Open",p="Change",m="mfp",y="."+m,v="mfp-ready",b="mfp-removing",g="mfp-prevent-close",w=function(){},j=!!a,x=t(window),_=function(t,n){e.ev.on(m+t+y,n)},S=function(e,n,r,i){var o=document.createElement("div");return o.className="mfp-"+e,r&&(o.innerHTML=r),i?n&&n.appendChild(o):(o=t(o),n&&o.appendTo(n)),o},O=function(n,r){null!=e.ev&&e.ev.triggerHandler(m+n,r),null!=e.st&&e.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),e.st.callbacks[n]&&e.st.callbacks[n].apply(e,t.isArray(r)?r:[r]))},k=function(n){return n===s&&e.currTemplate.closeBtn||(e.currTemplate.closeBtn=t(e.st.closeMarkup.replace("%title%",e.st.tClose)),s=n),e.currTemplate.closeBtn},T=function(){t.magnificPopup.instance||((e=new w).init(),t.magnificPopup.instance=e)},A=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1};w.prototype={constructor:w,init:function(){var n=navigator.appVersion;e.isLowIE=e.isIE8=document.all&&!document.addEventListener,e.isAndroid=/android/gi.test(n),e.isIOS=/iphone|ipad|ipod/gi.test(n),e.supportsTransition=A(),e.probablyMobile=e.isAndroid||e.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),r=t(document),e.popupsCache={}},open:function(n){var i;if(!1===n.isObj){e.items=n.items.toArray(),e.index=0;var a,s=n.items;for(i=0;i<s.length;i++)if((a=s[i]).parsed&&(a=a.el[0]),a===n.el[0]){e.index=i;break}}else e.items=t.isArray(n.items)?n.items:[n.items],e.index=n.index||0;if(!e.isOpen){e.types=[],o="",n.mainEl&&n.mainEl.length?e.ev=n.mainEl.eq(0):e.ev=r,n.key?(e.popupsCache[n.key]||(e.popupsCache[n.key]={}),e.currTemplate=e.popupsCache[n.key]):e.currTemplate={},e.st=t.extend(!0,{},t.magnificPopup.defaults,n),e.fixedContentPos="auto"===e.st.fixedContentPos?!e.probablyMobile:e.st.fixedContentPos,e.st.modal&&(e.st.closeOnContentClick=!1,e.st.closeOnBgClick=!1,e.st.showCloseBtn=!1,e.st.enableEscapeKey=!1),e.bgOverlay||(e.bgOverlay=S("bg").on("click"+y,(function(){e.close()})),e.mouseDownTarget=null,e.mouseUpTarget=null,e.wrap=S("wrap").attr("tabindex",-1).on("click"+y,(function(t){e.mouseDownTarget===e.mouseUpTarget&&e._checkIfClose(t.target)&&e.close()})).on("mousedown"+y,(function(t){e.mouseDownTarget=t.target})).on("mouseup"+y,(function(t){e.mouseUpTarget=t.target})),e.container=S("container",e.wrap)),e.contentContainer=S("content"),e.st.preloader&&(e.preloader=S("preloader",e.container,e.st.tLoading));var c=t.magnificPopup.modules;for(i=0;i<c.length;i++){var l=c[i];l=l.charAt(0).toUpperCase()+l.slice(1),e["init"+l].call(e)}O("BeforeOpen"),e.st.showCloseBtn&&(e.st.closeBtnInside?(_(f,(function(t,e,n,r){n.close_replaceWith=k(r.type)})),o+=" mfp-close-btn-in"):e.wrap.append(k())),e.st.alignTop&&(o+=" mfp-align-top"),e.fixedContentPos?e.wrap.css({overflow:e.st.overflowY,overflowX:"hidden",overflowY:e.st.overflowY}):e.wrap.css({top:x.scrollTop(),position:"absolute"}),(!1===e.st.fixedBgPos||"auto"===e.st.fixedBgPos&&!e.fixedContentPos)&&e.bgOverlay.css({height:r.height(),position:"absolute"}),e.st.enableEscapeKey&&r.on("keyup"+y,(function(t){27===t.keyCode&&e.close()})),x.on("resize"+y,(function(){e.updateSize()})),e.st.closeOnContentClick||(o+=" mfp-auto-cursor"),o&&e.wrap.addClass(o);var u=e.wH=x.height(),d={};if(e.fixedContentPos&&e._hasScrollBar(u)){var p=e._getScrollbarSize();p&&(d.marginRight=p)}e.fixedContentPos&&(e.isIE7?t("body, html").css("overflow","hidden"):d.overflow="hidden");var m=e.st.mainClass;return e.isIE7&&(m+=" mfp-ie7"),m&&e._addClassToMFP(m),e.updateItemHTML(),O("BuildControls"),t("html").css(d),e.bgOverlay.add(e.wrap).prependTo(e.st.prependTo||t(document.body)),e._lastFocusedEl=document.activeElement,setTimeout((function(){e.content?(e._addClassToMFP(v),e._setFocus()):e.bgOverlay.addClass(v),r.on("focusin"+y,e._onFocusIn)}),16),e.isOpen=!0,e.updateSize(u),O(h),n}e.updateItemHTML()},close:function(){O(l),e.isOpen&&(e.isOpen=!1,e.st.removalDelay&&!e.isLowIE&&e.supportsTransition?(e._addClassToMFP(b),setTimeout((function(){e._close()}),e.st.removalDelay)):e._close())},_close:function(){O(c);var n=b+" "+v+" ";if(e.bgOverlay.detach(),e.wrap.detach(),e.container.empty(),e.st.mainClass&&(n+=e.st.mainClass+" "),e._removeClassFromMFP(n),e.fixedContentPos){var i={marginRight:""};e.isIE7?t("body, html").css("overflow",""):i.overflow="",t("html").css(i)}r.off("keyup"+y+" focusin"+y),e.ev.off(y),e.wrap.attr("class","mfp-wrap").removeAttr("style"),e.bgOverlay.attr("class","mfp-bg"),e.container.attr("class","mfp-container"),!e.currItem||!e.st.showCloseBtn||e.st.closeBtnInside&&!0!==e.currTemplate[e.currItem.type]||e.currTemplate.closeBtn&&e.currTemplate.closeBtn.detach(),e.st.autoFocusLast&&e._lastFocusedEl&&t(e._lastFocusedEl).focus(),e.currItem=null,e.content=null,e.currTemplate=null,e.prevHeight=0,e.isOpen=!1,O(u)},updateSize:function(t){if(e.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,r=window.innerHeight*n;e.wrap.css("height",r),e.wH=r}else e.wH=t||x.height();e.fixedContentPos||e.wrap.css("height",e.wH),O("Resize")},updateItemHTML:function(){var n=e.items[e.index];e.contentContainer.detach(),e.content&&e.content.detach(),n.parsed||(n=e.parseEl(e.index));var r=n.type;if(O("BeforeChange",[e.currItem?e.currItem.type:"",r]),e.currItem=n,!e.currTemplate[r]){var o=!!e.st[r]&&e.st[r].markup;O("FirstMarkupParse",o),e.currTemplate[r]=!o||t(o)}i&&i!==n.type&&e.container.removeClass("mfp-"+i+"-holder");var a=e["get"+r.charAt(0).toUpperCase()+r.slice(1)](n,e.currTemplate[r]);e.appendContent(a,r),n.preloaded=!0,O(p,n),i=n.type,e.container.prepend(e.contentContainer),O("AfterChange")},appendContent:function(t,n){e.content=t,t?e.st.showCloseBtn&&e.st.closeBtnInside&&!0===e.currTemplate[n]?e.content.find(".mfp-close").length||e.content.append(k()):e.content=t:e.content="",O(d),e.container.addClass("mfp-"+n+"-holder"),e.contentContainer.append(e.content)},parseEl:function(n){var r,i=e.items[n];if(i.tagName?i={el:t(i)}:(r=i.type,i={data:i,src:i.src}),i.el){for(var o=e.types,a=0;a<o.length;a++)if(i.el.hasClass("mfp-"+o[a])){r=o[a];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=r||e.st.type||"inline",i.index=n,i.parsed=!0,e.items[n]=i,O("ElementParse",i),e.items[n]},addGroup:function(t,n){var r=function(r){r.mfpEl=this,e._openClick(r,t,n)};n||(n={});var i="click.magnificPopup";n.mainEl=t,n.items?(n.isObj=!0,t.off(i).on(i,r)):(n.isObj=!1,n.delegate?t.off(i).on(i,n.delegate,r):(n.items=t,t.off(i).on(i,r)))},_openClick:function(n,r,i){if((void 0!==i.midClick?i.midClick:t.magnificPopup.defaults.midClick)||!(2===n.which||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey)){var o=void 0!==i.disableOn?i.disableOn:t.magnificPopup.defaults.disableOn;if(o)if(t.isFunction(o)){if(!o.call(e))return!0}else if(x.width()<o)return!0;n.type&&(n.preventDefault(),e.isOpen&&n.stopPropagation()),i.el=t(n.mfpEl),i.delegate&&(i.items=r.find(i.delegate)),e.open(i)}},updateStatus:function(t,r){if(e.preloader){n!==t&&e.container.removeClass("mfp-s-"+n),r||"loading"!==t||(r=e.st.tLoading);var i={status:t,text:r};O("UpdateStatus",i),t=i.status,r=i.text,e.preloader.html(r),e.preloader.find("a").on("click",(function(t){t.stopImmediatePropagation()})),e.container.addClass("mfp-s-"+t),n=t}},_checkIfClose:function(n){if(!t(n).hasClass(g)){var r=e.st.closeOnContentClick,i=e.st.closeOnBgClick;if(r&&i)return!0;if(!e.content||t(n).hasClass("mfp-close")||t(n).closest("mfp-close").length||e.preloader&&n===e.preloader[0])return!0;try{if(n===e.content[0]||t.contains(e.content[0],n)){if(r)return!0}else if(i&&t.contains(document,n))return!0}catch(o){}return!1}},_addClassToMFP:function(t){e.bgOverlay.addClass(t),e.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),e.wrap.removeClass(t)},_hasScrollBar:function(t){return(e.isIE7?r.height():document.body.scrollHeight)>(t||x.height())},_setFocus:function(){(e.st.focus?e.content.find(e.st.focus).eq(0):e.wrap).focus()},_onFocusIn:function(n){if(n.target!==e.wrap[0]&&!t.contains(e.wrap[0],n.target))return e._setFocus(),!1},_parseMarkup:function(e,n,r){var i;r.data&&(n=t.extend(r.data,n)),O(f,[e,n,r]),t.each(n,(function(n,r){if(void 0===r||!1===r)return!0;if((i=n.split("_")).length>1){var o=e.find(y+"-"+i[0]);if(o.length>0){var a=i[1];"replaceWith"===a?o[0]!==r[0]&&o.replaceWith(r):"img"===a?o.is("img")?o.attr("src",r):o.replaceWith(t("<img>").attr("src",r).attr("class",o.attr("class"))):o.attr(i[1],r)}}else e.find(y+"-"+n).html(r)}))},_getScrollbarSize:function(){if(void 0===e.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),e.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return e.scrollbarSize}},t.magnificPopup={instance:null,proto:w.prototype,modules:[],open:function(e,n){return T(),(e=e?t.extend(!0,{},e):{}).isObj=!0,e.index=n||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,n){n.options&&(t.magnificPopup.defaults[e]=n.options),t.extend(this.proto,n.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},t.fn.magnificPopup=function(n){T();var r=t(this);if("string"==typeof n)if("open"===n){var i,o=j?r.data("magnificPopup"):r[0].magnificPopup,a=parseInt(arguments[1],10)||0;o.items?i=o.items[a]:(i=r,o.delegate&&(i=i.find(o.delegate)),i=i.eq(a)),e._openClick({mfpEl:i},r,o)}else e.isOpen&&e[n].apply(e,Array.prototype.slice.call(arguments,1));else n=t.extend(!0,{},n),j?r.data("magnificPopup",n):r[0].magnificPopup=n,e.addGroup(r,n);return r};var C,P,E,I="inline",N=function(){E&&(P.after(E.addClass(C)).detach(),E=null)};t.magnificPopup.registerModule(I,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){e.types.push(I),_(c+"."+I,(function(){N()}))},getInline:function(n,r){if(N(),n.src){var i=e.st.inline,o=t(n.src);if(o.length){var a=o[0].parentNode;a&&a.tagName&&(P||(C=i.hiddenClass,P=S(C),C="mfp-"+C),E=o.after(P).detach().removeClass(C)),e.updateStatus("ready")}else e.updateStatus("error",i.tNotFound),o=t("<div>");return n.inlineElement=o,o}return e.updateStatus("ready"),e._parseMarkup(r,{},n),r}}});var D,L="ajax",M=function(){D&&t(document.body).removeClass(D)},R=function(){M(),e.req&&e.req.abort()};t.magnificPopup.registerModule(L,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){e.types.push(L),D=e.st.ajax.cursor,_(c+"."+L,R),_("BeforeChange."+L,R)},getAjax:function(n){D&&t(document.body).addClass(D),e.updateStatus("loading");var r=t.extend({url:n.src,success:function(r,i,o){var a={data:r,xhr:o};O("ParseAjax",a),e.appendContent(t(a.data),L),n.finished=!0,M(),e._setFocus(),setTimeout((function(){e.wrap.addClass(v)}),16),e.updateStatus("ready"),O("AjaxContentAdded")},error:function(){M(),n.finished=n.loadError=!0,e.updateStatus("error","The content could not be loaded.")}},e.st.ajax.settings);return e.req=t.ajax(r),""}}});var B,H=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var r=e.st.image.titleSrc;if(r){if(t.isFunction(r))return r.call(e,n);if(n.el)return n.el.attr(r)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var n=e.st.image,r=".image";e.types.push("image"),_(h+r,(function(){"image"===e.currItem.type&&n.cursor&&t(document.body).addClass(n.cursor)})),_(c+r,(function(){n.cursor&&t(document.body).removeClass(n.cursor),x.off("resize"+y)})),_("Resize"+r,e.resizeImage),e.isLowIE&&_("AfterChange",e.resizeImage)},resizeImage:function(){var t=e.currItem;if(t&&t.img&&e.st.image.verticalFit){var n=0;e.isLowIE&&(n=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",e.wH-n)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,B&&clearInterval(B),t.isCheckingImgSize=!1,O("ImageHasSize",t),t.imgHidden&&(e.content&&e.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var n=0,r=t.img[0],i=function(o){B&&clearInterval(B),B=setInterval((function(){r.naturalWidth>0?e._onImageHasSize(t):(n>200&&clearInterval(B),3==++n?i(10):40===n?i(50):100===n&&i(500))}),o)};i(1)},getImage:function(n,r){var i=0,o=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===e.currItem&&(e._onImageHasSize(n),e.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,O("ImageLoadComplete")):++i<200?setTimeout(o,100):a())},a=function(){n&&(n.img.off(".mfploader"),n===e.currItem&&(e._onImageHasSize(n),e.updateStatus("error",s.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},s=e.st.image,c=r.find(".mfp-img");if(c.length){var l=document.createElement("img");l.className="mfp-img",n.el&&n.el.find("img").length&&(l.alt=n.el.find("img").attr("alt")),n.img=t(l).on("load.mfploader",o).on("error.mfploader",a),l.src=n.src,c.is("img")&&(n.img=n.img.clone()),(l=n.img[0]).naturalWidth>0?n.hasSize=!0:l.width||(n.hasSize=!1)}return e._parseMarkup(r,{title:H(n),img_replaceWith:n.img},n),e.resizeImage(),n.hasSize?(B&&clearInterval(B),n.loadError?(r.addClass("mfp-loading"),e.updateStatus("error",s.tError.replace("%url%",n.src))):(r.removeClass("mfp-loading"),e.updateStatus("ready")),r):(e.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,r.addClass("mfp-loading"),e.findImageSize(n)),r)}}});var $,F=function(){return void 0===$&&($=void 0!==document.createElement("p").style.MozTransform),$};t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,n=e.st.zoom,r=".zoom";if(n.enabled&&e.supportsTransition){var i,o,a=n.duration,s=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),r="all "+n.duration/1e3+"s "+n.easing,i={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return i["-webkit-"+o]=i["-moz-"+o]=i["-o-"+o]=i[o]=r,e.css(i),e},u=function(){e.content.css("visibility","visible")};_("BuildControls"+r,(function(){if(e._allowZoom()){if(clearTimeout(i),e.content.css("visibility","hidden"),!(t=e._getItemToZoom()))return void u();(o=s(t)).css(e._getOffset()),e.wrap.append(o),i=setTimeout((function(){o.css(e._getOffset(!0)),i=setTimeout((function(){u(),setTimeout((function(){o.remove(),t=o=null,O("ZoomAnimationEnded")}),16)}),a)}),16)}})),_(l+r,(function(){if(e._allowZoom()){if(clearTimeout(i),e.st.removalDelay=a,!t){if(!(t=e._getItemToZoom()))return;o=s(t)}o.css(e._getOffset(!0)),e.wrap.append(o),e.content.css("visibility","hidden"),setTimeout((function(){o.css(e._getOffset())}),16)}})),_(c+r,(function(){e._allowZoom()&&(u(),o&&o.remove(),t=null)}))}},_allowZoom:function(){return"image"===e.currItem.type},_getItemToZoom:function(){return!!e.currItem.hasSize&&e.currItem.img},_getOffset:function(n){var r,i=(r=n?e.currItem.img:e.st.zoom.opener(e.currItem.el||e.currItem)).offset(),o=parseInt(r.css("padding-top"),10),a=parseInt(r.css("padding-bottom"),10);i.top-=t(window).scrollTop()-o;var s={width:r.width(),height:(j?r.innerHeight():r[0].offsetHeight)-a-o};return F()?s["-moz-transform"]=s.transform="translate("+i.left+"px,"+i.top+"px)":(s.left=i.left,s.top=i.top),s}}});var W="iframe",U="//about:blank",V=function(t){if(e.currTemplate[W]){var n=e.currTemplate[W].find("iframe");n.length&&(t||(n[0].src=U),e.isIE8&&n.css("display",t?"block":"none"))}};t.magnificPopup.registerModule(W,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){e.types.push(W),_("BeforeChange",(function(t,e,n){e!==n&&(e===W?V():n===W&&V(!0))})),_(c+"."+W,(function(){V()}))},getIframe:function(n,r){var i=n.src,o=e.st.iframe;t.each(o.patterns,(function(){if(i.indexOf(this.index)>-1)return this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1}));var a={};return o.srcAction&&(a[o.srcAction]=i),e._parseMarkup(r,a,n),e.updateStatus("ready"),r}}});var G=function(t){var n=e.items.length;return t>n-1?t-n:t<0?n+t:t},z=function(t,e,n){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,n)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=e.st.gallery,i=".mfp-gallery";if(e.direction=!0,!n||!n.enabled)return!1;o+=" mfp-gallery",_(h+i,(function(){n.navigateByImgClick&&e.wrap.on("click"+i,".mfp-img",(function(){if(e.items.length>1)return e.next(),!1})),r.on("keydown"+i,(function(t){37===t.keyCode?e.prev():39===t.keyCode&&e.next()}))})),_("UpdateStatus"+i,(function(t,n){n.text&&(n.text=z(n.text,e.currItem.index,e.items.length))})),_(f+i,(function(t,r,i,o){var a=e.items.length;i.counter=a>1?z(n.tCounter,o.index,a):""})),_("BuildControls"+i,(function(){if(e.items.length>1&&n.arrows&&!e.arrowLeft){var r=n.arrowMarkup,i=e.arrowLeft=t(r.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(g),o=e.arrowRight=t(r.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(g);i.click((function(){e.prev()})),o.click((function(){e.next()})),e.container.append(i.add(o))}})),_(p+i,(function(){e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout((function(){e.preloadNearbyImages(),e._preloadTimeout=null}),16)})),_(c+i,(function(){r.off(i),e.wrap.off("click"+i),e.arrowRight=e.arrowLeft=null}))},next:function(){e.direction=!0,e.index=G(e.index+1),e.updateItemHTML()},prev:function(){e.direction=!1,e.index=G(e.index-1),e.updateItemHTML()},goTo:function(t){e.direction=t>=e.index,e.index=t,e.updateItemHTML()},preloadNearbyImages:function(){var t,n=e.st.gallery.preload,r=Math.min(n[0],e.items.length),i=Math.min(n[1],e.items.length);for(t=1;t<=(e.direction?i:r);t++)e._preloadItem(e.index+t);for(t=1;t<=(e.direction?r:i);t++)e._preloadItem(e.index-t)},_preloadItem:function(n){if(n=G(n),!e.items[n].preloaded){var r=e.items[n];r.parsed||(r=e.parseEl(n)),O("LazyLoad",r),"image"===r.type&&(r.img=t('<img class="mfp-img" />').on("load.mfploader",(function(){r.hasSize=!0})).on("error.mfploader",(function(){r.hasSize=!0,r.loadError=!0,O("LazyLoadError",r)})).attr("src",r.src)),r.preloaded=!0}}}});var Y="retina";t.magnificPopup.registerModule(Y,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,(function(t){return"@2x"+t}))},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var t=e.st.retina,n=t.ratio;(n=isNaN(n)?n():n)>1&&(_("ImageHasSize."+Y,(function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/n,width:"100%"})})),_("ElementParse."+Y,(function(e,r){r.src=t.replaceSrc(r,n)})))}}}}),T()},void 0===(o="function"==typeof r?r.apply(e,i):r)||(t.exports=o)},19123:function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};(e=function(){"use strict";var e=[],n=[],r="mdlComponentConfigInternal_";function i(t,n){for(var r=0;r<e.length;r++)if(e[r].className===t)return void 0!==n&&(e[r]=n),e[r];return!1}function o(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function a(t,e){return-1!==o(t).indexOf(e)}function s(t,e,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(t,{bubbles:e,cancelable:n});var r=document.createEvent("Events");return r.initEvent(t,e,n),r}function c(t,n){if(void 0===t&&void 0===n)for(var r=0;r<e.length;r++)c(e[r].className,e[r].cssClass);else{var o=t;if(void 0===n){var a=i(o);a&&(n=a.cssClass)}for(var s=document.querySelectorAll("."+n),u=0;u<s.length;u++)l(s[u],o)}}function l(c,l){if(!("object"===t(c)&&c instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var u=s("mdl-componentupgrading",!0,!0);if(c.dispatchEvent(u),!u.defaultPrevented){var d=o(c),f=[];if(l)a(c,l)||f.push(i(l));else{var h=c.classList;e.forEach((function(t){h.contains(t.cssClass)&&-1===f.indexOf(t)&&!a(c,t.className)&&f.push(t)}))}for(var p,m=0,y=f.length;m<y;m++){if(!(p=f[m]))throw new Error("Unable to find a registered component for the given class.");d.push(p.className),c.setAttribute("data-upgraded",d.join(","));var v=new p.classConstructor(c);v[r]=p,n.push(v);for(var b=0,g=p.callbacks.length;b<g;b++)p.callbacks[b](c);p.widget&&(c[p.className]=v);var w=s("mdl-componentupgraded",!0,!1);c.dispatchEvent(w)}}}function u(t){if(t){var e=n.indexOf(t);n.splice(e,1);var i=t.element_.getAttribute("data-upgraded").split(","),o=i.indexOf(t[r].classAsString);i.splice(o,1),t.element_.setAttribute("data-upgraded",i.join(","));var a=s("mdl-componentdowngraded",!0,!1);t.element_.dispatchEvent(a)}}return{upgradeDom:c,upgradeElement:l,upgradeElements:function t(e){Array.isArray(e)||(e=e instanceof Element?[e]:Array.prototype.slice.call(e));for(var n,r=0,i=e.length;r<i;r++)(n=e[r])instanceof HTMLElement&&(l(n),n.children.length>0&&t(n.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)c(e[t].className)},registerUpgradedCallback:function(t,e){var n=i(t);n&&n.callbacks.push(e)},register:function(t){var n=!0;void 0===t.widget&&void 0===t.widget||(n=t.widget||t.widget);var o={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:n,callbacks:[]};if(e.forEach((function(t){if(t.cssClass===o.cssClass)throw new Error("The provided cssClass has already been registered: "+t.cssClass);if(t.className===o.className)throw new Error("The provided className has already been registered")})),t.constructor.prototype.hasOwnProperty(r))throw new Error("MDL component classes must not have "+r+" defined as a property.");i(t.classAsString,o)||e.push(o)},downgradeElements:function(t){var e=function(t){n.filter((function(e){return e.element_===t})).forEach(u)};if(t instanceof Array||t instanceof NodeList)for(var r=0;r<t.length;r++)e(t[r]);else{if(!(t instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");e(t)}}}}()).ComponentConfigPublic,e.ComponentConfig,e.Component,e.upgradeDom=e.upgradeDom,e.upgradeElement=e.upgradeElement,e.upgradeElements=e.upgradeElements,e.upgradeAllRegistered=e.upgradeAllRegistered,e.registerUpgradedCallback=e.registerUpgradedCallback,e.register=e.register,e.downgradeElements=e.downgradeElements,window.componentHandler=e,window.componentHandler=e,window.addEventListener("load",(function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),e.upgradeAllRegistered()):(e.upgradeElement=function(){},e.register=function(){})}))},30340:function(){!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialSwitch=t,t.prototype.Constant_={TINY_TIMEOUT:.001},t.prototype.CssClasses_={INPUT:"mdl-switch__input",TRACK:"mdl-switch__track",THUMB:"mdl-switch__thumb",FOCUS_HELPER:"mdl-switch__focus-helper",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-switch__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},t.prototype.onChange_=function(t){this.updateClasses_()},t.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onMouseUp_=function(t){this.blur_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},t.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},t.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},t.prototype.checkToggleState=t.prototype.checkToggleState,t.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.on=function(){this.inputElement_.checked=!0,this.updateClasses_()},t.prototype.on=t.prototype.on,t.prototype.off=function(){this.inputElement_.checked=!1,this.updateClasses_()},t.prototype.off=t.prototype.off,t.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var t=document.createElement("div");t.classList.add(this.CssClasses_.TRACK);var e=document.createElement("div");e.classList.add(this.CssClasses_.THUMB);var n=document.createElement("span");if(n.classList.add(this.CssClasses_.FOCUS_HELPER),e.appendChild(n),this.element_.appendChild(t),this.element_.appendChild(e),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.rippleContainerElement_.addEventListener("mouseup",this.boundMouseUpHandler);var r=document.createElement("span");r.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(r),this.element_.appendChild(this.rippleContainerElement_)}this.boundChangeHandler=this.onChange_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.inputElement_.addEventListener("change",this.boundChangeHandler),this.inputElement_.addEventListener("focus",this.boundFocusHandler),this.inputElement_.addEventListener("blur",this.boundBlurHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSwitch",cssClass:"mdl-js-switch",widget:!0})}()},59111:function(t,e){"use strict";function n(t){return getComputedStyle(t)}function r(t,e){for(var n in e){var r=e[n];"number"==typeof r&&(r+="px"),t.style[n]=r}return t}function i(t){var e=document.createElement("div");return e.className=t,e}var o="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function a(t,e){if(!o)throw new Error("No element matching method supported");return o.call(t,e)}function s(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function c(t,e){return Array.prototype.filter.call(t.children,(function(t){return a(t,e)}))}var l="ps",u={thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},d={focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}},f={x:null,y:null};function h(t,e){var n=t.element.classList,r=d.scrolling(e);n.contains(r)?clearTimeout(f[e]):n.add(r)}function p(t,e){f[e]=setTimeout((function(){return t.isAlive&&t.element.classList.remove(d.scrolling(e))}),t.settings.scrollingThreshold)}var m=function(t){this.element=t,this.handlers={}},y={isEmpty:{configurable:!0}};m.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},m.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter((function(r){return!(!e||r===e)||(n.element.removeEventListener(t,r,!1),!1)}))},m.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},y.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every((function(e){return 0===t.handlers[e].length}))},Object.defineProperties(m.prototype,y);var v=function(){this.eventElements=[]};function b(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}v.prototype.eventElement=function(t){var e=this.eventElements.filter((function(e){return e.element===t}))[0];return e||(e=new m(t),this.eventElements.push(e)),e},v.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},v.prototype.unbind=function(t,e,n){var r=this.eventElement(t);r.unbind(e,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},v.prototype.unbindAll=function(){this.eventElements.forEach((function(t){return t.unbindAll()})),this.eventElements=[]},v.prototype.once=function(t,e,n){var r=this.eventElement(t),i=function(t){r.unbind(e,i),n(t)};r.bind(e,i)};var g=function(t,e,n,r,i){var o;if(void 0===r&&(r=!0),void 0===i&&(i=!1),"top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,r,i){var o=n[0],a=n[1],s=n[2],c=n[3],l=n[4],u=n[5];void 0===r&&(r=!0);void 0===i&&(i=!1);var d=t.element;t.reach[c]=null,d[s]<1&&(t.reach[c]="start");d[s]>t[o]-t[a]-1&&(t.reach[c]="end");e&&(d.dispatchEvent(b("ps-scroll-"+c)),e<0?d.dispatchEvent(b("ps-scroll-"+l)):e>0&&d.dispatchEvent(b("ps-scroll-"+u)),r&&function(t,e){h(t,e),p(t,e)}(t,c));t.reach[c]&&(e||i)&&d.dispatchEvent(b("ps-"+c+"-reach-"+t.reach[c]))}(t,n,o,r,i)};function w(t){return parseInt(t,10)||0}var j={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},x=function(t){var e=t.element,n=Math.floor(e.scrollTop);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(c(e,u.rail("x")).forEach((function(t){return s(t)})),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(c(e,u.rail("y")).forEach((function(t){return s(t)})),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=_(t,w(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=w((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=_(t,w(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=w(n*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var n={width:e.railXWidth},i=Math.floor(t.scrollTop);e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft;e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-i:n.top=e.scrollbarXTop+i;r(e.scrollbarXRail,n);var o={top:i,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?o.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:o.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?o.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:o.left=e.scrollbarYLeft+t.scrollLeft;r(e.scrollbarYRail,o),r(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),r(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(d.active("x")):(e.classList.remove(d.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=0),t.scrollbarYActive?e.classList.add(d.active("y")):(e.classList.remove(d.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)};function _(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function S(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],c=e[6],l=e[7],u=e[8],f=t.element,m=null,y=null,v=null;function b(e){f[c]=m+v*(e[i]-y),h(t,l),x(t),e.stopPropagation(),e.preventDefault()}function g(){p(t,l),t[u].classList.remove(d.clicking),t.event.unbind(t.ownerDocument,"mousemove",b)}t.event.bind(t[a],"mousedown",(function(e){m=f[c],y=e[i],v=(t[r]-t[n])/(t[o]-t[s]),t.event.bind(t.ownerDocument,"mousemove",b),t.event.once(t.ownerDocument,"mouseup",g),t[u].classList.add(d.clicking),e.stopPropagation(),e.preventDefault()}))}var O={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarYRail,"mousedown",(function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;t.element.scrollTop+=n*t.containerHeight,x(t),e.stopPropagation()})),t.event.bind(t.scrollbarX,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarXRail,"mousedown",(function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=n*t.containerWidth,x(t),e.stopPropagation()}))},"drag-thumb":function(t){S(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),S(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(a(e,":hover")||a(t.scrollbarX,":focus")||a(t.scrollbarY,":focus"))){var r,i=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(a(r=i,"input,[contenteditable]")||a(r,"select,[contenteditable]")||a(r,"textarea,[contenteditable]")||a(r,"button,[contenteditable]"))return}var o=0,s=0;switch(n.which){case 37:o=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:s=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:o=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:s=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:s=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:s=t.containerHeight;break;case 34:s=-t.containerHeight;break;case 36:s=t.contentHeight;break;case 35:s=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==o||t.settings.suppressScrollY&&0!==s||(e.scrollTop-=s,e.scrollLeft+=o,x(t),function(n,r){var i=Math.floor(e.scrollTop);if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(o,s)&&n.preventDefault())}}))},wheel:function(t){var e=t.element;function r(r){var i=function(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(r),o=i[0],a=i[1];if(!function(t,r,i){if(!j.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var o=t;o&&o!==e;){if(o.classList.contains(u.consuming))return!0;var a=n(o);if([a.overflow,a.overflowX,a.overflowY].join("").match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&!(0===o.scrollTop&&i>0||o.scrollTop===s&&i<0))return!0;var c=o.scrollWidth-o.clientWidth;if(c>0&&!(0===o.scrollLeft&&r<0||o.scrollLeft===c&&r>0))return!0}o=o.parentNode}return!1}(r.target,o,a)){var s=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(a?e.scrollTop-=a*t.settings.wheelSpeed:e.scrollTop+=o*t.settings.wheelSpeed,s=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(o?e.scrollLeft+=o*t.settings.wheelSpeed:e.scrollLeft-=a*t.settings.wheelSpeed,s=!0):(e.scrollTop-=a*t.settings.wheelSpeed,e.scrollLeft+=o*t.settings.wheelSpeed),x(t),s=s||function(n,r){var i=Math.floor(e.scrollTop),o=0===e.scrollTop,a=i+e.offsetHeight===e.scrollHeight,s=0===e.scrollLeft,c=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(r)>Math.abs(n)?o||a:s||c)||!t.settings.wheelPropagation}(o,a),s&&!r.ctrlKey&&(r.stopPropagation(),r.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",r):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",r)},touch:function(t){if(j.supportsTouch||j.supportsIePointer){var e=t.element,r={},i=0,o={},a=null;j.supportsTouch?(t.event.bind(e,"touchstart",d),t.event.bind(e,"touchmove",f),t.event.bind(e,"touchend",h)):j.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",d),t.event.bind(e,"pointermove",f),t.event.bind(e,"pointerup",h)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",d),t.event.bind(e,"MSPointerMove",f),t.event.bind(e,"MSPointerUp",h)))}function s(n,r){e.scrollTop-=r,e.scrollLeft-=n,x(t)}function c(t){return t.targetTouches?t.targetTouches[0]:t}function l(t){return(!t.pointerType||"pen"!==t.pointerType||0!==t.buttons)&&(!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function d(t){if(l(t)){var e=c(t);r.pageX=e.pageX,r.pageY=e.pageY,i=(new Date).getTime(),null!==a&&clearInterval(a)}}function f(a){if(l(a)){var d=c(a),f={pageX:d.pageX,pageY:d.pageY},h=f.pageX-r.pageX,p=f.pageY-r.pageY;if(function(t,r,i){if(!e.contains(t))return!1;for(var o=t;o&&o!==e;){if(o.classList.contains(u.consuming))return!0;var a=n(o);if([a.overflow,a.overflowX,a.overflowY].join("").match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&!(0===o.scrollTop&&i>0||o.scrollTop===s&&i<0))return!0;var c=o.scrollLeft-o.clientWidth;if(c>0&&!(0===o.scrollLeft&&r<0||o.scrollLeft===c&&r>0))return!0}o=o.parentNode}return!1}(a.target,h,p))return;s(h,p),r=f;var m=(new Date).getTime(),y=m-i;y>0&&(o.x=h/y,o.y=p/y,i=m),function(n,r){var i=Math.floor(e.scrollTop),o=e.scrollLeft,a=Math.abs(n),s=Math.abs(r);if(s>a){if(r<0&&i===t.contentHeight-t.containerHeight||r>0&&0===i)return 0===window.scrollY&&r>0&&j.isChrome}else if(a>s&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!0;return!0}(h,p)&&a.preventDefault()}}function h(){t.settings.swipeEasing&&(clearInterval(a),a=setInterval((function(){!t.isInitialized&&t.element&&(o.x||o.y)?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(a):(s(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(a)}),10))}}},k=function(t,e){var o=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var a in this.element=t,t.classList.add(l),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)o.settings[a]=e[a];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s,c,f=function(){return t.classList.add(d.focus)},h=function(){return t.classList.remove(d.focus)};this.isRtl="rtl"===n(t).direction,this.isNegativeScroll=(c=t.scrollLeft,t.scrollLeft=-1,s=t.scrollLeft<0,t.scrollLeft=c,s),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new v,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=i(u.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=i(u.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",f),this.event.bind(this.scrollbarX,"blur",h),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var p=n(this.scrollbarXRail);this.scrollbarXBottom=parseInt(p.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=w(p.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=w(p.borderLeftWidth)+w(p.borderRightWidth),r(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=w(p.marginLeft)+w(p.marginRight),r(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=i(u.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=i(u.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",f),this.event.bind(this.scrollbarY,"blur",h),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var m=n(this.scrollbarYRail);this.scrollbarYRight=parseInt(m.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=w(m.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=n(t);return w(e.width)+w(e.paddingLeft)+w(e.paddingRight)+w(e.borderLeftWidth)+w(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=w(m.borderTopWidth)+w(m.borderBottomWidth),r(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=w(m.marginTop)+w(m.marginBottom),r(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(t){return O[t](o)})),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",(function(t){return o.onScroll(t)})),x(this)};k.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,r(this.scrollbarXRail,{display:"block"}),r(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=w(n(this.scrollbarXRail).marginLeft)+w(n(this.scrollbarXRail).marginRight),this.railYMarginHeight=w(n(this.scrollbarYRail).marginTop)+w(n(this.scrollbarYRail).marginBottom),r(this.scrollbarXRail,{display:"none"}),r(this.scrollbarYRail,{display:"none"}),x(this),g(this,"top",0,!1,!0),g(this,"left",0,!1,!0),r(this.scrollbarXRail,{display:""}),r(this.scrollbarYRail,{display:""}))},k.prototype.onScroll=function(t){this.isAlive&&(x(this),g(this,"top",this.element.scrollTop-this.lastScrollTop),g(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},k.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),s(this.scrollbarX),s(this.scrollbarY),s(this.scrollbarXRail),s(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},k.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(t){return!t.match(/^ps([-_].+|)$/)})).join(" ")},e.A=k},42610:function(t,e,n){"use strict";var r=n(95616),i=n.n(r);n(29305),n(32733),n(51770),n(35371),n(11190),n(84701),n(32354),n(22060),n(82839),n(56107),n(54513),n(33671),n(81678),n(2623),n(70784),n(24776),n(67117),n(86765),n(14382),n(69703),n(68854),n(64771),n(37224),n(69892),n(76281),n(84734),n(44962),n(17731),n(86584),n(32385),n(20518),n(28693),n(87324),n(89336),n(26448),n(11988),n(74576),n(25352),n(63979),n(66781),n(44243),n(74455),n(4754),n(35455),n(65055),n(66184),n(10849),n(58551),n(31835),n(36356),n(2271),n(37114),n(17347),n(20888),n(54660),n(2647),n(34695),n(52606),n(94654),n(75645),n(90448),n(28811),n(5480),n(70389),n(19283),n(94),n(51948),n(54731),n(83607),n(72915),n(93081),n(68582),n(94137),n(77575),n(18417),n(33087),n(36947),n(39565),n(57132),n(13225),n(75339),n(36457),n(88908),n(40718),n(26437),n(5594),n(41625),n(93563),n(83810),n(86742),n(96682),n(89065),n(65683),n(52697),n(78557),n(64628),n(67593),n(96054),n(90076),n(4921),n(45309),n(87698),n(21359),n(74965),n(86509),n(61642),n(94383),n(55751),n(8398),n(47568),n(14271),n(86667),n(36374),n(21539),n(646),n(95021),n(2553),n(83103),n(17456),n(73687),n(92745),n(32370),n(50987),n(69651),n(99425),n(83994),n(53819),n(90081),n(39999),n(79682),n(79856),n(64251),n(93062),n(97456),n(11810),n(64062),n(46968),n(50980),n(91933),n(86268),n(48847),n(29548),n(2285),n(87723),n(96919),n(80808),n(66464),n(94630),n(83320),n(4716),n(33054),n(82281),n(23236),n(89717),n(57268),n(94067),n(32650),n(34581),n(31937),n(88064),n(85486),n(4181),n(51294),n(1421),n(18750),n(50789),n(63171),n(67689),n(14715),n(39111),n(73015),n(47762),n(84518),n(90580),n(23630),n(82367),n(71766),n(89612),n(24362),n(76218),n(99102);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}var c=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"init",value:function(){i()(document).delegate(".js-tab-nav > li:not(.active)","click",(function(t){var e=i()(t.currentTarget),n=e.index(),r=e.closest(".js-tab-wrap").find(".js-tab-body").find("> div").eq(n);e.addClass("active").siblings().removeClass("active"),r.show().siblings().hide()})),i()(document).delegate(".tabs__caption > li:not(.active)","click",(function(t){var e=i()(t.currentTarget),n="active";e.addClass(n).siblings().removeClass(n).closest(".tabs").find(".tabs__content").eq(e.index()).addClass(n).siblings().removeClass(n)}))}}],e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),l=c,u=n(12268);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:e+""}var p=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._modalId=e,this._triggeredElement=n},(e=[{key:"modalId",get:function(){return this._modalId}},{key:"triggeredElement",get:function(){return this._triggeredElement}}])&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),m=p,y=n(30095);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function g(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:e+""}var w=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._modalId=e},(e=[{key:"modalId",get:function(){return this._modalId}}])&&b(t.prototype,e),n&&b(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),j=w,x=function(){return function(t){var e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"mozTransitionEnd",WebkitTransition:"webkitTransitionEnd"};for(var n in e)if(void 0!==t.style[n])return e[n]}(document.createElement("div"))},_=function(t){var e=document.documentElement.clientWidth,n=document.documentElement.clientHeight,r=t.getBoundingClientRect(),i={};return r.right>e&&(i.right=r.right-e),r.left<0&&(i.left=r.left),r.bottom>n&&(i.bottom=r.bottom-n),i},S=n(3171),O=n.n(S);function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C(r.key),r)}}function A(t,e,n){return(e=C(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(t){var e=function(t,e){if("object"!=k(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==k(e)?e:e+""}var P=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),A(this,"closeClickHandler",(function(t){var e=i()(t.currentTarget).data("modal-id");e&&u.A.publish("".concat(y.DD,".").concat(e),new j(e))})),A(this,"openClickHandler",(function(t){var n=i()(t.currentTarget),r=n.data(),o=r.modalId,a=r.container,s=i()(e.getModalSelector(o));if(0===s.length)return!0;if(!s.hasClass(e.activeClassName)){t.preventDefault();var c=a?i()(a):n;c.hasClass(e.openClassName)?u.A.publish("".concat(y.DD,".").concat(o),new j(o)):u.A.publish("".concat(y.rs,".").concat(o),new m(o,c))}})),A(this,"openEventHandler",(function(t,n){var r=i()('[data-modal-id="'.concat(n.modalId,'"]'));r.length&&(r.hasClass(e.openClassName)?(r.removeClass(e.openClassName),e.hideModal(n.modalId)):(r.addClass(e.openClassName),e.showModal(n.modalId,e.getTriggerPosition(n.triggeredElement))))})),A(this,"closeEventHandler",(function(t,n){e.hideModal(n.modalId);var r=i()('[data-modal-id="'.concat(n.modalId,'"]'));r.length&&r.removeClass(e.openClassName)})),A(this,"closeDropDown",(function(t){var n=i()(t.target);if(n.hasClass(e.classNameWrap)){var r=n.children().first();if(r.attr("id")&&!(r.find(".js-".concat(e.className,"-close")).length>0)&&e.mouseDownTarget===e.mouseUpTarget){var o=r.attr("id").replace(e.prefix,"");u.A.publish("".concat(y.DD,".").concat(o),new j(o))}}})),this.prefix="ddm_",this.className="drop-down-modal",this.classNameWrap="".concat(this.className,"__wrap"),this.activeClassName="".concat(this.classNameWrap,"--active"),this.openClassName="".concat(this.prefix,"open"),this.elements=Array.from(document.querySelectorAll(".".concat(this.classNameWrap))),this.$document=i()(document),this.$window=i()(window),this.mouseDownTarget=null,this.mouseUpTarget=null},e=[{key:"init",value:function(){var t=this;u.A.subscribe(y.rs,this.openEventHandler),u.A.subscribe(y.DD,this.closeEventHandler),this.$document.on("click",".js-".concat(this.className,"-open"),this.openClickHandler),this.$document.on("click",".js-".concat(this.className,"-close"),this.closeClickHandler),this.$document.on("touchstart",".js-".concat(this.className,"-close"),this.closeClickHandler),this.$document.on("mousedown",(function(e){return t.mouseDownTarget=e.target})),this.$document.on("mouseup",(function(e){return t.mouseUpTarget=e.target})),this.elements.forEach((function(e){return e.addEventListener("click",t.closeDropDown)})),window.addEventListener("orientationchange",(function(){t.hideAllModals()})),window.addEventListener("optimizedResize",(function(e){"horizontal"===e.dir&&t.hideAllModals()}))}},{key:"hideAllModals",value:function(){var t=this;i()(".".concat(this.activeClassName)).each((function(e,n){var r=i()(n).children(".drop-down-modal").attr("id");if(r){var o=r.replace(t.prefix,"");u.A.publish("".concat(y.DD,".").concat(o),new j(o))}}))}},{key:"setCss",value:function(t,e){var n=t.outerWidth(),r=document.documentElement.clientWidth,i=20+e.left+n/2>r?r-n-20:e.left-n/2,o={top:e.top+e.eleHeight,left:i,height:"auto"};t.css(o),t.parent().addClass(this.activeClassName);var a=_(t[0]);if(Object.keys(a).length>0){if(a.bottom){var s=Math.round(window.innerHeight-o.top-20);t.css({height:"".concat(s,"px")})}}else t.css({height:"unset"})}},{key:"getModalSelector",value:function(t){return"#".concat(this.prefix).concat(t)}},{key:"hideModal",value:function(t){var e=this,n=i()(this.getModalSelector(t)).parent();0!==n.length&&n.hasClass(this.activeClassName)&&(n.off("refresh_css"),n.off().one(x(),(function(){O()((function(){!n.hasClass(e.activeClassName)&&n.find(".drop-down-modal").removeAttr("style"),n.children().height()>=window.innerHeight&&n.children().css("height",window.innerHeight-100)}),100)})),n.removeClass(this.activeClassName))}},{key:"showModal",value:function(t,e){var n=this,r=i()(this.getModalSelector(t));0!==r.length&&(r.on("refresh_css",(function(){return n.setCss(r,e)})),this.setCss(r,e))}},{key:"getTriggerPosition",value:function(t){var e=t[0].getBoundingClientRect();return{top:e.top,left:e.left+e.width/2,eleHeight:e.height,eleWidth:e.width}}}],e&&T(t.prototype,e),n&&T(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),E=P,I=n(83944);function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L(r.key),r)}}function L(t){var e=function(t,e){if("object"!=N(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==N(e)?e:e+""}var M=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"init",value:function(){i().fn.ajaxLoading=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i()(this),r="ajax-loading-wrap",o=(new I.Ay).getByType(t),a="";return!0===e&&(a=i()("<div/>",{class:I.pP.base+"__backing"}),o.prepend(a)),this.show=function(){!n.hasClass(r)&&n.addClass(r),0===n.find(".".concat(I.pP.base)).length&&n.prepend(o)},this.hide=function(){n.hasClass(r)&&n.removeClass(r);var t=n.find(".".concat(I.pP.base));t.length>0&&t.remove()},this},i().fn.contentLoader=function(t){t=t||64;var e=i()(this),n=e.height(),r=e.width(),o=parseFloat(n)>0?parseInt(50-t/2/(n/100)):0,a=parseFloat(r)>0?parseInt(50-t/2/(r/100)):0;return e.is(":hidden")&&(o=50,a=50),this.show=function(){e.hasClass("ajax-loading")||(e.addClass("ajax-loading"),e.prepend('<div class="ajax-loader-wrapper"><span style="top: '+o+"%; left: "+a+'%" class="ajax-loader-'+t+'"></span></div>'))},this.hide=function(){e.removeClass("ajax-loading"),e.find(".ajax-loader-wrapper").remove()},this},i().fn.trLoader=function(t,e){t=t||64;var n=i()(this),r=n.find("td."+e),o=r.height(),a=r.width(),s=parseInt(50-t/2/(o/100)),c=parseInt(50-t/2/(a/100));return this.show=function(){n.addClass("overlay"),r.addClass("position-relative"),r.prepend('<div class="position-relative tr-loading"><span style="top: '+s+"%; left: "+c+'%" class="ajax-loader-'+t+'"></span></div>')},this.hide=function(){n.removeClass("overlay"),r.removeClass("position-relative"),r.find(".tr-loading").remove()},this},i().fn.circleAnimationLoader=function(){console.error("@deprecated","$.fn.circleAnimationLoader");var t=i()(this),e="ajax-loading",n='<div class="'.concat(e,'">\n                    <div class="plane main">\n                        <div class="circle"></div>\n                        <div class="circle"></div>\n                        <div class="circle"></div>\n                        <div class="circle"></div>\n                        <div class="circle"></div>\n                        <div class="circle"></div>\n                    </div>\n                </div>'),r=function(){return 1===t.find(".".concat(e)).length};return this.show=function(){r()||t.prepend(n)},this.hide=function(){r()&&t.find(".".concat(e)).remove()},this},i().fn.faCircleLoader=function(){var t=i()(this),e=function(){return 1===t.find(".fa-spinner").length};return this.show=function(){e()||t.append('<i class="fa fa-spinner fa-spin fa-fw"></i>')},this.hide=function(){e()&&t.find(".fa-spinner").remove()},this}}}],e&&D(t.prototype,e),n&&D(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),R=M,B=n(71042),H=n(6065),$=n(28683),F=n(46863);function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V(r.key),r)}}function V(t){var e=function(t,e){if("object"!=W(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==W(e)?e:e+""}function G(t,e,n){return e=Y(e),function(t,e){if(e&&("object"==W(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,z()?Reflect.construct(e,n||[],Y(t).constructor):e.apply(t,n))}function z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(z=function(){return!!t})()}function Y(t){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Y(t)}function X(t,e){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},X(t,e)}var q=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.tpl_close='<a class="gritter-close" href="#" tabindex="1"><i class="fa fa-times"></i></a>',G(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}(e,t),n=e,r&&U(n.prototype,r),i&&U(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(F.A),K=q,Z=n(56217),J=function(t){for(var e=atob(t.split(",")[1]),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);var i=t.split(";")[0].split(":")[1],o=new Blob([n],{type:i});return new File([o],"img",{type:i})},Q=n(75054),tt=function(){return 1==+(0,Q.A)("is-chart")};function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,it(r.key),r)}}function rt(t,e,n){return(e=it(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function it(t){var e=function(t,e){if("object"!=et(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==et(e)?e:e+""}var ot="background-image",at=function(){return localStorage.getItem(ot)},st=function(t){document.body.style.backgroundImage="url(".concat(t,")")},ct=function(){document.body.removeAttribute("style")},lt=function(){return t=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),rt(this,"showHideStep",(function(t){1===t?(n.cache.$step1.hasClass("hidden")&&n.cache.$step1.removeClass("hidden"),!n.cache.$step2.hasClass("hidden")&&n.cache.$step2.addClass("hidden"),!n.cache.$step3.hasClass("hidden")&&n.cache.$step3.addClass("hidden"),n.cache.$infoText.hasClass("hidden")&&n.cache.$infoText.removeClass("hidden")):2===t?(!n.cache.$step1.hasClass("hidden")&&n.cache.$step1.addClass("hidden"),n.cache.$step2.hasClass("hidden")&&n.cache.$step2.removeClass("hidden"),!n.cache.$step3.hasClass("hidden")&&n.cache.$step3.addClass("hidden"),n.cache.$infoText.hasClass("hidden")&&n.cache.$infoText.removeClass("hidden")):3===t&&(!n.cache.$step1.hasClass("hidden")&&n.cache.$step1.addClass("hidden"),!n.cache.$step2.hasClass("hidden")&&n.cache.$step2.addClass("hidden"),n.cache.$step3.hasClass("hidden")&&n.cache.$step3.removeClass("hidden"),!n.cache.$infoText.hasClass("hidden")&&n.cache.$infoText.addClass("hidden"))})),rt(this,"getFileSize",(function(t){return(t.size/1024).toFixed(2)})),rt(this,"getFileExt",(function(t){return t.name.split(".").pop().toLowerCase()})),rt(this,"step2",(function(t){n.showHideStep(2);var e=n.cache.$step2.find(".js-cancel"),r=n.cache.$step2.find(".js-submit");n.cache.$step2.find(".js-file-name").text(t.name),e.on("click",(function(){e.off("click"),r.off("click"),n.step1()})),r.on("click",(function(){e.off("click"),r.off("click"),n.step3(t)}))})),rt(this,"step3",(function(t){n.showHideStep(3);var e=n.cache.$step3.find(".js-preview"),r=n.cache.$step3.find(".js-file-name"),i=n.cache.$step3.find(".js-file-info"),o=n.cache.$step3.find(".js-remove"),a=new FileReader;a.onload=function(o){var a,s=o.target.result;a=s,localStorage.setItem(ot,a),e.html('<img src="'.concat(s,'" alt="" />')),r.text(t.name),i.text("".concat(n.getFileExt(t),", ").concat(n.getFileSize(t)," kb")),n.isChart&&n.getBodyBackgroundImageEnable()&&st(s)},a.readAsDataURL(t),o.on("click",(function(){o.off("click"),ct(),localStorage.removeItem(ot),n.step1()}))})),rt(this,"createInputFieldEle",(function(){var t=document.createElement("input");return t.type="file",t.accept="image/*",t.style.display="none",t.multiple=!1,t})),rt(this,"blockClickHandler",(function(){var t=n.createInputFieldEle();t.addEventListener("change",n.fileInputChangeHandler),document.body.appendChild(t),t.click()})),rt(this,"fileInputChangeHandler",(function(t){n.hideMessages();var e=t.currentTarget.files[0];n.validateFile(e)&&(n.hideMessages(),n.cache.$selectFileBlock.off(),n.step2(e),t.currentTarget.removeEventListener("change",n.fileInputChangeHandler),document.body.removeChild(t.currentTarget))})),rt(this,"showError",(function(t){n.cache.$errorBlock.html(""),n.cache.$errorBlock.hasClass("hidden")&&n.cache.$errorBlock.removeClass("hidden"),n.cache.$errorBlock.html(t)})),rt(this,"hideMessages",(function(){!n.cache.$errorBlock.hasClass("hidden")&&n.cache.$errorBlock.addClass("hidden")})),rt(this,"validateFile",(function(t){return t?["image/jpeg","image/jpg","image/png"].includes(t.type)?!(t.size>2097152&&(n.showError((0,$.tr)("settings_modal.background_image.file_size")),1)):(n.showError((0,$.tr)("settings_modal.background_image.file_types_error")),!1):(n.showError((0,$.tr)("settings_modal.background_image.no_selected_file")),!1)})),this.isChart=tt(),this.cache={},this.cache.$modal=e},(e=[{key:"init",value:function(){this.cache.$block=this.cache.$modal.closest(".js-my-theme"),this.cache.$errorBlock=this.cache.$modal.find(".js-error-message"),this.cache.$step1=this.cache.$modal.find(".no-file"),this.cache.$step2=this.cache.$modal.find(".file-selected"),this.cache.$step3=this.cache.$modal.find(".file-uploaded"),this.cache.$infoText=this.cache.$modal.find(".js-info-text"),this.cache.$selectFileBlock=this.cache.$modal.find(".js-select-file-block");var t=at();t?this.step3(J(t)):this.step1()}},{key:"uninit",value:function(){this.cache={}}},{key:"getBodyBackgroundImageEnable",value:function(){return 1==+(0,Q.A)("body-background-image-enable")}},{key:"step1",value:function(){this.showHideStep(1),this.cache.$selectFileBlock.on("click",this.blockClickHandler)}}])&&nt(t.prototype,e),n&&nt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),ut=lt;function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pt(r.key),r)}}function ht(t,e,n){return(e=pt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pt(t){var e=function(t,e){if("object"!=dt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dt(e)?e:e+""}var mt={enabled_tooltip_messages:y.ag,theme:y.yi,sounds_notification:y.GB,balance_sound_notification:y.x8,top_left_info_icons_bonus:y.BB,top_left_info_icons_signals:y.TN,top_left_info_icons_booster:y.TN,top_left_info_icons_risk_free:y.TN,top_left_info_icons_clawshorns_analytics:y.Oe,top_left_info_icons_gems_lottery:y.q9,optimized_chart:y.td,user_timezone:y.K3,ai_trading_mode:y.Fu,enabled_market_watch:y.$5,limit_order_amount_show_block:y.sW},yt=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ht(this,"modalOpen",(function(t,n){e.cache.$modal=i()("#".concat(n.modalId)),0!==e.cache.$modal.length&&(e.notify=new K({time:1500,to:"#".concat(n.modalId)}),e.cache.$category=e.cache.$modal.find(".js-category"),e.cache.$content=e.cache.$modal.find(".js-content"),e.cache.$mdlSwitchList=e.cache.$modal.find(".mdl-js-switch"),e.cache.$modal.find(".js-selectpicker-languages").selectpicker(),e.cache.$modal.find(".js-selectpicker-timezone").selectpicker(),e.cache.yourClientBackground=new ut(e.cache.$modal),e.cache.yourClientBackground.init(),e.cache.moment=null,e.cache.momentSetInterval=null,e.events(),e.switchInit(),e.initialize())})),ht(this,"aiTradingClickHandler",(function(t){var n=i()(t.currentTarget);if(!n.hasClass("item--active")){var r=(new I.Ay).setAbsolute(!0).getForBlock(),o=parseInt(n.find('input[name="ai_trading_mode"]').val().trim(),10);n.find(".item__img-wrap").append(r),n.addClass("ajax-loading"),e.setVar("ai_trading_mode",o).then((function(){n.siblings(".js-ai-trading-item").removeClass("item--active"),n.addClass("item--active").removeClass("ajax-loading"),r.remove()}))}})),ht(this,"changeLanguageHandler",(function(t){window.location.href=window.location.href.replace("/".concat((0,$.Xo)(),"/"),"/".concat(t.target.value,"/"))})),ht(this,"inputChangeHandler",(function(t){var n=i()(t.currentTarget),r=n.attr("name"),o=n.is(":checked"),a=n.is(":checkbox"),s=e.setVar(r,a?o?1:0:n.val());if("user_timezone_auto"===r&&(o?(e.cache.$modal.find(".js--timezone").addClass("bootstrap-select-disabled"),e.ajaxLoaderContent(),s.then(e.reloadPage)):e.cache.$modal.find(".js--timezone").removeClass("bootstrap-select-disabled")),"islamic_account_enabled"===r&&s.then((function(t){t.modalUrl?(new Z.pc).openWithAjax(t.modalUrl):e.reloadPage()})),"body-background-image-enable"===r){var c=i()("body"),l=e.cache.$modal.find(".js-my-theme");if(o){!c.hasClass("has-bg-image")&&c.addClass("has-bg-image"),l.hasClass("hidden")&&l.removeClass("hidden");var u=at();u&&st(u)}else c.hasClass("has-bg-image")&&c.removeClass("has-bg-image"),!l.hasClass("hidden")&&l.addClass("hidden"),ct()}if("sounds_notification"===r){var d=e.cache.$modal.find('input[name="balance_sound_notification"]');o?d.prop("checked",!0).parent().addClass("is-checked"):d.prop("checked",!1).parent().removeClass("is-checked"),d.prop("disabled",!o),(0,B.A)("balance_sound_notification",o?1:0,!1)}})),ht(this,"changeTimezoneHandler",(function(t){e.ajaxLoaderContent();var n=i()(t.currentTarget);e.setVar(n.attr("name"),n.val()).then(e.reloadPage)})),ht(this,"categoryClickHandler",(function(t){var n=i()(t.currentTarget).data("id");e.changeCategory(n),e.changeContent(n)})),ht(this,"modalClose",(function(){e.cache.yourClientBackground&&e.cache.yourClientBackground.uninit(),e.cache.momentSetInterval&&clearInterval(e.cache.momentSetInterval),e.cache=[]})),this.cache=[],this.trans={},this.notify=null,this.categoryActiveClassName="settings-modal__category--active",this.contentActiveClassName="settings-modal__content--active"},(e=[{key:"init",value:function(){u.A.subscribe("".concat(y.iz,".settings-modal"),this.modalOpen),u.A.subscribe("".concat(y.ub,".settings-modal"),this.modalClose)}},{key:"events",value:function(){this.cache.$category.on("click",this.categoryClickHandler),this.cache.$modal.find("input").on("change",this.inputChangeHandler),this.cache.$modal.find(".js-selectpicker-languages").on("change",this.changeLanguageHandler),this.cache.$modal.find(".js-selectpicker-timezone").on("change",this.changeTimezoneHandler),this.cache.$modal.find(".js-ai-trading-item").on("click",this.aiTradingClickHandler)}},{key:"initialize",value:function(){this.cache.$modal.find('input[name="sounds_notification"]').is(":checked")||this.cache.$modal.find('input[name="balance_sound_notification"]').prop("disabled",!0)}},{key:"ajaxLoaderContent",value:function(){this.cache.$modal.find(".js-content").prepend((new I.Ay).setAbsolute(!0).getForBlock())}},{key:"reloadPage",value:function(){location.reload()}},{key:"setVar",value:function(t,e){return(0,B.A)(t,e).then((function(n){var r=mt[t];return mt[t]&&(u.A.publish(r,new H.A(e)),"change_theme"===r&&window.dispatchEvent(new CustomEvent("change-theme",{detail:{theme:e}}))),n})).catch((function(){}))}},{key:"switchInit",value:function(){"function"==typeof window.MaterialSwitch&&this.cache.$mdlSwitchList.each((function(t,e){return new window.MaterialSwitch(e).init()}))}},{key:"changeCategory",value:function(t){var e=this.cache.$category.filter('[data-id="'.concat(t,'"]'));0!==e.length&&e.addClass(this.categoryActiveClassName).siblings().removeClass(this.categoryActiveClassName)}},{key:"changeContent",value:function(t){var e=this.cache.$content.filter('[data-id="'.concat(t,'"]'));0!==e.length&&e.addClass(this.contentActiveClassName).siblings().removeClass(this.contentActiveClassName)}}])&&ft(t.prototype,e),n&&ft(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),vt=yt,bt=n(32660),gt=n(391);function wt(t){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(t)}function jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xt(r.key),r)}}function xt(t){var e=function(t,e){if("object"!=wt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wt(e)?e:e+""}var _t=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e},(e=[{key:"title",get:function(){return this.data.title}},{key:"description",get:function(){return this.data.description}},{key:"icon",get:function(){return this.data.icon_name}},{key:"id",get:function(){return this.data.id}},{key:"tid",get:function(){return this.data.tid}},{key:"type",get:function(){return this.data.medal_type}}])&&jt(t.prototype,e),n&&jt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),St=_t,Ot=n(95616);function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function Tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,At(r.key),r)}}function At(t){var e=function(t,e){if("object"!=kt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kt(e)?e:e+""}var Ct=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$block=Ot(".achievements-notice-streamer")},(e=[{key:"addToStream",value:function(t){this.$block.prepend(t)}}])&&Tt(t.prototype,e),n&&Tt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Pt=Ct,Et=n(47510),It=n(16300),Nt=n(47458),Dt=n.n(Nt),Lt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(void 0===t)return It.A.handlebarsCompileError("selector is undefined: ".concat(e)),function(){return""};if("string"==typeof t){if("."===t.charAt(0)||"#"===t.charAt(0)){try{var n=i()(t).html();return Dt().compile(n)}catch(r){0,It.A.handlebarsCompileError("ERR2: ".concat(t," ").concat(e," ").concat(JSON.stringify(r)))}return function(){return""}}try{return Dt().compile(t)}catch(r){0,It.A.handlebarsCompileError("ERR3: ".concat(t," ").concat(e," ").concat(JSON.stringify(r)))}}return function(){return""}},Mt=n(92605),Rt=n(62832),Bt=n.n(Rt),Ht=n(49697);function $t(t){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(t)}function Ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ut(r.key),r)}}function Wt(t,e,n){return(e=Ut(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ut(t){var e=function(t,e){if("object"!=$t(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$t(e)?e:e+""}var Vt=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Wt(this,"closeButtonClickHandler",(function(t){var e=i()(t.currentTarget).closest(".achievements-notice");e.removeClass("fadeIn").addClass("fadeOut"),e.one((0,Mt.A)(),(function(){return e.slideUp(200,(function(){return e.remove()}))}))})),Wt(this,"updateAchievementsHandler",(function(t){t.forEach((function(t){t.tid=(0,Et.A)();var n=new St(t),r=e.itemHtml({type:n.type,tid:n.tid,icon:n.icon,title:e.getTitle(n.id)});e.setTimer(n.tid),e.streamer.addToStream(r,n)}))})),this.socket=bt.A.instance,this.streamer=new Pt,this.$block=i()(".achievements-notice-streamer"),this.itemHtml=null,this.numberSecondsBeforeDeletingNotification=10,this.isTest=(0,Ht.A)("test-achievements")},(e=[{key:"init",value:function(){var t=this;0!==this.$block.length&&(this.itemHtml=Lt("#achievements-notice-item"),this.events(),this.subscribeSocketEvents(),null!==this.isTest&&setTimeout((function(){return t.test()}),4e3))}},{key:"events",value:function(){i()("body").delegate(".achievements-notice .achievements-notice__link","click",this.closeButtonClickHandler)}},{key:"subscribeSocketEvents",value:function(){var t=this;this.socket.addEventListener(gt.GB,this.updateAchievementsHandler),this.isTest&&u.A.subscribe(gt.GB,(function(e,n){return t.updateAchievementsHandler(n)}))}},{key:"test",value:function(){var t=Bt()(window,"achievementsList");if(t){for(var e,n,r=["gold","silver","bronze"],i=["copied_trades_500","bets_on_different_symbols_10","copied_trades_50","chat","copy_trades_1000","count_trades_per_day_5000","count_win_trades_300","count_win_trades_in_row_50","free_tournament","make_10_bets_with_min_bet_50","make_deposit_3","make_deposit_more_1000","make_first_deposit_more_1000","make_one_trades_every_day_for_20","make_trade_from_200","make_trades_otc_100","one_bet_on_oil","profile_level_4"],o=+this.isTest.split(",")[0],a=[],s=0;s<o;s++){var c=Math.floor(Math.random()*r.length),l=Math.floor(Math.random()*i.length);a.push({id:(e=t,n=void 0,n=Object.keys(e),n[n.length*Math.random()|0]),icon_name:i[l],medal_type:r[c]})}this.numberSecondsBeforeDeletingNotification=+this.isTest.split(",")[1]||10,u.A.publish(gt.GB,a)}}},{key:"getTitle",value:function(t){return Bt()(window,["achievementsList",t])}},{key:"setTimer",value:function(t){var e=this;!function(t,n){setTimeout((function(){e.$block.find('[data-timer-tid="'.concat(t,'"]')).find(".achievements-notice__link").trigger("click")}),1e3*n)}(t,this.numberSecondsBeforeDeletingNotification)}}])&&Ft(t.prototype,e),n&&Ft(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Gt=Vt,zt=n(98515);function Yt(){var t=new Event("resize",{bubbles:!0,cancelable:!1});window.dispatchEvent(t)}var Xt=n(15720),qt=n(89061);function Kt(t){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(t)}function Zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qt(r.key),r)}}function Jt(t,e,n){return(e=Qt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qt(t){var e=function(t,e){if("object"!=Kt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Kt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Kt(e)?e:e+""}var te="event_open_mobile_nav",ee="event_open_before_mobile_nav",ne="event_close_mobile_nav",re="left",ie="right",oe=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Jt(this,"clickOutside",(function(){u.A.publish(ne,re)})),Jt(this,"orientationChange",(function(t,n){n===Xt.p&&(e.$mlMenu.hide(),Yt(),e.$mlMenu.show())})),Jt(this,"openMobileNavEventHandler",(function(t,n){u.A.publish(ee,n),e.changeStateNav(n,(function(){return u.A.publish("event_open_after_mobile_nav",n)}))})),Jt(this,"closeMobileNavEventHandler",(function(t,n){u.A.publish("event_close_before_mobile_nav",n),e.changeStateNav(n,(function(){return u.A.publish("event_close_after_mobile_nav",n)}))})),Jt(this,"mobileNavClickHandler",(function(n){n.preventDefault();var r=i()(n.currentTarget),o=r.data("dir");if(e.closeRightSidebarModals(),t.isShowing(r)){var a=e.$rightSidebars.filter(".active");a.length&&a.each((function(t,e){var n=e.getAttribute("id");u.A.publish("".concat(zt.kA,".").concat(n),new H.A(n))}))}else u.A.publish(te,o)})),this.$menu=i()(".js-mobile-nav"),this.$body=i()("body"),this.$wrap=i()(".js-m-main-wrap .m-main-wrap__in"),this.$rightSidebars=i()(".js-right-sidebar-modal"),this.$mlMenu=i()(".ml-menu .js-hseow"),this.classNameLeft="mobile-nav-active-ml",this.classNameRight="mobile-nav-active-mr"}return e=t,r=[{key:"isShowing",value:function(t){return t.data("isShowing")||!1}},{key:"setIsShowing",value:function(t,e){t.data("isShowing",e)}}],(n=[{key:"init",value:function(){this.$menu.length,this.events()}},{key:"events",value:function(){var t=this;this.$body.on("click",".js-mobile-nav",this.mobileNavClickHandler),u.A.subscribe(qt.h,this.orientationChange),u.A.subscribe(te,(function(e,n){t.openMobileNavEventHandler(e,n),t.$wrap.on("click tap",t.clickOutside)})),u.A.subscribe(ne,(function(e,n){t.closeMobileNavEventHandler(e,n),t.$wrap.off("click tap",t.clickOutside)}))}},{key:"closeRightSidebarModals",value:function(){u.A.publish("mobile_close_all_right_sidebar_modals")}},{key:"changeStateNav",value:function(t,e){t===re?this.changeStateNavLeft(e):t===ie&&this.changeStateNavRight(e)}},{key:"changeStateNavLeft",value:function(e){var n=this.$menu.filter('[data-dir="'.concat(re,'"]'));t.isShowing(n)?(this.$body.removeClass(this.classNameLeft),e(),t.setIsShowing(n,!1)):(e(),t.setIsShowing(n,!0),this.$body.removeClass(this.classNameRight).addClass(this.classNameLeft))}},{key:"changeStateNavRight",value:function(e){var n=this.$menu.filter('[data-dir="'.concat(ie,'"]'));t.isShowing(n)?(e(),t.setIsShowing(n,!1),this.$body.removeClass(this.classNameRight)):(e(),t.setIsShowing(n,!0),this.$body.removeClass(this.classNameLeft).addClass(this.classNameRight))}}])&&Zt(e.prototype,n),r&&Zt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}(),ae=oe,se=n(59621),ce=n(59674);function le(t){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(t)}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fe(r.key),r)}}function de(t,e,n){return(e=fe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fe(t){var e=function(t,e){if("object"!=le(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==le(e)?e:e+""}var he=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),de(this,"level2Scroll",(function(t){"on"===t?(e.ps2=(0,ce.A)(e.$level2Scrollbar)[e.$level2Scrollbar.data("ps-id")],setTimeout((function(){return e.ps2&&e.ps2.update()}),0)):e.ps2&&e.ps2.destroy()})),de(this,"rightModalFooterMenuClickHandler",(function(t){var n=i()(t.currentTarget).attr("href");if(void 0!==n){e.$mrMenuLevel1.find("li.active").removeClass("active");var r=e.$mrMenuLevel1.find('a[href="'.concat(n,'"]'));if(0!==r.length){var o=r.parent();o.hasClass("active")||o.addClass("active")}}})),de(this,"rightMenuClickHandler",(function(){e.$mrMenuLevel1.find("li.active").removeClass("active")})),de(this,"closeRightModalClickHandler",(function(t){t.preventDefault();var e=i()(t.currentTarget);if(e.closest(".mr-menu").length)return u.A.publish(ne,ie);var n=e.closest(".js-right-sidebar-modal").attr("id"),r=i()("#".concat(n));0!==r.length&&(r.hasClass("active")&&u.A.publish("".concat(zt.kA,".").concat(n),new H.A(n)),r.removeClass("active"))})),de(this,"backClickHandler",(function(){var t="hseow--active-w2";e.$subMenuWrap.hasClass(t)&&e.$subMenuWrap.removeClass(t),e.hideSubMenu()})),de(this,"menuItemClickHandler",(function(t){var n=i()(t.currentTarget).find("> a").data("level2");if(n){if(e.isTryDemo&&e.onlyRegisteredMenuLevels.includes(n))return void u.A.publish(y.Tm);var r=e.$mlMenuLevel2.find(".level-".concat(n));if(0===r.length)return;r.is(":hidden")&&(r.show(),e.level2Scroll("on")),r.siblings().hide();var o="hseow--active-w2";e.$subMenuWrap.hasClass(o)||e.$subMenuWrap.addClass(o),26==+n?!e.$body.hasClass(e.chatClassName)&&e.$body.addClass(e.chatClassName):e.$body.hasClass(e.chatClassName)&&e.$body.removeClass(e.chatClassName)}})),this.$body=i()("body"),this.$mlMenuLevel1=i()(".js-ml-menu-level-1"),this.$menuItems=this.$mlMenuLevel1.find("ul > li"),this.$mlMenuLevel2=i()(".js-ml-menu-level-2"),this.$subMenuWrap=i()(".js-m-main-wrap .js-hseow"),this.$mrMenuLevel1=i()(".js-mr-menu-level-1"),this.$level1Scrollbar=this.$mlMenuLevel1.find(".js-perfectScrollbar"),this.$level2Scrollbar=this.$mlMenuLevel2.find(".js-perfectScrollbar"),this.$rightModalFooterMenu=i()(".right-modal-footer-menu"),this.$hseow=i()(".js-hseow"),this.$document=i()(document),this.chatClassName="s-chat_open",this.isTryDemo=(0,se.Z5)(),this.onlyRegisteredMenuLevels=["trading","finance","profile","market","achievements"]},(e=[{key:"init",value:function(){0!==this.$menuItems.length&&this.events()}},{key:"events",value:function(){var t=this;u.A.subscribe(ne,(function(){t.$hseow.hasClass("hseow--active-w2")&&t.$hseow.removeClass("hseow--active-w2"),t.hideSubMenu()})),this.$menuItems.on("click",this.menuItemClickHandler),this.$subMenuWrap.find(".js-back").on("click",this.backClickHandler),this.$document.on("click",".js-sub-menu-modals-close",this.closeRightModalClickHandler),this.$mrMenuLevel1.find("a").on("click",this.rightMenuClickHandler),this.$rightModalFooterMenu.find("a").on("click",this.rightModalFooterMenuClickHandler),this.ps1=(0,ce.A)(this.$level1Scrollbar)[this.$level1Scrollbar.data("ps-id")],this.$mlMenuLevel1.find(".js-ml-menu-languages-current").on("close open",(function(){return t.ps1&&t.ps1.update()}))}},{key:"hideSubMenu",value:function(){this.$mlMenuLevel2.find("[class*=level-2]:visible").hide(),this.level2Scroll("off")}}])&&ue(t.prototype,e),n&&ue(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),pe=he;function me(t){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(t)}function ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ve(r.key),r)}}function ve(t){var e=function(t,e){if("object"!=me(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==me(e)?e:e+""}var be=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.block=document.querySelector(".device-px")},(e=[{key:"init",value:function(){null!==this.block&&(this.print(),this.events())}},{key:"events",value:function(){var t=this;window.addEventListener("resize",(function(){return t.windowResizeEventHandler()}),!0)}},{key:"windowResizeEventHandler",value:function(){this.print()}},{key:"print",value:function(){this.block.innerHTML=this.getSizes()}},{key:"getSizes",value:function(){var t=window.innerWidth>0?window.innerWidth:screen.width,e=window.innerHeight>0?window.innerHeight:screen.height;return"".concat(t,"x").concat(e)}}])&&ye(t.prototype,e),n&&ye(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),ge=be;function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xe(r.key),r)}}function xe(t){var e=function(t,e){if("object"!=we(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=we(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==we(e)?e:e+""}var _e=function(){return t=function t(){var e,n,r,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=function(t){t.preventDefault(),o.$block.hasClass("active")?(o.$block.removeClass("active"),o.$title.trigger("close")):(o.$block.addClass("active"),o.$title.trigger("open"))},(n=xe(n="titleClickHandler"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this.$block=i()(".js-ml-menu-languages")},(e=[{key:"init",value:function(){0!==this.$block.length&&(this.$title=this.$block.find(".js-ml-menu-languages-current"),this.$list=this.$block.find(".js-ml-menu-languages-list"),this.$title.on("click",this.titleClickHandler))}}])&&je(t.prototype,e),n&&je(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Se=_e;function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}function ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Te(r.key),r)}}function Te(t){var e=function(t,e){if("object"!=Oe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Oe(e)?e:e+""}var Ae=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$menu=i()(".js-mobile-nav")},(e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){var t=this;document.addEventListener("showChatCallback",(function(){i()("body").hasClass("mobile-nav-active-ml")||t.$menu.filter('[data-dir="left"]').trigger("click"),setTimeout((function(){return i()('.js-ml-menu-level-1 a[data-level2="26"]').click()}),0)}))}}])&&ke(t.prototype,e),n&&ke(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Ce=Ae;(0,se.hP)()&&((new ae).init(),(new pe).init(),1==+(0,Q.A)("is-office-ip")&&(new ge).init(),(new Se).init(),(new Ce).init());var Pe=n(96271);function Ee(t){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ee(t)}function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,De(r.key),r)}}function Ne(t,e,n){return(e=De(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function De(t){var e=function(t,e){if("object"!=Ee(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ee(e)?e:e+""}var Le="event_nav_before_minimize",Me="event_nav_after_minimize",Re="event_nav_chart_arrow_clicked",Be="event_nav_after_un_minimize",He="left",$e="right",Fe=!1,We={classes:Ne(Ne({showText:"show-text"},He,{body:"minimize-left-sidebar",arrow:"fa-long-arrow-left"}),$e,{body:"minimize-right-sidebar",arrow:"fa-long-arrow-right"}),cookies:{left:"msl",right:"msr"}},Ue=function(t){return Bt()(We,t)},Ve=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ne(this,"minimizeBtnClickHandler",(function(t){var n=i()(t),r=n.find(".fa"),o=n.data("type"),a=function(t){return i()("body").hasClass(Ue("classes.".concat(t,".body")))}(o);e.changeArrowIcon(o,a,r),e.changeState(o,a)})),Ne(this,"navAfterUnMinimizeEventHandler",(function(t,n){e.sidebars["$"+n].addClass(Ue("classes.showText"))})),Ne(this,"navBeforeMinimizeEventHandler",(function(t,n){var r=e.sidebars["$".concat(n)];r&&r.removeClass(Ue("classes.showText"))})),Fe||(this.$body=i()("body"),this.$window=i()(window),this.$arrows=i()(".js-minimize-menu"),this.sidebars={$left:i()(".js-left-sidebar"),$right:i()(".js-right-sidebar")},this.timeOut=Ne(Ne({},He,null),$e,null),this.transitionTime=.3)},e=[{key:"getCookieNameByType",value:function(t){return Ue("cookies.".concat(t))}},{key:"setCookie",value:function(t,e){Pe.A.cookies.set(this.getCookieNameByType(t),e)}},{key:"init",value:function(){!0!==Fe&&0!==this.sidebars.$left.length&&(this.events(),Fe=!0)}},{key:"events",value:function(){var t=this;u.A.subscribe(Le,this.navBeforeMinimizeEventHandler),u.A.subscribe(Be,(function(e,n){t.navAfterUnMinimizeEventHandler(e,n),t.forGraph()})),u.A.subscribe(Me,(function(){return t.forGraph()})),u.A.subscribe(Re,(function(e,n){return t.minimizeBtnClickHandler(n)})),this.$arrows.on("click",(function(e){return t.minimizeBtnClickHandler(e.currentTarget)}))}},{key:"changeState",value:function(t,e){e?(this.unMinimize(t),this.setCookie(t,0)):(this.minimize(t),this.setCookie(t,1))}},{key:"changeArrowIcon",value:function(t,e,n){var r=Ue("classes.".concat(He,".arrow")),i=Ue("classes.".concat($e,".arrow"));t===He?e?n.removeClass(i).addClass(r):n.removeClass(r).addClass(i):e?n.removeClass(r).addClass(i):n.removeClass(i).addClass(r)}},{key:"minimize",value:function(t){var e=this;u.A.publish(Le,t),this.timeOut[t]&&clearTimeout(this.timeOut[t]),this.sidebars["$".concat(t)]&&(this.$body.addClass(Ue("classes.".concat(t,".body"))),this.timeOut[t]=setTimeout((function(){u.A.publish(Me,t),e.timeOut[t]=null}),1e3*this.transitionTime))}},{key:"unMinimize",value:function(t){var e=this;u.A.publish("event_nav_before_un_minimize",t),this.timeOut[t]&&clearTimeout(this.timeOut[t]),this.sidebars["$".concat(t)]&&(this.$body.removeClass(Ue("classes.".concat(t,".body"))),this.timeOut[t]=setTimeout((function(){u.A.publish(Be,t),e.timeOut[t]=null}),1e3*this.transitionTime))}},{key:"forGraph",value:function(){Yt()}}],e&&Ie(t.prototype,e),n&&Ie(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Ge=Ve,ze=n(14804);function Ye(t){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ye(t)}function Xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ke(r.key),r)}}function qe(t,e,n){return(e=Ke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ke(t){var e=function(t,e){if("object"!=Ye(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ye(e)?e:e+""}var Ze=!1,Je=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),qe(this,"changePersonalData",(function(t,e){var n=1===e.val?"show":"hide";i()(".js-hd").each((function(t,e){var r=i()(e);r.data("hd-status",n).html(r.data("hd-".concat(n)))}))})),qe(this,"liClickHandler",(function(t){t.preventDefault();var n=i()(t.currentTarget).parent(),r=n.find(".fa-eye-slash"),o=n.find(".fa-eye"),a=1==+(0,Q.A)(e.varName),s=a?0:1;e.abort&&e.abort();var c=ze.A.requestAbortable({url:B.q,data:{key:e.varName,value:s}}).abort;a?(r.hide(),o.show()):(r.show(),o.hide()),(0,B.A)(e.varName,s,!1),u.A.publish(y.lW,new H.A(s)),e.abort=c})),Ze||(this.varName="show_personal_data",this.abort=null)},(e=[{key:"init",value:function(){Ze||(this.events(),Ze=!0)}},{key:"events",value:function(){i()("body").on("click",".js-show-hide-personal-data",this.liClickHandler),u.A.subscribe(y.lW,this.changePersonalData)}}])&&Xe(t.prototype,e),n&&Xe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Qe=Je,tn=n(20768);function en(t){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},en(t)}function nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,on(r.key),r)}}function rn(t,e,n){return(e=on(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function on(t){var e=function(t,e){if("object"!=en(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=en(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==en(e)?e:e+""}var an=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),rn(this,"install",(function(t,n){e.$modal=i()("#".concat(n.modalId)),e.$list=e.$modal.find(".js-apps-list-wrap"),e.$btn=e.$modal.find(".js-open-apps-list"),e.$btn.on("click",e.btnClickHandler)})),rn(this,"btnClickHandler",(function(t){t.preventDefault(),e.$btn.hasClass("active")?location.href=(0,tn.hX)("cabinet/applications/"):(e.$btn.addClass("active"),e.$list.slideDown(300))})),rn(this,"uninstall",(function(){e.$btn.off("click"),e.$list=e.$modal=e.$btn=null})),this.$modal=null,this.$list=null,this.$btn=null},(e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){u.A.subscribe("".concat(y.iz,".sub-menu-support-modal"),this.install),u.A.subscribe("".concat(y.ub,".sub-menu-support-modal"),this.uninstall)}}])&&nn(t.prototype,e),n&&nn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),sn=an,cn=n(80461),ln=n(75624),un=function(t,e){return{type:ln.J,payload:{type:t,val:e}}},dn=n(92180),fn=n(91171),hn=n(41608);function pn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return mn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function yn(t,e){return parseFloat(t).toFixed(e)}var vn=function(t,e){return gn(t,(0,hn.aZ)(e),!1)},bn=function(t,e){return gn(t,(0,hn.aZ)(e),!0)},gn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.toString().replace(/\.+/g,".").replace(/[^0-9.]/g,""),i=r.endsWith("."),o=pn(r.split("."),2),a=o[0],s=o[1];return n&&(a=a.replace(/\B(?=(\d{3})+(?!\d))/g,",")),void 0!==s&&e>0?"".concat(a,".").concat(s.substring(0,e)):i&&e>0?"".concat(a,"."):a};function wn(t){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(t)}function jn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return xn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function xn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,On(r.key),r)}}function Sn(t,e,n){return(e=On(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function On(t){var e=function(t,e){if("object"!=wn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wn(e)?e:e+""}i().fn.selectpickerRemoveTitle=function(){var t=i()(this).next();t.removeAttr("title"),t.children().removeAttr("title")};var kn=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Sn(this,"openModal",(function(t,n){e.cache.$modal=i()("#".concat(n.modalId)),e.cache.$form=e.cache.$modal.find("form"),e.cache.$selectpickerFrom=e.cache.$modal.find('select[name="from"]'),e.cache.$selectpickerTo=e.cache.$modal.find('select[name="to"]'),e.cache.$amount=e.cache.$modal.find('input[name="amount"]'),e.cache.$transferCurrency=e.cache.$modal.find(".js-transfer-currency"),e.cache.$bonusTextBlock=e.cache.$modal.find(".js-bonus-msg"),e.cache.$bonusTextTotal=e.cache.$modal.find(".js-bonus-total"),e.cache.$bonusTextAmount=e.cache.$modal.find(".js-bonus-amount"),e.cache.$bonusTextProfit=e.cache.$modal.find(".js-bonus-profit"),e.cache.$btnTransferMore=e.cache.$modal.find(".js-transfer-more"),e.cache.$blockSuccessTransfer=e.cache.$modal.find(".js-success-transfer"),e.cache.$blockFormTransfer=e.cache.$modal.find(".js-form-transfer"),e.cache.$errorMessage=e.cache.$modal.find(".js-error-msg"),e.isOpened=!0,e.subscribeModalEvents()})),Sn(this,"selectFromChangeEventHandler",(function(t){if(i()(t.currentTarget).val()===e.cache.$selectpickerTo.val()){var n=e.cache.$selectpickerTo.find("option:not(:selected):first").val();e.cache.$selectpickerTo.selectpicker("val",n)}e.onChangeAccounts(),e.cache.$amount.trigger("blur")})),Sn(this,"selectToChangeEventHandler",(function(t){if(i()(t.currentTarget).val()===e.cache.$selectpickerFrom.val()){var n=e.cache.$selectpickerFrom.find("option:not(:selected):first").val();e.cache.$selectpickerFrom.selectpicker("val",n)}e.onChangeAccounts(),e.cache.$amount.trigger("blur")})),Sn(this,"amountChangeEventHandler",(function(t){var n=e.cache.$selectpickerFrom.find("option:selected").attr("data-currency"),r=e.cache.$selectpickerFrom.find("option:selected").attr("data-balance-key"),i=vn(t.currentTarget.value,n);"blur"===t.type&&(i=Math.max(1e-6,i),i=Math.min((0,cn.xO)((0,fn.O)(r)),i)),e.cache.$modal.find(".js-transfer-amount").text((0,hn.ej)(i,n)),t.target.value=bn(i,n)})),Sn(this,"formSubmitClickHandler",(function(t){t.preventDefault();var n=e.cache.$form.find('button[type="submit"]');if(!0!==n.data("is-loading")){var r=(new I.Ay).getForButton(),i=e.cache.$selectpickerFrom.val(),o=ze.A.requestAbortable({url:e.cache.$form.attr("action"),method:e.cache.$form.attr("method"),data:e.cache.$form.serializeArray(),beforeSend:function(){e.cache.$errorMessage.hide(),e.abortRequest(),n.attr("disabled","disabled"),n.data("is-loading",!0),n.append(r)},complete:function(){n.removeAttr("disabled"),n.data("is-loading",!1),r.remove()},success:function(t){if(t.error)e.cache.$errorMessage.text(t.message).show();else{t.refresh&&setTimeout((function(){window.location.reload()}),1e3),e.cache.$selectpickerFrom.find('option[value="'.concat(i,'"]')).attr("data-bonus","0"),e.cache.$selectpickerFrom.trigger("change");var n,r=jn(t.balances);try{for(r.s();!(n=r.n()).done;){var o=n.value;(0,cn.JD)(un(o.key,o.balance))}}catch(a){r.e(a)}finally{r.f()}u.A.publish(y.K2),e.cache.$blockSuccessTransfer.show(),e.cache.$blockFormTransfer.hide()}}}).abort;e.cache.abort=o}})),Sn(this,"closeModal",(function(){e.isOpened=!1,e.abortRequest(),Object.keys(e.subscribes).map((function(t){"function"==typeof e.subscribes[t]&&e.subscribes[t]()})),e.subscribes={},e.cache={}})),this.cache={},this.subscribes={},this.notify=new K({time:5e3,to:".exchange-modal"}),this.isOpened=!1},(e=[{key:"init",value:function(){this.events(),this.subscribeStoreEvents()}},{key:"events",value:function(){u.A.subscribe("".concat(y.iz,".exchange-modal"),this.openModal),u.A.subscribe("".concat(y.ub,".exchange-modal"),this.closeModal)}},{key:"subscribeStoreEvents",value:function(){var t=this;Object.keys((0,cn.xO)(fn.s)).map((function(e){(0,cn.B1)((0,dn.T)(e),(function(n,r){t.isOpened&&t.getSelectList().map((function(t){var r=t.find('[data-balance-key="'.concat(e,'"]'));if(r.length){var o=i()(i().parseHTML(r.attr("data-content")));if(o.length){var a=r.attr("data-currency");o.find(".js-".concat(e)).text((0,hn.Fl)(n,a)),r.attr("data-content",o.prop("outerHTML")),t.selectpicker("refresh")}}}))}))}))}},{key:"getSelectList",value:function(){return[this.cache.$selectpickerFrom,this.cache.$selectpickerTo]}},{key:"subscribeModalEvents",value:function(){var t=this;this.cache.$selectpickerFrom.selectpicker(),this.cache.$selectpickerTo.selectpicker(),this.cache.$selectpickerFrom.selectpickerRemoveTitle(),this.cache.$selectpickerFrom.change(i().fn.selectpickerRemoveTitle),this.cache.$selectpickerTo.selectpickerRemoveTitle(),this.cache.$selectpickerTo.change(i().fn.selectpickerRemoveTitle),this.cache.$selectpickerFrom.on("change",this.selectFromChangeEventHandler),this.cache.$selectpickerTo.on("change",this.selectToChangeEventHandler),this.cache.$amount.on("input blur",this.amountChangeEventHandler),this.cache.$form.on("submit",this.formSubmitClickHandler),this.cache.$btnTransferMore.on("click",(function(){t.cache.$blockSuccessTransfer.hide(),t.cache.$blockFormTransfer.show()})),this.cache.$amount.trigger("blur"),this.cache.$selectpickerFrom.trigger("change")}},{key:"onChangeAccounts",value:function(){var t=this.cache.$selectpickerFrom.find("option:selected").attr("data-name"),e=this.cache.$selectpickerTo.find("option:selected").attr("data-name");this.cache.$modal.find(".js-transfer-source").text(t),this.cache.$modal.find(".js-transfer-target").text(e);var n=this.cache.$selectpickerFrom.find("option:selected").attr("data-symbol");this.cache.$transferCurrency.text(n);var r=this.cache.$selectpickerFrom.find("option:selected").attr("data-bonus-amount"),i=this.cache.$selectpickerFrom.find("option:selected").attr("data-bonus-total"),o=this.cache.$selectpickerFrom.find("option:selected").attr("data-bonus-profit"),a=this.cache.$selectpickerFrom.find("option:selected").attr("data-currency");parseFloat(r)&&a?(this.cache.$bonusTextBlock.show(),this.cache.$bonusTextTotal.text((0,hn.ej)(i,a)),this.cache.$bonusTextAmount.text((0,hn.ej)(r,a)),this.cache.$bonusTextProfit.text((0,hn.ej)(o,a))):this.cache.$bonusTextBlock.hide()}},{key:"abortRequest",value:function(){"function"==typeof this.cache.abort&&this.cache.abort()}}])&&_n(t.prototype,e),n&&_n(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Tn=kn,An=n(59512),Cn=n(94687),Pn="balance-real",En="balance-demo";function In(t){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(t)}function Nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dn(r.key),r)}}function Dn(t){var e=function(t,e){if("object"!=In(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=In(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==In(e)?e:e+""}var Ln=Symbol(),Mn=Symbol(),Rn=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==Mn)throw"Cannot construct singleton";this.listeners={},[An.k3,An.my,An.Bf].forEach((function(t){[An.N1,An.Z5,An.KY,An.$_,An.uk,An.GI,An.wM,An.lF].forEach((function(e){n.listeners[t+e]=new Map}))})),this.onceListeners={},[An.k3,An.my,An.Bf].forEach((function(t){[An.N1,An.Z5,An.KY,An.$_,An.GI,An.wM,An.lF].forEach((function(e){n.onceListeners[t+e]=new Map}))}))}return e=t,r=[{key:"instance",get:function(){return this[Ln]||(this[Ln]=new t(Mn)),this[Ln]}}],(n=[{key:"addOnceListener",value:function(t,e){var n=(0,Et.A)();return this.onceListeners[t].set(n,e),n}},{key:"addEventListener",value:function(t,e){var n=(0,Et.A)();return this.listeners[t].set(n,e),n}},{key:"removeEventListener",value:function(t,e){this.listeners[t].delete(e)}},{key:"updateBalance",value:function(){var t=this;this.listeners["".concat(An.k3).concat(An.wM)].forEach((function(t){return t()})),i().when(this.callUpdateBalance()).done((function(e){var n=e&&"balance"in e?e.balance:0;Cn.jx?(0,cn.JD)(un(En,n)):(0,cn.JD)(un("".concat(Pn,"-").concat((0,hn.L9)()),n)),t.listeners["".concat(An.Bf).concat(An.wM)].forEach((function(t){return t(n)}))})).fail((function(e){t.listeners["".concat(An.my).concat(An.wM)].forEach((function(t){return t(e)}))}))}},{key:"callUpdateBalance",value:function(){return i().ajax(An.xC)}},{key:"depositDemo",value:function(t){var e=this;this.listeners["".concat(An.k3).concat(An.uk)].forEach((function(e){return e(t)})),i().when(this.callDepositDemo(t)).done((function(t){e.listeners["".concat(An.Bf).concat(An.uk)].forEach((function(e){return e(t)}))})).fail((function(t){e.listeners["".concat(An.my).concat(An.uk)].forEach((function(e){return e(t)}))}))}},{key:"callDepositDemo",value:function(t){return i().ajax({url:An.Nb,type:"POST",data:{balance:t}})}}])&&Nn(e.prototype,n),r&&Nn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}(),Bn=Rn;i().fn.textColorFadeOutCss=function(t){return this.each((function(){var e=i()(this),n=i().extend(!0,i().fn.textColorFadeOutCss.defaultOptions,t),r="text-color-animation text-color-animation--".concat(n.type);e.removeClass(r),this.offsetWidth,"string"==typeof n.duration&&e.css("animation-duration",n.duration),e.one((0,Mt.A)(),(function(){return e.removeClass(r)})).addClass(r)})),this},i().fn.textColorFadeOutCss.defaultOptions={type:"orange"};var Hn=n(15071);function $n(t){return $n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(t)}function Fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wn(r.key),r)}}function Wn(t){var e=function(t,e){if("object"!=$n(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$n(e)?e:e+""}var Un=function(){return t=function t(){var e,n,r,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=function(t,e){(0,cn.JD)(un(i.getBalanceType(),e.val))},(n=Wn(n="updateRealBalanceEventHandler"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this.socket=bt.A.instance,this.api=Bn.instance,this.isFirstSocketBalanceUpdate=!0,this.subscribeSocketEvents(),this.subscribeApiEvents(),this.events()},(e=[{key:"subscribeSocketEvents",value:function(){var t=this;this.socket.addEventListener("".concat(Cn.Bf).concat(gt.wM),(function(e){(0,cn.JD)(un(t.getBalanceType(),e)),t.isFirstSocketBalanceUpdate||u.A.publish(Hn.bp),t.isFirstSocketBalanceUpdate=!1}))}},{key:"subscribeApiEvents",value:function(){var t=this;this.api.addEventListener("".concat(Cn.Bf).concat(An.uk),(function(){t.api.updateBalance()})),this.api.addEventListener("".concat(Cn.Bf).concat(gt.wM),(function(e,n){(0,cn.JD)(un(t.getBalanceType(),e))}))}},{key:"events",value:function(){u.A.subscribe(y.lA,this.updateRealBalanceEventHandler)}},{key:"getBalanceType",value:function(){var t="".concat(Pn,"-").concat((0,hn.L9)());return(0,se.yq)()?t="balance-tournament":An.D9&&(t=En),t}}])&&Fn(t.prototype,e),n&&Fn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Vn=Un,Gn=n(40759),zn=function(){var t=window.location.hash.substr(1);window.addEventListener("hashchange",(function(){t=window.location.hash.substr(1),e(t)}),!1);var e=function(t){if("am"===t.substr(0,2)&&"guide"===(t=t.substr(3)))(new Z.pc).openWithAjax((0,Gn.A)()+"cabinet/ajax/modal/guide")};e(t)};function Yn(t){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yn(t)}function Xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qn(r.key),r)}}function qn(t){var e=function(t,e){if("object"!=Yn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Yn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yn(e)?e:e+""}var Kn=!1,Zn=function(){return t=function t(){var e,n,r,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=function(t,e){1===e.val?i.tooltipsShow():i.tooltipsHide()},(n=qn(n="changeVisible"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,Kn||(Kn=!0,this.statusOnClassName="tooltip-status-on",this.statusOffClassName="tooltip-status-off",this.events())},(e=[{key:"events",value:function(){u.A.subscribe(y.ag,this.changeVisible)}},{key:"tooltipsShow",value:function(){var t=this;Array.from(document.querySelectorAll(".".concat(this.statusOffClassName))).forEach((function(e){e.classList.remove(t.statusOffClassName),e.classList.add(t.statusOnClassName)}))}},{key:"tooltipsHide",value:function(){var t=this;Array.from(document.querySelectorAll(".".concat(this.statusOnClassName))).forEach((function(e){e.classList.remove(t.statusOnClassName),e.classList.add(t.statusOffClassName)}))}}])&&Xn(t.prototype,e),n&&Xn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Jn=Zn;function Qn(t){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qn(t)}function tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,er(r.key),r)}}function er(t){var e=function(t,e){if("object"!=Qn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qn(e)?e:e+""}var nr=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events()},(e=[{key:"events",value:function(){i()(document).on("click",".js_chat_ban_btn",(function(){var t=i()(this).attr("data-user");i().get("/chat/block-user/".concat(t),(function(t){t.error?i()(".js_chat_ban_btn").replaceWith("Unexpected error"):i()(".js_chat_ban_btn").text(t.message)}))}))}}])&&tr(t.prototype,e),n&&tr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),rr=nr;n(23604),n(19123),n(30340);function ir(t){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(t)}function or(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ar(r.key),r)}}function ar(t){var e=function(t,e){if("object"!=ir(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ir(e)?e:e+""}var sr=function(){return t=function t(){var e,n,r,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=function(t){if(!0===o.isClicked)return t.preventDefault();i()(t.currentTarget).hasClass("mfp-ajax-modal")||(o.isClicked=!0,i()(t.currentTarget).closest("li").addClass(o.clickedClassName))},(n=ar(n="linkClickHandler"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this.isMobile=1===(0,Q.A)("is-mobile-version",0),this.$block=i()(".page-top-tabs--mobile"),this.clickedClassName="clicked",this.isClicked=!1},(e=[{key:"init",value:function(){!1!==this.isMobile&&0!==this.$block.length&&this.events()}},{key:"events",value:function(){this.$block.find("a").on("click",this.linkClickHandler)}}])&&or(t.prototype,e),n&&or(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),cr=sr;n(51597),n(34064),n(59615);function lr(t){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(t)}function ur(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fr(r.key),r)}}function dr(t,e,n){return(e=fr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fr(t){var e=function(t,e){if("object"!=lr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lr(e)?e:e+""}var hr=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),dr(this,"openModal",(function(){e.cache.$modal=i()("#close-account-modal"),e.cache.$form=e.cache.$modal.find("form"),e.cache.$select=e.cache.$modal.find("select"),e.cache.$contentBlock=e.cache.$modal.find(".js-content"),e.cache.$reasonText=e.cache.$modal.find(".reason-text"),e.cache.$otherReason=e.cache.$modal.find(".other-reason"),e.cache.$errorBlock=e.cache.$modal.find(".error-block"),e.subscribeEvents()})),dr(this,"closeModal",(function(){e.cache={}})),dr(this,"formSubmitHandler",(function(t){t.preventDefault();var n=e.cache.$form.find('[type="submit"]'),r=(new I.Ay).getForButton();ze.A.request({url:e.cache.$form.attr("action"),method:e.cache.$form.attr("method"),data:e.cache.$form.serializeArray(),beforeSend:function(){n.append(r),n.attr("disabled",!0),e.hideErrors()},complete:function(){r.remove(),n.removeAttr("disabled")}}).then((function(t){return t.errors?e.renderErrors(t.errors):t.redirectUrl?window.location.href=t.redirectUrl:void 0}))})),dr(this,"selectChangeHandler",(function(t){var n=+t.target.value,r=e.getDescription(n);e.hideErrors(),r?(e.cache.$reasonText.html(r),e.cache.$reasonText.removeClass("hidden")):e.cache.$reasonText.addClass("hidden"),n===e.otherReasonId?e.cache.$otherReason.removeClass("hidden"):e.cache.$otherReason.addClass("hidden"),-1===n?e.cache.$contentBlock.hasClass("hidden")||e.cache.$contentBlock.addClass("hidden"):e.cache.$contentBlock.hasClass("hidden")&&e.cache.$contentBlock.removeClass("hidden")})),this.cache={},this.otherReasonId=9},(e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){u.A.subscribe("".concat(y.iz,".close-account-modal"),this.openModal),u.A.subscribe("".concat(y.ub,".close-account-modal"),this.closeModal)}},{key:"subscribeEvents",value:function(){this.cache.$select.on("change",this.selectChangeHandler),this.cache.$form.on("submit",this.formSubmitHandler),this.cache.$select.selectpicker()}},{key:"renderErrors",value:function(t){var e=[];for(var n in t)e.push(t[n]);this.cache.$errorBlock.html(e.join("")).removeClass("hidden")}},{key:"hideErrors",value:function(){this.cache.$errorBlock.addClass("hidden").html("")}},{key:"getDescription",value:function(e){try{return descriptionList[e]}catch(t){}return""}}])&&ur(t.prototype,e),n&&ur(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),pr=hr,mr=n(89839);function yr(t){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yr(t)}function vr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gr(r.key),r)}}function br(t,e,n){return(e=gr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gr(t){var e=function(t,e){if("object"!=yr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=yr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yr(e)?e:e+""}var wr=function(){return t=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),br(this,"refreshContentClickHandler",(function(t){t.preventDefault(),u.A.publish(Hn.nS);var e=i()(t.currentTarget).data("type");if(-1!==["r","y"].indexOf(e)){var r=(0,tn.hX)("cabinet/user-info-data?t="+e+"&c=n");"r"===e?(n.showRealAccountStatsAjaxLoading(),n.requestRealAccountStats(r)):"y"===e&&(n.showYourAchievementsAjaxLoading(),n.requestYourAchievements(r))}})),br(this,"promiseCatchHandler",(function(t,e){"abort"!==t.statusText&&e.length&&e.html('<div class="text-danger">'.concat(n.langs.ajaxError,"</div>"))})),this.cache={},this.cache.$block=e,this.cache.$contentBlockRealAccountStats=this.cache.$block.find(".js-content-real-account-stats"),this.cache.$contentBlockYourAchievements=this.cache.$block.find(".js-content-your-achievements"),this.cache.$ajaxBlock=(new I.Ay).setAbsolute(!0).getForBlock(),this.requestRealAccountStatsAbort=null,this.requestYourAchievementsAbort=null,this.langs={ajaxError:(0,$.tr)("errors.unexpected_error_please_try_later")}},(e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){}},{key:"requestRealAccountStats",value:function(t){var e=this,n=ze.A.requestAbortable({url:t,beforeSend:function(){e.requestRealAccountStatsAbort&&e.requestRealAccountStatsAbort(),e.cache.$block.trigger("ajax.beforeSend",{type:"r"})},complete:function(){e.cache.$block.trigger("ajax.complete",{type:"r"})},success:function(t){t.hasOwnProperty("html")?(e.cache.$contentBlockRealAccountStats&&e.cache.$contentBlockRealAccountStats.removeClass("al").html(t.html),e.cache.$block.find(".js-refresh-content-icon").off().on("click",e.refreshContentClickHandler),e.cache.$block.trigger("ajax.success",{type:"r"})):e.cache.$contentBlockRealAccountStats&&e.cache.$contentBlockRealAccountStats.html('<div class="text-danger">'+e.langs.ajaxError+"</div>")}}),r=n.promise,i=n.abort;return r.catch((function(t){return e.promiseCatchHandler(t,e.cache.$contentBlockRealAccountStats)})),this.requestRealAccountStatsAbort=i,r}},{key:"requestYourAchievements",value:function(t){var e=this,n=ze.A.requestAbortable({url:t,beforeSend:function(){e.requestYourAchievementsAbort&&e.requestYourAchievementsAbort(),e.cache.$block.trigger("ajax.beforeSend",{type:"y"})},complete:function(){e.cache.$block.trigger("ajax.complete",{type:"y"})},success:function(t){t&&(e.cache.$contentBlockYourAchievements.removeClass("al").html(t.html),e.cache.$block.find(".js-refresh-content-icon").off().on("click",e.refreshContentClickHandler),e.cache.$block.trigger("ajax.success",{type:"y"}),(0,mr.A)(e.cache.$contentBlockYourAchievements.find(".exp-progress")))}}),r=n.promise,i=n.abort;return r.catch((function(t){return e.promiseCatchHandler(t,e.cache.$contentBlockYourAchievements)})),this.requestYourAchievementsAbort=i,r}},{key:"showAllAjaxLoading",value:function(){this.showRealAccountStatsAjaxLoading(),this.showYourAchievementsAjaxLoading()}},{key:"showRealAccountStatsAjaxLoading",value:function(){this.cache.$contentBlockRealAccountStats.hasClass("al")||this.cache.$contentBlockRealAccountStats.addClass("al"),this.cache.$contentBlockRealAccountStats.html(this.cache.$ajaxBlock.clone())}},{key:"showYourAchievementsAjaxLoading",value:function(){this.cache.$contentBlockYourAchievements.hasClass("al")||this.cache.$contentBlockYourAchievements.addClass("al"),this.cache.$contentBlockYourAchievements.html(this.cache.$ajaxBlock.clone())}},{key:"abortAllRequests",value:function(){"function"==typeof this.requestRealAccountStatsAbort&&this.requestRealAccountStatsAbort(),"function"==typeof this.requestYourAchievementsAbort&&this.requestYourAchievementsAbort()}}])&&vr(t.prototype,e),n&&vr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),jr=wr;function xr(t){return xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(t)}function _r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Or(r.key),r)}}function Sr(t,e,n){return(e=Or(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Or(t){var e=function(t,e){if("object"!=xr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xr(e)?e:e+""}var kr=function(){return t=function e(){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Sr(this,"dropDownOpenHandler",(function(){n.isAllowAjaxRequest()&&(n.userInfoData.showAllAjaxLoading(),n.userInfoData.requestRealAccountStats((0,tn.hX)("cabinet/user-info-data?t=r")).then((function(){n.ttl.afterAjaxTime=Date.now(),n.cache.$modal.trigger("refresh_css")})).catch(n.requestCatchHandler),n.userInfoData.requestYourAchievements((0,tn.hX)("cabinet/user-info-data?t=y")).then((function(){n.ttl.afterAjaxTime=Date.now(),n.cache.$modal.trigger("refresh_css")})).catch(n.requestCatchHandler)),n.cache.$modal=i()(".drop-down-modal--user-info"),n.cache.$languagesBlock=n.cache.$modal.find(".js-menu-languages"),n.cache.$languagesBlock.on("click",n.languagesBlockClickHandler),n.cache.$scrollMainBlock=n.cache.$modal.find(".js-scroll-main-block"),n.cache.$scrollLanguagesBlock=n.cache.$modal.find(".js-scroll-languages-list"),n.ps1=(0,ce.A)(n.cache.$scrollMainBlock,{suppressScrollX:!0,wheelPropagation:!1})[n.cache.$scrollMainBlock.data("ps-id")],n.ps2=(0,ce.A)(n.cache.$scrollLanguagesBlock,{suppressScrollX:!0,wheelPropagation:!1})[n.cache.$scrollLanguagesBlock.data("ps-id")]})),Sr(this,"requestCatchHandler",(function(){n.ttl={refreshTime:60,afterAjaxTime:null}})),Sr(this,"languagesBlockClickHandler",(function(){try{n.cache.$languagesBlock.toggleClass("open")}catch(t){}})),Sr(this,"closeLanguagesMenu",(function(){try{n.cache.$languagesBlock.removeClass("open")}catch(t){}})),Sr(this,"dropDownCloseHandler",(function(){try{setTimeout((function(){n.userInfoData.abortAllRequests(),n.isAllowAjaxRequest()&&n.userInfoData.showAllAjaxLoading()}),200),n.closeLanguagesMenu(),n.cache.$languagesBlock.off(),n.cache={},n.ps1&&n.ps1.destroy(),n.ps2&&n.ps2.destroy()}catch(t){}}));var r=i()("#ddm_user-info");this.cache={},this.userInfoData=new jr(r),this.userInfoData.init(),this.ttl={refreshTime:60,afterAjaxTime:null}},(e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){u.A.subscribe("".concat(y.rs,".user-info"),this.dropDownOpenHandler),u.A.subscribe("".concat(y.DD,".user-info"),this.dropDownCloseHandler)}},{key:"isAllowAjaxRequest",value:function(){return Date.now()>this.ttl.afterAjaxTime+1e3*this.ttl.refreshTime}}])&&_r(t.prototype,e),n&&_r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Tr=kr,Ar=n(97241),Cr=function(){var t=i()(".js-file-input-wrap");t.each((function(t,e){var n=i()(e),r=n.find(".file-input-wrap__field"),o=n.find(".file-input-wrap__text"),a=o.html();r.on("change",(function(t){var e=[];try{Object.values(t.currentTarget.files).forEach((function(t){return e.push("<span>".concat(t.name,"</span>"))}))}catch(t){}e.length>0?(n.addClass("file-input-wrap--has-file"),o.html(e.join(""))):(n.removeClass("file-input-wrap--has-file"),o.html(a)),n.append('<a class="file-input-wrap__remove-file js-remove-file"><i class="fa fa-times"></i></a>')}))})),t.on("click",".js-remove-file",(function(t){t.preventDefault();var e=i()(t.currentTarget),n=e.closest("label");n.find('input[type="file"]').val(""),n.find(".file-input-wrap__text").text(n.data("default-text")),e.remove()}))};function Pr(t){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(t)}function Er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ir(r.key),r)}}function Ir(t){var e=function(t,e){if("object"!=Pr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pr(e)?e:e+""}var Nr=11,Dr=12,Lr=13,Mr=14,Rr=function(){return t=function t(){var e,n,r,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=function(t){var e=t.detail,n=o.getUnreadMessages(e),r=i()(".js-dimon-chat-count-finance"),a=i()(".site-header .avatar .js-dimon-chat-areThereAnyNewNewsAndMessagesFromSupport");n?(r.length&&r.hasClass("hidden")&&r.removeClass("hidden"),a.length&&a.hasClass("hidden")&&a.removeClass("hidden")):(r.length&&!r.hasClass("hidden")&&r.addClass("hidden"),0===r.parents("").find(".js-dimon-chat-count-support").length&&(a.length&&!a.hasClass("hidden")&&a.addClass("hidden"),AppData.financeUserLevel>3&&o.$areThereAnyNewNewsAndMessagesFromSupportBlock.next().find(".user-avatar__img-wrap").hasClass("user-avatar__img-wrap--notify")&&o.$areThereAnyNewNewsAndMessagesFromSupportBlock.next().find(".user-avatar__img-wrap").removeClass("user-avatar__img-wrap--notify")))},(n=Ir(n="eventHandler"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this.$countNewsBlock=i()(".js-dimon-chat-count-news"),this.$areThereAnyNewNewsAndMessagesFromSupportBlock=i()(".js-dimon-chat-areThereAnyNewNewsAndMessagesFromSupport")},(e=[{key:"init",value:function(){(this.$countNewsBlock.length>0||this.$areThereAnyNewNewsAndMessagesFromSupportBlock.length>0)&&this.getCounters(),document.addEventListener("chat.roomsUpdateCallback",this.eventHandler)}},{key:"getUnreadMessages",value:function(t){for(var e in t){var n=t[e];if(-1!==[Nr,Dr,Lr,Mr].indexOf(n.type)&&n.new>0)return!0}return!1}},{key:"getCounters",value:function(){var t=this;ze.A.request({url:(0,tn.hX)("api/chat/count-news")}).then((function(e){null!=e&&(t.$countNewsBlock.length>0&&(e.count>0&&t.$countNewsBlock.removeClass("hidden"),t.$countNewsBlock.closest(".js_chat_room_link").removeClass("hidden").attr("data-room",e.room)),t.$areThereAnyNewNewsAndMessagesFromSupportBlock.length>0&&e.notify&&(AppData.financeUserLevel>3&&t.$areThereAnyNewNewsAndMessagesFromSupportBlock.next().find(".user-avatar__img-wrap").addClass("user-avatar__img-wrap--notify"),t.$areThereAnyNewNewsAndMessagesFromSupportBlock.removeClass("hidden")))}))}}])&&Er(t.prototype,e),n&&Er(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Br=Rr,Hr=n(80479),$r=n(44852),Fr=n.n($r);function Wr(t){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wr(t)}function Ur(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gr(r.key),r)}}function Vr(t,e,n){return(e=Gr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gr(t){var e=function(t,e){if("object"!=Wr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Wr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wr(e)?e:e+""}var zr=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Vr(this,"openModalEventHandler",(function(t,n){e.cache.$modal=i()("#".concat(n.modalId)),e.cache.$openChestBtn=e.cache.$modal.find(".js-btn-open-chest"),e.cache.$claimRewardsBtn=e.cache.$modal.find(".js-claim-rewards"),e.cache.$cardListBlock=e.cache.$modal.find(".js-card-list"),e.cache.$box=e.cache.$modal.find(".box"),e.cache.itemId=+e.cache.$modal.data("id")||0,e.cache.templates={card:Lt(e.cache.$modal.find("#card-tpl").html(),"#card-tpl")},e.cache.$openChestBtn.on("mouseover",e.zoomInChest),e.cache.$openChestBtn.on("mouseout",e.zoomOutChest),e.cache.$openChestBtn.on("click",e.openChestBtnClickHandler),e.cache.$claimRewardsBtn.on("click",e.claimRewardBtnClickHandler),e.cache.$cardListBlock.on("click",".js-card",e.cardClickHandler)})),Vr(this,"cardClickHandler",(function(t){t.currentTarget.classList.contains("change")||t.currentTarget.classList.add("change")})),Vr(this,"openChestBtnClickHandler",(function(t){t.preventDefault();var n=i()(t.currentTarget);if(!0!==n.data("is-loading")){var r=n.faCircleLoader();ze.A.request({url:n.attr("href"),beforeSend:function(){n.data("is-loading",!0),n.attr("disabled","disabled"),r.show()},complete:function(){n.removeAttr("disabled"),n.data("is-loading",!1),r.hide()},success:function(t){if(t.error)return e.notify.red(t.message);if(-1!==window.location.href.indexOf("cabinet/profile/achievements/market")&&Fr()(t,"last_purchase_html")&&i()(".js-last-purchases-table tbody").html(t.last_purchase_html),-1!==window.location.href.indexOf("cabinet/profile/achievements/purchases")){var n=i()('.list-purchases__item[data-type="'.concat(t.type,'"] .js-purchases-tabs-body .mCSB_container'));if(n.length){var r=n.find(".list-purchases__table tr").length,o=n.find('tr[data-id="'.concat(t.id,'"]'));o.length&&o.remove(),r-1<=0&&n.html('\n                                <div class="no-purchases">\n                                    <p>'.concat((0,$.tr)("no_purchases"),'</p>\n                                    <a href="').concat((0,tn.hX)("cabinet/profile/achievements/market"),'#chests" class="btn btn-green-light btn-sm">\n                                        ').concat((0,$.tr)("go_to_the_market"),"\n                                    </a>\n                                </div>\n                            "))}}e.renderCardList(t.items),e.countCards(),e.scene2()},error:function(){}})}})),Vr(this,"claimRewardBtnClickHandler",(function(t){t.preventDefault(),window.location.reload()})),Vr(this,"zoomInChest",(function(t){t.preventDefault(),e.cache.$box.addClass("hovered")})),Vr(this,"zoomOutChest",(function(t){t.preventDefault(),e.cache.$box.removeClass("hovered")})),Vr(this,"closeModalEventHandler",(function(t,n){e.cache={}})),this.cache={},this.notify=new F.A({position:Hr.XC,time:5e3})},(e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){u.A.subscribe("".concat(y.iz,".loot-box-modal"),this.openModalEventHandler),u.A.subscribe("".concat(y.ub,".loot-box-modal"),this.closeModalEventHandler)}},{key:"scene2",value:function(){this.cache.$openChestBtn.addClass("hidden"),this.cache.$claimRewardsBtn.removeClass("hidden"),this.cache.$box.hasClass("open")||(this.cache.$box.addClass("open"),this.cache.$cardListBlock.addClass("open"));var t=this.cache.$cardListBlock.find(".js-card"),e=this.cache.$cardListBlock.width();i()(t).each((function(){var t=i()(this).width(),n=i()(this).position().left,r=i()(this).position().top,o=(e-t)/2-n-15;i()(this).css("transform","translateX("+o+"px) translateY("+-r+"px)")}))}},{key:"renderCardList",value:function(t){var e=this,n=[];Object.values(t).map((function(t){return n.push(e.cache.templates.card(t))})),this.cache.$cardListBlock.html(n.join("")),setTimeout((function(){return e.cache.$box.addClass("_hide")}),3e3)}},{key:"countCards",value:function(){var t=this.cache.$cardListBlock.find(".js-card").length;this.cache.$box.addClass("cards-length_"+t),t>5&&this.cache.$box.addClass("many-cards")}}])&&Ur(t.prototype,e),n&&Ur(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Yr=zr;function Xr(t){return Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xr(t)}function qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zr(r.key),r)}}function Kr(t,e,n){return(e=Zr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zr(t){var e=function(t,e){if("object"!=Xr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xr(e)?e:e+""}var Jr=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Kr(this,"modalOpen",(function(){e.cache.$modal=i()("#ranking-modal"),e.cache.$awards=e.cache.$modal.find(".js-awards"),e.cache.$awards.find(".js-title").on("click",e.titleClickHandler),e.cache.$modal.find('[name="compare"]').on("change",e.compareChangeHandler),e.cache.$myBlocks=e.cache.$modal.find(".js-my"),e.cache.$usersBlocks=e.cache.$modal.find(".js-selected-users"),"function"==typeof window.MaterialSwitch&&void 0!==e.cache.$modal&&void 0!==e.cache.$modal[0]&&new window.MaterialSwitch(e.cache.$modal[0].querySelector(".js-mdl-switch")).init()})),Kr(this,"modalClose",(function(){e.cache={}})),Kr(this,"compareChangeHandler",(function(t){i()(t.currentTarget).is(":checked")?(e.cache.$myBlocks.show(),e.cache.$usersBlocks.removeClass("hidden")):(e.cache.$myBlocks.hide(),e.cache.$usersBlocks.addClass("hidden"))})),Kr(this,"titleClickHandler",(function(t){t.preventDefault();var e=i()(t.currentTarget).closest(".js-awards");e.hasClass("open")?e.removeClass("open"):(e.addClass("open"),e.siblings(".open").removeClass("open"))})),this.cache={}},(e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){u.A.subscribe("".concat(y.iz,".ranking-modal"),this.modalOpen),u.A.subscribe("".concat(y.ub,".ranking-modal"),this.modalClose)}}])&&qr(t.prototype,e),n&&qr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Qr=Jr,ti=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$";return 0===(t=parseFloat(t)||0)?e+t:t<0?(t+"").replace("-","-".concat(e)):"+"+e+t};function ei(t){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(t)}function ni(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ri(r.key),r)}}function ri(t){var e=function(t,e){if("object"!=ei(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ei(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ei(e)?e:e+""}var ii=function(){return t=function t(e,n,r,i,o,a,s,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._uid=e,this._avatarUser=n,this._isOnline=r,this._nickname=i,this._timeAgo=o,this._asset=a,this._assetLabel=s,this._profit=c},(e=[{key:"uid",get:function(){return this._uid}},{key:"avatarUser",get:function(){return this._avatarUser}},{key:"isOnline",get:function(){return this._isOnline}},{key:"nickname",get:function(){return this._nickname}},{key:"timeAgo",get:function(){return this._timeAgo}},{key:"asset",get:function(){return this._asset}},{key:"assetLabel",get:function(){return this._assetLabel}},{key:"profit",get:function(){return this._profit}},{key:"profitFormatter",get:function(){return ti(this._profit)}}])&&ni(t.prototype,e),n&&ni(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),oi=ii;function ai(t){return ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(t)}function si(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ci(r.key),r)}}function ci(t){var e=function(t,e){if("object"!=ai(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ai(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ai(e)?e:e+""}var li=function(){return t=function t(e,n,r,i,o,a,s,c,l,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._uid=e,this._traderInfoUrl=n,this._avatar=r,this._status=i,this._statusLabel=o,this._nickname=a,this._timeAgo=s,this._profit=c,this._formattedProfit=l,this._profitClassName=u},(e=[{key:"uid",get:function(){return this._uid}},{key:"traderInfoUrl",get:function(){return this._traderInfoUrl}},{key:"avatar",get:function(){return this._avatar}},{key:"status",get:function(){return this._status}},{key:"statusLabel",get:function(){return this._statusLabel}},{key:"nickname",get:function(){return this._nickname}},{key:"timeAgo",get:function(){return this._timeAgo}},{key:"profit",get:function(){return this._profit}},{key:"formattedProfit",get:function(){return this._formattedProfit}},{key:"profitClassName",get:function(){return this._profitClassName}}])&&si(t.prototype,e),n&&si(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),ui=li;function di(t){return di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},di(t)}function fi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hi(r.key),r)}}function hi(t){var e=function(t,e){if("object"!=di(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=di(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==di(e)?e:e+""}var pi=function(){return t=function t(e,n,r,i,o,a,s,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._uid=e,this._avatarUser=n,this._isOnline=r,this._nickname=i,this._timeAgo=o,this._asset=a,this._assetLabel=s,this._profit=c},(e=[{key:"uid",get:function(){return this._uid}},{key:"avatarUser",get:function(){return this._avatarUser}},{key:"isOnline",get:function(){return this._isOnline}},{key:"nickname",get:function(){return this._nickname}},{key:"timeAgo",get:function(){return this._timeAgo}},{key:"asset",get:function(){return this._asset}},{key:"assetLabel",get:function(){return this._assetLabel}},{key:"profit",get:function(){return this._profit}},{key:"profitFormatter",get:function(){return ti(this._profit)}}])&&fi(t.prototype,e),n&&fi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),mi=pi;function yi(t){return yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(t)}function vi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bi(r.key),r)}}function bi(t){var e=function(t,e){if("object"!=yi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=yi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yi(e)?e:e+""}var gi=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._uid=e},(e=[{key:"uid",get:function(){return this._uid}}])&&vi(t.prototype,e),n&&vi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),wi=gi;function ji(t){return ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(t)}function xi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_i(r.key),r)}}function _i(t){var e=function(t,e){if("object"!=ji(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ji(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ji(e)?e:e+""}var Si=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._d=parseInt(e)||0,this._h=parseInt(n)||0,this._m=parseInt(r)||0,this.languages={dhm:(0,$.tr)("social_trades.time_ago_format")}},(e=[{key:"formattedDate",value:function(){var t=this.languages.dhm;if(this._d>0)return this.languages.dhm.replace("{{d}}",this._d).replace("{{h}}",this._h).replace("{{m}}",this._m);if(0===this._d&&this._h>0){var e=t.indexOf("{{h}}");return t.substr(e).replace("{{h}}",this._h).replace("{{m}}",this._m)}if(0===this._h){var n=t.indexOf("{{m}}");return t.substr(n).replace("{{m}}",this._m)}}}])&&xi(t.prototype,e),n&&xi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Oi=Si;function ki(t){return ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki(t)}function Ti(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ai(r.key),r)}}function Ai(t){var e=function(t,e){if("object"!=ki(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ki(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ki(e)?e:e+""}var Ci=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._uid=e},(e=[{key:"uid",get:function(){return this._uid}}])&&Ti(t.prototype,e),n&&Ti(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Pi=Ci,Ei=n(79302),Ii=n(17748),Ni=n.n(Ii),Di=function(t,e){var n=t.find(".tag-".concat(e));if(n.length){n.addClass("active").siblings().removeClass("active");var r=t.find(".tbs__filter");if("trading-stats-today"===e||"copying-stats-range"===e){r.hasClass("hidden")&&r.removeClass("hidden"),r.find(".js-tbs-link.active").removeClass("active");var o=r.find('[data-tag="'.concat(e,'"]'));o.addClass("active"),r.find(".dropdown-toggle > span").text(i().trim(o.text()))}"social-stats"!==e||r.hasClass("hidden")||r.addClass("hidden");var a=t.closest(".js-trader-information-modal"),s=a.find('input[name="o_min_date"]').val(),c=a.find('input[name="o_copying_stats_min_date"]').val(),l=null;if("trading-stats-today"===e&&(l=s),a.trigger("copying-started-date.show"),-1!==e.indexOf("copying-stats")&&(l=c),l)l!==a.find(".reportrange[data-min-date]").data("min-date")&&(a.find(".reportrange[data-min-date]").data("min-date",l),a.trigger("reinit-picker"))}},Li=function(t,e){t.length&&t.find(".js-tbs-link").on("click",(function(n){var r=i()(n.currentTarget),o=r.data("tag");o&&(r.addClass("active").siblings().removeClass("active"),Di(t,o),e(o))}))},Mi=(n(6659),n(42689)),Ri=n.n(Mi),Bi=n(67065),Hi=n.n(Bi);function $i(t){return $i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(t)}function Fi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ui(r.key),r)}}function Wi(t,e,n){return(e=Ui(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ui(t){var e=function(t,e){if("object"!=$i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$i(e)?e:e+""}var Vi=function(){return t=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Wi(this,"callback",(function(t,e,r){n.triggerRangeClickEvent(n.getIndex(r)),n.changeTextForElement(t,e,r)})),Wi(this,"getIndex",(function(t){return n.$context.data("daterangepicker").container.find('.ranges li[data-range-key="'.concat(t,'"]')).index()})),this.$context=e,0!==this.$context.length&&this.init()},(e=[{key:"init",value:function(){var t=this.$context.data("min-date"),e=this.$context.data("max-date"),n=this.$context.find('[name="start_date"]').val(),r=this.$context.find('[name="end_date"]').val();this.langs={today:(0,$.tr)("date_range_picker.today"),yesterday:(0,$.tr)("date_range_picker.yesterday"),allTime:(0,$.tr)("date_range_picker.all-time")};var i={};i[this.langs.today]=[Ri()(),Ri()()],i[this.langs.yesterday]=[Ri()().subtract(1,"days"),Ri()().subtract(1,"days")],i[this.langs.allTime]=[Ri()(t),Ri()(e)],this.$context.daterangepicker({format:"YYYY-MM-DD",minDate:t,maxDate:e,startDate:n,endDate:r,autoApply:!0,opens:"left",startLabelFormat:"YY-MM-DD",endLabelFormat:"YY-MM-DD",locale:{format:"YYYY-MM-DD",fromLabel:(0,$.tr)("date_range_picker.from"),toLabel:(0,$.tr)("date_range_picker.to"),customRangeLabel:(0,$.tr)("date_range_picker.custom-range"),firstDay:1},ranges:i},this.callback),this.$context.data("daterangepicker").container.find(".calendar, .ranges").wrapAll('<div class="daterangepicker__in"/>').end().find(".calendar").wrapAll('<div class="calendar-wrap"/>'),this.$context.data("daterangepicker").container.addClass("trader-information-modal__daterangepicker")}},{key:"changeTextForElement",value:function(t,e,n){Hi()(Object.values(this.langs),(function(t){return t===n}))?this.$context.find("span:first").text(n):this.$context.find("span:first").html('<span id="date-start">'.concat(t.format("YY-MM-DD"),'</span> - <span id="date-end">').concat(e.format("YY-MM-DD"),"</span>"))}},{key:"triggerRangeClickEvent",value:function(t){this.$context.trigger("range.clicked",[t,this.$context.data("daterangepicker").startDate.format("YYYY-MM-DD"),this.$context.data("daterangepicker").endDate.format("YYYY-MM-DD")])}}])&&Fi(t.prototype,e),n&&Fi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Gi=Vi,zi=n(95616)("html,body"),Yi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700;setTimeout((function(){zi.animate({scrollTop:t.offset().top+"px"},e)}),0)};function Xi(t){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(t)}function qi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zi(r.key),r)}}function Ki(t,e,n){return(e=Zi(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zi(t){var e=function(t,e){if("object"!=Xi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xi(e)?e:e+""}var Ji=function(){return t=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ki(this,"showUserCopyHistoryBtnClickHandler",(function(t){t.preventDefault(),!0===n.$getBtn().data("is-active")?n.closeBlock():(n.openBlock(),n.globalCache.$block.trigger("hide-copy-form"))})),Ki(this,"ajaxBeforeSendHandler",(function(){n.renderAjaxLoader(),n.$getBtn().attr("disabled","disabled"),n.$oldActiveTab=n.globalCache.$block.find(".tbs__content.active"),n.btnSetActive(),Di(n.globalCache.$block,"user-copy-history"),n.globalCache.$block.find(".js-tbs").addClass("only-body"),n.globalCache.$block.find(".tbs__filter").hide(),n._cache.$block.addClass("active")})),Ki(this,"ajaxSuccessHandler",(function(t){n.globalCache.$block.find(".tag-user-copy-history").replaceWith(t.html),n._cache.$block=n.globalCache.$block.find(".tag-user-copy-history"),n.paginationDefaultState(),n._cache.$filterBlock.removeClass("hidden")})),Ki(this,"ajaxCompleteHandler",(function(){n.$getBtn().removeAttr("disabled")})),Ki(this,"userCopyHistoryHandler",(function(t){t.preventDefault();var e=n.getPages();if(1!==e){var r=n.getNextPage(i()(t.currentTarget),e);n.setCurrentPage(r),1===r?!n._cache.$paginationPrev.hasClass("filter-nav__disabled")&&n._cache.$paginationPrev.addClass("filter-nav__disabled"):n._cache.$paginationPrev.hasClass("filter-nav__disabled")&&n._cache.$paginationPrev.removeClass("filter-nav__disabled"),r===e?!n._cache.$paginationNext.hasClass("filter-nav__disabled")&&n._cache.$paginationNext.addClass("filter-nav__disabled"):n._cache.$paginationNext.hasClass("filter-nav__disabled")&&n._cache.$paginationNext.removeClass("filter-nav__disabled");var o=n.globalCache.$block.find(".tag-user-copy-history .js-item-id-".concat(r-1));0!==o.length&&o.removeClass("hidden").siblings().addClass("hidden")}})),this.globalCache=e,this._cache={},this._cache.$showUserCopyHistoryBtn=this.globalCache.$block.find(".js-show-user-copy-history-btn"),this._cache.$block=this.globalCache.$block.find(".tag-user-copy-history"),this._cache.$filterBlock=this.globalCache.$block.find(".tbs__filter-user-copy-history"),this._cache.$pagination=this._cache.$filterBlock.find(".filter-nav"),this._cache.$paginationPrev=this._cache.$filterBlock.find(".filter-nav__prev"),this._cache.$paginationNext=this._cache.$filterBlock.find(".filter-nav__next"),this._cache.$paginationPage=this._cache.$filterBlock.find(".filter-nav__page"),this._abortXhr=null,this.$oldActiveTab=null,this.events()},(e=[{key:"$getBtn",value:function(){return 0===this._cache.$showUserCopyHistoryBtn.length&&(this._cache.$showUserCopyHistoryBtn=this.globalCache.$block.find(".js-show-user-copy-history-btn")),this._cache.$showUserCopyHistoryBtn}},{key:"events",value:function(){this.globalCache.$block.on("click",".js-show-user-copy-history-btn",this.showUserCopyHistoryBtnClickHandler),this.globalCache.$block.on("click",".filter-nav .filter-nav__btn:not(.filter-nav__disabled)",this.userCopyHistoryHandler)}},{key:"openBlock",value:function(){var t=ze.A.requestAbortable({url:this.$getBtn().attr("href"),beforeSend:this.ajaxBeforeSendHandler,success:this.ajaxSuccessHandler,complete:this.ajaxCompleteHandler}).abort;this._abortXhr=t}},{key:"abortXhr",value:function(){"function"==typeof this._abortXhr&&this._abortXhr()}},{key:"btnSetActive",value:function(){this.$getBtn().addClass("active").data("is-active",!0)}},{key:"btnUnsetActive",value:function(){this.$getBtn().removeClass("active").data("is-active",!1)}},{key:"closeBlock",value:function(){!0===this.$getBtn().data("is-active")&&(this.abortXhr(),this.btnUnsetActive(),this.globalCache.$block.find(".js-tbs").removeClass("only-body"),this.globalCache.$block.find(".tbs__filter").show(),this._cache.$filterBlock.addClass("hidden"),this._cache.$block.removeClass("active"),this.$oldActiveTab.addClass("active"))}},{key:"renderAjaxLoader",value:function(){var t=(new I.Ay).setAbsolute(!0).getForBlock();this._cache.$block.addClass("loading-data").prepend(t)}},{key:"getPages",value:function(){return this._cache.$block.find("> ul").length}},{key:"getCurrentPage",value:function(){return+this._cache.$paginationPage.find("span").text()||1}},{key:"setCurrentPage",value:function(t){this._cache.$paginationPage.find("span").text(t)}},{key:"paginationDefaultState",value:function(){var t=this.getPages();this._cache.$paginationPage.find("span").text(1),this._cache.$paginationPrev.addClass("filter-nav__disabled"),t>1?this._cache.$paginationNext.removeClass("filter-nav__disabled"):this._cache.$paginationNext.addClass("filter-nav__disabled")}},{key:"getNextPage",value:function(t,e){var n=this.getCurrentPage();return t.hasClass("filter-nav__prev")?(n-=1)<=0&&(n=1):(n+=1)>=e&&(n=e),n}}])&&qi(t.prototype,e),n&&qi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Qi=Ji;function to(t){return to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(t)}function eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ro(r.key),r)}}function no(t,e,n){return(e=ro(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ro(t){var e=function(t,e){if("object"!=to(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=to(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==to(e)?e:e+""}var io=function(){return t=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),no(this,"inputChangeHandler",(function(){n.setDefault()})),no(this,"chipsClickHandler",(function(t){t.preventDefault();var e=i()(t.currentTarget);n.setActive(e.index()),n.context.cache.$inputCopyProportion.val(e.data("sum")).trigger("input")})),this.context=e,this.cache={}},e=[{key:"init",value:function(){try{this.cache.$items=this.context.cache.$block.find(".js-sum-offer-item"),this.events()}catch(t){console.error("sumOfferItems",t)}}},{key:"destroy",value:function(){try{this.setDefault(),this.cache.$items.off("click",this.chipsClickHandler),this.context.cache.$inputCopyProportion.off("input",this.inputChangeHandler),this.cache={}}catch(t){console.error("sumOfferItems",t)}}},{key:"events",value:function(){this.cache.$items.on("click",this.chipsClickHandler),this.context.cache.$inputCopyProportion.on("input",this.inputChangeHandler)}},{key:"setActive",value:function(t){this.cache.$items.filter(".active").removeClass("active"),this.cache.$items.eq(t).addClass("active")}},{key:"getAllSum",value:function(){var t=[];return this.cache.$items.each((function(e,n){t.push(parseInt(i()(n).data("sum"))||0)})),t}},{key:"getCurrentSum",value:function(){var t=this.context.cache.$inputCopyProportion.val();return parseInt(this.context.filterInputText(t,2))||0}},{key:"setDefault",value:function(){var t=this;this.cache.$items.filter(".active").removeClass("active");var e=this.getCurrentSum();this.getAllSum().forEach((function(n,r){if(n===e)return t.setActive(r),!1}))}}],e&&eo(t.prototype,e),n&&eo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),oo=io;function ao(t){return ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(t)}function so(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,co(r.key),r)}}function co(t){var e=function(t,e){if("object"!=ao(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ao(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ao(e)?e:e+""}var lo=function(){return t=function t(e){var n,r,i,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=function(){return{copy_proportion:parseInt(o.context.filterInputText(o.context.cache.$inputCopyProportion.val().trim())),stop_balance:parseFloat(o.context.filterInputText(o.context.cache.$inputStopBalance.val().trim())),min_copy_bet_amount:function(){var t=o.context.cache.$inputMinCopyBetAmount.val().trim();if(0!==t.length)return parseFloat(o.context.filterInputText(t,2))}(),max_copy_bet_amount:function(){var t=o.context.cache.$inputMaxCopyBetAmount.val().trim();if(0!==t.length)return parseFloat(o.context.filterInputText(t,2))}()}},(r=co(r="getInputFormValues"))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.context=e,this.cache={}},(e=[{key:"init",value:function(){try{this.cache.$maxCopyBetAmountTextVal=this.context.cache.$block.find(".js-text-max_copy_bet_amount.val"),this.cache.$maxCopyBetAmountTextCalc=this.context.cache.$block.find(".js-text-max_copy_bet_amount.calc"),this.cache.$maxCopyBetAmountMessage=this.context.cache.$block.find(".js-text-max_copy_message"),this.cache.$maxCopyBetAmountMessageUnlimited=this.context.cache.$block.find(".js-text-max_copy_message_unlimited"),this.cache.$copyInProportionText=this.context.cache.$block.find(".js-text-copy_proportion"),this.cache.$minCopyBetAmountTextVal=this.context.cache.$block.find(".js-text-min_copy_bet_amount.val"),this.cache.$minCopyBetAmountTextCalc=this.context.cache.$block.find(".js-text-min_copy_bet_amount.calc"),this.cache.$minCopyBetAmountMessage=this.context.cache.$block.find(".js-text-min_copy_message"),this.cache.$stopBalanceText=this.context.cache.$block.find(".js-text-stop_balance")}catch(t){}}},{key:"destroy",value:function(){try{this.cache={}}catch(t){}}},{key:"changeFieldTextCopyInProportion",value:function(){this.cache.$copyInProportionText.text(this.getInputFormValues().copy_proportion)}},{key:"changeFieldTextStopBalance",value:function(){var t=(0,hn.ej)(this.getInputFormValues().stop_balance,this.context.currency);this.cache.$stopBalanceText.text(t)}},{key:"changeFieldTextMaxCopyTradeAmount",value:function(){var t=this.cache.$maxCopyBetAmountTextVal.closest(".form-text-wrap2").find(".form-text-key"),e=this.getInputFormValues().max_copy_bet_amount;if(void 0===e)t.is(":visible")&&t.hide(),this.cache.$maxCopyBetAmountTextVal.addClass("form-text-key2").text((0,$.tr)("modals.trader-information-modal.copy-unlimited"));else{t.is(":hidden")&&t.show();var n=(0,hn.ej)(this.setMinMaxVal(this.getValueWithMultiply(e)),this.context.currency);this.cache.$maxCopyBetAmountTextVal.removeClass("form-text-key2").text(n)}}},{key:"setMinMaxVal",value:function(t){return t<1?1:t>this.context.transactionAmountLimit?this.context.transactionAmountLimit:t}},{key:"changeMessageMaxCopyTradeAmount",value:function(){var t=this.getInputFormValues().max_copy_bet_amount;void 0===t?(this.cache.$maxCopyBetAmountMessageUnlimited.is(":hidden")&&this.cache.$maxCopyBetAmountMessageUnlimited.show(),this.cache.$maxCopyBetAmountMessage.is(":visible")&&this.cache.$maxCopyBetAmountMessage.hide()):(this.cache.$maxCopyBetAmountMessageUnlimited.is(":visible")&&this.cache.$maxCopyBetAmountMessageUnlimited.hide(),this.cache.$maxCopyBetAmountMessage.is(":hidden")&&this.cache.$maxCopyBetAmountMessage.show(),this.cache.$maxCopyBetAmountTextCalc.text((0,hn.ej)(this.setMinMaxVal(this.getValueWithMultiply(t)),this.context.currency)))}},{key:"changeFieldTextMinCopyTradeAmount",value:function(){var t=this.getInputFormValues().min_copy_bet_amount;if(void 0===t)this.cache.$minCopyBetAmountTextVal.text((0,$.tr)("modals.trader-information-modal.unlimited"));else{var e=(0,hn.ej)(this.setMinMaxVal(this.getValueWithMultiply(t)),this.context.currency);this.cache.$minCopyBetAmountTextVal.text(e)}}},{key:"changeMessageMinCopyTradeAmount",value:function(){var t=this.getInputFormValues().min_copy_bet_amount;void 0===t?this.cache.$minCopyBetAmountMessage.is(":visible")&&this.cache.$minCopyBetAmountMessage.hide():(this.cache.$minCopyBetAmountMessage.is(":hidden")&&this.cache.$minCopyBetAmountMessage.show(),this.cache.$minCopyBetAmountTextCalc.text((0,hn.ej)(this.setMinMaxVal(this.getValueWithMultiply(t)),this.context.currency)))}},{key:"getValueWithMultiply",value:function(t){return t/(this.getInputFormValues().copy_proportion/100)}},{key:"validateCopyProportionField",value:function(t){var e=gn(t,0,!0);return e<1&&(e=1),e>1e3&&(e=1e3),this.context.cache.$inputCopyProportion.val(e),!0}},{key:"validateStopBalance",value:function(t){var e=gn(t,2,!0);return e<1&&(e=1),this.context.cache.$inputStopBalance.val(e),!0}},{key:"validateMinCopyTradeAmount",value:function(t){var e=this.context.filterInputText(t,2);if(0===t.length)return!1;e<this.context.transactionAmountMin&&(e=this.context.transactionAmountMin),e>this.context.transactionAmountLimit&&(e=this.context.transactionAmountLimit),this.context.cache.$inputMinCopyBetAmount.val(e);var n=this.getValueWithMultiply(e),r=this.getInputFormValues().max_copy_bet_amount;return!(n<1)&&(void 0===r||n<=this.getValueWithMultiply(r))}},{key:"validateMaxCopyTradeAmount",value:function(t){var e=this.context.filterInputText(t,2);if(0===e.length)return!0;e<this.context.transactionAmountMin&&(e=this.context.transactionAmountMin),e>this.context.transactionAmountLimit&&(e=this.context.transactionAmountLimit),this.context.cache.$inputMaxCopyBetAmount.val(e);var n=this.getInputFormValues().min_copy_bet_amount,r=this.getValueWithMultiply(e);return!(r<1)&&(void 0===n||r>=(n=this.getValueWithMultiply(n)))}}])&&so(t.prototype,e),n&&so(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function uo(t){return uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(t)}function fo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||po(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ho(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=po(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function po(t,e){if(t){if("string"==typeof t)return mo(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mo(t,e):void 0}}function mo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bo(r.key),r)}}function vo(t,e,n){return(e=bo(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bo(t){var e=function(t,e){if("object"!=uo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=uo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==uo(e)?e:e+""}var go=!1,wo=function(){return t=function e(){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),vo(this,"modalClose",(function(){try{"function"==typeof n.cache.statsFilterAbort&&n.cache.statsFilterAbort(),n.formErrors=[],Object.keys(n.ajaxAbortFn).map((function(t){return n.ajaxAbortFn[t]()})),"function"==typeof n.xhr&&n.xhr();var e=i()(".trader-information-modal__daterangepicker");e.length&&e.remove(),n.cache={},n.ajaxAbortFn={},n.xhr=null,n.userCopyHistory=null,n.tradingStatsCache=[],n.socialStatsCache=null,n.sumOfferItems.destroy(),n.copyForm.destroy()}catch(t){console.error("Error TraderInformationModal",t)}})),vo(this,"modalOpen",(function(e,r){try{if(n.cache.$block=i()("#".concat(r.modalId)),0===n.cache.$block.length)return;n.tradingStatsCache=[],n.socialStatsCache=null,n.notify=new K({time:3e3,to:"#".concat(r.modalId)}),n.userCopyHistory=new Qi(n.cache),n.cache.$tabsBlock=n.cache.$block.find(".js-tbs"),n.cache.$copyBtnWrap=n.cache.$block.find(".js-copy-btn-wrap"),n.cache.$watchListBtnWrap=n.cache.$block.find(".js-watch-list-btn-wrap"),n.cache.$backBtn=n.cache.$block.find(".js-back"),n.cache.$copyInfoTableWrap=n.cache.$block.find(".js-copy-info-table-wrap"),n.cache.$formBlock=n.cache.$block.find(".js-form-block"),n.cache.$form=n.cache.$block.find(".js-form"),n.cache.$copyFormBtn=n.cache.$form.find("button"),n.cache.$inputCopyProportion=n.cache.$block.find("[name=copy_proportion]"),n.cache.$inputMinCopyBetAmount=n.cache.$block.find("[name=min_copy_bet_amount]"),n.cache.$inputStopBalance=n.cache.$block.find("[name=stop_balance]"),n.cache.$inputMaxCopyBetAmount=n.cache.$block.find("[name=max_copy_bet_amount]"),n.cache.$copyingStartedDate=n.cache.$block.find(".js-copying-started-date"),n.cache.$copyingStartedDateValue=n.cache.$block.find(".js-copying-started-date-value"),n.cache.$countCopiedBlock=n.cache.$block.find(".js-count-copied"),n.cache.$countCopiedBlockAll=n.cache.$block.find(".js-count-copied-all"),n.cache.$countWatchListedBlock=n.cache.$block.find(".js-count-watchlisted"),n.cache.$copyBtnTpl=n.cache.$block.find("#copy-btn-tpl"),n.cache.$stopCopyBtnTpl=n.cache.$block.find("#stop-copy-btn-tpl"),n.cache.$addWatchListBtnTpl=n.cache.$block.find("#add-watch-list-btn-tpl"),n.cache.$delWatchListBtnTpl=n.cache.$block.find("#del-watch-list-btn-tpl"),n.cache.$isWaitingTpl=n.cache.$block.find("#is-waiting-tpl"),n.cache.$delFromCopyHistoryTpl=n.cache.$block.find("#del-from-copy-history-tpl"),n.cache.$datepicker=n.cache.$block.find("#reportrange"),n.transactionAmountLimit=Number(n.cache.$form.data("trade-limit")),n.transactionAmountMin=Number(n.cache.$form.data("trade-min")),n.currency=n.cache.$form.data("currency"),n.subscribeModalEvents(),n.cache.$datepicker.length&&n.dateRangePickerInit(),new Li(n.cache.$block,n.onTabOpened.bind(n)),n.copyForm.init(),n.sumOfferItems.init()}catch(t){console.error("Error TraderInformationModal",t)}})),vo(this,"reInitPicker",(function(){var t=new Gi(n.cache.$block.find("#reportrange"));n.cache.$datepicker.find("span").text(t.langs.today)})),vo(this,"requestStatsFilter",(function(t,e,r,o){var a=n.cache.$block.find(".tag-".concat(e,"-range")),s=a.find(".js-ajax-loader-v2"),c=ze.A.requestAbortable({url:t,beforeSend:function(){"function"==typeof n.cache.statsFilterAbort&&n.cache.statsFilterAbort(),a.addClass("loading-data").addClass("active").siblings().removeClass("active"),s.show(),a.find(".trading-info__k, .trading-info__b").remove(),"copying-stats"===e&&n.cache.$block.trigger("copying-started-date.hide")},complete:function(){n.cache.statsFilterAbort=null,s.hide(),a.removeClass("loading-data")},success:function(t){if(t.html){var s=i()(t.html).find(".trading-info").html();n.tradingStatsCache.push({from:r,to:o,tag:e,html:s}),n.renderTradingStats({$block:a,html:s}),"copying-stats"===e&&t.startCopyDate&&(n.setStartCopyingDate(t.startCopyDate),n.cache.$block.trigger("copying-started-date.show"))}},data:{date_from:r,date_to:o}}).abort;n.cache.statsFilterAbort=c})),vo(this,"requestSocialStatsFilter",(function(t,e){var r=n.cache.$block.find(".tag-".concat(e)),o=r.find(".js-ajax-loader-v2"),a=ze.A.requestAbortable({url:t,beforeSend:function(){"function"==typeof n.cache.socialStatsFilterAbort&&n.cache.socialStatsFilterAbort(),r.addClass("loading-data").addClass("active").siblings().removeClass("active"),o.show(),r.find(".trading-info__k, .trading-info__b").remove()},complete:function(){n.cache.socialStatsFilterAbort=null,o.hide(),r.removeClass("loading-data")},success:function(t){if(t.html){var e=i()(t.html).html();n.socialStatsCache=e,n.renderTradingStats({$block:r,html:e})}}}).abort;n.cache.socialStatsFilterAbort=a})),vo(this,"removeCopyHistoryClickHandler",(function(t){t.preventDefault();var e=i()(t.currentTarget),r=(new I.Ay).getForButton();if(!0!==e.data("is-loading")){var o=ze.A.requestAbortable({url:e.attr("href"),beforeSend:function(){e.data("is-loading",!0),e.addClass("active"),e.prepend(r)},complete:function(){e.data("is-loading",!1),e.find(".".concat(I.pP.base)).remove(),e.addClass("active")},success:function(t){t.status?(u.A.publish(y.Y5,new Pi(t.id)),e.parent().remove(),n.notify.green(t.message)):n.notify.red(t.message)}}).abort;Ni()(n.ajaxAbortFn,"removeCopyHistoryClickHandler",o)}})),vo(this,"getFormData",(function(){return new FormData(n.cache.$form[0])})),vo(this,"setDefaultFormData",(function(){var t,e=ho(n.getFormData());try{for(e.s();!(t=e.n()).done;){var r=fo(t.value,1)[0],i=n.cache.$form.find('input[name="'.concat(r,'"]'));i.val(i.data("default"))}}catch(o){e.e(o)}finally{e.f()}})),vo(this,"copyEditBtnClickHandler",(function(t){var e=i()(t.currentTarget);if(!0===e.data("is-active"))e.removeClass("active"),n.hideForm(),e.data("is-active",!1);else{n.userCopyHistory.closeBlock(),e.addClass("active");var r,o=ho(n.getFormData());try{for(o.s();!(r=o.n()).done;){var a=fo(r.value,2),s=a[0],c=a[1];n.cache.$form.find('input[name="'.concat(s,'"]')).val(c)}}catch(l){o.e(l)}finally{o.f()}n.showForm("put"),e.data("is-active",!0)}})),vo(this,"formSubmitHandler",(function(t){t.preventDefault();var e=n.cache.$form.find("[type=submit]"),r=(new I.Ay).getForButton();if(!0!==e.data("is-loading")&&(n.validateInput(),Object.values(n.formErrors).every((function(t){return!0===t})))){var i=ze.A.requestAbortable({url:n.cache.$form.attr("action"),data:n.cache.$form.serialize(),method:n.cache.$form.attr("method"),beforeSend:function(){e.data("is-loading",!0),e.append(r),n.ajaxAbortFn.hasOwnProperty("formSubmitHandler")&&"function"==typeof n.ajaxAbortFn.formSubmitHandler&&n.ajaxAbortFn.formSubmitHandler()},complete:function(t){n.ajaxAbortFn.hasOwnProperty("removeCopyHistoryClickHandler")&&delete n.ajaxAbortFn.removeCopyHistoryClickHandler,e.data("is-loading",!1),null!=t.responseText&&(0,Ei.A)(t.responseText,(function(t){t&&n.notify.red(n.languages["unknown-error"])})),e.find(".".concat(I.pP.base)).remove()},success:function(t){if(t.status){n.notify.green(t.message),Yi(n.cache.$block,300),n.incDecCopied("inc"),n.incDecCopiedAll("inc"),n.hideForm(),n.showStopCopyBetsBtn(),n.showCopyBlock(t.html);var e=t.user.time_ago,r=void 0===e?{}:e,i=r.d,o=void 0===i?0:i,a=r.h,s=void 0===a?0:a,c=r.m,l=new Oi(o,s,void 0===c?0:c),d=new oi(t.user.uid,t.user.avatarUser,t.user.isOnline,t.user.nickname,l,t.user.asset,t.user.assetLabel,t.user.profit);u.A.publish(y.Nm,d),n.setStartCopyingDate(t.date),n.sumOfferItems.setDefault(),Ni()(window,"tim.isCopy",!0),n.showCopyingStartedDate()}else t.errors&&n.renderFormErrors(t.errors)}}).abort;Ni()(n.ajaxAbortFn,"formSubmitHandler",i)}})),vo(this,"formBackClickHandler",(function(){n.cache.$block.find(".".concat(n.copyEditBtnClassName)).data("is-active",!1).removeClass("active"),n.cache.$copyBtnWrap.find(".".concat(n.copyBtnClassName)).data("is-active",!1).removeClass("active"),n.hideForm()})),vo(this,"hideForm",(function(){n.cache.$block.find(".".concat(n.copyBtnClassName)).data("is-active",!1).removeClass("active"),n.cache.$block.find(".".concat(n.copyEditBtnClassName)).data("is-active",!1).removeClass("active"),n.cache.$form.find(".".concat(n.errorClassName)).removeClass(n.errorClassName),n.cache.$form.find(".".concat(n.successClassName)).removeClass(n.successClassName),n.cache.$form.attr("method","post"),n.cache.$formBlock.addClass(n.hiddenClassName),n.cache.$tabsBlock.removeClass(n.hiddenClassName)})),vo(this,"showForm",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"post";n.cache.$form.attr("method",t),n.cache.$form.find("input").trigger("input"),n.cache.$formBlock.removeClass(n.hiddenClassName),n.cache.$tabsBlock.addClass(n.hiddenClassName)})),vo(this,"delWatchListBtnClickHandler",(function(t){t.preventDefault();var e=i()(t.currentTarget),r=(new I.Ay).getForButton();if(!0!==e.data("is-loading")){var o=ze.A.requestAbortable({url:e.attr("href"),beforeSend:function(){e.data("is-loading",!0),e.attr("disabled","disabled"),e.append(r)},complete:function(){n.ajaxAbortFn.hasOwnProperty("delWatchListBtnClickHandler")&&delete n.ajaxAbortFn.delWatchListBtnClickHandler,e.data("is-loading",!1),e.removeAttr("disabled"),e.find(".".concat(I.pP.base)).remove()},success:function(t){t.status?(n.notify.green(t.message),n.showAddWatchListBtn(),n.incDecWatchlisted("dec"),u.A.publish(y.Xl,new wi(t.user.uid))):n.notify.red(t.message)}}).abort;Ni()(n.ajaxAbortFn,"delWatchListBtnClickHandler",o)}})),vo(this,"addWatchListBtnClickHandler",(function(t){t.preventDefault();var e=i()(t.currentTarget),r=(new I.Ay).getForButton();if(!0!==e.data("is-loading")){var o=ze.A.requestAbortable({url:e.attr("href"),beforeSend:function(){e.data("is-loading",!0),e.attr("disabled","disabled"),e.append(r)},complete:function(t){e.data("is-loading",!1),e.removeAttr("disabled"),e.find(".".concat(I.pP.base)).remove(),t.responseText&&(0,Ei.A)(t.responseText,(function(t){t&&n.notify.red(n.languages["unknown-error"])}))},success:function(t){if(t.status){n.notify.green(t.message),n.showDelWatchListBtn(),n.incDecWatchlisted("inc");var e=t.user.time_ago,r=void 0===e?{}:e,i=r.d,o=void 0===i?0:i,a=r.h,s=void 0===a?0:a,c=r.m,l=new Oi(o,s,void 0===c?0:c),d=new mi(t.user.uid,t.user.avatarUser,t.user.isOnline,t.user.nickname,l,t.user.asset,t.user.assetLabel,t.user.profit);u.A.publish(y.AP,d)}else t.message&&n.notify.red(t.message)}}).abort;Ni()(n.ajaxAbortFn,"addWatchListBtnClickHandler",o)}})),vo(this,"stopCopyBetsClickHandler",(function(t){t.preventDefault();var e=i()(t.currentTarget);if(!0!==e.data("is-loading")){var r=(new I.Ay).getForButton(),o=ze.A.requestAbortable({url:e.attr("href"),beforeSend:function(){e.data("is-loading",!0),e.attr("disabled","disabled"),e.append(r)},complete:function(t){n.ajaxAbortFn.hasOwnProperty("stopCopyBetsClickHandler")&&delete n.ajaxAbortFn.stopCopyBetsClickHandler,e.data("is-loading",!1),e.removeAttr("disabled"),e.find(".".concat(I.pP.base)).remove(),n.hideCopyBlock(),(0,Ei.A)(t.responseText,(function(t,e){t&&n.notify.red(n.languages["unknown-error"])}))},success:function(t){if(t.status?(t.isWaiting||u.A.publish(y.B,new ui(t.data.uid,t.data.traderInfoUrl,t.data.avatar,"offline"===t.data.status?"off":"on",t.data.statusLabel,t.data.nickname,new Oi(t.data.timeAgo.d,t.data.timeAgo.h,t.data.timeAgo.m),t.data.profit,t.data.formattedProfit,t.data.profitClassName)),n.showCopyBetsBtn(),n.notify.green(t.message),n.incDecCopied("dec"),n.setDefaultFormData(),n.hideForm(),n.sumOfferItems.setDefault(),Ni()(window,"tim.isCopy",!1),n.hideCopyingStartedDate()):t.message&&n.notify.red(t.message),t.isWaiting){var e=Lt(n.cache.$isWaitingTpl.html(),"#is-waiting-tpl")();n.cache.$copyBtnWrap.hide(),n.cache.$copyInfoTableWrap.html(e)}}}).abort;Ni()(n.ajaxAbortFn,"stopCopyBetsClickHandler",o)}})),vo(this,"showCopyingStartedDate",(function(){!0===Bt()(window,"tim.isCopy")&&("copying-stats-range"===n.cache.$block.find(".js-tbs-link.active").data("tag")?n.cache.$copyingStartedDate.hasClass("hidden")&&n.cache.$copyingStartedDate.removeClass("hidden"):n.hideCopyingStartedDate())})),vo(this,"hideCopyingStartedDate",(function(){!n.cache.$copyingStartedDate.hasClass("hidden")&&n.cache.$copyingStartedDate.addClass("hidden")})),vo(this,"copyBetsClickHandler",(function(t){t.preventDefault();var e=i()(t.currentTarget);!0!==e.data("is-active")&&(n.userCopyHistory.closeBlock(),e.data("is-active",!0),!e.hasClass("active")&&e.addClass("active"),n.showForm())})),vo(this,"changeFormInputKeyUpHandler",(function(t){var e=i()(t.currentTarget);n.resetInputError(e),n.validateInput()})),vo(this,"disableCopyConfirmBtn",(function(){n.cache.$copyFormBtn.attr("disabled","disabled")})),vo(this,"enableCopyConfirmBtn",(function(){n.cache.$copyFormBtn.removeAttr("disabled")})),this.parentClassName="col-md-6",this.errorClassName="has-error",this.successClassName="has-success",this.copyBtnClassName="js-copy-btn",this.stopCopyBtnClassName="js-stop-copy-btn",this.delFromCopyHistoryBtn="js-del-from-copy-history-btn",this.addWatchListBtnClassName="js-add-watch-list-btn",this.delWatchListBtnClassName="js-del-watch-list-btn",this.copyEditBtnClassName="js-copy-edit-btn",this.hiddenClassName="hidden",this.formErrors=[],this.xhr=null,this.notify=null,this.ajaxAbortFn={},this.languages={},this.userCopyHistory=null,this.sumOfferItems=new oo(this),this.copyForm=new lo(this),this.languages.unlimited=(0,$.tr)("modals.trader-information-modal.unlimited"),this.languages["unknown-error"]=(0,$.tr)("modals.trader-information-modal.unknown-error"),this.transactionAmountLimit,this.currency,this.cache={}},e=[{key:"init",value:function(){go||(this.events(),go=!0)}},{key:"events",value:function(){u.A.subscribe("".concat(y.iz,".trader-information-modal"),this.modalOpen),u.A.subscribe("".concat(y.ub,".trader-information-modal"),this.modalClose)}},{key:"onTabOpened",value:function(t){switch(t){case"social-stats":if(this.socialStatsCache)return this.renderTradingStats({$block:this.cache.$block.find(".tag-".concat(t)),html:this.socialStatsCache});var e=this.cache.$tabsBlock.find('.js-tbs-link[data-tag="'.concat(t,'"]'));return this.requestSocialStatsFilter(e.data("url"),t);case"copying-stats-range":return new Gi(this.cache.$block.find("#reportrange")).triggerRangeClickEvent(0)}}},{key:"dateRangePickerInit",value:function(){var t=this;this.cache.$datepicker.on("range.clicked",(function(e,n,r,i){var o=t.cache.$block.find(".js-tbs-link.active"),a=o.data("tag").replace("-today","").replace("-range","");if("trading-stats"===a?Di(t.cache.$block,0===n?"trading-stats-today":"trading-stats-range"):"copying-stats"===a&&Di(t.cache.$block,"copying-stats-range"),0!==n||"trading-stats"!==a){var s=t.tradingStatsCache.find((function(t){return t.from===r&&t.to===i&&t.tag===a}));if(s){var c=t.cache.$block.find(".tag-".concat(a,"-range"));return t.renderTradingStats({$block:c,html:s.html})}t.requestStatsFilter(o.data("url"),a,r,i)}})),this.reInitPicker()}},{key:"subscribeModalEvents",value:function(){var t=this;this.cache.$inputCopyProportion.on("input change",this.changeFormInputKeyUpHandler),this.cache.$inputMinCopyBetAmount.on("input change",this.changeFormInputKeyUpHandler),this.cache.$inputStopBalance.on("input change",this.changeFormInputKeyUpHandler),this.cache.$inputMaxCopyBetAmount.on("input change",this.changeFormInputKeyUpHandler),this.cache.$backBtn.on("click",this.formBackClickHandler),this.cache.$block.on("click",".".concat(this.copyBtnClassName),this.copyBetsClickHandler),this.cache.$block.on("click",".".concat(this.stopCopyBtnClassName),this.stopCopyBetsClickHandler),this.cache.$block.on("click",".".concat(this.addWatchListBtnClassName),this.addWatchListBtnClickHandler),this.cache.$block.on("click",".".concat(this.delWatchListBtnClassName),this.delWatchListBtnClickHandler),this.cache.$block.on("click",".".concat(this.delFromCopyHistoryBtn),this.removeCopyHistoryClickHandler),this.cache.$block.on("click",".".concat(this.copyEditBtnClassName),this.copyEditBtnClickHandler),this.cache.$form.on("submit",this.formSubmitHandler),this.cache.$block.on("reinit-picker",this.reInitPicker),this.cache.$block.on("hide-copy-form",this.hideForm),this.cache.$block.on("copying-started-date.show",this.showCopyingStartedDate),this.cache.$block.on("copying-started-date.hide",this.hideCopyingStartedDate),this.cache.$block.find(".js_chat_pm_link").on("click",(function(){(0,se.hP)()&&u.A.publish("mobile_close_all_right_sidebar_modals");var e=t.cache.$block.find('input[name="ajaxModalReturnUrl"]');e.length&&e.remove()}))}},{key:"renderTradingStats",value:function(t){var e=t.$block,n=t.html;e.addClass("active").siblings().removeClass("active"),e.find(".trading-info__k, .trading-info__b").remove(),e.find(".trading-info").html(n)}},{key:"showCopyBetsBtn",value:function(){if(0!==this.cache.$copyBtnTpl.length){var t=Lt(this.cache.$copyBtnTpl.html(),"#copy-btn-tpl");this.cache.$copyBtnWrap.empty().html(t())}}},{key:"showStopCopyBetsBtn",value:function(){var t=Lt(this.cache.$stopCopyBtnTpl.html(),"#stop-copy-btn-tpl");this.cache.$copyBtnWrap.empty().html(t())}},{key:"showAddWatchListBtn",value:function(){var t=Lt(this.cache.$addWatchListBtnTpl.html(),"#add-watch-list-btn-tpl");this.cache.$watchListBtnWrap.empty().html(t())}},{key:"showDelWatchListBtn",value:function(){var t=Lt(this.cache.$delWatchListBtnTpl.html(),"#del-watch-list-btn-tpl");this.cache.$watchListBtnWrap.empty().html(t())}},{key:"showCopyBlock",value:function(t){this.cache.$block.find(".js-actions .btn-wrap__top").replaceWith(t)}},{key:"hideCopyBlock",value:function(){var t=this.cache.$block.find(".js-actions .btn-wrap__top");if(t.empty(),0!==this.cache.$delFromCopyHistoryTpl.length){var e=Lt(this.cache.$delFromCopyHistoryTpl.html(),"#del-from-copy-history-tpl");t.html(e)}}},{key:"renderFormErrors",value:function(t){var e=this;if("string"==typeof t)return this.notify.red(t);[this.cache.$inputMinCopyBetAmount,this.cache.$inputMaxCopyBetAmount,this.cache.$inputStopBalance,this.cache.$inputCopyProportion].forEach((function(n){var r=n.attr("name"),i=n.closest(".".concat(e.parentClassName));t.hasOwnProperty(r)?i.hasClass(e.errorClassName)||i.addClass(e.errorClassName):(i.hasClass(e.errorClassName)&&i.removeClass(e.errorClassName),i.addClass(e.successClassName))}))}},{key:"incDecCopied",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"inc",e=parseInt(this.cache.$countCopiedBlock.first().text())||0;(e="inc"===t?e+1:e-1)<0&&(e=0),this.cache.$countCopiedBlock.text(e)}},{key:"incDecCopiedAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"inc",e=parseInt(this.cache.$countCopiedBlockAll.first().text())||0;(e="inc"===t?e+1:e-1)<0&&(e=0),this.cache.$countCopiedBlockAll.text(e)}},{key:"incDecWatchlisted",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"inc",e=parseInt(this.cache.$countWatchListedBlock.first().text())||0;(e="inc"===t?e+1:e-1)<0&&(e=0),this.cache.$countWatchListedBlock.text(e)}},{key:"setStartCopyingDate",value:function(t){if(t){var e=this.cache.$copyingStartedDate.find(".copying-started-date__date");e.length&&e.html(t);var n=this.cache.$tabsBlock.find('.js-tbs-link[data-tag="copying-stats-range"]');n.hasClass("hidden")&&n.removeClass("hidden")}}},{key:"filterInputText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===e?vn(t,this.currency):gn(t,e,!1)}},{key:"resetInputError",value:function(t){var e=t.closest(".".concat(this.parentClassName));e.hasClass(this.errorClassName)&&e.removeClass(this.errorClassName),e.hasClass(this.successClassName)&&e.removeClass(this.successClassName)}},{key:"addErrorClass",value:function(t){t.hasClass(this.successClassName)&&t.removeClass(this.successClassName),!t.hasClass(this.errorClassName)&&t.addClass(this.errorClassName)}},{key:"addSuccessClass",value:function(t){t.hasClass(this.errorClassName)&&t.removeClass(this.errorClassName),!t.hasClass(this.successClassName)&&t.addClass(this.successClassName)}},{key:"validateInput",value:function(){var t={copy_proportion:this.copyForm.validateCopyProportionField(this.cache.$inputCopyProportion.val()),stop_balance:this.copyForm.validateStopBalance(this.cache.$inputStopBalance.val()),min_copy_bet_amount:this.copyForm.validateMinCopyTradeAmount(this.cache.$inputMinCopyBetAmount.val()),max_copy_bet_amount:this.copyForm.validateMaxCopyTradeAmount(this.cache.$inputMaxCopyBetAmount.val())};for(var e in t){var n=t[e],r=this.cache.$form.find('[name="'.concat(e,'"]')).closest(".".concat(this.parentClassName));n?this.addSuccessClass(r):this.addErrorClass(r)}this.copyForm.changeFieldTextCopyInProportion(),this.copyForm.changeFieldTextStopBalance(),this.copyForm.changeFieldTextMaxCopyTradeAmount(),this.copyForm.changeMessageMaxCopyTradeAmount(),this.copyForm.changeFieldTextMinCopyTradeAmount(),this.copyForm.changeMessageMinCopyTradeAmount();var i=Object.values(t).every((function(t){return!0===t}));i?this.enableCopyConfirmBtn():this.disableCopyConfirmBtn()}}],e&&yo(t.prototype,e),n&&yo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),jo=wo,xo=n(95616);function _o(t){return function(t){if(Array.isArray(t))return So(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return So(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?So(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Oo=function(){u.A.subscribe(y.yi,(function(t,e){!function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Date.now(),r=AppData["base-url"]+"themes/cabinet/css";xo('link[class="desktop.theme"]').attr("href",r+"/desktop.theme-"+t+".min.css?v="+n),e&&xo('link[class="mobile.theme"]').attr("href",r+"/mobile.theme-"+t+".min.css?v="+n);var i=document.documentElement.classList,o=Array.from(i).filter((function(t){return t.startsWith("theme-")}));i.add("theme-".concat(t)),setTimeout((function(){return i.remove.apply(i,_o(o))}),300)}(e.val,(0,se.hP)())}))},ko=n(93704),To=function(t,e){return{type:ko.U_,payload:{type:t,val:e}}},Ao="connect_error",Co="reconnect_error",Po="reconnect_failed",Eo="counters.update-all",Io="counters.update",No="popups.show";function Do(t){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(t)}function Lo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mo(r.key),r)}}function Mo(t){var e=function(t,e){if("object"!=Do(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Do(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Do(e)?e:e+""}var Ro=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"init",value:function(){(0,Q.A)("is-demo-profile")||(i()(document).on("counter",(function(t){return(0,cn.JD)(To(t.detail.type,t.detail.count))})),u.A.subscribe(Eo,(function(t,e){Object.keys(e).map((function(t){return(0,cn.JD)(To(t,e[t]))}))})),u.A.subscribe(Io,(function(t,e){var n=e.counterType,r=e.value;(0,cn.JD)(To(n,r))})))}}],e&&Lo(t.prototype,e),n&&Lo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Bo=Ro;n(67068),n(56376);function Ho(t){return Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(t)}function $o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fo(r.key),r)}}function Fo(t){var e=function(t,e){if("object"!=Ho(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ho(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ho(e)?e:e+""}var Wo=i()(".js-open-chat-image-modal"),Uo=function(){return t=function t(){var e,n,r,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=function(t){var e=t.detail,n=e.preview,r=e.url,o=e.username,a=i.dataSubstitution(o,n,r);(new Z.pc).openWithHtml(a)},(n=Fo(n="openImageClickHandler"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r},(e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){document.addEventListener("chat.openImage",this.openImageClickHandler)}},{key:"dataSubstitution",value:function(t,e,n){return Wo.find(".js-title").text(t),Wo.find(".js-img").attr("src",e).attr("alt",t),Wo.find(".js-img-link").attr("href",n),Wo.prop("outerHTML")}}])&&$o(t.prototype,e),n&&$o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Vo=Uo,Go=n(32858),zo=n.n(Go),Yo=function(){var t=i()(".wrapper__top").innerHeight(),e=null,n=null,r=!1,o=zo()((function(){r=!0;var i=window.scrollY,o=i<t?t-i:0;n!==o&&e&&e.css("top","".concat(o,"px")),n=o}),10);(0,se.hP)()||tt()||(u.A.subscribe(y.Zl,(function(){e=i()(".chat_app"),o(),window.addEventListener("scroll",o)})),u.A.subscribe(y.FU,(function(){window.removeEventListener("scroll",o)})),setTimeout((function(){r||(e=i()(".chat_app")).is(":visible")&&(window.addEventListener("scroll",o),o())}),7e3))},Xo=function(){i()(".js-delete-button .js-close").on("click",(function(t){t.preventDefault(),t.stopPropagation();var e=i()(t.currentTarget).parent(".js-delete-button");ze.A.request({url:(0,tn.hX)("cabinet/api/hide-button/"+e.data("type")),success:function(t){!0===t.status&&e.parent().remove()}})}))},qo=n(27673),Ko=n(18446),Zo=n.n(Ko),Jo=n(43168);function Qo(t){return Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(t)}function ta(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ea(r.key),r)}}function ea(t){var e=function(t,e){if("object"!=Qo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qo(e)?e:e+""}function na(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.add(t)}function ra(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ia={AUTH_TIMEOUT:12e3,SOCKET_TIMEOUT:1e4,TRANSPORT:["websocket"],RECONNECT_INITIAL_DELAY:1e3,RECONNECT_MAX_DELAY:3e4,RECONNECT_MULTIPLIER:1.5,PING_INTERVAL:3e4},oa=new WeakSet,aa=function(){return t=function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),na(this,oa),ma._)return ma._;window.CountersServiceApp&&(this.initialize(),ma._=this)},(e=[{key:"initialize",value:function(){this.socket=null,this.serverUrl=window.CountersServiceApp.url,this.authTimeoutChecker=null,this.isManuallyDisconnected=!1,this.reconnectAttempt=0,this.reconnectTimeout=null,this.pingInterval=null}},{key:"emitAuth",value:function(){var t=this;if(this.socket&&!this.isManuallyDisconnected){ra(oa,this,sa).call(this),this.authTimeoutChecker=setTimeout((function(){console.log("COUNTERS: no answer, disconnecting..."),t.disconnect()}),ia.AUTH_TIMEOUT);var e=window.CountersServiceApp,n=e.userSecret,r=e.userId,i=e.lang,o=e.currentUrl;this.socket.emit("auth",{sessionToken:n,uid:r,lang:i,currentUrl:o})}}},{key:"sendPopupsShowEvent",value:function(t){if(this.socket&&!this.isManuallyDisconnected){var e=window.CountersServiceApp.userId,n=window.location.href;this.socket.emit("popups/viewed",{popupId:t,userId:e,url:n})}}},{key:"sendPopupsClosedEvent",value:function(t){if(this.socket&&!this.isManuallyDisconnected){var e=window.CountersServiceApp.userId,n=window.location.href;this.socket.emit("popups/closed",{popupId:t,userId:e,url:n})}}},{key:"connect",value:function(){this.isManuallyDisconnected||(this.socket&&(this.socket.removeAllListeners(),this.socket.disconnect(),this.socket=null),this.socket=(0,Jo.Ay)(this.serverUrl,{transports:ia.TRANSPORT,timeout:ia.SOCKET_TIMEOUT,reconnection:!1,forceNew:!0,autoConnect:!1}),ra(oa,this,pa).call(this),this.socket.connect())}},{key:"disconnect",value:function(){ra(oa,this,sa).call(this),ra(oa,this,ca).call(this),ra(oa,this,la).call(this),this.isManuallyDisconnected=!0,this.socket&&(this.socket.removeAllListeners(),this.socket.disconnect(!0),this.socket=null)}}])&&ta(t.prototype,e),n&&ta(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function sa(){this.authTimeoutChecker&&(clearTimeout(this.authTimeoutChecker),this.authTimeoutChecker=null)}function ca(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}function la(){this.pingInterval&&(clearInterval(this.pingInterval),this.pingInterval=null)}function ua(){var t=this;ra(oa,this,la).call(this),this.pingInterval=setInterval((function(){t.socket&&t.socket.connected&&t.socket.emit("ping-server")}),ia.PING_INTERVAL)}function da(){var t=ia.RECONNECT_INITIAL_DELAY*Math.pow(ia.RECONNECT_MULTIPLIER,this.reconnectAttempt);return Math.min(t,ia.RECONNECT_MAX_DELAY)}function fa(){var t=this;if(!this.isManuallyDisconnected){ra(oa,this,ca).call(this);var e=ra(oa,this,da).call(this);this.reconnectTimeout=setTimeout((function(){t.reconnectAttempt++,t.connect()}),e)}}function ha(t,e){null!=e&&e.message&&console.log("Error due to:",e.message),ra(oa,this,fa).call(this)}function pa(){var t=this;if(this.socket){this.socket.on("connect",(function(){t.reconnectAttempt=0,t.emitAuth()}));var e=function(e){return function(n){return ra(oa,t,ha).call(t,e,n)}};this.socket.on(Ao,e(Ao)),this.socket.on(Co,e(Co)),this.socket.on(Po,e(Po)),this.socket.on("disconnect",(function(e){ra(oa,t,sa).call(t),ra(oa,t,la).call(t),t.isManuallyDisconnected="io server disconnect"===e,t.socket&&(t.socket.off(),t.socket=null),t.isManuallyDisconnected||ra(oa,t,fa).call(t)})),this.socket.on("auth/success",(function(){console.log("COUNTERS: Success auth"),ra(oa,t,sa).call(t),ra(oa,t,ua).call(t)})),this.socket.on("counters/all/success",(function(t){u.A.publish(Eo,t)})),this.socket.on("counters/update/success",(function(t){u.A.publish(Io,t)})),this.socket.on("popups/show/success",(function(t){u.A.publish(No,t)})),this.socket.on("popups/close-all-by-id",(function(t){u.A.publish("".concat(y.ub,".","popup-".concat(t.popupId)),{callAfterClose:!1})}))}}var ma={_:null},ya=new aa;function va(t){return va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},va(t)}function ba(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ga(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ga(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ga(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ja(r.key),r)}}function ja(t){var e=function(t,e){if("object"!=va(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=va(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==va(e)?e:e+""}var xa=function(){return t=function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t.instance)return t.instance;t.instance=this,this.modalQueue=[],this.currentModal=null,this.eventManager=null,this.store=null,this.storeOnModalOpenCb=null,this.storeOnModalCloseCb=null,this.magnificPopup=new Z.pc,this.modalsConfig={},this.isReady=!1},e=[{key:"setConfig",value:function(t){this.modalsConfig=t}},{key:"addConfig",value:function(t,e){this.modalsConfig[t]=e}},{key:"setReady",value:function(t){this.isReady=t,this.isReady&&this.processQueue()}},{key:"setEventManager",value:function(t){this.eventManager=t,this.subscribeToModalCloseEvents()}},{key:"subscribeToModalCloseEvents",value:function(){var t=this;this.eventManager&&Object.keys(this.modalsConfig).forEach((function(e){var n=t.modalsConfig[e].domId||e;t.eventManager.subscribe("".concat(y.ub,".").concat(n),(function(){t.currentModal&&t.currentModal.type===e&&t.closeCurrentModal()}))}))}},{key:"setStore",value:function(t,e){var n=e.onModalOpen,r=void 0===n?null:n,i=e.onModalClose,o=void 0===i?null:i;this.store=t,Zo()(r)&&(this.storeOnModalOpenCb=r),Zo()(o)&&(this.storeOnModalCloseCb=o)}},{key:"addModal",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.hasModalInQueue(t)){var r=this.modalsConfig[t];if(!r&&null!=e&&e.config&&(this.addConfig(t,e.config),r=e.config),r){var i={type:t,data:e,priority:r.priority||1/0,config:r};this.modalQueue.push(i),this.modalQueue.sort((function(t,e){return t.priority-e.priority})),n&&this.isReady&&this.processQueue()}}}},{key:"hasModalInQueue",value:function(t){return this.modalQueue.some((function(e){return e.type===t}))||null!==this.currentModal&&this.currentModal.type===t}},{key:"processQueue",value:function(){this.isReady?null===this.currentModal&&this.modalQueue.length>0&&(this.currentModal=this.modalQueue.shift(),this.openModal(this.currentModal)):console.warn("ModalManager is not ready. Queue processing deferred.")}},{key:"removeModalFromQueue",value:function(t){this.modalQueue=this.modalQueue.filter((function(e){return e.type!==t}))}},{key:"openModal",value:function(t){var e=t.config;e.beforeOpen&&e.beforeOpen(),e.ajaxUrl?this.magnificPopup.openWithAjax(e.ajaxUrl,e.options||{}):this.store&&this.storeOnModalOpenCb&&this.store.dispatch(this.storeOnModalOpenCb({modalId:t.type,value:t.data})),e.afterOpen&&e.afterOpen()}},{key:"closeCurrentModal",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.currentModal){var e={};this.currentModal.data.config?e=this.currentModal.data.config:this.modalsConfig[this.currentModal.type]&&(e=this.modalsConfig[this.currentModal.type]),e.ajaxUrl&&this.magnificPopup.close(),this.store&&this.storeOnModalCloseCb&&this.store.dispatch(this.storeOnModalCloseCb({modalId:this.currentModal.type,value:!1})),t&&e.afterClose&&e.afterClose(),u.A.publish("MODALS_MANAGER.CLOSE.".concat(this.currentModal.type)),this.currentModal=null,this.processQueue()}}},{key:"processInitialData",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=0,n=Object.entries(t);e<n.length;e++){var r=ba(n[e],2),i=r[0],o=r[1];if(i.startsWith("show_")&&i.endsWith("_modal")&&o){var a=i.replace("show_","").replace("_modal","");this.addModal(a,o,!1)}}this.setReady(!0)}},{key:"subscribeToPopups",value:function(){var t=this;this.eventManager&&this.eventManager.subscribe(No,(function(e,n){var r=n.popupId;r&&(t.addModal("popup-".concat(r),{config:{ajaxUrl:(0,tn.hX)("cabinet/ajax/popup/"+r),afterOpen:function(){ya.sendPopupsShowEvent(r)},afterClose:function(){ya.sendPopupsClosedEvent(r)}}}),t.eventManager.subscribe("".concat(y.ub,".","popup-".concat(r)),(function(e,n){var i=n.callAfterClose,o=void 0===i||i;r&&t.currentModal&&t.currentModal.type==="popup-".concat(r)&&t.closeCurrentModal(o)})))}))}}],e&&wa(t.prototype,e),n&&wa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),_a=new xa,Sa=function(){i()("body").delegate(".js-open-welcome-modal","click",(function(){_a.addModal(qo.lx.WELCOME_BONUS,!0)}))};function Oa(t){return Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oa(t)}function ka(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ta(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Oa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Oa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Oa(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Aa=function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){return void console.error("Invalid JSON string provided for dataLayer:",t)}t=Ca(t),window.dataLayer=window.dataLayer||[],window.dataLayer.push(t)},Ca=function(t){if(!Object.prototype.hasOwnProperty.call(t,"event")||"gtm_events"!==t.event)return t;var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ka(Object(n),!0).forEach((function(e){Ta(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ka(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);return["ga4_event_param1","ga4_event_param2","ga4_event_param3","ga4_event_param4","ga4_event_param5","event_value"].forEach((function(n){Object.prototype.hasOwnProperty.call(t,n)||(e[n]=void 0)})),e};window.trackEvent=Aa;var Pa=function(){i()("body").on("click","[data-layout]",(function(t){return Aa(i()(t.currentTarget).data("layout"))}))};i()('.drop-down-modal--balance .balance-collapse--my-safe .balance-item__buttons a[href*="?mo=deposit"]').on("click",(function(t){var e=i()(t.currentTarget).closest(".balance-item").data("balance-type");e&&Aa({event:"gtm_events",ga4_event_name:"account_types__safe_top_up",ga4_event_param1:e})})),i()('.drop-down-modal--balance .balance-collapse--my-safe .balance-item__buttons a[href*="?mo=withdrawal"]').on("click",(function(t){var e=i()(t.currentTarget).closest(".balance-item").data("balance-type");e&&Aa({event:"gtm_events",ga4_event_name:"account_types__safe_withdraw",ga4_event_param1:e})}));var Ea=i()(".drop-down-modal--balance"),Ia=Ea.find("a.balance-item"),Na=Ea.find(".balance-item-group-wrap--mt a.balance-item-group"),Da=Ea.find(".balance-item-group-wrap--safe a.balance-item-group__link");Ia.add(Na).add(Da).on("click",(function(t){var e;e=t.currentTarget.dataset.type,Aa({event:"gtm_events",ga4_event_name:"account_types__select",ga4_event_param1:e})}));var La={$fastDepositModal:i()(".fast-deposit-modal"),$depositStep2Block:i()("#content .js-step2"),$balanceInfoBlock:i()(".site-header .balance-info-block")},Ma=function(){return La.$depositStep2Block.find('input[name="method"]').val().toLowerCase()},Ra=function(){return La.$depositStep2Block.find('input[name="amount"]').val()},Ba=function(){return La.$fastDepositModal.find('select[name="method"]').val().toLowerCase()},Ha=function(){return La.$balanceInfoBlock.find(".your-level-badge").data("level")},$a=function(){return La.$balanceInfoBlock.data("balance-type")};i()(".drop-down-modal--balance a.js-deposit-btn").on("click",(function(){Aa({event:"gtm_events",ga4_event_name:"account_types__top_up",ga4_event_param1:$a(),ga4_event_param2:Ha()})})),i()('.drop-down-modal--balance .balance-item__bottom a[href*="exchange-modal"]').on("click",(function(){Aa({event:"gtm_events",ga4_event_name:"account_types__transfer",ga4_event_param1:$a()})})),i()('.drop-down-modal--balance .balance-item__bottom a[href*="cabinet/withdrawal"]').on("click",(function(){Aa({event:"gtm_events",ga4_event_name:"account_types__withdraw",ga4_event_param1:$a()})})),i()("body").on("click",".deposit-step-1 .js-payments-item",(function(t){var e=i()(t.currentTarget);Aa({event:"gtm_events",ga4_event_name:"deposit__choose_pm",ga4_event_param1:e.data("method"),ga4_event_param2:e.prevAll(".js-payments-category:first").data("category")})})),i()("body").on("click",".deposit-step-1 .deposit-filters .js-sort-btn-1",(function(){Aa({event:"gtm_events",ga4_event_name:"deposit__choose_view",ga4_event_param1:0})})).on("click",".deposit-step-1 .deposit-filters .js-sort-btn-2",(function(){Aa({event:"gtm_events",ga4_event_name:"deposit__choose_view",ga4_event_param1:1})})),i()("body").on("focus",'.deposit-step-1 .deposit-filters input[name="q"]',(function(){Aa({event:"gtm_events",ga4_event_name:"deposit__focus_search"})})),i()("body").on("click",'.deposit-step-1 .support-text__links a[href*="support/create"]',(function(){Aa({event:"gtm_events",ga4_event_name:"deposit__support"})})),i()("body").on("click",'.deposit-step-1 .support-text__links a[href*="platform-guide"]',(function(){Aa({event:"gtm_events",ga4_event_name:"deposit__user_guide"})}));var Fa="event_open_sidebar_modal",Wa="event_close_sidebar_modal";document.addEventListener("showChatCallback",(function(){return Ya()})),u.A.subscribe(Fa,(function(t,e){var n=e.id,r=i()('.js-left-sidebar a[data-menu-id="'.concat(n,'"]'));0!==r.length&&r.parent().addClass("open-menu")})),u.A.subscribe(Wa,(function(t,e){var n=e.id,r=i()('.js-left-sidebar a[data-menu-id="'.concat(n,'"]'));0!==r.length&&r.parent().removeClass("open-menu")}));var Ua,Va=function(t){var e=i()(t.currentTarget).data("menu-id");e&&Ga(e)},Ga=function(t){var e=Ua.find("> .left-sidebar-menu");if(e.length){var n=e.data("id");if(Ya(t),n===t)return}za(t)},za=function(t){var e=i()('body > .hidden > .left-sidebar-menu[data-id="'.concat(t,'"]'));if(0!==e.length){var n=e.clone();i()(".js-left-sidebar").hasClass("fixed")&&n.addClass("fixed");var r='\n        <span class="current-arrow">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M12.6 12L8.70005 8.10005C8.51672 7.91672 8.42505 7.68338 8.42505 7.40005C8.42505 7.11672 8.51672 6.88338 8.70005 6.70005C8.88338 6.51672 9.11672 6.42505 9.40005 6.42505C9.68338 6.42505 9.91672 6.51672 10.1 6.70005L14.7 11.3C14.8 11.4 14.8709 11.5084 14.9125 11.625C14.9542 11.7417 14.975 11.8667 14.975 12C14.975 12.1334 14.9542 12.2584 14.9125 12.375C14.8709 12.4917 14.8 12.6 14.7 12.7L10.1 17.3C9.91672 17.4834 9.68338 17.575 9.40005 17.575C9.11672 17.575 8.88338 17.4834 8.70005 17.3C8.51672 17.1167 8.42505 16.8834 8.42505 16.6C8.42505 16.3167 8.51672 16.0834 8.70005 15.9L12.6 12Z" fill="currentColor"/>\n            </svg>\n        </span>\n    ';0===n.find(".active > a").find(".to-right").length&&(r='<span class="to-right"></span>'+r),n.find(".active > a").append(r),Ua.prepend(n),setTimeout((function(){qa(),u.A.publish(Fa,{id:t})}),0)}},Ya=function(){if(Ua instanceof i()&&0!==Ua.length){var t=Ua.find("> .left-sidebar-menu"),e=t.data("id");t.remove(),Ka(),u.A.publish(Wa,{id:e})}},Xa=function(t){0===i()(t.target).closest(".left-sidebar-menu").length&&Ya()},qa=function(){window.addEventListener("click",Xa)},Ka=function(){window.removeEventListener("click",Xa)},Za=function(){0===(Ua=i()("#content")).length&&(Ua=i()(".site-content")),0!==Ua.length&&i()("body").on("click",".js-left-sidebar-menu",Va)},Ja=(0,se.hP)(),Qa=function(t){return"support"===t?"help":t},ts=function(t){Aa({event:"gtm_events",ga4_event_name:"left_menu__".concat(Qa(t)),event_value:1})},es=function(t){Aa({event:"gtm_events",ga4_event_name:"left_menu__".concat(Qa(t)),event_value:0})};if(Ja){var ns=i()(".js-hseow .js-back");ns.length&&ns.on("click",(function(){var t=ns.closest(".hseow__body").find('div[class^="level-"]').filter(":visible");if(t.length){var e=t.attr("class").replace("level-","");es(e)}}));var rs=i()(".js-ml-menu-level-1 a[data-level2]");if(rs.length&&rs.on("click",(function(t){if(t.currentTarget.hasAttribute("id")){var e=t.currentTarget.getAttribute("id").replace("menu_","");ts(e)}})),(0,se.yq)()){var is=i()(".js-ml-menu-level-1 .tournament-nav a:not([data-level2])");is.length&&is.on("click",(function(t){if(t.currentTarget.hasAttribute("id")){var e=t.currentTarget.getAttribute("id").replace("menu_","");ts(e)}}))}}else u.A.subscribe(Fa,(function(t,e){var n=e.id;return ts(n)})),u.A.subscribe(Wa,(function(t,e){var n=e.id;return es(n)}));var os=(0,se.hP)(),as=function(){Aa({event:"gtm_events",ga4_event_name:"left_menu__chat",ga4_event_value:1})},ss=function(){Aa({event:"gtm_events",ga4_event_name:"left_menu__chat",ga4_event_value:0})};os?(i()(".js-ml-menu-level-1 a#menu_chat").on("click",(function(){as()})),i()(".js-hseow .top-actions .js-back").on("click",(function(){i()("body").hasClass("s-chat_open")&&ss()}))):i()("body").on("click","#chat-block-trigger",(function(){i()("#chat_app").is(":visible")?as():ss()})),u.A.subscribe(Me,(function(t,e){"left"===e&&Aa({event:"gtm_events",ga4_event_name:"left_menu__hide"})}));var cs=(0,se.hP)(),ls=function(){return Aa({event:"gtm_events",ga4_event_name:"left_menu__log_out"})};cs?i()(".js-hseow .js-ml-menu-level-1 a#menu_logout").on("click",(function(){return ls()})):i()("body").on("click",'.js-left-sidebar a[href*="logout"]',(function(){return ls()}));var us=(0,se.hP)(),ds=function(){return Aa({event:"gtm_events",ga4_event_name:"left_menu__pocket_friends"})};us?i()(".js-hseow .js-ml-menu-level-1 .pocket-friends-sidebar-btn").on("click",(function(){return ds()})):i()("body").on("click",".js-left-sidebar .pocket-friends-sidebar-btn",(function(){return ds()})),u.A.subscribe(Be,(function(t,e){"left"===e&&Aa({event:"gtm_events",ga4_event_name:"left_menu__show"})})),i()(".balance-item__change-currency-link").on("click",(function(){Aa({event:"gtm_events",ga4_event_name:"change_currency__show"})})),i()("body").on("changed.bs.select","#welcome-modal .selectpicker-country",(function(t){Aa({event:"gtm_events",ga4_event_name:"onboarding_acc_settings__choose_country",param_1:t.target.value})})),i()("body").on("changed.bs.select","#welcome-modal .selectpicker-currency",(function(t){Aa({event:"gtm_events",ga4_event_name:"onboarding_acc_settings__choose_currency",param_1:t.target.value})})),i()("body").on("submit","#welcome-modal form",(function(){Aa({event:"gtm_events",ga4_event_name:"onboarding_acc_settings__confirm"})})),u.A.subscribe("".concat(y.iz,".welcome-modal"),(function(){Aa({event:"gtm_events",ga4_event_name:"onboarding_acc_settings__show"})})),i()("body").on("click",".deposit-step-2 .js-step2 .js-prev",(function(t){Aa({event:"gtm_events",ga4_event_name:"pm_deposit__back",ga4_event_param1:Ma()})})),i()("body").on("click",".deposit-step-2 .js-step2 .deposit-chest-list__item",(function(t){Aa({event:"gtm_events",ga4_event_name:"pm_deposit__choose_chest",ga4_event_param1:Ma(),ga4_event_param2:i()(t.currentTarget).data("type")})})),i()("body").on("submit",".deposit-step-2 .js-step2 form",(function(t){var e=i()(t.currentTarget).find('input[name="bonus_code"]'),n={event:"gtm_events",ga4_event_name:"pm_deposit__deposit",ga4_event_param1:Ma(),ga4_event_param2:Ra()};e.length&&e.val().length&&(n.ga4_event_param3=e.val()),Aa(n)})),i()("body").on("focus",'.deposit-step-2 .js-step2 input[name="amount"]',(function(){Aa({event:"gtm_events",ga4_event_name:"pm_deposit__focus_amount",ga4_event_param1:Ma()})})),i()("body").on("focus",'.deposit-step-2 .js-step2 input[name="bonus_code"]',(function(){Aa({event:"gtm_events",ga4_event_name:"pm_deposit__focus_promo",ga4_event_param1:Ma()})})),i()("body").on("change",".deposit-step-2 .js-step2 .js-promocode-checkbox",(function(t){var e=i()(t.target);Aa({event:"gtm_events",event_value:e.is(":checked")?1:0,ga4_event_name:"pm_deposit__have_promo",ga4_event_param1:Ba()})})),document.addEventListener("deposit-step-2-bonus-code-error",(function(t){var e;Aa({event:"gtm_events",ga4_event_name:"pm_deposit__promo_warning",ga4_event_param1:Ma(),ga4_event_param2:Ra(),ga4_event_param3:null===(e=t.detail)||void 0===e?void 0:e.type})})),i()("body").on("click",'.deposit-step-2 .js-step2 .support-text__links a[href*="support/create"]',(function(){Aa({event:"gtm_events",ga4_event_name:"pm_deposit__support",ga4_event_param1:Ma()})})),i()("body").on("click",'.deposit-step-2 .js-step2 .support-text__links a[href*="platform-guide"]',(function(){Aa({event:"gtm_events",ga4_event_name:"pm_deposit__user_guide",ga4_event_param1:Ma()})})),i()("body").on("click",".pocket-friends .js-btn-calculator",(function(){return Aa({event:"gtm_events",ga4_event_name:"pocket_friends__bonus_calculator"})})),i()("body").on("click",".pocket-friends .get-referral-link-block .btn-copy-link",(function(){return Aa({event:"gtm_events",ga4_event_name:"pocket_friends__copy_link_left"})})),i()("body").on("click",'.pocket-friends .your-pocket-friends-list a[href*="cabinet/ajax/modal/trader-information"]',(function(){return Aa({event:"gtm_events",ga4_event_name:"pocket_friends__pick_user"})})),i()("body").on("click",".pocket-friends .your-pocket-friends-list .btn-share-your-link",(function(){return Aa({event:"gtm_events",ga4_event_name:"pocket_friends__share_footer"})})),i()("body").on("click",".pocket-friends .get-referral-link-block .btn-share-your-link",(function(){return Aa({event:"gtm_events",ga4_event_name:"pocket_friends__share_left"})}));var fs={},hs=function(){Aa({event:"gtm_events",ga4_event_name:"pocket_friends__share_pop_up_copy"})};u.A.subscribe("".concat(y.iz,".pocket-friends-share-modal"),(function(){fs.modal=document.querySelector(".pocket-friends-share-modal"),fs.modal&&(fs.btn=fs.modal.querySelector(".info-block__addon"),fs.btn&&fs.btn.addEventListener("click",hs))})),u.A.subscribe("".concat(y.ub,".pocket-friends-share-modal"),(function(){fs.btn&&fs.btn.removeEventListener("click",hs),fs={}}));var ps={},ms=function(){Aa({event:"gtm_events",ga4_event_name:"pocket_friends__share_pop_up_qr"})};u.A.subscribe("".concat(y.iz,".pocket-friends-share-modal"),(function(){ps.modal=document.querySelector(".pocket-friends-share-modal"),ps.modal&&(ps.btn=ps.modal.querySelector(".info-block__qr-code"),ps.btn&&ps.btn.addEventListener("click",ms))})),u.A.subscribe("".concat(y.ub,".pocket-friends-share-modal"),(function(){ps.btn&&ps.btn.removeEventListener("click",ms),ps={}})),u.A.subscribe("".concat(y.iz,".pocket-friends-share-modal"),(function(){Aa({event:"gtm_events",ga4_event_name:"pocket_friends__share_pop_up_show"})}));var ys={},vs=function(t){Aa({event:"gtm_events",ga4_event_name:"pocket_friends__share_pop_up_social",param1:t.currentTarget.dataset.type})};u.A.subscribe("".concat(y.iz,".pocket-friends-share-modal"),(function(){ys.modal=document.querySelector(".pocket-friends-share-modal"),ys.modal&&(ys.items=ys.modal.querySelectorAll(".share-to__item"),ys.items&&ys.items.forEach((function(t){return t.addEventListener("click",vs)})))})),u.A.subscribe("".concat(y.ub,".pocket-friends-share-modal"),(function(){ys.items&&ys.items.forEach((function(t){return t.removeEventListener("click",vs)})),ys={}})),i()("body").on("click",'.pocket-friends a[href*="/pdf/pocket-friends"]',(function(){return Aa({event:"gtm_events",ga4_event_name:"pocket_friends__terms"})})),i()("body").on("click",'.left-sidebar-menu[data-id="profile"] a[href*="cabinet/loyalty-program"], .page-top-tabs a[href*="cabinet/loyalty-program"]',(function(){return Aa({event:"gtm_events",ga4_event_name:"profile__loyalty_program"})})),i()("body").on("click",'.left-sidebar-menu[data-id="profile"] a[href*="cabinet/pocket-friends"], .page-top-tabs a[href*="cabinet/pocket-friends"]',(function(){return Aa({event:"gtm_events",ga4_event_name:"profile__pocket_friends"})})),i()("body").on("click",'.left-sidebar-menu[data-id="profile"] a[href*="cabinet/profile"], .page-top-tabs a[href*="cabinet/profile"]',(function(){return Aa({event:"gtm_events",ga4_event_name:"profile__profile"})})),i()("body").on("click",'.left-sidebar-menu[data-id="profile"] a[href*="cabinet/security"], .page-top-tabs a[href*="cabinet/security"]',(function(){return Aa({event:"gtm_events",ga4_event_name:"profile__security"})})),i()("body").on("click",'.left-sidebar-menu[data-id="profile"] a[href*="cabinet/trading-history"], .page-top-tabs a[href*="cabinet/trading-history"]',(function(){return Aa({event:"gtm_events",ga4_event_name:"profile__trading_history"})})),i()("body").on("click",'.left-sidebar-menu[data-id="profile"] a[href*="cabinet/trading-profile"], .page-top-tabs a[href*="cabinet/trading-profile"]',(function(){return Aa({event:"gtm_events",ga4_event_name:"profile__trading_profile"})})),i()("body").on("click",".drop-down-modal__wrap--active .fast-deposit-modal .btn-wrap .fast-deposit-modal__link",(function(){Aa({event:"gtm_events",ga4_event_name:"quick_top_up__change_pm",ga4_event_param1:Ba()})})),i()("body").on("click",".drop-down-modal__wrap--active .drop-down-modal__close-icon.js-drop-down-modal-close",(function(){Aa({event:"gtm_events",ga4_event_name:"quick_top_up__close",ga4_event_param1:Ba()})})),i()("body").on("submit",".drop-down-modal__wrap--active .fast-deposit-modal form",(function(){Aa({event:"gtm_events",ga4_event_name:"quick_top_up__deposit",ga4_event_param1:Ba(),ga4_event_param2:La.$fastDepositModal.find('input[name="amount"]').val()})})),i()("body").on("focus",'.drop-down-modal__wrap--active .fast-deposit-modal input[name="amount"]',(function(){Aa({event:"gtm_events",ga4_event_name:"quick_top_up__focus_amount",ga4_event_param1:Ba()})})),i()("body").on("focus",'.drop-down-modal__wrap--active .fast-deposit-modal input[name="bonus_code"]',(function(){Aa({event:"gtm_events",ga4_event_name:"quick_top_up__focus_promo",ga4_event_param1:Ba()})})),i()("body").on("change",".drop-down-modal__wrap--active .fast-deposit-modal #checkbox-promocode1",(function(t){var e=i()(t.target);Aa({event:"gtm_events",ga4_event_name:"quick_top_up__have_promo",ga4_event_param1:Ba(),ga4_event_param2:e.is(":checked")?1:0})})),i()("body").on("change",'.drop-down-modal__wrap--active .fast-deposit-modal select[name="method"]',(function(){Aa({event:"gtm_events",ga4_event_name:"quick_top_up__select_pm",ga4_event_param1:Ba()})})),u.A.subscribe("".concat(y.rs,".fast-deposit"),(function(){Aa({event:"gtm_events",ga4_event_name:"quick_top_up__show",ga4_event_param1:Ba()})})),i()("body").on("click",".drop-down-modal__wrap--active .fast-deposit-modal .dropdown-toggle",(function(){Aa({event:"gtm_events",ga4_event_name:"quick_top_up__show_pm",ga4_event_param1:Ba()})})),u.A.subscribe(Me,(function(t,e){"right"===e&&Aa({event:"gtm_events",ga4_event_name:"right_menu__hide"})})),u.A.subscribe(Be,(function(t,e){"right"===e&&Aa({event:"gtm_events",ga4_event_name:"right_menu__show"})}));var bs={},gs=function(){Aa({event:"gtm_events",event_value:parseFloat(bs.modal.querySelector('input[name="balance"]').value.trim())||0,ga4_event_name:"demo_top_up__add_money"})};u.A.subscribe("".concat(y.iz,".demo-balance-modal"),(function(){bs.modal=document.querySelector(".demo-balance-modal"),bs.modal&&(bs.btn=bs.modal.querySelector('button[type="submit"]'),bs.btn&&bs.btn.addEventListener("click",gs))})),u.A.subscribe("".concat(y.ub,".demo-balance-modal"),(function(){bs.btn&&bs.btn.removeEventListener("click",gs),bs={}})),i()("body").on("click",'.js-need-deposit-tooltip button[type="submit"]',(function(t){Aa({event:"gtm_events",event_value:parseFloat(i()(t.currentTarget).closest(".js-need-deposit-tooltip").find('input[name="balance"]').val().trim())||0,ga4_event_name:"demo_top_up__add_money"})})),u.A.subscribe("".concat(y.iz,".demo-balance-modal"),(function(){Aa({event:"gtm_events",ga4_event_name:"demo_top_up__show"})})),u.A.subscribe("".concat(y.rs,".user-info"),(function(){Aa({event:"gtm_events",event_value:1,ga4_event_name:"traderoom_top__account"})})),u.A.subscribe("".concat(y.DD,".user-info"),(function(){Aa({event:"gtm_events",event_value:0,ga4_event_name:"traderoom_top__account"})}));var ws=document.querySelector(".site-header__logo");ws&&ws.addEventListener("click",(function(){Aa({event:"gtm_events",ga4_event_name:"traderoom_top__pocket_option"})})),u.A.subscribe(y.Py,(function(){Aa({event:"gtm_events",event_value:1,ga4_event_name:"traderoom_top__set_favourite"})})),u.A.subscribe("".concat(y.rs,".balance"),(function(){Aa({event:"gtm_events",event_value:1,ga4_event_name:"traderoom_top__show_account_types",ga4_event_param1:$a(),ga4_event_param2:Ha()})})),u.A.subscribe("".concat(y.DD,".balance"),(function(){Aa({event:"gtm_events",event_value:0,ga4_event_name:"traderoom_top__show_account_types",ga4_event_param1:$a(),ga4_event_param2:Ha()})})),u.A.subscribe("".concat(y.rs,".fast-deposit"),(function(){Aa({event:"gtm_events",event_value:1,ga4_event_name:"traderoom_top__top_up"})})),u.A.subscribe("".concat(y.DD,".fast-deposit"),(function(){Aa({event:"gtm_events",event_value:0,ga4_event_name:"traderoom_top__top_up"})}));var js={},xs=function(){Aa({event:"gtm_events",event_value:"dark-blue"===window.AppData.theme?1:0,ga4_event_name:"rate_us__later",param1:js.modal.dataset.type})};u.A.subscribe("".concat(y.iz,".webview-popup-text-modal"),(function(){js.modal=document.querySelector(".webview-popup-text-modal"),js.modal&&(js.btn=js.modal.querySelector(".js-cancel-rate"),js.btn&&js.btn.addEventListener("click",xs))})),u.A.subscribe("".concat(y.ub,".webview-popup-text-modal"),(function(){js.btn&&js.btn.removeEventListener("click",xs),js={}}));var _s={},Ss=function(){Aa({event:"gtm_events",event_value:"dark-blue"===window.AppData.theme?1:0,ga4_event_name:"rate_us__rate",param1:_s.modal.dataset.type})};u.A.subscribe("".concat(y.iz,".webview-popup-text-modal"),(function(){_s.modal=document.querySelector(".webview-popup-text-modal"),_s.modal&&(_s.btn=_s.modal.querySelector(".js-rate"),_s.btn&&_s.btn.addEventListener("click",Ss))})),u.A.subscribe("".concat(y.ub,".webview-popup-text-modal"),(function(){_s.btn&&_s.btn.removeEventListener("click",Ss),_s={}})),u.A.subscribe("".concat(y.iz,".webview-popup-text-modal"),(function(){Aa({event:"gtm_events",event_value:"dark-blue"===window.AppData.theme?1:0,ga4_event_name:"rate_us__show",param1:document.querySelector(".webview-popup-text-modal").dataset.type})}));var Os=function(){var t="browser";return(navigator.standalone||window.matchMedia("(display-mode: standalone)").matches)&&(t="standalone"),"standalone"===t};function ks(t){return t=parseInt(t,10),[101,104,105,108,115].includes(t)}var Ts=function(){var t=document.cookie.split("; ").find((function(t){return t.startsWith("is_pwa=")})),e="string"==typeof t?t.split("=")[1]:null,n=Os()?"1":"0";e!==n&&(document.cookie="is_pwa="+n+" ; domain=."+window.location.hostname+";path=/; max-age="+Math.floor((new Date).getTime()/1e3)+525600,document.dispatchEvent(new CustomEvent("update-platform")))},As=n(77380);function Cs(t){return Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(t)}function Ps(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Is(r.key),r)}}function Es(t,e,n){return(e=Is(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Is(t){var e=function(t,e){if("object"!=Cs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Cs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cs(e)?e:e+""}var Ns=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Es(this,"reinitTimers",(function(){null!==e.timer&&clearInterval(e.timer),e.timer=setInterval((function(){return e.updateTime()}),1e3)})),Es(this,"updateTime",(function(){e.getTimers().each((function(t,n){return e.updateItemTime(i()(n))}))})),Es(this,"updateItemTime",(function(t){var e=+t.find(".js-date-finish").data("time-to");if(--e<=0)t.find(".js-date-finish").text("00:00:00");else{t.find(".js-date-finish").data("time-to",e);var n=(0,As.ny)((0,As.Dp)(e));t.find(".js-date-finish").text(n)}})),this.timer=null},(e=[{key:"init",value:function(){0!==this.getTimers().length&&this.events()}},{key:"getTimers",value:function(){return i()(".drop-down-modal--balance .balance-item-group-wrap--tournament .balance-item-group, .site-header .tournament-timer")}},{key:"events",value:function(){var t=this;document.addEventListener("reinitTournamentTimers",this.reinitTimers),this.timer=setInterval((function(){return t.updateTime()}),1e3)}}])&&Ps(t.prototype,e),n&&Ps(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Ds=Ns,Ls=function(){document.addEventListener("updateDropdownRegisterTournament",(function(t){var e=Lt("#balance-item-group-wrap-tournament"),n=Lt("#balance-item-new-item")(t.detail.tournament),r=i()(".balance-item-group-wrap--tournament"),o=r.find(".balance-item-group-wrap__items");r.length?o.append(n):(i()(".drop-down-modal--balance .window").append(e),i()(".balance-item-group-wrap--tournament .balance-item-group-wrap__items").append(n),(new Ds).init());var a=new CustomEvent("reinitTournamentTimers");document.dispatchEvent(a)}))};function Ms(t){return Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(t)}function Rs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bs(r.key),r)}}function Bs(t){var e=function(t,e){if("object"!=Ms(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ms(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ms(e)?e:e+""}var Hs=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$recaptcha=i()(".g-recaptcha"),this.$parent=this.$recaptcha.parent(),this.$form=this.$recaptcha.closest("form"),this.$window=i()(window)},(e=[{key:"init",value:function(){var t=this;this.events(),setInterval((function(){return t.$window.trigger("resize")}),200)}},{key:"events",value:function(){var t=this;this.$window.on("resize",zo()((function(){return t.recalculate()}),200))}},{key:"recalculate",value:function(){var t=(this.$form.innerWidth()/304).toFixed(4);t>1&&(t=1),this.$recaptcha.css({transform:"scale("+t+")"}),this.$parent.css("height",(this.$recaptcha.height()-5)*t+"px")}}])&&Rs(t.prototype,e),n&&Rs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),$s=Hs,Fs=n(95685),Ws=n.n(Fs);function Us(t){return Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(t)}function Vs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zs(r.key),r)}}function Gs(t,e,n){return(e=zs(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zs(t){var e=function(t,e){if("object"!=Us(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Us(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Us(e)?e:e+""}var Ys=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Gs(this,"formSubmitEventHandler",(function(t){var n;t.preventDefault(),!0!==e.$form.data("is-loading")&&(e.$form.data("is-loading",!0),e.$button.attr("disabled","disabled"),e.ajaxLoading("start"),e.hideCaptcha(),e.clearError(),Fr()(window,"AppCaptcha")?(n="login",new Promise((function(t,e){window.grecaptcha?window.grecaptcha.ready((function(){return window.grecaptcha.execute(window.AppCaptcha.captchaKey,{action:n}).then((function(e){return t(e)}))})):e(new Error("grecaptcha is not loaded"))})).catch(console.log)).then((function(t){e.recaptchaToken=t,e.sendRequest()})):e.sendRequest())})),Gs(this,"sendRequest",(function(){var t=new FormData(e.$form[0]);null!==e.recaptchaToken&&t.append("token",e.recaptchaToken),e.xhr=i().ajax({url:e.$form.attr("action"),method:e.$form.attr("method"),dataType:"json",data:t,processData:!1,contentType:!1,beforeSend:e.beforeSendHandler,complete:e.completeHandler,success:e.successHandler})})),Gs(this,"beforeSendHandler",(function(){null!==e.xhr&&e.xhr.abort(),e.clearError(),e.ajaxLoading()})),Gs(this,"completeHandler",(function(){e.xhr=null,e.$form.data("is-loading",!1),window.grecaptcha&&window.grecaptcha.reset(window.recaptchaWidgets.register)})),Gs(this,"successHandler",(function(t){Fr()(t,"error.captcha_score")&&e.showCaptcha(),Ws()(t.error)||(e.$button.removeAttr("disabled"),e.ajaxLoading("stop"),e.renderError(t.error)),t.refresh&&location.reload(),t.redirectUrl&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"register"}),e.hideCaptcha(),window.location.href=t.redirectUrl)})),Gs(this,"clearError",(function(){e.$formContainer.find(".js-message").empty().hide()})),Gs(this,"renderError",(function(t){e.$formContainer.find(".js-message").html(Object.values(t).join("<br />")).show()})),Gs(this,"showCaptcha",(function(){e.$recaptcha.hasClass("hidden")&&e.$recaptcha.removeClass("hidden")})),Gs(this,"hideCaptcha",(function(){!e.$recaptcha.hasClass("hidden")&&e.$recaptcha.addClass("hidden")})),this.$formContainer=i()(".js-modal-register-demo"),this.$form=this.$formContainer.find("form"),this.$button=this.$form.find("[type=submit]"),this.$recaptcha=this.$formContainer.find(".js-recaptcha-block"),this.xhr=null,this.$ajaxTemplate=(new I.Ay).getForButton(),this.recaptchaToken=null},e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){this.$form.on("submit",this.formSubmitEventHandler)}},{key:"ajaxLoading",value:function(){"start"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"start")?this.$button.after(this.$ajaxTemplate).hide():(this.$ajaxTemplate.remove(),this.$button.show())}}],e&&Vs(t.prototype,e),n&&Vs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Xs=Ys;function qs(t){return qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(t)}function Ks(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zs(r.key),r)}}function Zs(t){var e=function(t,e){if("object"!=qs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qs(e)?e:e+""}var Js=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modalWrap=i()(".modal-register-demo"),this.$loginBtn=this.modalWrap.find(".js-login-btn"),this.$registerBtn=this.modalWrap.find(".js-register-btn"),this.$recoveryBtn=this.modalWrap.find(".js-recovery-btn"),this.$loginModal=this.modalWrap.find(".js-modal-login-demo"),this.$registerModal=this.modalWrap.find(".js-modal-register-demo"),this.$recoveryModal=this.modalWrap.find(".js-modal-recovery-demo")},(e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){var t=this;this.$loginBtn.on("click",(function(e){t.$registerModal.hide(),t.$recoveryModal.hide(),t.$loginModal.show()})),this.$registerBtn.on("click",(function(e){t.$loginModal.hide(),t.$recoveryModal.hide(),t.$registerModal.show()})),this.$recoveryBtn.on("click",(function(e){t.$loginModal.hide(),t.$registerModal.hide(),t.$recoveryModal.show()}))}}])&&Ks(t.prototype,e),n&&Ks(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Qs=Js;function tc(t){return tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(t)}function ec(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rc(r.key),r)}}function nc(t,e,n){return(e=rc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rc(t){var e=function(t,e){if("object"!=tc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=tc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tc(e)?e:e+""}document.addEventListener("DOMContentLoaded",(function(){(new $s).init(),(new Xs).init(),(new Qs).init()}));var ic=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),nc(this,"beforeSendHandler",(function(){null!==e.xhr&&e.xhr.abort(),e.clearError(),e.ajaxLoading()})),nc(this,"completeHandler",(function(){e.xhr=null})),nc(this,"successHandler",(function(t){t.error&&(e.ajaxLoading("stop"),e.renderError(t.error)),t.redirectUrl?(i()(".js-recaptcha-block").hide(),window.location.href=t.redirectUrl):t.render_captcha&&!0===t.render_captcha?(window.grecaptcha&&window.grecaptcha.reset(),i()(".js-recaptcha-block").show()):i()(".js-recaptcha-block").hide()})),nc(this,"clearError",(function(){e.$formContainer.find(".js-message").stop(!0).slideUp((function(){i()(this).html("")}))})),nc(this,"renderError",(function(t){e.$formContainer.find(".js-message").html(t).stop(!0).slideDown()})),this.$formContainer=i()(".js-modal-login-demo"),this.$form=this.$formContainer.find("form"),this.$step1=this.$form.find(".js-step1"),this.$step2=this.$form.find(".js-step2"),this.$button=this.$form.find("[type=submit]"),this.$recaptcha=this.$formContainer.find(".js-recaptcha-block"),this.$messageBlock=this.$formContainer.find(".js-message"),this.xhr=null,this.$ajaxTemplate=(new I.Ay).getForButton()},e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){var t=this;this.$form.on("submit",(function(e){e.preventDefault();var n=i()(this);t.xhr=i().ajax({url:n.attr("action"),method:n.attr("method"),dataType:"json",data:n.serialize()+"&submitLogin=1",beforeSend:t.beforeSendHandler,complete:t.completeHandler,success:t.successHandler})}))}},{key:"ajaxLoading",value:function(){"start"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"start")?this.$button.after(this.$ajaxTemplate).hide():(this.$ajaxTemplate.remove(),this.$button.show())}}],e&&ec(t.prototype,e),n&&ec(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),oc=ic;function ac(t){return ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(t)}function sc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lc(r.key),r)}}function cc(t,e,n){return(e=lc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lc(t){var e=function(t,e){if("object"!=ac(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ac(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ac(e)?e:e+""}document.addEventListener("DOMContentLoaded",(function(){(new $s).init(),(new oc).init()}));var uc=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),cc(this,"beforeSendHandler",(function(){null!==e.xhr&&e.xhr.abort(),e.clearError(),e.ajaxLoading()})),cc(this,"completeHandler",(function(){e.xhr=null})),cc(this,"successHandler",(function(t){e.ajaxLoading("stop"),!0===t.status?(e.$form.remove(),e.$desc.remove()):window.grecaptcha&&window.grecaptcha.reset(),e.renderError(t.error)})),cc(this,"clearError",(function(){e.$formContainer.find(".js-message").stop(!0).slideUp((function(){i()(this).html("")}))})),cc(this,"renderError",(function(t){e.$formContainer.find(".js-message").html(t).stop(!0).slideDown()})),this.$formContainer=i()(".js-modal-recovery-demo"),this.$message=this.$formContainer.find(".js-message"),this.$form=this.$formContainer.find("form"),this.$desc=this.$formContainer.find(".js-modal-desc"),this.$button=this.$form.find("[type=submit]"),this.$recaptcha=this.$formContainer.find(".js-recaptcha-block"),this.xhr=null,this.$ajaxTemplate=(new I.Ay).getForButton()},e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){var t=this;this.$form.on("submit",(function(e){e.preventDefault();var n=i()(this);t.xhr=i().ajax({url:n.attr("action"),method:n.attr("method"),dataType:"json",data:n.serialize()+"&submitLogin=1",beforeSend:t.beforeSendHandler,complete:t.completeHandler,success:t.successHandler})}))}},{key:"ajaxLoading",value:function(){"start"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"start")?this.$button.after(this.$ajaxTemplate).hide():(this.$ajaxTemplate.remove(),this.$button.show())}}],e&&sc(t.prototype,e),n&&sc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),dc=uc;function fc(t){return fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(t)}function hc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mc(r.key),r)}}function pc(t,e,n){return(e=mc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mc(t){var e=function(t,e){if("object"!=fc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fc(e)?e:e+""}document.addEventListener("DOMContentLoaded",(function(){(new $s).init(),(new dc).init()}));var yc=function(){return t=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),pc(this,"changeWindow",(function(t){1===t?(n.cache["$window-1"].hasClass("hidden")&&n.cache["$window-1"].removeClass("hidden"),!n.cache["$window-2"].hasClass("hidden")&&n.cache["$window-2"].addClass("hidden")):(n.cache["$window-2"].hasClass("hidden")&&n.cache["$window-2"].removeClass("hidden"),!n.cache["$window-1"].hasClass("hidden")&&n.cache["$window-1"].addClass("hidden")),n.parent.updateScroll(),n.parent.closeAllCollapse()})),pc(this,"profileBtnClickHandler",(function(t){t.preventDefault(),n.changeWindow(2),n.parent.scrollTop(0),n.isAllowAjaxRequest()?(n.userInfoData.showAllAjaxLoading(),n.userInfoData.requestRealAccountStats((0,tn.hX)("cabinet/user-info-data?t=r")).then((function(){n.ttl.afterAjaxTime=Date.now()})).catch((function(){})),n.userInfoData.requestYourAchievements((0,tn.hX)("cabinet/user-info-data?t=y")).then((function(){n.ttl.afterAjaxTime=Date.now()})).catch((function(){}))):n.parent.refreshCss()})),pc(this,"accountBtnClickHandler",(function(t){t.preventDefault(),n.changeWindow(1),n.parent.scrollTop(0),n.parent.refreshCss()})),this.parent=e,this.ps=e.ps,this.ttl={refreshTime:60,afterAjaxTime:null},this.cache={},this.cache.$modal=i()(".drop-down-modal--balance"),this.cache.$window=this.cache.$modal.find(".window"),this.cache["$window-1"]=this.cache.$modal.find(".window-1"),this.cache["$window-2"]=this.cache.$modal.find(".window-2"),this.userInfoData=new jr(this.cache["$window-2"])},(e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){var t=this;this.cache.$modal.find(".js-profile-btn").on("click",this.profileBtnClickHandler),this.cache.$modal.find(".js-accounts-btn").on("click",this.accountBtnClickHandler),this.cache["$window-2"].on("ajax.success",(function(e,n){n.type,t.parent.updateScroll(),t.parent.refreshCss()})),this.cache["$window-2"].on("ajax.beforeSend",(function(e,n){n.type,t.parent.updateScroll(),t.parent.refreshCss()}))}},{key:"isAllowAjaxRequest",value:function(){return Date.now()>this.ttl.afterAjaxTime+1e3*this.ttl.refreshTime}}])&&hc(t.prototype,e),n&&hc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),vc=yc;function bc(t){return bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(t)}function gc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jc(r.key),r)}}function wc(t,e,n){return(e=jc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jc(t){var e=function(t,e){if("object"!=bc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bc(e)?e:e+""}var xc=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),wc(this,"modalOpen",(function(){e.isClosed=!1,e.cache.$modal=i()(".drop-down-modal--balance"),e.cache.$parentBlock=i()(".balance-info-block"),e.cache.$collapse=e.cache.$modal.find(".js-collapse"),e.modalEvents(),e.isAllowBalancesAjaxRequest()?e.requestBalances().then((function(t){t&&(Object.keys(t).forEach((function(n){(0,cn.JD)(un(n,t[n])),e.showBalance(n,t[n])})),e.ttlBalancesRequest.afterAjaxTime=Date.now())})).catch((function(){})):e.shouldRerenderBalances&&e.rerenderBalances(),e.changeArrowFromParentBlock()})),wc(this,"showBalance",(function(t){var n=e.cache.$modal.find(".js-".concat(t));if(0===n.length)return!1;var r=n.closest(".balance-item-group, .balance-item"),i=r.find(".balance-item-group__sum.js-ajax-sum, .balance-item__sum.js-ajax-sum"),o=r.find(".balance-item-group__sum:not(.js-ajax-sum), .balance-item__sum:not(.js-ajax-sum)");return i.length>0&&!i.hasClass("hidden")&&(i.addClass("hidden"),o.removeClass("hidden")),!0})),wc(this,"rerenderBalances",(function(){e.shouldRerenderBalances&&e.ttlBalancesRequest.afterAjaxTime&&(e.shouldRerenderBalances=!1)})),wc(this,"updateDemoBalance",(function(t){var n=i()(".drop-down-modal--balance .balance-item--current.balance-item--demo .balance-item__bottom");0!==n.length&&(t>=e.maxDemoBalance&&!n.hasClass("hidden")&&n.addClass("hidden"),t<e.maxDemoBalance&&n.hasClass("hidden")&&n.removeClass("hidden"))})),wc(this,"changeArrowFromParentBlock",(function(){e.cache.$parentBlock&&(e.cache.$parentBlock.hasClass("opened")?e.cache.$parentBlock.removeClass("opened"):e.cache.$parentBlock.addClass("opened"))})),wc(this,"modalEvents",(function(){e.cache.$collapse.on("click",e.collapseClickHandler)})),wc(this,"collapseClickHandler",(function(t){var n=i()(t.currentTarget);n.parent().hasClass("balance-item-group-wrap--open")?n.parent().removeClass("balance-item-group-wrap--open"):(n.parent().addClass("balance-item-group-wrap--open"),e.scrollTop(n[0].offsetTop-2)),e.refreshCss(),e.updateScroll()})),wc(this,"modalClose",(function(){var t;e.isClosed||(e.isClosed=!0,e.changeArrowFromParentBlock(),e.cache.$collapse.off("click"),u.A.unsubscribe(e.subscribeEvents[y.lW]),e.closeAllCollapse(),null!==(t=e.balanceWindows)&&void 0!==t&&t.userInfoData&&e.balanceWindows.userInfoData.abortAllRequests(),e.balanceWindows&&e.balanceWindows.changeWindow(1),e.updateScroll(),e.cache={})})),wc(this,"updateScroll",(function(){e.ps["main-block"]&&e.ps["main-block"].update()})),wc(this,"scrollTop",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e.ps["main-block"]&&(e.ps["main-block"].element.scrollTop=t)})),wc(this,"closeAllCollapse",(function(){e.cache.$modal.find(".balance-item-group-wrap--open").removeClass("balance-item-group-wrap--open")})),this.cache={},this.subscribeEvents={},this.maxDemoBalance=+(0,Q.A)("max-demo-balance")||1,this.ttl={refreshTime:60,afterAjaxTime:null},this.ttlBalancesRequest={refreshTime:60,afterAjaxTime:null},this.shouldRerenderBalances=!1,this.balanceWindows=null,this.ps=(0,ce.A)(i()(".drop-down-modal--balance .js-perfectScrollbar")),this.isClosed=!0,(0,se.hP)()&&(this.balanceWindows=new vc(this),this.balanceWindows.init())},e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){var t=this;u.A.subscribe("".concat(y.rs,".balance"),this.modalOpen),u.A.subscribe("".concat(y.DD,".balance"),this.modalClose),u.A.subscribe(y.lW,(function(){t.shouldRerenderBalances=!0,t.rerenderBalances()})),(0,cn.B1)((0,dn.T)(En),this.updateDemoBalance)}},{key:"refreshCss",value:function(){this.cache.$modal.trigger("refresh_css")}},{key:"isAllowBalancesAjaxRequest",value:function(){return Date.now()>this.ttlBalancesRequest.afterAjaxTime+1e3*this.ttlBalancesRequest.refreshTime}},{key:"requestBalances",value:function(){return fetch((0,tn.hX)("/cabinet/user-get-balances"),{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}).then((function(t){return t.json()})).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data;return t.status&&e.balances?e.balances:null})).catch((function(t){return console.log(t)}))}}],e&&gc(t.prototype,e),n&&gc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),_c=xc,Sc=function(){var t=Bn.instance;i()("body").on("input blur",'.js-demo-balance-form input[name="balance"]',(function(t){var e=vn(t.target.value,"USD");"focusout"===t.type&&(e=Math.max(+i()(t.currentTarget).attr("min"),e),e=Math.min(+i()(t.currentTarget).attr("max"),e)),t.target.value=bn(e,"USD")})).on("click",".js-demo-balance-form .js-chips-item",(function(t){i()(t.currentTarget).closest(".js-demo-balance-form").find('input[name="balance"]').val(i()(t.currentTarget).data("amount")).trigger("input")})).on("submit",".js-demo-balance-form",(function(e){e.preventDefault(),t.depositDemo(i()(e.currentTarget).find('input[name="balance"]').val())}));var e=function(){var t=i()(".js-demo-balance-form");if(0!==t.length){var e=t.find('button[type="submit"]');0!==e.length&&(e.find(".".concat(I.pP.base)).remove(),e.removeClass("btn-ajax-loading").removeAttr("disabled"))}};t.addEventListener("".concat(An.k3).concat(An.uk),(function(){var t=i()(".js-demo-balance-form");if(0!==t.length){var e=t.find('button[type="submit"]');0!==e.length&&(e.addClass("btn-ajax-loading").attr("disabled","disabled"),e.append((new I.Ay).getForButton()))}})),t.addEventListener("".concat(An.Bf).concat(An.uk),e),t.addEventListener("".concat(An.my).concat(An.uk),e)},Oc=n(92299),kc=n.n(Oc),Tc=function(){i()("body").on("click","[data-deposit-source]",(function(t){var e;e=i()(t.currentTarget).data("deposit-source"),kc().set("deposit-link-source",e,{expires:1})}))},Ac=function(){var t=Pc.$header.find(".js-right-block"),e=t.prev();return Math.abs(e[0].offsetLeft-t[0].offsetLeft+e[0].offsetWidth)},Cc=function(){Ac()<=Pc.minOffset&&i()(Pc.$sortableItems.get().reverse()).each((function(t,e){!e.classList.contains("hidden")&&Ac()<=Pc.minOffset&&e.classList.add("hidden")}));var t=Pc.$sortableItems.filter(".hidden").first();if(t.length>0){var e=function(t){t.css({position:"absolute",left:"-9999px",top:"-9999px",visibility:"hidden"}).removeClass("hidden");var e=t.outerWidth();return t.removeAttr("style",!1).addClass("hidden"),e+parseInt(t.css("margin-left"),10)}(t);Ac()>e+Pc.minOffset+10&&t.removeClass("hidden")}},Pc={$header:i()(".site-header"),minOffset:10,lastHiddenEleHeight:0};Pc.$items=Pc.$header.find(".right-block__item[data-sort]"),Pc.$sortableItems=function(t){var e=t.toArray();return e.sort((function(t,e){return parseInt(t.dataset.sort,10)-parseInt(e.dataset.sort,10)})),i()(e)}(Pc.$items),Pc.countItems=Pc.$items.length;var Ec=function(){(0,se.hP)()&&Pc.countItems>0&&(window.addEventListener("resize",zo()(Cc,50)),Yt())};function Ic(t){return Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(t)}function Nc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lc(r.key),r)}}function Dc(t,e,n){return(e=Lc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lc(t){var e=function(t,e){if("object"!=Ic(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ic(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ic(e)?e:e+""}var Mc=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Dc(this,"confirmBtnClickHandler",(function(t){if(t.preventDefault(),"function"!=typeof e.cache.abort){var n=i()(t.currentTarget),r=(new I.Ay).getForButton(),o=ze.A.requestAbortable({url:n.attr("href"),beforeSend:function(){n.append(r)},success:function(t){if(t.status)return location.href.includes("cabinet/my-safe/")?location.href=(0,tn.hX)("cabinet"):location.reload();e.cache.abort=null,r.remove(),e.cache.notify.red((0,$.tr)("unknown_error"))}}).abort;e.cache.abort=o}})),Dc(this,"openModal",(function(){e.cache.$modal=i()("#islamic-account-close-safe-modal"),e.cache.notify=new K({time:5e3,to:"#islamic-account-close-safe-modal"}),e.addEvents()})),Dc(this,"closeModal",(function(){"function"==typeof e.cache.abort&&e.cache.abort(),e.cache={},e.clearEvents()})),this.cache={},this.api=Bn.instance},(e=[{key:"init",value:function(){u.A.subscribe("".concat(y.iz,".islamic-account-close-safe-modal"),this.openModal),u.A.subscribe("".concat(y.ub,".islamic-account-close-safe-modal"),this.closeModal)}},{key:"addEvents",value:function(){this.cache.$modal.find(".js-confirm").on("click",this.confirmBtnClickHandler)}},{key:"clearEvents",value:function(){}}])&&Nc(t.prototype,e),n&&Nc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Rc=Mc;function Bc(t){return Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(t)}function Hc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fc(r.key),r)}}function $c(t,e,n){return(e=Fc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fc(t){var e=function(t,e){if("object"!=Bc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bc(e)?e:e+""}var Wc=!1,Uc=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),$c(this,"clickHandlerChangeCountry",(function(t){void 0!==e.$button[0].dataset.chooseCountry&&(t.preventDefault(),e.$message.removeClass("hidden"))})),$c(this,"dropDownOpenHandler",(function(){e.cache.$modal=i()("#ddm_fast-deposit"),e.cache.is_popular="popular"===e.cache.$modal.data("type"),e.cache.$promocodeBlock=e.cache.$modal.find(".js-promocode-block"),e.cache.$amountBlock=e.cache.$modal.find(".js-amount-block"),e.cache.$promocodeCheckbox=e.cache.$modal.find('.js-checkbox1 [type="checkbox"]'),e.cache.$promocodeAjaxLoader=e.cache.$modal.find(".js-promocode-ajax-loader"),e.cache.$select=e.cache.$modal.find('select[name="deposit_id"], select[name="method"]'),e.cache.$btnAmountBlock=e.cache.$modal.find('button[type="submit"] .amount'),e.cache.$scroll=e.cache.$modal.find(".js-perfectScrollbar"),e.cache.$promocodeCheckbox.on("change",e.checkBoxChangeHandler),e.cache.$promocodeBlock.find('[type="text"]').on("input",zo()(e.promocodeFieldInputHandler,500)),e.cache.$amountBlock.find('[name="amount"]').on("input",e.amountInputEventHandler),e.cache.$select.on("change",e.paymentMethodChangeHandler),e.cache.$scroll.length&&(e.ps=(0,ce.A)(e.cache.$scroll)[e.cache.$scroll.data("ps-id")],setTimeout((function(){return e.ps&&e.ps.update()})))})),$c(this,"paymentMethodChangeHandler",(function(t){if("-1"===t.currentTarget.value.trim())window.location.href=(0,tn.hX)("cabinet/deposit-step-1");else{var n=+i()(t.currentTarget).find("option:selected").data("amount")||1;e.cache.$amountBlock.find('[name="amount"]').val(n).trigger("input")}})),$c(this,"amountInputEventHandler",(function(t){var n=vn(t.target.value),r=e.getMinAmount();n<r?e.showFieldText("".concat((0,$.tr)("errors.min_amount")," ").concat((0,hn.ej)(r,(0,hn.L9)())),e.cache.$amountBlock,!0):e.hideFieldText(e.cache.$amountBlock),t.target.value=bn(n,(0,hn.L9)()),e.cache.$btnAmountBlock.text((0,hn.ej)(n,(0,hn.L9)()))})),$c(this,"promocodeAjaxLoaderStart",(function(){e.cache.$promocodeBlock&&(e.cache.$promocodeBlock.find(".input-group1").length&&e.cache.$promocodeBlock.find(".input-group1").removeClass("input-group1").addClass("input-group"),e.cache.$promocodeAjaxLoader.hasClass("hidden")&&e.cache.$promocodeAjaxLoader.removeClass("hidden"))})),$c(this,"promocodeAjaxLoaderStop",(function(){e.cache.$promocodeBlock&&(!e.cache.$promocodeAjaxLoader.hasClass("hidden")&&e.cache.$promocodeAjaxLoader.addClass("hidden"),e.cache.$promocodeBlock.find(".input-group").length&&e.cache.$promocodeBlock.find(".input-group").removeClass("input-group").addClass("input-group1"))})),$c(this,"promocodeFieldInputHandler",(function(t){var n=i()(t.currentTarget),r=i().trim(n.val());if("function"==typeof e.cache.abort&&e.cache.abort(),r.length>=5){var o=ze.A.requestAbortable({url:(0,tn.hX)("ajax-trading/check-bonus-code"),method:"post",data:{bonus_code:r},beforeSend:function(){e.hideFieldText(e.cache.$promocodeBlock),e.promocodeAjaxLoaderStart()},complete:function(){e.promocodeAjaxLoaderStop()},success:function(t){var n="";n=t.error?t.text||(0,$.tr)("modals.fast-deposit-modal.promocode_not_applicable"):(0,$.tr)("modals.fast-deposit-modal.promocode_is_applied"),e.showFieldText(n,e.cache.$promocodeBlock,t.error)},error:function(){}}).abort;e.cache.abort=o}else e.hideFieldText(e.cache.$promocodeBlock)})),$c(this,"checkBoxChangeHandler",(function(t){var n=i()(t.currentTarget).is(":checked"),r="hidden";n&&e.cache.$promocodeBlock.hasClass(r)&&e.cache.$promocodeBlock.removeClass(r),!n&&!e.cache.$promocodeBlock.hasClass(r)&&e.cache.$promocodeBlock.addClass(r)&&e.cache.$promocodeBlock.find('[type="text"]').val(""),e.ps&&e.ps.update()})),$c(this,"dropDownCloseHandler",(function(){"function"==typeof e.cache.abort&&e.cache.abort(),i()("body").trigger("click"),e.restoreDefault(),e.ps&&e.ps.destroy(),e.cache={}})),$c(this,"popularFormSubmitHandler",(function(t){t.preventDefault();var n=i()(t.currentTarget),r=new FormData(n[0]),o=n.attr("action");r.forEach((function(t,n){"submit"!==n&&""!==t&&("amount"===n&&(t=e.clearFormAmount(t)),o+="&".concat(n,"=").concat(t))})),window.location.href=o})),$c(this,"formSubmitHandler",(function(t){t.preventDefault();var n=i()(t.currentTarget);if(!0!==n.data("is-loading")&&!e.cache.$amountBlock.hasClass("has-error")){var r=new FormData(n[0]),o=r.get("amount"),a=e.clearFormAmount(o);r.set("amount",a);var s=(new I.Ay).setAbsolute(!0).setBacking(!0).getForBlock();ze.A.request({url:n.attr("action"),method:n.attr("method"),data:r,processData:!1,contentType:!1,beforeSend:function(){i()(".fast-deposit-modal").append(s).data("is-loading",!0)},success:function(t){setTimeout((function(){s.remove(),n.removeData("is-loading")}),1e4),t.html?i()("body").append(t.html).find("form#depositForm").submit():t.redirect&&(window.location.href=t.redirect)},error:function(){s.remove(),n.removeData("is-loading")}})}})),this.cache={},this.$block=i()("#ddm_fast-deposit"),this.$select=this.$block.find("select.js-payment-country-fast-deposit"),this.$selectPayments=this.$block.find('select[name="method"]'),this.$selectPayments.selectpicker(),this.$button=this.$block.find("button"),this.$message=this.$block.find(".message"),this.notify=new F.A({position:Hr.XC,time:5e3})},e=[{key:"init",value:function(){!0!==Wc&&(this.events(),Wc=!0)}},{key:"events",value:function(){var t=this;u.A.subscribe("".concat(y.rs,".fast-deposit"),this.dropDownOpenHandler),u.A.subscribe("".concat(y.DD,".fast-deposit"),this.dropDownCloseHandler),i()("#ddm_fast-deposit[data-type=fast]").on("submit","form",this.formSubmitHandler),i()("#ddm_fast-deposit[data-type=popular]").on("submit","form",this.popularFormSubmitHandler),this.$block.on("change","select.js-user-cards-list",(function(e){"0"===e.currentTarget.value?t.$block.find(".js-user-cards-cvv").closest(".card-widget__code").hide():t.$block.find(".js-user-cards-cvv").closest(".card-widget__code").show()})),this.$select.on("show.bs.select",(function(){setTimeout((function(){return t.scrollToSelected()}),0)})),this.$select.on("change",(function(e){e.preventDefault(),t.changeCountry(e.currentTarget.value.trim())})),this.$selectPayments.on("change",(function(e){e.preventDefault(),e.currentTarget.options&&e.currentTarget.options[e.currentTarget.selectedIndex].getAttribute("data-has-card")&&t.changeMethod(e.currentTarget.value)})),this.$selectPayments.trigger("change"),this.$button.on("click",this.clickHandlerChangeCountry)}},{key:"scrollToSelected",value:function(){var t=this.cache.$modal.find(".dropdown-menu"),e=t.find(".user-geoip").closest("li").addClass("selected active li-user-geoip");if(e.length){var n=e.offset().top-t.offset().top+t.scrollTop();t.scrollTop(n)}}},{key:"changeCountry",value:function(t){var e=this;"function"==typeof this.abort&&this.abort();var n=this.$select.closest("#fast-deposit-form"),r=n.find(i()('[class*="form-group--"]'));if(2===t.length){var o=ze.A.requestAbortable({url:(0,tn.hX)("cabinet/save-var"),data:{key:"change-payment-country",value:t},beforeSend:function(){r.append((new I.Ay).setAbsolute(!0).getForBlock()),r.addClass("ajax-loading")},complete:function(){r.find(".".concat(I.pP.base)).remove(),r.removeClass("ajax-loading")},success:function(t){if(t.status){e.$button.removeAttr("data-choose-country");var r=Lt("#payments-list-fast-deposit")(t);e.$selectPayments.empty(),e.$selectPayments.append(r),e.$selectPayments.selectpicker("refresh"),e.$selectPayments.closest(".fast-deposit-modal__inner").find(".message").remove(),n.find(".form-group--country").remove(),i()(".drop-down-user-info .info__country-img").attr("src",t.flag),i()(".drop-down-user-info .country-img").attr("src",t.flag)}},error:function(t){return console.log(t)}}).abort;this.abort=o}else this.notify.red((0,$.tr)("choose_the_country"))}},{key:"changeMethod",value:function(t){var e=this;"function"==typeof this.abort&&this.abort();var n=ze.A.requestAbortable({url:(0,tn.hX)("cabinet/deposit/get-card-list"),data:{method:t},beforeSend:function(){e.$block.find(".card-widget").remove()},complete:function(){},success:function(t){t.status&&(e.$selectPayments.closest(".form-group").after(t.html),e.$block.find(".js-user-cards-list").selectpicker())},error:function(t){return console.log(t)}}).abort;this.abort=n}},{key:"restoreDefault",value:function(){this.hideFieldText(this.cache.$promocodeBlock),this.hideFieldText(this.cache.$amountBlock),this.cache.$amountBlock&&this.cache.$amountBlock.find('[name="amount"]').val(this.cache.$select.find("option:first").data("amount")),this.promocodeAjaxLoaderStop(),this.cache.$promocodeBlock&&this.cache.$promocodeBlock.length>0&&this.cache.$promocodeBlock.find('[type="text"]').val()&&(this.cache.$promocodeCheckbox.is(":checked")&&this.cache.$promocodeCheckbox.prop("checked",!1),this.cache.$promocodeBlock.find('[type="text"]').val(""),!this.cache.$promocodeBlock.hasClass("hidden")&&this.cache.$promocodeBlock.addClass("hidden"))}},{key:"getMinAmount",value:function(){return+this.cache.$modal.find('select[name="method"] option:selected').data("min-amount")||1}},{key:"showFieldText",value:function(t,e){if(e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(!e.hasClass("has-error")&&e.addClass("has-error"),e.hasClass("has-success")&&e.removeClass("has-success")):(e.hasClass("has-error")&&e.removeClass("has-error"),!e.hasClass("has-success")&&e.addClass("has-success"));var n=e.find(".help-block");n.length||(n=i()("<div />",{class:"help-block"})),n.text(t),e.append(n)}}},{key:"hideFieldText",value:function(t){t&&(t.hasClass("has-error")&&t.removeClass("has-error"),t.find(".help-block").length&&t.find(".help-block").remove())}},{key:"clearFormAmount",value:function(t){return t.replace(/[^0-9]/g,"")}}],e&&Hc(t.prototype,e),n&&Hc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Vc=new Uc;function Gc(t){return Gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(t)}function zc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xc(r.key),r)}}function Yc(t,e,n){return(e=Xc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xc(t){var e=function(t,e){if("object"!=Gc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Gc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gc(e)?e:e+""}var qc=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Yc(this,"openModal",(function(){e.cache.$modal=i()(".change-account-currency-modal"),e.cache.$form=e.cache.$modal.find("form"),e.cache.$submitBtn=e.cache.$modal.find(".js-submit"),e.cache.$selectpicker=e.cache.$modal.find(".selectpicker"),e.cache.$selectpicker.selectpicker({sanitize:!1}),e.cache.$errorMessage=e.cache.$modal.find(".js-error-msg"),e.events()})),Yc(this,"closeModal",(function(){e.cache.$submitBtn.off("click"),e.cache={}})),Yc(this,"selectpickerChangeHandler",(function(t){var n=e.cache.$selectpicker.find("option:selected").attr("data-rate"),r=e.cache.$selectpicker.find("option:selected").attr("data-result");e.cache.$modal.find(".js-change-currency-rate").text(n),e.cache.$modal.find(".js-change-currency-result").text(r)})),Yc(this,"submitHandler",(function(t){t.preventDefault();var n=e.cache.$form.find(".js-submit");if(!0!==n.data("is-loading")){var r=(new I.Ay).getForButton(),i=ze.A.requestAbortable({url:e.cache.$form.attr("action"),method:e.cache.$form.attr("method"),data:e.cache.$form.serializeArray(),beforeSend:function(){e.cache.$errorMessage.hide(),e.abortRequest(),n.attr("disabled","disabled"),n.data("is-loading",!0),n.append(r)},success:function(t){t.status?window.location.reload():(n.removeAttr("disabled"),n.data("is-loading",!1),r.remove(),e.cache.$errorMessage.html(t.error).show())}}).abort;e.cache.abort=i}})),this.cache={}},(e=[{key:"init",value:function(){u.A.subscribe("".concat(y.iz,".change-account-currency-modal"),this.openModal),u.A.subscribe("".concat(y.ub,".change-account-currency-modal"),this.closeModal)}},{key:"events",value:function(){this.cache.$submitBtn.on("click",this.submitHandler),this.cache.$selectpicker.on("changed.bs.select",this.selectpickerChangeHandler)}},{key:"abortRequest",value:function(){"function"==typeof this.cache.abort&&this.cache.abort()}}])&&zc(t.prototype,e),n&&zc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Kc=qc;function Zc(t){return Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(t)}function Jc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qc(r.key),r)}}function Qc(t){var e=function(t,e){if("object"!=Zc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zc(e)?e:e+""}var tl=function(){return t=function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=function(t){var e=i()(t.currentTarget),n=e.closest(".js-radio-widget"),r=e.val();n.trigger("radio-widget:change",[r])},(n=Qc(n="inputChangeHandler"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r},(e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){i()("body").on("change",".js-radio-widget input",this.inputChangeHandler)}}])&&Jc(t.prototype,e),n&&Jc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),el=tl,nl=function(){i()("body").on("show.bs.select",".selectpicker",(function(t){var e=i()(t.currentTarget);if(e.data("container-class-name")){var n=i()("body > .bs-container.dropdown.open");if(0===n.length)return;n.addClass(e.data("container-class-name"))}}))},rl={callbacks:{},generateCallbackId:function(){return"cb_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))},sendCommand:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=n?this.generateCallbackId():null;r&&(this.callbacks[r]=n),window.AppWebInterface?window.AppWebInterface.sendCommand(t,JSON.stringify(e),r):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.appWebInterface?window.webkit.messageHandlers.appWebInterface.postMessage({command:t,params:e,callbackId:r}):(console.log("No native APIs found."),r&&this.receiveResponse(r,{error:"No native APIs found."}))},receiveResponse:function(t,e){var n=this.callbacks[t];n?(n(e),delete this.callbacks[t]):console.warn("Callback with ID ".concat(t," not found."))}},il=rl;function ol(t){return ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(t)}function al(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sl(r.key),r)}}function sl(t){var e=function(t,e){if("object"!=ol(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ol(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ol(e)?e:e+""}var cl=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"init",value:function(){if(1==+(0,Q.A)("body-background-image-enable")){var t=at();t&&st(t)}}}])&&al(t.prototype,e),n&&al(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),ll=cl;function ul(t,e){if(t&&e){var n=["light","dark-blue"].filter((function(t){return t!==e}));if((n=n[0])&&n!==e){var r=new RegExp(n,"g");t.src&&(t.src=t.src.replace(r,e)),t.srcset&&(t.srcset=t.srcset.replace(r,e))}}}var dl=n(9537),fl=n(78797),hl=n(86087);if((0,dl.Pe)()){var pl,ml,yl,vl=bt.A.instance;pl=vl.addEventListener("".concat(Cn.Bf).concat(gt.wM),(function(t){return(0,cn.JD)((0,hl.uo)(t))})),ml=vl.addEventListener("".concat(Cn.Bf).concat(gt.Z5),(function(t){var e=(0,dl.JP)(t);e>0&&(0,cn.JD)((0,hl.Ez)(e))})),yl=(0,cn.B1)((0,fl.x)(),(function(){vl.removeEventListener("".concat(Cn.Bf).concat(gt.wM),pl),vl.removeEventListener("".concat(Cn.Bf).concat(gt.Z5),ml),yl(),pl=null,ml=null,vl=null})),n.e(887).then(n.bind(n,93887)).then((function(t){return(0,t.init)()})),n.e(409).then(n.bind(n,89409)).then((function(t){return(0,t.init)()})),n.e(419).then(n.bind(n,91419)).then((function(t){return(0,t.init)()}))}function bl(t){return bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(t)}function gl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jl(r.key),r)}}function wl(t,e,n){return(e=jl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jl(t){var e=function(t,e){if("object"!=bl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bl(e)?e:e+""}var xl=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),wl(this,"_cache",{}),wl(this,"openModal",(function(){e._cache.$modal=i()("#webview-popup-text-modal"),e._cache.$rateBtn=e._cache.$modal.find(".js-rate"),e._cache.$cancelBtn=e._cache.$modal.find(".js-cancel-rate"),e._cache.$cancelBtn.on("click",e.btnLaterClickHandler),e._cache.$rateBtn.on("click",e.btnRateClickHandler)})),wl(this,"closeModal",(function(){e._cache={}})),wl(this,"btnLaterClickHandler",(function(t){(0,dl.cT)()})),wl(this,"btnRateClickHandler",(function(t){t.preventDefault(),window.NativeBridge.sendCommand("showRateApp"),(0,B.A)("app-popups",1),(0,dl.N1)(),i().magnificPopup.close()}))},(e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){u.A.subscribe("".concat(y.iz,".webview-popup-text-modal"),this.openModal),u.A.subscribe("".concat(y.ub,".webview-popup-text-modal"),this.closeModal)}}])&&gl(t.prototype,e),n&&gl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),_l=xl;function Sl(t){return Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(t)}function Ol(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kl(r.key),r)}}function kl(t){var e=function(t,e){if("object"!=Sl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sl(e)?e:e+""}var Tl=function(){return t=function t(){var e,n,r,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=function(t,e){var n=e.bonus;null!==i.headerBonusBtn&&(i.headerBonusBtn.removeAttribute("href"),i.headerBonusBtn.removeAttribute("data-type"),i.headerBonusBtn.className="h-btn h-btn--bonus-welcome h-btn--animate js-open-welcome-modal",i.headerBonusBtn=document.querySelector(".h-btn--bonus-welcome"),i.headerBonusBtnClose&&i.headerBonusBtnClose.remove(),i.headerBonusImg.src="/themes/cabinet/images/header-buttons/bonus-welcome-icon.png"),i.headerBonusBtnText.textContent=(0,$.tr)("welcome_bonus.header_btn.text",{bonus:"".concat(i.getBonusValue(n),"%")})},(n=kl(n="update"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this.headerBonusBtn=document.querySelector(".h-btn--bonus")||null,this.headerBonusBtnClose=document.querySelector(".h-btn__close-btn.js-close"),this.headerBonusBtnText=document.querySelector(".h-btn__text"),this.headerBonusImg=document.querySelector(".h-btn__start img")},(e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){u.A.subscribe(y.U2,this.update)}},{key:"getBonusValue",value:function(t){return t<75?50:t<100?75:100}}])&&Ol(t.prototype,e),n&&Ol(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Al=Tl;function Cl(t){return Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(t)}function Pl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Il(r.key),r)}}function El(t,e,n){return(e=Il(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Il(t){var e=function(t,e){if("object"!=Cl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Cl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cl(e)?e:e+""}var Nl=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),El(this,"_cache",{}),El(this,"openModal",(function(){e._cache.$modal=i()(".hb-8-modal"),e._cache.$btn=e._cache.$modal.find(".hp-8-btn"),e._cache.$msgBlock=e._cache.$modal.find(".hb-8-modal__msg"),e._cache.$btn.length&&e._cache.$btn.on("click",e.btnClickHandler)})),El(this,"btnClickHandler",(function(t){t.preventDefault();var n=(new I.Ay).getForButton(),r=ze.A.requestAbortable({url:e._cache.$btn.attr("href"),beforeSend:function(){e.hideMessage(),e._cache.$btn.addClass("btn-ajax-loading").prepend(n)},complete:function(){n.remove(),e._cache.$btn.removeClass("btn-ajax-loading")},success:function(t){if(!0===t.status)return e.changeAvatar(),void i().magnificPopup.close();t.error&&e.showMessage(t.error)}}).abort;e._cache.abort=r})),El(this,"showMessage",(function(t){e._cache.$msgBlock.hasClass("hidden")&&e._cache.$msgBlock.removeClass("hidden"),e._cache.$msgBlock.html(t)})),El(this,"hideMessage",(function(){!e._cache.$msgBlock.hasClass("hidden")&&e._cache.$msgBlock.addClass("hidden"),e._cache.$msgBlock.empty()})),El(this,"closeModal",(function(){"function"==typeof e._cache.abort&&e._cache.abort(),e._cache={}}))},(e=[{key:"init",value:function(){u.A.subscribe("".concat(y.iz,".hb-8-modal"),this.openModal),u.A.subscribe("".concat(y.ub,".hb-8-modal"),this.closeModal)}},{key:"changeAvatar",value:function(){i()(".header-avatar__l .user-avatar__img, .site-header .user-avatar__img").attr("src","/themes/cabinet/images/hb-8/avatar/avatars.png")}}])&&Pl(t.prototype,e),n&&Pl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Dl=Nl;(0,Ar.rF)();var Ll=function(){var t;window.NativeBridge=il,window.replaceSrcSetImageTheme=ul,Yo(),(new Br).init(),Sc(),Za(),Pa(),Tc(),Ec(),nl(),ya.connect(),Vc.init(),(new l).init(),(new E).init(),(new R).init(),new Z.pc,(new Qe).init(),(new sn).init(),(new zt.Ay).init(),(new cr).init(),(new Bo).init(),(new Yr).init(),(new Qr).init(),(new jo).init(),(new Vo).init(),(new Rc).init(),(new Kc).init(),(new ll).init(),(new Al).init(),(new _l).init(),(new Dl).init(),Xo(),Sa(),Cr(),Ls(),Oo(),(0,se.hP)()||((new Tr).init(),(new Gt).init(),new Jn),i()(".js-vke").virtualKeyboard(),(new _c).init(),(new Ge).init(),(new vt).init(),(new Tn).init(),(new el).init(),new Vn,new rr,zn(),(new pr).init(),(new Ds).init(),window.addEventListener("appinstalled",(function(){Aa({is_pwa:1}),Aa({event:"gtm_events",ga4_event_name:"pwa_add_to_home_screen"}),"function"==typeof t&&t()})),Ts(),document.addEventListener("visibilitychange",(function(){Ts()}))};var Ml="NotEnoughFunds",Rl=n(64652),Bl=n(18264),Hl=n.n(Bl),$l=n(46177),Fl=n.n($l),Wl=n(95616),Ul=function(t){return t instanceof Wl};function Vl(t){return Vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(t)}function Gl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yl(r.key),r)}}function zl(t,e,n){return(e=Yl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yl(t){var e=function(t,e){if("object"!=Vl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vl(e)?e:e+""}var Xl=function(){return t=function t(){var e=this;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),zl(this,"_oldAmount",0),zl(this,"_amount",0),zl(this,"_$body",i()("body")),zl(this,"_$to",i()(".site-header .balance-info-block")),zl(this,"_$tooltip",void 0),zl(this,"_offset",20),zl(this,"_xhr",void 0),zl(this,"_startEv",void 0),zl(this,"_api",Bn.instance),zl(this,"removeTooltip",(function(){Ul(e._$tooltip)&&(e._$tooltip.find(".js-self-close").off("click"),e._$tooltip.remove()),window.removeEventListener("orientationchange",e._resizeHandler),window.removeEventListener("optimizedResize",e._resizeHandler),e._api.removeEventListener("".concat(An.k3).concat(An.uk),e._startEv),e._$body.find(".js-mobile-nav").off("click"),e.resetToDefault()})),zl(this,"reRenderTooltip",(function(){var t=e.getCss();if(t){var n=e.getCurrentCss();Hl()(n,t)||e._$tooltip.removeAttr("style").css(t)}})),"object"===Vl(t.instance)||(t.instance=this),t.instance},e=[{key:"setAmount",value:function(t){return this._amount=t,this}},{key:"resetToDefault",value:function(){this._amount=0,this._oldAmount=0,this._xhr=null,this._$tooltip=null}},{key:"open",value:function(){var t=this;if(this._amount!==this._oldAmount){this._oldAmount=this._amount,this._resizeHandler=Fl()(this.reRenderTooltip,300);var e=ze.A.requestAbortable({url:(0,tn.hX)("cabinet/ajax/modal/need-deposit")+"?amount="+this._amount,beforeSend:function(){"function"==typeof t._xhr&&t._xhr()},complete:function(){t._xhr=null},success:function(e){"string"==typeof e.html&&(Ul(t._$tooltip)&&t.removeTooltip(),t._$tooltip=i()(e.html),t._$body.append(t._$tooltip),t._$tooltip.css(t.getCss()),t.addEvents(),Aa({event:"gtm_events",ga4_event_name:"demo_top_up__show"}))}}).abort;this._xhr=e}}},{key:"addEvents",value:function(){var t=this;this._$tooltip.find(".js-self-close").one("click",(function(e){e.preventDefault(),setTimeout((function(){return t.removeTooltip()}),0)})),this._$body.find(".js-mobile-nav").on("click",(function(){"object"===Vl(t._$tooltip)&&t.removeTooltip()})),window.addEventListener("orientationchange",this._resizeHandler),window.addEventListener("optimizedResize",this._resizeHandler),this._startEv=this._api.addEventListener("".concat(An.k3).concat(An.uk),(function(){return t.removeTooltip()}))}},{key:"getCurrentCss",value:function(){return{top:+this._$tooltip.css("top").replace("px",""),left:+this._$tooltip.css("left").replace("px","")}}},{key:"getCss",value:function(){if(this._$tooltip){var t=this._$to[0].getBoundingClientRect(),e=t.bottom+7,n=this._$tooltip.outerWidth(),r=t.left+t.width/2-n/2,i=window.innerWidth,o={top:e,left:r};return r+n+this._offset>i&&(o.left=i-n-this._offset),o.left<this._offset&&(o.left=this._offset),o}}}],e&&Gl(t.prototype,e),n&&Gl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),ql=Xl;function Kl(t){return Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(t)}function Zl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ql(r.key),r)}}function Jl(t,e,n){return(e=Ql(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ql(t){var e=function(t,e){if("object"!=Kl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Kl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Kl(e)?e:e+""}var tu="position-bottom-left",eu=function(){return t=function t(e){var n=this,r=e.to,o=e.position,a=void 0===o?tu:o,s=e.holdTime,c=void 0===s?1500:s,l=e.maxItems,u=void 0===l?4:l,d=e.animationNameIn,f=void 0===d?"fadeInUp":d,h=e.animationNameOut,p=void 0===h?"fadeOutLeft":h,m=e.wrapperClassName,y=void 0===m?"deals-noty-streamer":m,v=e.isMultiGraph,b=void 0!==v&&v,g=e.isMobile,w=void 0!==g&&g;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Jl(this,"getTo",(function(){if(null===n._$to&&(n._$to=i()(n._to)),0===n._$to.length)throw new Error("this._$to not found ("+n._to+")");return n._$to})),Jl(this,"_getWrapper",(function(){return n.getTo().find(n._getWrapperSelector())})),Jl(this,"_getWrapperSelector",(function(){return".".concat(n._wrapperClassName,".").concat(n._wrapperClassName,"--").concat(n._position)})),Jl(this,"_getWrapperElement",(function(){var t=document.createElement("div");return t.classList.add(n._wrapperClassName),t.classList.add("".concat(n._wrapperClassName,"--").concat(n._position)),t})),Jl(this,"renderEle",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n._createWrapper();var r=i()(t),o=n._createEleObject(r,e);r.one((0,Mt.A)(),(function(){r.removeClass(n._animationInClassName),n._offAnimation||(r.one((0,Mt.A)(),(function(){return r.remove()})),o.startHoldTimer(r))})),r.addClass(n._animationInClassName),n._getWrapper().prepend(r);var a=n._getItems();n._moveOtherItems(a),a.length>n._maxItems&&a.slice(n._maxItems).remove()})),Jl(this,"_moveOtherItems",(function(t){var e=t.length;if(!(e<=1)){var r=0;n._isCompact||(r=t.eq(0).innerHeight()),n._isCompact||(t=t.slice(1)),t.each((function(t,n){var o,a=i()(n),s=0;o=a.prev().innerHeight()-a.innerHeight(),t>0?o>0&&(s+=o):0===t&&o>0&&(s+=o,r-=o),s+=r+5+28*t,a.css("bottom","".concat(s.toFixed(2),"px")).css("z-index","".concat(e-t))}))}})),Jl(this,"_createWrapper",(function(){0===n.getTo().find(n._getWrapperSelector()).length&&(n.getTo().append(n._getWrapperElement()),n._getWrapper().on("click",n._wrapperClicked))})),Jl(this,"_wrapperClicked",(function(){var t=n._getItems();if(0!==t.length){t.each((function(t,e){i()(e).data("eleObj").restartTimer()}));var e=t.filter(":not(.deals-noty--deleted)").eq(0);e.one((0,Mt.A)(),(function(){return e.remove()})),e.addClass("deals-noty--deleted"),e.addClass(n._animationOutClassName)}})),this._to=r,this._$to=null,this._position=a,this._wrapperClassName=y,this._holdTime=c,this._animationNameIn=f,this._animationNameOut=p,this._maxItems=u,this._isMobile=w,this._isMultiGraph=b,this._offAnimation=!1,this._animationInClassName="animated ".concat(this._animationNameIn),this._animationOutClassName="animated ".concat(this._animationNameOut),this._initParams(),window.addEventListener("resize",Fl()((function(){return n._initParams()}),300))},e=[{key:"_initParams",value:function(){this._isCompact=this._getIsCompact(),this._isMobile&&(this._maxItems=3)}},{key:"_getIsCompact",value:function(){return this._isMultiGraph||this._isMobile}},{key:"_createEleObject",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r={holdTimer:null,holdTime:n||this._holdTime,$ele:t,stopHoldTimer:function(){clearTimeout(r.holdTimer)},startHoldTimer:function(){r.holdTimer=O()((function(){return r.$ele.addClass(e._animationOutClassName)}),r.holdTime)},restartTimer:function(){r.stopHoldTimer(),r.startHoldTimer()}};return t.data("eleObj",r),r}},{key:"_getItems",value:function(){return this._getWrapper().children()}}],e&&Zl(t.prototype,e),n&&Zl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),nu=eu,ru=n(48226),iu=n(98576),ou=n(28783);function au(t){return au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(t)}function su(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cu(r.key),r)}}function cu(t){var e=function(t,e){if("object"!=au(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=au(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==au(e)?e:e+""}var lu={"green-ok":'<svg width="10" height="10" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 10C7.76142 10 10 7.76142 10 5C10 2.23858 7.76142 0 5 0C2.23858 0 0 2.23858 0 5C0 7.76142 2.23858 10 5 10ZM7.87443 3.68245C8.04185 3.52618 8.04185 3.27365 7.87443 3.11739C7.70702 2.96087 7.43646 2.96087 7.26904 3.11739L4.13092 6.03396L2.73169 4.71756C2.56427 4.5613 2.29292 4.5613 2.12552 4.71756C1.95816 4.87383 1.95816 5.12636 2.12552 5.28262L3.84028 6.8828C4.0077 7.03907 4.27825 7.03907 4.44567 6.8828L7.87443 3.68245Z" fill="#32AC41"/></svg>',"green-okx2":'<svg width="10" height="10" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 5A5 5 0 1 1 0 5a5 5 0 0 1 10 0ZM6.874 3.117a.38.38 0 0 1 0 .565L4.755 5.66l.376.374 3.138-2.917a.449.449 0 0 1 .605 0 .38.38 0 0 1 0 .565l-3.428 3.2a.45.45 0 0 1-.606 0l-.687-.66-.707.66a.45.45 0 0 1-.606 0l-1.714-1.6a.38.38 0 0 1 0-.564.45.45 0 0 1 .606 0L3.13 6.034l3.138-2.917a.449.449 0 0 1 .605 0Z" fill="#32AC41"/></svg>',"red-ok":'<svg width="10" height="10" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 5A5 5 0 1 1 0 5a5 5 0 0 1 10 0ZM6.874 3.117a.38.38 0 0 1 0 .565L4.755 5.66l.376.374 3.138-2.917a.449.449 0 0 1 .605 0 .38.38 0 0 1 0 .565l-3.428 3.2a.45.45 0 0 1-.606 0l-.687-.66-.707.66a.45.45 0 0 1-.606 0l-1.714-1.6a.38.38 0 0 1 0-.564.45.45 0 0 1 .606 0L3.13 6.034l3.138-2.917a.449.449 0 0 1 .605 0Z" fill="#F13227"/></svg>',"yellow-ok":'<svg width="10" height="10" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 5A5 5 0 1 1 0 5a5 5 0 0 1 10 0ZM6.874 3.117a.38.38 0 0 1 0 .565L4.755 5.66l.376.374 3.138-2.917a.449.449 0 0 1 .605 0 .38.38 0 0 1 0 .565l-3.428 3.2a.45.45 0 0 1-.606 0l-.687-.66-.707.66a.45.45 0 0 1-.606 0l-1.714-1.6a.38.38 0 0 1 0-.564.45.45 0 0 1 .606 0L3.13 6.034l3.138-2.917a.449.449 0 0 1 .605 0Z" fill="#FFC107"/></svg>',call:'<svg width="15" height="15" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M0 11.668v3.333h1.497v-4.358l-.236-.235L0 11.668Zm2.19 3.333h2.344v-2.415a1.182 1.182 0 0 1-1.335-.24l-1.008-1.008V15Zm5.382 0V9.663L5.23 12.007V15h2.343Zm3.038 0V6.625L8.266 8.969V15h2.344ZM0 8.306v2.318l1.26-1.26 2.461 2.46a.452.452 0 0 0 .639 0l.264-.265c.014-.01.028-.02.041-.033l6.088-6.089.951.951a.33.33 0 0 0 .562-.232V3.095a.33.33 0 0 0-.329-.33h-3.06a.33.33 0 0 0-.233.562l.95.951-5.55 5.55L1.58 7.365a.451.451 0 0 0-.638 0L0 8.306Z" fill="#32AC41"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h15v15H0z"/></clipPath></defs></svg>',put:'<svg width="15" height="15" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.187 15V7.988l2.342 2.354V15H2.187Zm5.385 0H5.23v-3.927c.229.277.557.337.823.079l1.519-1.515V15Zm.696 0h2.342v-3.865H8.588a.345.345 0 0 1-.32-.216V15ZM0 5.838l1.486 1.493V15H0V5.838Zm0-3.264 5.65 5.649 2.434-2.434a.456.456 0 0 1 .492-.098.452.452 0 0 1 .146.098l.265.265c.014.011.028.02.041.033l1.725 1.725.952-.95a.328.328 0 0 1 .561.232v3.061a.33.33 0 0 1-.329.329H8.876a.329.329 0 0 1-.232-.562l.951-.951-1.188-1.187L6.27 9.921c-.012.012-.027.022-.04.033l-.265.265a.453.453 0 0 1-.638 0L0 4.892V2.574Z" fill="#F13227"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h15v15H0z"/></clipPath></defs></svg>',"price-alert":'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="none"><path fill="#8EA5C0" d="M1.625 10.132a.606.606 0 0 1-.445-.179A.601.601 0 0 1 1 9.51c0-.176.06-.324.18-.443a.606.606 0 0 1 .445-.18h.625V5.982c0-.861.26-1.627.781-2.296A3.606 3.606 0 0 1 5.062 2.37v-.436c0-.26.092-.48.274-.662A.906.906 0 0 1 6 1c.26 0 .482.09.664.272a.899.899 0 0 1 .274.662v.436c.833.207 1.51.646 2.03 1.315.522.67.782 1.435.782 2.296v2.906h.625c.177 0 .325.06.445.179.12.12.18.267.18.443 0 .177-.06.325-.18.444a.606.606 0 0 1-.445.18h-8.75ZM6 12c-.344 0-.638-.122-.883-.366a1.197 1.197 0 0 1-.367-.88h2.5c0 .343-.122.636-.367.88S6.343 12 6 12Z"/></svg>'},uu=function(){return t=function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=function(t){return lu[t]},(n=cu(n="_iconImg"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r},e=[{key:"createOpenSuccessExpressTemplate",value:function(t){var e=document.createElement("div");e.classList.add("deals-noty"),e.classList.add("deals-noty--open-success"),t.deals.length>0&&e.classList.add("deals-noty--many");var n=t.deals.length;return e.innerHTML=this._getTitle((0,$.tr)("notifications.express_created"),"green-ok")+this._getCount(n,(0,$.tr)("expresses.assets"))+this._getText((0,$.tr)("deals.payout"),"".concat(t.totalPayout,"%"),(0,$.tr)("deals.amount"),"$".concat(t.amount)),e}},{key:"createPriceAlertTriggeredTemplate",value:function(t){var e=document.createElement("div");return e.classList.add("deals-noty"),e.classList.add("deals-noty--price-alert"),e.addEventListener("click",(function(){return u.A.publish(y.DE,{symbol:t.symbol,chartSlotIndex:t.chartSlotIndex})}),{once:!0}),e.innerHTML=this._getTitle((0,$.tr)("price_alert.reached"),"price-alert")+this._getSymbolWithoutIcon(t.label)+this._getTextOneLine("".concat((0,$.tr)("price_alert.level"),":"),t.price),e}},{key:"createCloseSuccessExpressTemplate",value:function(t){var e=document.createElement("div");e.classList.add("deals-noty"),e.classList.add("deals-noty--close-success");var n=t.totalPayout>0?"green-ok":"red-ok";return t.status===ou.m3.REFUND&&(n="yellow-ok"),e.innerHTML=this._getTitle((0,$.tr)("notifications.express_executed"),n)+this._getText((0,$.tr)("deals.total_payout"),t.profitString,(0,$.tr)("deals.total_profit"),"$".concat(t.totalPayout)),e}},{key:"successCancelOrderTemplate",value:function(t){var e=document.createElement("div");return e.classList.add("deals-noty"),e.classList.add("deals-noty--cancel-order-success"),e.innerHTML=this._getTitle((0,$.tr)("deals.success_cancel_order"),"green-ok")+this._getStringText(t),e}},{key:"failCancelOrderTemplate",value:function(t){var e=document.createElement("div");return e.classList.add("deals-noty"),e.classList.add("deals-noty--cancel-order-fail"),e.innerHTML=this._getTitle((0,$.tr)("deals.fail_cancel_order"),"red-ok")+this._getStringText(t),e}},{key:"successCopyOrderTemplate",value:function(t){var e=document.createElement("div");return e.classList.add("deals-noty"),e.classList.add("deals-noty--copy-order-success"),e.innerHTML=this._getTitle((0,$.tr)("deals.success_copy_order"),"green-ok")+this._getStringText(t),e}},{key:"createOpenSuccessTemplate",value:function(t){var e=document.createElement("div");e.classList.add("deals-noty"),e.classList.add("deals-noty--open-success");var n=(0,iu.nT)(t.command)?"call":"put",r=(0,$.tr)("deals.forecast"),i=(0,iu.nT)(t.command)?(0,$.tr)("deals.higher"):(0,$.tr)("deals.lower"),o=(0,$.tr)("deals.amount"),a=(0,hn.ej)(t.amount,t.currency);return e.innerHTML=this._getTitle((0,$.tr)("deals.trade_order_placed"),"green-ok")+this._getSymbol(t.asset,n)+this._getText(r,i,o,a),e}},{key:"createCloseSuccessTemplate",value:function(t){var e=document.createElement("div");e.classList.add("deals-noty"),e.classList.add("deals-noty--close-success"),t.deals.length>0&&e.classList.add("deals-noty--many");var n,r,i,o,a=null,s=null;t.deals.length>1?(n=(0,$.tr)("deals.trades_closed")+": "+t.deals.length,i=(0,$.tr)("deals.total_payout"),o=(0,$.tr)("deals.total_profit")):(n=(0,$.tr)("deals.trade_closed2"),i=(0,$.tr)("deals.payout"),o=(0,$.tr)("deals.profit"),s=t.asset,a=(0,iu.nT)(t.deals[0].command)?"call":"put");var c=t.deals.some((function(t){return t.profit<0})),l=t.deals.some((function(t){return t.profit>0}));r=l&&!c?"green-okx2":!l&&c?"red-ok":"yellow-ok";var u=(0,ru.xr)(t.deals.reduce((function(t,e){return t+(0,iu.ZN)(e)}),0)),d=t.deals.reduce((function(t,e){return t+e.profit}),0),f=(0,hn.ej)(u,t.currency),h=(0,hn.ej)(d>0?d:0,t.currency);return e.innerHTML=this._getTitle(n,r)+this._getSymbol(s,a)+this._getText(i,f,o,h),e}},{key:"createFailOpenTemplate",value:function(t){var e=document.createElement("div");return e.classList.add("deals-noty"),e.classList.add("deals-noty--open-fail"),e.innerHTML=this._getStringText(t),e}},{key:"createDisabledTradingTemplate",value:function(t){var e=document.createElement("div");return e.classList.add("deals-noty"),e.classList.add("deals-noty--disabled-trading"),e.innerHTML=this._getStringText(t),e}},{key:"createSuccessOpenOnlyTextTemplate",value:function(t){var e=document.createElement("div");return e.classList.add("deals-noty"),e.classList.add("deals-noty--text"),e.innerHTML=this._getStringText(t),e}},{key:"_getText",value:function(t,e,n,r){return'\n            <div class="deals-noty__text">\n                <div class="deals-noty__text-col">\n                    <div class="deals-noty__label">'.concat(t,'</div>\n                    <div class="deals-noty__value">').concat(e,'</div>\n                </div>\n                <div class="deals-noty__text-col">\n                    <div class="deals-noty__label">').concat(n,'</div>\n                    <div class="deals-noty__value">').concat(r,"</div>\n                </div>\n            </div>\n        ")}},{key:"_getTextOneLine",value:function(t,e){return'\n            <div class="deals-noty__text">\n                <div class="deals-noty__text-col">\n                    <div class="deals-noty__label">'.concat(t,'</div>\n                    <div class="deals-noty__value">').concat(e,"</div>\n                </div>\n            </div>\n        ")}},{key:"_getStringText",value:function(t){return'\n            <div class="deals-noty__text">\n                '.concat(t,"\n            </div>\n        ")}},{key:"_getCount",value:function(t,e){return'\n        <div class="deals-noty__count">\n            <div class="deals-noty__count-label">'.concat(e,'</div>\n            <div class="deals-noty__count-number">').concat(t,"</div>\n        </div>")}},{key:"_getSymbol",value:function(t,e){return t?'\n        <div class="deals-noty__symbol">\n            <div class="deals-noty__symbol-title">'.concat(t,'</div>\n            <div class="deals-noty__type-icon">').concat(this._iconImg(e),"</div>\n        </div>"):""}},{key:"_getSymbolWithoutIcon",value:function(t){return t?'\n        <div class="deals-noty__symbol">\n            <div class="deals-noty__symbol-title">'.concat(t,"</div>\n        </div>"):""}},{key:"_getTitle",value:function(t,e){return'\n        <div class="deals-noty__title">\n            '.concat(t,'\n            <div class="deals-noty__title-icon">').concat(this._iconImg(e),"</div>\n        </div>")}}],e&&su(t.prototype,e),n&&su(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),du=uu;function fu(t){return fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(t)}function hu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pu(r.key),r)}}function pu(t){var e=function(t,e){if("object"!=fu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fu(e)?e:e+""}var mu=function(){return t=function t(e){var n=e.command,r=e.asset,i=e.amount,o=e.currency;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._command=n,this._asset=r,this._amount=i,this._currency=o},(e=[{key:"command",get:function(){return this._command}},{key:"asset",get:function(){return this._asset}},{key:"amount",get:function(){return this._amount}},{key:"currency",get:function(){return this._currency}}])&&hu(t.prototype,e),n&&hu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),yu=mu;function vu(t){return vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(t)}function bu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gu(r.key),r)}}function gu(t){var e=function(t,e){if("object"!=vu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vu(e)?e:e+""}var wu=function(){return t=function t(e){var n=e.asset,r=e.deals,i=e.currency;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._asset=n,this._deals=r,this._currency=i},(e=[{key:"asset",get:function(){return this._asset}},{key:"deals",get:function(){return this._deals}},{key:"currency",get:function(){return this._currency}}])&&bu(t.prototype,e),n&&bu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),ju=wu;function xu(t){return xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(t)}function _u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Su(r.key),r)}}function Su(t){var e=function(t,e){if("object"!=xu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xu(e)?e:e+""}var Ou=function(){return t=function t(e){var n=e.amount,r=e.totalPayout,i=e.deals;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._amount=n,this._totalPayout=r,this._deals=i},(e=[{key:"amount",get:function(){return this._amount}},{key:"totalPayout",get:function(){return this._totalPayout}},{key:"deals",get:function(){return this._deals}}])&&_u(t.prototype,e),n&&_u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),ku=Ou;function Tu(t){return Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(t)}function Au(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cu(r.key),r)}}function Cu(t){var e=function(t,e){if("object"!=Tu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Tu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Tu(e)?e:e+""}var Pu=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=e},(e=[{key:"profit",get:function(){return this._data.profit}},{key:"amount",get:function(){return this._data.amount}},{key:"profitString",get:function(){return"$".concat(Math.max(0,this.profit))}},{key:"totalPayout",get:function(){var t=this.profit-this.amount;return t<0?0:t}},{key:"status",get:function(){return this._data.status}}])&&Au(t.prototype,e),n&&Au(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Eu=Pu;function Iu(t){return Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(t)}function Nu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Du(r.key),r)}}function Du(t){var e=function(t,e){if("object"!=Iu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Iu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Iu(e)?e:e+""}var Lu=function(){return t=function t(e){var n=e.price,r=e.assetId,i=e.symbol,o=e.label,a=e.chartSlotIndex;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._price=n,this._assetId=r,this._symbol=i,this._label=o,this._chartSlotIndex=a},(e=[{key:"price",get:function(){return this._price}},{key:"assetId",get:function(){return this._assetId}},{key:"symbol",get:function(){return this._symbol}},{key:"label",get:function(){return this._label}},{key:"chartSlotIndex",get:function(){return this._chartSlotIndex}}])&&Nu(t.prototype,e),n&&Nu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Mu=Lu,Ru=n(71025);function Bu(t){return Bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(t)}function Hu(t){return function(t){if(Array.isArray(t))return $u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return $u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Fu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wu(r.key),r)}}function Wu(t){var e=function(t,e){if("object"!=Bu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bu(e)?e:e+""}var Uu=function(){return t=function t(e){var n=e.to,r=e.position,i=e.chartSlotIndex,o=e.isMultiGraph,a=e.isMobile,s=void 0!==a&&a,c=e.symbolToLabel,l=void 0===c?{}:c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._wrapper=new nu({to:n,position:r,isMultiGraph:o,isMobile:s}),this._tpl=new du,this._chartSlotIndex=i,this._idOpenDeals={},this._idOpenDeals[this._chartSlotIndex]=new Set,this._symbolToLabel=l,this._isTournament=1==+(0,Q.A)("is-tournament")},e=[{key:"wrapper",get:function(){return this._wrapper}},{key:"successCancelOrderAdd",value:function(t){var e=this._tpl.successCancelOrderTemplate(t);this._wrapper.renderEle(e)}},{key:"failCancelOrderAdd",value:function(t){var e=this._tpl.failCancelOrderTemplate(t);this._wrapper.renderEle(e)}},{key:"successCopyOrderAdd",value:function(t){var e=t.id,n=t.openPrice;if(!this._idOpenDeals[this._chartSlotIndex].has(e)){this._idOpenDeals[this._chartSlotIndex].add(e);var r=(0,$.tr)("deals.copy_order_success_label").replace("%s",n),i=this._tpl.successCopyOrderTemplate(r);this._wrapper.renderEle(i)}}},{key:"successOpenAdd",value:function(t){var e=t.id,n=t.command,r=t.asset,i=t.amount,o=t.currency;if(!this._idOpenDeals[this._chartSlotIndex].has(e)){this._idOpenDeals[this._chartSlotIndex].add(e),this._isTournament&&(o=Ru.Ay.TOURNAMENT_CURRENCY_CODE);var a=new yu({command:n,asset:this._symbolToLabel[r],amount:i,currency:o}),s=this._tpl.createOpenSuccessTemplate(a);this._wrapper.renderEle(s)}}},{key:"_deleteDuplicates",value:function(t){var e=this,n=Hu(t);return n.forEach((function(t,r){e._idOpenDeals[e._chartSlotIndex].has(t.id)||n.splice(r,1)})),n}},{key:"successCloseAdd",value:function(t){var e=this,n=t.asset,r=t.deals;if(0!==(r=this._deleteDuplicates(r)).length){r.forEach((function(t){var n=t.id;return e._idOpenDeals[e._chartSlotIndex].delete(n)}));var i=r[0].currency;this._isTournament&&(i=Ru.Ay.TOURNAMENT_CURRENCY_CODE);var o=new ju({asset:this._symbolToLabel[n],deals:r,currency:i}),a=this._tpl.createCloseSuccessTemplate(o);this._wrapper.renderEle(a)}}},{key:"successExpressOpenAdd",value:function(t){var e=t.amount,n=t.totalPayout,r=t.deals,i=new ku({amount:e,totalPayout:n,deals:r}),o=this._tpl.createOpenSuccessExpressTemplate(i);this._wrapper.renderEle(o)}},{key:"successExpressCloseAdd",value:function(t){var e=new Eu(t),n=this._tpl.createCloseSuccessExpressTemplate(e);this._wrapper.renderEle(n)}},{key:"priceAlertTriggered",value:function(t){var e=t.price,n=t.assetId,r=t.symbol,i=t.label,o=new Mu({price:e,assetId:n,symbol:r,label:i,chartSlotIndex:this._chartSlotIndex}),a=this._tpl.createPriceAlertTriggeredTemplate(o);this._wrapper.renderEle(a,5e3)}},{key:"failOpenAdd",value:function(t){var e=this._tpl.createFailOpenTemplate(t);this._wrapper.renderEle(e)}},{key:"failRollover",value:function(t){var e=this._tpl.createFailOpenTemplate(t);this._wrapper.renderEle(e)}},{key:"successOpenOnlyText",value:function(t){var e=this._tpl.createSuccessOpenOnlyTextTemplate(t);this._wrapper.renderEle(e)}},{key:"tradingDisabled",value:function(t){var e=this._tpl.createDisabledTradingTemplate(t);this._wrapper.renderEle(e,5e3)}},{key:"orderAmountLimit",value:function(t){var e=this._tpl.createDisabledTradingTemplate(t);this._wrapper.renderEle(e,5e3)}}],e&&Fu(t.prototype,e),n&&Fu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Vu=Uu,Gu=n(51392);function zu(t){return zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(t)}function Yu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xu(r.key),r)}}function Xu(t){var e=function(t,e){if("object"!=zu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zu(e)?e:e+""}var qu=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.socket=bt.A.instance,this.subscribeSocketEvents(),this.notify=new F.A({position:this.socket.isMobileVersion?Hr.XC:Hr.k3,time:2e3}),this.notifyInModal=new K({time:2e3,to:".pending-order-modal"}),this._dealsNotyStreamer=this.createDealNotify()},e=[{key:"createDealNotify",value:function(){var t=Rl.A.getState(),e=t.global,n=e.isMobile,r=e.windowLayout,i=Object.values((0,Gu.Y)(t)).reduce((function(t,e){return t[e.symbol]=e.label,t}),{});return new Vu({to:".layout-container .chart-item:eq(".concat(0,")"),position:tu,chartSlotIndex:1,isMobile:n,isMultiGraph:"FULL"!==r,symbolToLabel:i})}},{key:"subscribeSocketEvents",value:function(){var t=this;u.A.subscribe("successPendingOrderCreate",(function(e,n){t.notifyInModal.green(n)})),u.A.subscribe("successPendingOrderCreated",(function(e,n){t.notifyInModal.green(n)})),u.A.subscribe("successPendingOrderCancel",(function(e,n){t.notifyInModal.green(n)})),u.A.subscribe("failPendingOrderCreated",(function(e,n){t.notifyInModal.red(n)})),u.A.subscribe("failPendingOrderCreate",(function(e,n){t.notifyInModal.red(n)})),u.A.subscribe("failPendingOrderCancel",(function(e,n){t.notifyInModal.red(n)})),this.socket.addEventListener("".concat(Cn.my).concat(gt.N1),(function(t){var e=t.error,n=t.amount;e===Ml&&(new ql).setAmount(n).open()})),this.socket.addEventListener("".concat(Cn.my).concat(gt.Im),(function(t){var e=t.error,n=t.amount;e===Ml&&(new ql).setAmount(n).open()})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.Xc),(function(e){if(!t.socket.isMobileVersion){var n=Math.trunc(100*(e.factor-1));t._dealsNotyStreamer.successExpressOpenAdd({amount:e.amount,totalPayout:n,deals:e.deals})}})),this.socket.addEventListener("".concat(Cn.my).concat(gt.Xc),(function(){t._dealsNotyStreamer.failOpenAdd((0,$.tr)("expresses.f_created"))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.NJ),(function(e){t._dealsNotyStreamer.successExpressCloseAdd(e)}))}}],e&&Yu(t.prototype,e),n&&Yu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Ku=qu,Zu=n(87472);function Ju(t){return Ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(t)}function Qu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,td(r.key),r)}}function td(t){var e=function(t,e){if("object"!=Ju(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ju(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ju(e)?e:e+""}var ed=function(){return t=function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(){if("undefined"==typeof Audio)return!1;var e=null;try{"undefined"!=typeof AudioContext?e=new AudioContext:"undefined"!=typeof webkitAudioContext&&(e=new webkitAudioContext)}catch(t){}return e&&(void 0!==e.createGain||void 0!==e.createGainNode)}()&&(this.isMobile=(0,se.hP)(),this.$body=i()("body"),this._sounds={iphoneKeyboardSound:new Zu.Howl({src:["/themes/cabinet/sounds/iphone_keyboard_sound.mp3"],volume:this._getVolume()})},tt()&&(this._sounds.sentMessageSoundOnIphone=new Zu.Howl({src:["/themes/cabinet/sounds/sent_message_sound_on_iphone.mp3"],volume:this._getVolume()}),this._sounds.sendingMessageSoundOnIphone=new Zu.Howl({src:["/themes/cabinet/sounds/sending_message_sound_on_iphone.mp3"],volume:this._getVolume()}),this._sounds.gemLottoSound=new Zu.Howl({src:["/themes/cabinet/sounds/gem-lotto.mp3"],volume:this._getVolume()}),this._sounds.priceAlertSound=new Zu.Howl({src:["/themes/cabinet/sounds/price_alert_triggered.mp3"],volume:this._getVolume()}),this._sounds.dealOpen=new Zu.Howl({src:["/themes/cabinet/sounds/deal-open.mp3"],volume:this._getVolume()}),this._sounds.dealWin=new Zu.Howl({src:["/themes/cabinet/sounds/deal-win.mp3"],volume:this._getVolume()}),this._sounds.dealLoose=new Zu.Howl({src:["/themes/cabinet/sounds/deal-loose.mp3"],volume:this._getVolume()})),this._subscribePubSubEvents(),this._subscribeInterfaceButtons())},e=[{key:"_getVolume",value:function(){return this.isMobile?.05:.11}},{key:"_subscribePubSubEvents",value:function(){var t=this;u.A.subscribe(Hn.k8,(function(e,n){return t._sentMessageSoundOnIphoneEventHandler(n)})),u.A.subscribe(Hn.oe,(function(e,n){return t._sendingMessageSoundOnIphoneEventHandler(n)})),u.A.subscribe(Hn.nS,(function(e,n){return t._iphoneKeyboardSoundEventHandler(n)})),u.A.subscribe(y.xM,(function(){return t.playSound(t._sounds.gemLottoSound)})),u.A.subscribe(y.cq,(function(e,n){t._priceAlertTriggeredSoundEventHandler(n)})),u.A.subscribe(Hn.oU,(function(){t.isOnlyBalanceSounds()&&t._sounds.dealOpen&&t.playSound(t._sounds.dealOpen)})),u.A.subscribe(Hn.pd,(function(e){t.isOnlyBalanceSounds()?t._sounds.dealWin&&t.playSound(t._sounds.dealWin):t._sentMessageSoundOnIphoneEventHandler(e)})),u.A.subscribe(Hn.$,(function(e){t.isOnlyBalanceSounds()?t._sounds.dealLoose&&t.playSound(t._sounds.dealLoose):t._sentMessageSoundOnIphoneEventHandler(e)}))}},{key:"_sendingMessageSoundOnIphoneEventHandler",value:function(t){var e=t.volume;this.sendingMessageSoundOnIphone(e)}},{key:"sendingMessageSoundOnIphone",value:function(t){this._sounds.sendingMessageSoundOnIphone&&(t&&this._sounds.sendingMessageSoundOnIphone.volume(t),this.playSound(this._sounds.sendingMessageSoundOnIphone))}},{key:"_iphoneKeyboardSoundEventHandler",value:function(t){var e=t.volume;this.iphoneKeyboardSound(e)}},{key:"iphoneKeyboardSound",value:function(t){this._sounds.iphoneKeyboardSound&&(t&&this._sounds.iphoneKeyboardSound.volume(t),this.playSound(this._sounds.iphoneKeyboardSound))}},{key:"_priceAlertTriggeredSoundEventHandler",value:function(t){var e=t.volume;this.priceAlertTriggeredSound(e)}},{key:"priceAlertTriggeredSound",value:function(t){this._sounds.priceAlertSound&&(t&&this._sounds.priceAlertSound.volume(t),this.playSound(this._sounds.priceAlertSound))}},{key:"_sentMessageSoundOnIphoneEventHandler",value:function(t){var e=t.volume;this.sentMessageSoundOnIphone(e)}},{key:"sentMessageSoundOnIphone",value:function(t){this._sounds.sentMessageSoundOnIphone&&(t&&this._sounds.sentMessageSoundOnIphone.volume(t),this.playSound(this._sounds.sentMessageSoundOnIphone))}},{key:"_subscribeInterfaceButtons",value:function(){var t=this;u.A.subscribe(y.ub,(function(){return t.iphoneKeyboardSound()})),this.$body.on("click","a:not(.buttons__fast-trading):not(.js-copy-signal-btn):not(.js-confirm-purchase):not(.js-confirm-sell):not(.js-confirm-activation)",(function(){return t.iphoneKeyboardSound()})),i()(".site-header .header-avatar").on("click",(function(){return t.iphoneKeyboardSound()})),this.$body.on("click",".call-put-item__close",(function(){return t.iphoneKeyboardSound()})).on("click",".zoom-controls__select-wrap",(function(){return t.iphoneKeyboardSound()})).on("click",".control-panel .value--several-items",(function(){return t.iphoneKeyboardSound()})).on("click",".dops__timeframes-item",(function(){return t.iphoneKeyboardSound()})).on("click",".site-header .chart-layout-options-btn",(function(){return t.iphoneKeyboardSound()})).on("click",".top-left-block__block1 .items__link--dots",(function(){return t.iphoneKeyboardSound()})).on("click",".assets-favorites-item__close",(function(){return t.iphoneKeyboardSound()})).on("click",".js-mobile-nav",(function(){return t.iphoneKeyboardSound()})).on("click",".settings-modal__category",(function(){return t.iphoneKeyboardSound()})).on("click",".settings-modal .list-checkbox.theme label",(function(){return t.iphoneKeyboardSound()}))}},{key:"playSound",value:function(t){this.isSoundOn()&&t.play()}},{key:"isSoundOn",value:function(){return 1==+(0,Q.A)("sounds_notification",0)}},{key:"isOnlyBalanceSounds",value:function(){return 1==+(0,Q.A)("balance_sound_notification")}}],e&&Qu(t.prototype,e),n&&Qu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),nd=ed;function rd(t){return rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(t)}function id(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ad(r.key),r)}}function od(t,e,n){return(e=ad(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ad(t){var e=function(t,e){if("object"!=rd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rd(e)?e:e+""}var sd=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),od(this,"closeOrderSuccessHandler",(function(t){t.deals.forEach((function(t){t.profit>0?e.orders.up++:e.orders.down++})),e.orders.up+e.orders.down>=e.triggerTotalOrders&&e.orders.up>e.orders.down&&e.showNotice()})),od(this,"closeNoticeClickHandler",(function(t){t.preventDefault(),t.stopPropagation(),e.closeNotice(),e.orders.up=0,e.orders.down=0})),Cn.jx&&(this.triggerTotalOrders=10,this.orders={up:0,down:0},this.socket=bt.A.instance,this.noticeHtml=i()("#good-job-modal-tpl").text(),"string"==typeof this.noticeHtml&&(this.$document=i()(document),this.subscribeEvents(),this.noticeSubscribeEvents()))},(e=[{key:"subscribeEvents",value:function(){this.socket.addEventListener("".concat(Cn.Bf).concat(gt.Z5),this.closeOrderSuccessHandler)}},{key:"noticeSubscribeEvents",value:function(){this.$document.delegate(".js-notification--good-job .js-close-notice","click",this.closeNoticeClickHandler)}},{key:"showNotice",value:function(){this.closeNotice(),i()("body").append(this.noticeHtml)}},{key:"closeNotice",value:function(){var t=i()(".js-notification");t.stop(!0).fadeOut(300,(function(){t.remove()}))}}])&&id(t.prototype,e),n&&id(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function cd(t){return cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(t)}function ld(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dd(r.key),r)}}function ud(t,e,n){return(e=dd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dd(t){var e=function(t,e){if("object"!=cd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=cd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cd(e)?e:e+""}var fd=function(){return t=function t(){var e=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ud(this,"closeOrderSuccessHandler",(function(){e.isOrderClosed=!0})),ud(this,"updateBalanceSuccessHandler",(function(t){if(Pe.A.local.get(e.cookieName.holdBalance)||e.setCookie(e.cookieName.holdBalance,t),e.setCookie(e.cookieName.updatedBalance,t),e.isOrderClosed){var n=+Pe.A.local.get(e.cookieName.holdBalance),r=+Pe.A.local.get(e.cookieName.updatedBalance);((0,ru.xr)(r/n*100,0)<=e.triggerPercent||r<=e.triggerUSD)&&(e.showNotice(),e.changeCookies()),e.isOrderClosed=!1}})),ud(this,"closeNoticeClickHandler",(function(t){t.preventDefault(),t.stopPropagation();var e=i()(".js-notification");e.stop(!0).fadeOut(300,(function(){e.remove()}))})),this.socket=bt.A.instance,!Cn.jx&&!this.socket.isTournament){this.cookieName={currency:"lb-currency",holdBalance:"lb-hold",updatedBalance:"lb-updated",warningAccepted:"lb-accepted"},this.currency=(0,Q.A)("currency_code","USD"),this.rates=(0,Q.A)("rates",{});var n=this.rates[this.currency]?this.rates[this.currency]:1;if(this.triggerPercent=20,this.triggerUSD=5*n,!1===this.isEnabledNotice())return Pe.A.local.remove(this.cookieName.holdBalance),void Pe.A.local.remove(this.cookieName.updatedBalance);this.currency!==Pe.A.local.get(this.cookieName.currency)&&(Pe.A.local.remove(this.cookieName.holdBalance),Pe.A.local.remove(this.cookieName.updatedBalance),Pe.A.local.set(this.cookieName.currency,this.currency)),this.noticeHtml=Lt("#low-balance-modal-tpl"),this.isOrderClosed=!1,this.subscribeSocketEvents(),this.noticeSubscribeEvents()}},(e=[{key:"isEnabledNotice",value:function(){return 0===(parseInt(Pe.A.local.get(this.cookieName.warningAccepted))||0)}},{key:"subscribeSocketEvents",value:function(){this.socket.addEventListener("".concat(Cn.Bf).concat(gt.wM),this.updateBalanceSuccessHandler),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.Z5),this.closeOrderSuccessHandler)}},{key:"noticeSubscribeEvents",value:function(){i()("body").on("click",".js-notification--low-balance .js-close-notice",this.closeNoticeClickHandler)}},{key:"setCookie",value:function(t,e){Pe.A.local.set(t,e)}},{key:"changeCookies",value:function(){this.setCookie(this.cookieName.warningAccepted,"1"),Pe.A.local.remove(this.cookieName.holdBalance),Pe.A.local.remove(this.cookieName.updatedBalance)}},{key:"showNotice",value:function(){this.isEnabledNotice()&&i()("body").append(this.noticeHtml)}}])&&ld(t.prototype,e),n&&ld(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),hd=n(67171),pd=n.n(hd);function md(t){return md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(t)}function yd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bd(r.key),r)}}function vd(t,e,n){return(e=bd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bd(t){var e=function(t,e){if("object"!=md(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=md(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==md(e)?e:e+""}var gd="today",wd="yesterday",jd="last-7-days",xd="last-30-days",_d="this-month",Sd=function(){return t=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{$context:i()("#reportrange"),options:{}},r=n.$context,o=void 0===r?i()("#reportrange"):r,a=n.options,s=void 0===a?{}:a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),vd(this,"getRanges",(function(){var t={};e.hasRangeAllTime()&&e.setRangeAllTime(t),e.hasRangeToday()&&e.setRangeToday(t),e.hasRangeYesterday()&&e.setRangeYesterday(t),e.hasRangeLast7Days()&&e.setRangeLast7Days(t),e.hasRangeLast30Days()&&e.setRangeLast30Days(t),e.hasRangeThisMonth()&&e.setRangeThisMonth(t),e.hasRangeLastMonth()&&e.setRangeLastMonth(t),Fr()(e.datepickerOptions,"ranges")&&(t=pd()(t,e.datepickerOptions.ranges));var n=[];return Object.keys(t).map((function(e){Object.keys(t[e]).map((function(r){return Ni()(n,r,t[e][r])}))})),n})),vd(this,"reportRangeStart",(function(t,n){"object"===md(t)&&(t=t.format(e.datepickerOptions.startLabelFormat)),"object"===md(n)&&(n=n.format(e.datepickerOptions.endLabelFormat)),e.$context.find("span").html('<span id="date-start">'.concat(t,'</span> - <span id="date-end">').concat(n,"</span>")),e.$dateFromField.val(t),e.$dateToField.val(n)})),this.$context=o,0!==this.$context.length&&(this.currentDate=this.$context.data("date"),this.$dateFromField=this.$context.find('[name="date_from"]'),this.$dateToField=this.$context.find('[name="date_to"]'),this.datepickerOptions=Object.assign({},s),this.dateRangePickerInstance=null,this.datepickerOptions.startDate=this.getStartDate,this.datepickerOptions.endDate=this.getEndDate,this.getMinDate&&(this.datepickerOptions.minDate=this.getMinDate),this.getMaxDate&&(this.datepickerOptions.maxDate=this.getMaxDate),o.data("opens")&&(this.datepickerOptions.opens=o.data("opens")),this.datepickerOptions.startLabelFormat=this.datepickerOptions.startLabelFormat||"YYYY-MM-DD",this.datepickerOptions.endLabelFormat=this.datepickerOptions.endLabelFormat||"YYYY-MM-DD",this.initDateRangePicker(),this.reportRangeStart(this.dateRangePickerInstance.startDate,this.dateRangePickerInstance.endDate))},(e=[{key:"hasRangeAllTime",value:function(){return Fr()(this.datepickerOptions,"ranges_all_time.from")}},{key:"setRangeAllTime",value:function(t){Ni()(t,["all-time",(0,$.tr)("date_range_picker.all-time")],[Ri()(Bt()(this.datepickerOptions,"ranges_all_time.from")),Ri()(this.currentDate)])}},{key:"hasRangeToday",value:function(){return!Fr()(this.datepickerOptions,"ranges_today")||!0===Bt()(this.datepickerOptions,"ranges_today")}},{key:"setRangeToday",value:function(t){Ni()(t,[gd,(0,$.tr)("date_range_picker.today")],[Ri()(this.currentDate),Ri()(this.currentDate)])}},{key:"hasRangeYesterday",value:function(){return!Fr()(this.datepickerOptions,"ranges_yesterday")||!0===Bt()(this.datepickerOptions,"ranges_yesterday")}},{key:"setRangeYesterday",value:function(t){Ni()(t,[wd,(0,$.tr)("date_range_picker.yesterday")],[Ri()(this.currentDate).subtract(1,"days"),Ri()(this.currentDate).subtract(1,"days")])}},{key:"hasRangeLast7Days",value:function(){return!Fr()(this.datepickerOptions,"ranges_last_7_days")||!0===Bt()(this.datepickerOptions,"ranges_last_7_days")}},{key:"setRangeLast7Days",value:function(t){Ni()(t,[jd,(0,$.tr)("date_range_picker.last-7-days")],[Ri()(this.currentDate).subtract(6,"days"),Ri()(this.currentDate)])}},{key:"hasRangeLast30Days",value:function(){return!Fr()(this.datepickerOptions,"ranges_last_30_days")||!0===Bt()(this.datepickerOptions,"ranges_last_30_days")}},{key:"setRangeLast30Days",value:function(t){Ni()(t,[xd,(0,$.tr)("date_range_picker.last-30-days")],[Ri()(this.currentDate).subtract(29,"days"),Ri()(this.currentDate)])}},{key:"hasRangeThisMonth",value:function(){return!Fr()(this.datepickerOptions,"ranges_this_month")||!0===Bt()(this.datepickerOptions,"ranges_this_month")}},{key:"setRangeThisMonth",value:function(t){Ni()(t,[_d,(0,$.tr)("date_range_picker.this-month")],[Ri()(this.currentDate).startOf("month"),Ri()(this.currentDate).endOf("month")])}},{key:"hasRangeLastMonth",value:function(){return!Fr()(this.datepickerOptions,"ranges_last_month")||!0===Bt()(this.datepickerOptions,"ranges_last_month")}},{key:"setRangeLastMonth",value:function(t){Ni()(t,["last-month",(0,$.tr)("date_range_picker.last-month")],[Ri()(this.currentDate).subtract(1,"month").startOf("month"),Ri()(this.currentDate).subtract(1,"month").endOf("month")])}},{key:"initDateRangePicker",value:function(){this.datepickerOptions.ranges=this.getRanges(),Ri().locale(function(){var t=(0,$.Xo)();switch(t){case"pt":return"pt-br";case"zh":return"zh-cn";case"ru":case"es":case"it":case"pl":case"id":case"fr":case"th":case"de":case"vi":case"ar":case"ms":case"tr":case"ja":case"ko":case"fa":case"sr":case"ro":case"hr":case"hi":case"el":case"cs":return t}return"en"}());var t=Object.assign({format:"YYYY-MM-DD",startDate:Ri()(this.currentDate).subtract(6,"days"),endDate:Ri()(this.currentDate),maxDate:Ri()(this.currentDate),locale:{format:"YYYY-MM-DD",fromLabel:(0,$.tr)("date_range_picker.from"),toLabel:(0,$.tr)("date_range_picker.to"),customRangeLabel:(0,$.tr)("date_range_picker.custom-range"),firstDay:1}},this.datepickerOptions);this.$context.daterangepicker(t,this.reportRangeStart),this.dateRangePickerInstance=this.$context.data("daterangepicker")}},{key:"getMaxDate",get:function(){return this.$context.data("max-date")}},{key:"getMinDate",get:function(){return this.$context.data("min-date")}},{key:"getStartDate",get:function(){return this.$dateFromField.val()}},{key:"getEndDate",get:function(){return this.$dateToField.val()}},{key:"dateRangePicker",get:function(){return this.dateRangePickerInstance}}])&&yd(t.prototype,e),n&&yd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Od=Sd;function kd(t){return kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(t)}function Td(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cd(r.key),r)}}function Ad(t,e,n){return(e=Cd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cd(t){var e=function(t,e){if("object"!=kd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kd(e)?e:e+""}var Pd=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ad(this,"modalClose",(function(){"function"==typeof e.xhrAbort&&e.xhrAbort(),e.xhrAbort=null})),Ad(this,"modalOpen",(function(){e.$modal=i()("#top-ranked-players-last-24h-modal"),e.$datePicker=e.$modal.find("#reportrange");var t={$context:e.$datePicker,options:{ranges:[gd,wd,jd,xd,_d],opens:"left"}},n=new Od(t);null!=n.dateRangePicker&&n.dateRangePicker.container.addClass("top-ranked-players-last-24h-modal__daterangepicker"),e.$datePicker.on("show.daterangepicker",(function(t,e){return e.container.addClass("open")})),e.$datePicker.on("hide.daterangepicker",(function(t,e){return e.container.removeClass("open")})),e.$datePicker.on("hide.daterangepicker",(function(){return e.requestData(e.getFilterUrl(),e.getAllData())}))})),Ad(this,"exportXlsClickHandler",(function(t){t.preventDefault();var n=e.getAllData(),r=document.createElement("form");r.setAttribute("action",(0,Gn.A)()+"cabinet/social-trading/top-ranking-xls"),r.setAttribute("method","get"),r.style.cssText="display: none;";var i={nickName:n.nickName,"calendar[from]":n.calendar.from,"calendar[to]":n.calendar.to,"sort[sortBy]":n.sort.sortBy,"sort[sortType]":n.sort.sortType,currentPage:n.currentPage};Object.keys(i).map((function(t,e){var n=i[t];void 0!==n&&r.appendChild(function(t,e){var n=document.createElement("input");return n.setAttribute("name",t),n.setAttribute("type","text"),n.setAttribute("value",e),n}(t,n))})),t.currentTarget.appendChild(r),r.submit(),r.remove()})),Ad(this,"searchClickHandler",(function(t){t.preventDefault(),e.requestData(e.getFilterUrl(),e.getAllData())})),Ad(this,"nickNameKeyUpHandler",(function(t){e.requestData(e.getFilterUrl(),e.getAllData())})),Ad(this,"sortClickHandler",(function(t){t.preventDefault();var n=e.getAllData(),r=e.getSortData(t);n.sort.sortBy=r.sortBy,n.sort.sortType=r.sort;var i=e.getFilterUrl()+""+e.getModal().find(".js-pagination .active > a").text();e.requestData(i,n)})),Ad(this,"showTraderInfoClickHandler",(function(t){t.preventDefault();var n=i()(t.currentTarget).data("params"),r=n.url;n.returnUrl&&1===e.isChart&&(r+="?returnUrl="+n.returnUrl),(new Z.pc).openWithAjax(r)})),Ad(this,"paginationClickHandler",(function(t){t.preventDefault();var n=i()(t.currentTarget),r=e.getAllData();r.currentPage=+i().trim(n.text()),e.requestData(n.attr("href"),r)})),this.xhr=null,this.xhrAbort=null,this.isChart=+(0,Q.A)("is-chart"),this.$modal=null,this.$body=i()("body")},e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){u.A.subscribe("".concat(y.iz,".top-ranked-players-last-24h-modal"),this.modalOpen),u.A.subscribe("".concat(y.ub,".top-ranked-players-last-24h-modal"),this.modalClose),this.$body.on("click","#top-ranked-players-last-24h-modal .js-pagination a",this.paginationClickHandler),this.$body.on("click","#top-ranked-players-last-24h-modal .js-show-trader-info",this.showTraderInfoClickHandler),this.$body.on("click","#top-ranked-players-last-24h-modal .js-sort",this.sortClickHandler),this.$body.on("keyup","#top-ranked-players-last-24h-modal .js-table-wrap [name=q]",Fl()(this.nickNameKeyUpHandler.bind(this),500)),this.$body.on("click","#top-ranked-players-last-24h-modal .js-export-xls",this.exportXlsClickHandler)}},{key:"getModal",value:function(){return null===this.$modal&&(this.$modal=i()("#top-ranked-players-last-24h-modal")),this.$modal}},{key:"getCalendarDate",value:function(){return{from:this.getModal().find('[name="date_from"]').val(),to:this.getModal().find('[name="date_to"]').val()}}},{key:"getAllData",value:function(){return{calendar:this.getCalendarDate(),nickName:this.getNickName(),sort:this.getSort(),currentPage:this.getPagination()}}},{key:"getPagination",value:function(){return i().trim(this.getModal().find(".js-pagination .active > a").text())}},{key:"getFilterUrl",value:function(){return this.getModal().find("#filter-url").val()}},{key:"requestData",value:function(t,e){var n=this;if(null===this.xhr){this.xhr=!0;var r=(new I.Ay).setAbsolute(!0).setBacking(!0).getForBlock(),o=ze.A.requestAbortable({url:t,data:e,dataType:"text",beforeSend:function(){return n.getModal().prepend(r)},complete:function(){n.getModal().find(".".concat(I.pP.base)).remove(),n.xhr=null},success:function(t){return n.renderHtml(i()(t))}}).abort;this.xhrAbort=o}}},{key:"renderHtml",value:function(t){var e=t.find(".js-table-wrap"),n=t.find(".pagination"),r=this.getModal().find(".js-table-wrap"),o=this.getModal().find(".js-pagination"),a=i()("<div/>",{css:{display:"none",width:r.width()}}).append(e).appendTo(r);r.html(e.html()),o.html(n.html()),a.remove()}},{key:"getSortData",value:function(t){var e,n,r=i()(t.currentTarget);return r.hasClass("js-sort")?(e=r.data("field"),n=r.find(".sort").hasClass("sort--asc")?"desc":"asc"):(n=this.getSort().sortType,e=this.getSort().sortBy),{sortBy:e,sort:n,q:this.getNickName()}}},{key:"getNickName",value:function(){return this.getModal().find(".js-table-wrap [name=q]").val()}},{key:"getSort",value:function(){var t,e;return this.getModal().find(".js-sort").each((function(n,r){var o=i()(r),a=o.find(".sort");a.hasClass("sort--asc")?(t="asc",e=o.data("field")):a.hasClass("sort--desc")&&(t="desc",e=o.data("field"))})),{sortType:t,sortBy:e}}}],e&&Td(t.prototype,e),n&&Td(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Ed=Pd,Id=n(30775),Nd=document.querySelector("body"),Dd=function(){if(1==+(0,Q.A)("is-mobile-version")){var t=function(t){Nd.classList.contains(t)||(Nd.classList.remove(Xt.V,Xt.p),Nd.classList.add(t))};u.A.subscribe(qt.h,(function(e,n){t(n),Yt()})),t(Id.o)}},Ld=n(95616);function Md(t){return Md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(t)}function Rd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hd(r.key),r)}}function Bd(t,e,n){return(e=Hd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hd(t){var e=function(t,e){if("object"!=Md(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Md(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Md(e)?e:e+""}var $d=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Bd(this,"openModalHandler",(function(t,n){e.$modal=Ld("#".concat(n.modalId)),0!==e.$modal.length&&(e.modalEvents(),e.setTitle(e.$modal.find(".js-method-item.active").attr("title")))})),Bd(this,"submitClickHandler",(function(t){t.preventDefault();var n=Ld(t.currentTarget),r=+e.$modal.find('input[name="amount"]').val(),i=n.attr("href")+"#"+e.$modal.find(".js-method-item.active").data("method")+"?amount="+r;window.location.href=i})),Bd(this,"methodClickHandler",(function(t){t.preventDefault();var n=Ld(t.currentTarget),r=e.$modal.find(".js-method-item").not(t.currentTarget),i=n.attr("title");r.length&&r.removeClass("active"),n.hasClass("active")||(n.addClass("active"),e.setTitle(i))})),Bd(this,"titleClickHandler",(function(t){var n=Ld(t.currentTarget),r=Ld(t.currentTarget).find("a").attr("href").substr(1);e.slideToggle(r,n)})),this.$modal=null},e=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){u.A.subscribe("".concat(y.iz,".instant-deposit-modal"),this.openModalHandler)}},{key:"modalEvents",value:function(){this.$modal.find(".panel-title").on("click",this.titleClickHandler),this.$modal.find(".js-method-item").on("click",this.methodClickHandler),this.$modal.find(".js-submit").on("click",this.submitClickHandler)}},{key:"setTitle",value:function(t){this.$modal.find(".js-title").text(t)}},{key:"slideToggle",value:function(t,e){var n=this.$modal.find("#".concat(t));0!==n.length&&(this.$modal.find(".panel-collapse:not(#".concat(t,")")).slideUp(),n.stop(!0),n.is(":hidden")?(e.addClass("opened"),n.slideDown()):(n.slideUp(),e.removeClass("opened")))}}],e&&Rd(t.prototype,e),n&&Rd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Fd=$d;function Wd(t){return Wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(t)}function Ud(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vd(r.key),r)}}function Vd(t){var e=function(t,e){if("object"!=Wd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Wd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wd(e)?e:e+""}var Gd=function(){return t=function t(){var e,n,r,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=function(){0!==o.$timers.length?o.$timers.each((function(t,e){var n=i()(e),r=n.find("span.tmr"),a=n.data("time-left");a<=0?(null!==o.verificationEmailLink&&n.after(o.verificationEmailLink()),n.remove(),o.$timers=i()(".".concat(o.className))):(a--,r.text(a+"s"),n.data("time-left",a))})):clearInterval(o.timer)},(n=Vd(n="updateTimeEventHandler"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this.className="js-send-email-verification-timer",this.url=(0,Gn.A)()+"cabinet/profile/send-verification-email",this.$timers=i()(".".concat(this.className)),this.timer=null,this.$verificationEmailLinkTpl=i()("#verification-email-link-tpl"),this.verificationEmailLink=null,this.$verificationEmailLinkTpl.length&&(this.verificationEmailLink=Lt(this.$verificationEmailLinkTpl.html(),"#verification-email-link-tpl"))},(e=[{key:"init",value:function(){0!==this.$timers.length&&this.events()}},{key:"events",value:function(){this.timer=setInterval(this.updateTimeEventHandler,1e3)}}])&&Ud(t.prototype,e),n&&Ud(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),zd=Gd;function Yd(t){return Yd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(t)}function Xd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qd(r.key),r)}}function qd(t){var e=function(t,e){if("object"!=Yd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Yd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yd(e)?e:e+""}var Kd=function(){return t=function t(){var e,n,r,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=function(t){var e=o.timeStart-t;if(e<=0)return cancelAnimationFrame(o.onFrameToken),o.socket.removeEventListener(gt.T2,o.timerId),window.location.reload();var n=(0,As.Dp)(e);n=(0,As.ny)(n),o.$timerBlock.text(n)},(n=qd(n="updateTimerEvent"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this.$block=i()(".js-tournament-upcoming-message"),this.$timerBlock=null,this.timeStart=null,this.onFrameToken=null,this.socket=bt.A.instance},(e=[{key:"init",value:function(){0!==this.$block.length&&(this.$timerBlock=this.$block.find(".js-timer"),this.timeStart=+this.$timerBlock.data("date-start"),this.events())}},{key:"events",value:function(){this.timerId=this.socket.addEventListener(gt.T2,this.updateTimerEvent),this.logLastAnimationFrame()}},{key:"logLastAnimationFrame",value:function(){var t=this;this.socket.setLastRequestAnimationFrameTime(),this.onFrameToken=requestAnimationFrame((function(){return t.logLastAnimationFrame()}))}}])&&Xd(t.prototype,e),n&&Xd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Zd=Kd,Jd=n(60204);var Qd=function(){i()("body").on("click",".bonus-info-modal #remove-bonus",(function(t){t.preventDefault();var e=i()(t.currentTarget),n=i().trim(i()("#bonus-info-modal .js-code").text()),r=(new I.Ay).getForButton();e.attr("disabled")||ze.A.request({url:e.attr("href"),dataType:"json",beforeSend:function(){e.attr("disabled","disabled"),e.append(r)},complete:function(){r.remove(),e.removeAttr("disabled")},success:function(t){var r=new F.A({position:Hr.XC,time:5e3});!0===t.error?(e.show(),r.red(t.message)):(r.green(t.message),(0,cn.JD)(un("".concat(Pn,"-").concat((0,hn.L9)()),t.balance)),u.A.publish(y.M9,new Jd.A(n)),i().magnificPopup.close())}})}))};function tf(t){return tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(t)}function ef(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nf(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=tf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=tf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tf(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rf=["candlesTimer","enabledTradeMonitor","enabledRatingWidget","enabledAutoscroll","enabledGridSnap","isVisible","minimizedTradePanel"],of=["chartType","chartPeriod"],af=["demoDealAmount","liveDealAmount","percentAmount"],sf=function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ef(Object(n),!0).forEach((function(e){nf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);return rf.forEach((function(t){Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=!!e[t])})),of.forEach((function(t){Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=parseInt(e[t],10))})),af.forEach((function(t){Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=parseFloat(e[t]))})),e},cf=n(38462),lf=n(25741),uf=n(41240),df=n(24374),ff=n(59384),hf=n(24885),pf=function(t){return t.quotes.bySymbol},mf=(0,hf.Mz)([pf],(function(t){return function(e){return void 0===t[e]?0:t[e].price}})),yf=(0,hf.Mz)([pf],(function(t){return function(e,n){return void 0!==t[e]&&t[e].price>n}})),vf=n(6743),bf=n(5393),gf=function(t){return t.chartSettings.visibleSymbols},wf=function(t){return t.chartSettings.visibleChartIds},jf=function(t){return t.global.isMobile},xf=function(t){return t.global.isTryDemo},_f=function(t){return t.global.isDemo},Sf=function(t){return t.global.isTournament},Of=(0,hf.Mz)([vf.gg,gf],(function(t,e){return e.length?e[0]:t.length?t[0]:""})),kf=(0,hf.Mz)([vf.rC,Gu.SS],(function(t,e){return function(n){var r=e[n].symbol;return Bt()(t,"".concat(r,".payout"),0)}})),Tf=(0,hf.Mz)([vf.rC,Gu.SS],(function(t,e){return function(t){return e[t].fastTimeframe}})),Af=(0,hf.Mz)([vf.rC,Gu.SS],(function(t,e){return function(t){return e[t].fastCloseAt}})),Cf=(0,hf.Mz)([pf,Gu.SS],(function(t,e){return function(n){var r=e[n].symbol;return Bt()(t,"".concat(r,".price"),0)}})),Pf=(0,hf.Mz)([function(t){return t.global.windowLayout}],(function(t){return t===bf.rs.FULL})),Ef=(0,hf.Mz)([wf],(function(t){return t.length?t[0]:"chart-1"})),If=(0,hf.Mz)([wf],(function(t){return function(e){return t[e-1]||"chart-1"}})),Nf=(0,hf.Mz)([Gu.SS],(function(t){return function(e){return t[e].amountType}})),Df=(0,hf.Mz)([Gu.SS],(function(t){return function(e){return t[e].amountType===cf.yf.PERCENT}})),Lf=(0,hf.Mz)([Gu.SS],(function(t){return function(e){var n;return null!==(n=t[e].amountMultiplier)&&void 0!==n?n:2}})),Mf=n(81146),Rf=n(13459),Bf=n.n(Rf),Hf=n(58342);function $f(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ff(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ff(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ff(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Wf=function(t){return t.signals.updated},Uf=(0,hf.Mz)([function(t){return t.signals.all},gf,Gu.Ln],(function(t,e,n){var r,i=[],o=$f(Bf()(e));try{for(o.s();!(r=o.n()).done;)for(var a=r.value,s=Object.keys(t),c=0,l=s;c<l.length;c++){var u=l[c],d=parseInt(u,10);if(t[d]&&t[d][a]){var f=t[d][a],h=f.time,p=f.signal,m=f.price,y=(0,Mf.lF)(h,d);y<=n||p===df.PO||i.push({symbol:a,timeframe:d,signal:p,price:m,time:h,hideAt:y,count:0})}}}catch(v){o.e(v)}finally{o.f()}return i})),Vf=(0,hf.Mz)([function(t){return t.signals.opened},Gu.Ln],(function(t,e){return function(n){var r,i=null!==(r=t[n])&&void 0!==r?r:0;return!(i<=0)&&e-i<2}})),Gf=(0,hf.Mz)([Wf,vf.rC,Gu.Ln],(function(t,e,n){var r,i=Bf()(t.map((function(t){return t.symbol}))),o={},a=$f(i);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(e[s]){var c=e[s];o[s]=(0,Hf.Sp)({asset:c})}}}catch(l){a.e(l)}finally{a.f()}return t.filter((function(t){var e=t.timeframe,r=t.time,i=t.symbol,a=e+r-n,s=o[i];return s&&a>s}))})),zf=(0,hf.Mz)([Wf,vf.rC,Gu.Ln],(function(t,e,n){return function(r){return t.filter((function(t){var i=t.timeframe,o=t.time,a=t.symbol,s=i+o-n,c=(0,Hf.Sp)({asset:e[a]});return c&&s>c&&r===a}))}})),Yf=(0,hf.Mz)([function(t){return t}],(function(t){return function(e){var n=zf(t)(e);return n.length?n[0]:null}})),Xf=n(74649);function qf(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Kf(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kf(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Kf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Zf(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,n){n().signals.requested&&!t||e({type:df.TT})}}function Jf(){return function(t){t({type:df.kv})}}function Qf(t,e){var n=Uf(e);t(ff.cg(n)),t(th())}function th(){return function(t,e){var n=e().signals.updated;if(n.length){var r,i={},o=qf(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.symbol,c=a.time,l=a.timeframe;i[c]||(i[c]=[c,[]]),i[c][1].push([s,l/60])}}catch(u){o.e(u)}finally{o.f()}bt.A.instance.getSignalStats(Object.values(i))}}}function eh(t){var e=t.symbol,n=t.time,r=t.action,i=t.amount,o=t.timeframe,a=n+o;return function(t,s){var c=s(),l=c.global.currentTime,d=a-l,f=(0,Mf.Sx)({symbol:e,timeframe:o,time:n}),h=(0,se.Z5)(c),p=(0,Gu.AP)(c);if((0,Xf.cO)(c)){var m=(0,Xf.Oi)(c),v=(0,Xf.A4)(c);if(i>v)return u.A.publish(y.$k,{limit:v,amount:i,currency:m,asset:e})}(h||p)&&t(function(t){return function(e){e(ff.YX(t))}}(f)),bt.A.instance.copySignalOrder({symbol:e,action:r,expiredAt:d,amount:i,timeframe:o,createdAt:n,signalId:f})}}var nh=n(36447),rh=n(16953),ih=n(24319),oh=n.n(ih),ah=n(85727),sh=n.n(ah),ch=n(44236),lh=n(18437),uh=function(t){return 0===parseInt(t,10)},dh=n(90619);function fh(t){return fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(t)}function hh(t){return function(t){if(Array.isArray(t))return ph(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ph(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ph(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ph(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function mh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mh(Object(n),!0).forEach((function(e){vh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vh(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=fh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fh(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bh=function(t){return t.deals.openedIds},gh=function(t){return t.deals.openedById},wh=function(t){return t.deals.openedIds.length},jh=function(t){return t.deals.closedIds},xh=function(t){return t.deals.closedById},_h=function(t){return t.deals.closedIds.length},Sh=function(t){return t.global.currentTime},Oh=(0,hf.Mz)([Gu.AP,Xf.PK],(function(t,e){return t?2e4:(0,ch.zE)(e)}));(0,hf.Mz)([gh,bh],(function(t,e){return function(n){return e.filter((function(e){return t[e].asset===n})).map((function(e){return t[e]}))}}));var kh=(0,hf.Mz)([gh,bh,Sh],(function(t,e,n){return e.filter((function(e){return t[e].closeTimestamp>n}))})),Th=(0,hf.Mz)([gh],(function(t){return function(e){var n;return null!==(n=t[e])&&void 0!==n?n:null}})),Ah=(0,hf.Mz)([gh,bh],(function(t,e){return function(n){return e.filter((function(e){return t[e].asset===n})).map((function(e){return yh(yh({},n=t[e]),{},{value:n.openPrice,time:parseFloat("".concat(n.openTimestamp,".").concat((0,dh.pJ)(n.openMs))),closeTime:n.closeTimestamp,isCall:uh(n.command),text:(0,hn.ej)(n.amount,n.currency),needToAnimate:!0});var n}))}})),Ch=(0,hf.Mz)([gh,vf.Or],(function(t,e){return function(n){if(!t[n])return 0;var r=t[n],i=e(r.asset);return r.closeTimestamp-i}})),Ph=(0,hf.Mz)([gh,Sh,Xf.OY,Xf.My,vf.Or,Ch,Oh],(function(t,e,n,r,i,o,a){return function(r){if(!t[r])return!1;var i=t[r],s=o(r);return!(e>=s)&&(n>=i.amount&&a>=i.amount)}})),Eh=(0,hf.Mz)([gh,vf.Or],(function(t,e){return function(n){if(!t[n])return 0;var r=t[n],i=r.closeTimestamp-r.openTimestamp,o=Math.floor(i/2),a=e(r.asset),s=Math.max(a,o);return r.closeTimestamp-s}})),Ih=(0,hf.Mz)([Ph,Eh,gh,Gu.Y,Xf.My,Sh,pf,Oh],(function(t,e,n,r,i,o,a,s){return function(i){if(!t(i))return!1;var c=n[i],l=r[c.asset];if(c.isRollover)return!1;var u=a[c.asset];if(!u)return!1;if(uh(c.command)&&u.price>c.openPrice||!uh(c.command)&&u.price<c.openPrice)return!1;var d=e(i);if(o>=d)return!1;if(s<2*c.amount)return!1;var f=c.closeTimestamp-c.openTimestamp;return c.closeTimestamp+f-c.openTimestamp<=Math.max.apply(Math,hh(l.timeframes.map((function(t){return t.time}))))}})),Nh=(0,hf.Mz)([Gu.Y,Gu.JB,pf,gh,bh,Sh,Xf.Oi],(function(t,e,n,r,i,o,a){return function(s){if(!e.includes(s))return null;var c=t[s],l=c.label,u=c.active,d=c.payout,f={label:l,active:u,symbol:s,payout:d,hasDeals:!1,totalBet:0,profit:0,estimatedProfit:0,progress:0,state:0},h=n[s];if(h){var p=i.filter((function(t){return r[t].asset===s})).map((function(t){return r[t]})),m=f.hasDeals?p[0].currency:a;f.profit=p.reduce((function(t,e){var n=parseFloat(e.openPrice);return uh(e.command)&&h.price>n||!uh(e.command)&&h.price<n?t+e.profit+e.amount:t}),0),f.hasDeals=p.length>0,f.totalBet=f.hasDeals?p.reduce((function(t,e){return t+e.amount}),0):0,f.estimatedProfit=(0,hn.Fl)(f.profit,m),f.estimatedProfitValue=(0,ru.xr)(f.profit,(0,hn.aZ)(m)),f.progress=Dh(p,o),f.state=Lh(f),f.currency=m}return f}})),Dh=function(t,e){if(!t.length)return 0;var n=t[0];t.forEach((function(t){n.closeTimestamp>t.closeTimestamp&&(n=t)}));var r=n.closeTimestamp-n.openTimestamp,i=n.closeTimestamp-e;return Math.min(Number((100-i/r*100).toFixed(2)),100)},Lh=function(t){var e=t.estimatedProfitValue,n=t.totalBet;return t.hasDeals?0===e?2:e>0&&e<n?3:e>n?4:1:0};function Mh(t){var e=t.chartId,n=t.amount;return function(t,r){var i=r().global.isDemo,o={chartId:e,amount:n,isDemo:i};t({type:cf.fe,payload:o})}}function Rh(t){var e=t.chartId,n=t.action;return{type:cf.hQ,payload:{chartId:e,zoomStatus:n}}}function Bh(t){return function(e,n){var r=n(),i=r.chartSettings.visibleChartIds,o=r.assets.assetBySymbol[t];1===i.length&&o&&o.active&&e(Ep({symbol:t,chartId:i[0]}))}}function Hh(t){var e=t.chartId,n=t.amount;return{type:lf.gi,payload:{chartId:e,amount:n}}}function $h(t){var e=t.chartId,n=t.value;return{type:lf.m4,payload:{chartId:e,value:n}}}function Fh(t,e){return{type:cf.ss,payload:{chartId:t,value:e}}}function Wh(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,i){if(r({type:cf.zk,payload:{chartId:t,amountType:e}}),e===cf.yf.PERCENT){var o=i(),a=o.global.balance,s=Oh(o),c=(0,Xf.Oi)(o),l=(0,Gu.Jt)(o)(t),u=(0,Gu.u)(o)(t),d=(0,ch.Ew)(a,s),f=(0,ru.He)(c),h=(0,ru.H3)(a),p=(0,ru.Vt)(a,d),m=n?u:sh()((0,ru.xr)(l/a*100,2),h,p);r(Uh({chartId:t,amount:a>=f?m:.01,fixValue:!0})),Pe.A.local.set("amountPercent_".concat(t),1)}else Pe.A.local.remove("amountPercent_".concat(t))}}function Uh(t){var e=t.chartId,n=t.amount,r=t.fixValue,i=void 0===r||r;return function(t,r){var o=r();t({type:cf.sB,payload:{chartId:e,amount:n}}),function(t,e,n){var r=t.chartId,i=t.percent,o=t.fixValue,a=n.global,s=a.balance,c=a.currencyCodeMain,l=Oh(n),u=(0,Xf.s9)(n),d=(0,ch.Ew)(s,(0,ru.jp)({amount:l,currency:c})),f=(0,ch.Ew)(s,d),h=(0,ru.xr)(i*s/100,u),p=sh()(h,o?1:0,f);e(Mh({chartId:r,amount:p}))}({chartId:e,percent:n,fixValue:i},t,o),i&&t({type:cf.xx,payload:{chartId:e,amount:n}})}}function Vh(t,e){return{type:cf.KZ,payload:{chartId:t,value:e}}}function Gh(t,e){return{type:cf.Lo,payload:{chartId:t,value:e}}}function zh(t,e){return{type:cf.NG,payload:{chartId:t,value:e}}}function Yh(t){var e=t.chartId,n=t.value;return{type:cf.Lq,payload:{chartId:e,value:n}}}var Xh=n(81200),qh=n(51687),Kh=n(48045),Zh=n(75887),Jh=function(t){return t.pendingOrders.ids},Qh=function(t){return t.pendingOrders.byId},tp=function(t){return t.pendingOrders.selectedSymbol},ep=function(t){return t.pendingOrders.selectedPrice},np=function(t){return t.pendingOrders.selectedPayout},rp=function(t){return t.pendingOrders.selectedAmount},ip=function(t){return t.pendingOrders.selectedTimeframe},op=(0,hf.Mz)([Jh,Qh],(function(t,e){var n=[];return t.forEach((function(t){var r=e[t],i=r.openType,o=r.symbol;i===Zh.g.BY_PRICE&&n.push(o)})),n})),ap=(0,hf.Mz)([tp,ep,np,rp,ip],(function(t,e,n,r,i){return null!==t&&null!==e&&null!==n&&null!==r&&null!==i})),sp=(0,hf.Mz)([Jh,Qh],(function(t,e){return function(n){return t.map((function(t){return e[t]})).filter((function(t){return t.symbol===n&&t.openType===Zh.g.BY_PRICE}))}}));function cp(t){var e=t.modalId,n=t.value;return{type:qo.NO,payload:{modalId:e,value:n}}}function lp(t){return{type:qo.cs,payload:t}}function up(t){return{type:qo.J2,payload:t}}function dp(){return{type:qo.Mw,payload:{}}}function fp(t){return function(t){if(Array.isArray(t))return hp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return hp(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hp(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function pp(t){var e=t.symbol;return bt.A.instance.subscribeAsset(e),function(t){t({type:"symbol.subscribe",payload:{symbol:e}})}}function mp(t){var e=t.symbol;return function(t,n){bp(n()).includes(e)||bt.A.instance.unsubscribeAsset(e),t({type:"symbol.unsubscribe",payload:{symbol:e}})}}function yp(t){return u.A.publish("failPendingOrderCreated",function(t){switch(t){case 3:return(0,$.tr)("pending_order_errors.min_max_amount");case 4:return(0,$.tr)("pending_order_errors.acc_not_found");case 5:return(0,$.tr)("pending_order_errors.not_enough_funds");case 6:return(0,$.tr)("pending_order_errors.asset_data");case 7:return(0,$.tr)("pending_order_errors.min_payout");case 8:return(0,$.tr)("pending_order_errors.inc_exp_time");case 9:return(0,$.tr)("pending_order_errors.cannot_create")}return""}(t.error)),function(e){e(Kh.SS(t))}}function vp(t){var e=t.ticket;return bt.A.instance.cancelPendingOrder(e),function(t){t({type:"pending.cancel",payload:{ticket:e}})}}function bp(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],r=t.chartSettings;r.chartIds.forEach((function(t){r.chartById[t].isVisible&&n.push(r.chartById[t].symbol)}));var i=t.deals;(i.openedIds.forEach((function(t){n.push(i.openedById[t].asset)})),t.priceAlerts.forEach((function(e){var r=Object.values(t.assets.assetBySymbol).find((function(t){return t.id===e.assetId}));r&&n.push(r.symbol)})),e)&&op(t).forEach((function(t){return n.push(t)}));return fp(new Set(n))}var gp=n(68032);function wp(t){return function(t){if(Array.isArray(t))return jp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return jp(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jp(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function xp(t){return function(e,n){var r=n();xf(r)||bt.A.instance.priceAlertRemove(t),e(_p(t))}}function _p(t){return function(e,n){var r=n(),i=xf(r),o=r.priceAlerts.find((function(e){return e.id===t}));if(o&&(e(qh.o.remove(t)),!i)){var a=(0,vf.o1)(r)(o.assetId);if(a)bp(n()).includes(a.symbol)||bt.A.instance.unsubscribeAsset(a.symbol)}}}function Sp(t){return function(e,n){var r=n(),i=r.priceAlerts.find((function(e){return e.id===t}));if(i){var o=(0,vf.o1)(r)(i.assetId);if(o){var a={price:i.price,assetId:o.id,symbol:o.symbol,label:o.label};u.A.publish(y.cq,a)}e(xp(t))}}}function Op(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return kp(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kp(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function kp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Tp(t){var e=t.chartId,n=t.chartType;return{type:lf.T8,payload:{chartId:e,chartType:n}}}function Ap(t){var e=t.chartId,n=t.chartPeriod;return{type:lf.oY,payload:{chartId:e,chartPeriod:n}}}function Cp(t,e){return{type:lf.rP,payload:{chartId:t,value:e}}}function Pp(t){return function(e,n){e({type:lf.nT,payload:{time:t}}),function(t,e){var n,r=e.chartSettings,i=r.chartIds,o=r.chartById,a=e.assets.assetBySymbol,s=e.global.currentTime,c=Op(i);try{for(c.s();!(n=c.n()).done;){var l=n.value,u=o[l],d=u.enableQuickAutoOffset,f=u.fastCloseAt,h=u.quickAutoOffsetValue,p=a[u.symbol];if(p){var m=s+p.minQuickTimeframe,y=parseInt(f,10);if(!(!d||m<y||h<5))t($h({chartId:l,value:y+Math.max(1,Math.ceil((m-y)/h))*h}))}}}catch(v){c.e(v)}finally{c.f()}}(e,n())}}function Ep(t){var e=t.chartId,n=t.symbol;return function(t,r){t({type:lf.S9,payload:{symbol:n,chartId:e}});var i=r();Qf(t,i),Ip(t,r()),i.global.enabledSocialTrading&&bt.A.instance.updateSocialTradingSymbols(i.chartSettings.visibleSymbols)}}function Ip(t,e){var n=e.assets,r=e.chartSettings,i=e.global.currentTime;if(i){var o,a=cf.zQ["+M2"],s=Op(r.chartIds);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=r.chartById[c],d=l.enableQuickAutoOffset,f=l.fastCloseAt,h=l.quickAutoOffsetValue,p=l.symbol;if(l.isCalendarMode&&n.symbols.includes(p)&&d){var m=n.assetBySymbol[p].minQuickTimeframe;if(m>=h){if(f-i<=m)t($h({chartId:c,value:f+Math.max(1,Math.ceil((i-f)/a))*a}));t(Yh({chartId:c,value:a})),u.A.publish(y.Mt,new H.A({chartId:c,offsetValue:a}))}}}}catch(v){s.e(v)}finally{s.f()}}}function Np(t){return function(e,n){var r=n(),i=(0,vf.lw)(r),o=t.filter((function(t){return i.includes(t)}));e(Xh.o.load(o))}}function Dp(t){return function(e,n){e(Xh.o.add(t));var r=n().favorites.list;bt.A.instance.changeFavoritesDebounced(r)}}function Lp(t){return function(e,n){e(Xh.o.remove(t));var r=n().favorites.list;bt.A.instance.changeFavoritesDebounced(r)}}var Mp=n(67380),Rp=n(96261);function Bp(t,e){return{type:lf.Yf,payload:{settingName:t,value:e}}}function Hp(t){var e=t.balance;return{type:Rp.de,payload:{balance:e}}}function $p(t){return{type:Rp.Y$,payload:{value:t}}}function Fp(t){return function(e,n){var r=n(),i=r.global.showOnlyWatchedTraders,o=r.global.enabledSocialTrading,a=r.chartSettings.visibleSymbols,s={value:t,showOnlyWatchedTrades:i,symbols:a};e({type:Rp.Bs,payload:s}),(!o&&t||o&&!t)&&bt.A.instance.emitUpdateEnabledSocialOptions(s)}}function Wp(t){return{type:Rp.Vj,payload:t}}function Up(t){return{type:Rp.IQ,payload:t}}function Vp(t){return function(e){e(Up([{field:"enabled_market_watch",value:t?1:0}]))}}var Gp=n(47180),zp=n(43460);function Yp(t){var e=t.chartId,n=t.action,r=t.requestId;return function(t,i){var o=i();if((0,Xf.Hf)(o))return u.A.publish(y.FI);t({type:Gp.e6,payload:{chartId:e,action:n,requestId:r}})}}function Xp(){return{type:Gp.VP,payload:{}}}function qp(t){var e=t.chartId;return function(t,n){var r=n(),i=r.chartSettings.chartById[e];if(i){var o={symbol:i.symbol,amount:i.liveDealAmount};if((0,Xf.cO)(r)){var a=(0,Xf.Oi)(r),s=(0,Xf.A4)(r);if(o.amount>s)return u.A.publish(y.$k,{limit:s,amount:o.amount,currency:a,asset:i.symbol})}bt.A.instance.openAiTrade(o)}}}var Kp,Zp=n(24240),Jp=n(25703);function Qp(t){return Qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(t)}function tm(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Qp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qp(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var em={SMA:"SMA",WMA:"WMA",EMA:"EMA",SMMA:"SMMA"},nm={GREEN:"#86da0e",CYAN:"#00ffcc",YELLOW:"#f1c40f",ORANGE:"#e67e22",RED:"#ff0000",BROWN:"#d35400",BLUE:"#2256ff",PURPLE:"#ff00ff",GRAY:"#c0c0c0",WHITE:"#ffffff",BLACK:"#000000"},rm={W1:1,W2:2,W3:3,W4:4,W5:5},im={CLOSE:"close",OPEN:"open",HIGH:"high",LOW:"low",HL2:"hl2",HLC3:"hlc3",OHLC4:"ohlc4",HLCC4:"hlcc4"},om={LINE:"line",HISTOGRAM:"histogram"},am={lineWidth:{in:Object.values(rm)},color:{in:Object.values(nm)},opacity:{min:0,max:100},show:{in:[!0,!1]},ma:{in:Object.values(em)},source:{in:Object.values(im)},figure:{in:Object.values(om)},level:{min:1,max:100},label:{type:String.name}},sm=(tm(tm(tm(tm(tm(tm(tm(tm(tm(tm(Kp={},Ru.W.ACCELERATOR_OSCILLATOR,{isBottom:!0,config:{lines:{main:{opacity:80,colors:{up:{color:nm.GREEN},down:{color:nm.RED}}}},aoPeriodShort:5,aoPeriodLong:34,acPeriod:5},rules:{aoPeriodShort:{min:1,max:200},aoPeriodLong:{min:1,max:200},acPeriod:{min:1,max:100}}}),Ru.W.ADX,{isBottom:!0,config:{lines:{adx:{lineWidth:rm.W1,color:nm.BROWN},plusDI:{lineWidth:rm.W1,color:nm.CYAN},minusDI:{lineWidth:rm.W1,color:nm.YELLOW}},adxSmoothing:14,diLength:14},rules:{adxSmoothing:{min:1,max:100},diLength:{min:1,max:100}}}),Ru.W.ALLIGATOR,{isBottom:!1,config:{lines:{lips:{lineWidth:rm.W1,color:nm.GREEN},teeth:{lineWidth:rm.W1,color:nm.BROWN},jaws:{lineWidth:rm.W1,color:nm.BLUE}},lips:{period:5,shift:3},teeth:{period:8,shift:5},jaws:{period:13,shift:8}},rules:{period:{min:1,max:100},shift:{min:1,max:100}}}),Ru.W.AROON,{isBottom:!0,config:{lines:{up:{lineWidth:rm.W1,color:nm.BLUE},down:{lineWidth:rm.W1,color:nm.RED}},period:25},rules:{period:{min:1,max:100}}}),Ru.W.ATR,{isBottom:!0,config:{lines:{main:{lineWidth:rm.W1,color:nm.BLUE}},period:14},rules:{period:{min:1,max:100}}}),Ru.W.AWESOME_OSCILLATOR,{isBottom:!0,config:{lines:{main:{figure:om.HISTOGRAM,lineWidth:rm.W1,opacity:80,colors:{up:{color:nm.GREEN},down:{color:nm.RED}}}},periodShort:5,periodLong:34},rules:{periodShort:{min:1,max:200},periodLong:{min:1,max:200}}}),Ru.W.BEARS_POWER,{isBottom:!0,config:{lines:{main:{color:nm.GREEN,figure:om.LINE,lineWidth:rm.W1}},period:13},rules:{period:{min:1,max:100}}}),Ru.W.BOLLINGER_BANDS,{isBottom:!1,config:{lines:{top:{lineWidth:rm.W1,color:nm.GREEN,opacity:60},middle:{lineWidth:rm.W1,color:nm.CYAN,opacity:60},bottom:{lineWidth:rm.W1,color:nm.YELLOW,opacity:60},background:{color:nm.GREEN,opacity:10}},period:5,deviation:1},rules:{period:{min:5,max:250},deviation:{min:1,max:50,precision:2}}}),Ru.W.BOLLINGER_BANDS_WIDTH,{isBottom:!0,config:{lines:{main:{lineWidth:rm.W1,color:nm.GREEN,opacity:90}},period:20,deviation:2},rules:{period:{min:5,max:250},deviation:{min:1,max:50,precision:2}}}),Ru.W.BULLS_POWER,{isBottom:!0,config:{lines:{main:{lineWidth:rm.W1,color:nm.GREEN,figure:om.LINE}},period:13},rules:{period:{min:1,max:100}}}),tm(tm(tm(tm(tm(tm(tm(tm(tm(tm(Kp,Ru.W.CCI,{isBottom:!0,config:{lines:{main:{lineWidth:rm.W1,color:nm.YELLOW},background:{color:nm.YELLOW,opacity:8},overbought:{lineWidth:rm.W1,color:nm.YELLOW,level:100,opacity:50},oversold:{lineWidth:rm.W1,color:nm.YELLOW,level:-100,opacity:50}},period:20},rules:{period:{min:1,max:200},level:{min:-200,max:200}}}),Ru.W.DONCHIAN_CHANNEL,{isBottom:!1,config:{lines:{middle:{lineWidth:rm.W1,color:nm.ORANGE,opacity:60},top:{lineWidth:rm.W1,color:nm.BLUE,opacity:60},bottom:{lineWidth:rm.W1,color:nm.BLUE,opacity:60},background:{color:nm.BLUE,opacity:10}},period:20},rules:{period:{min:5,max:200}}}),Ru.W.DEMARKER,{isBottom:!0,config:{lines:{main:{lineWidth:rm.W1,color:nm.CYAN,figure:om.LINE},overbought:{lineWidth:rm.W1,color:nm.GREEN,level:70,opacity:60},oversold:{lineWidth:rm.W1,color:nm.RED,level:30,opacity:60}},period:14},rules:{period:{min:1,max:100}}}),Ru.W.ENVELOPE,{isBottom:!1,config:{lines:{top:{lineWidth:rm.W1,color:nm.GREEN},middle:{lineWidth:rm.W1,color:nm.CYAN},bottom:{lineWidth:rm.W1,color:nm.YELLOW},background:{color:nm.GREEN,opacity:10}},period:14,deviation:.02,ma:em.SMA,source:im.CLOSE},rules:{period:{min:1,max:200},deviation:{min:.01,max:100,precision:2}}}),Ru.W.FRACTAL,{isBottom:!1,config:{lines:{up:{color:nm.GREEN},down:{color:nm.RED}},period:2},rules:{period:{min:2,max:100}}}),Ru.W.FRACTAL_CHAOS_BANDS,{isBottom:!1,config:{lines:{up:{color:nm.GREEN},down:{color:nm.RED},background:{color:nm.GREEN,opacity:10}},period:2},rules:{period:{min:2,max:100}}}),Ru.W.ICHIMOKU_CLOUD,{isBottom:!1,config:{lines:{tenkanSen:{lineWidth:rm.W1,color:nm.YELLOW},kijunSen:{lineWidth:rm.W1,color:nm.RED},chikouSpan:{lineWidth:rm.W1,color:nm.CYAN},senkouSpanA:{color:nm.GREEN,opacity:10,lineWidth:rm.W1},senkouSpanB:{color:nm.ORANGE,opacity:10,lineWidth:rm.W1}},tenkanSen:9,kijunSen:26,senkouSpanB:52},rules:{tenkanSen:{min:1,max:99},kijunSen:{min:1,max:200},senkouSpanB:{min:1,max:200}}}),Ru.W.KELTNER_CHANNEL,{isBottom:!1,config:{lines:{top:{lineWidth:rm.W1,color:nm.BLUE},middle:{lineWidth:rm.W1,color:nm.BLUE},bottom:{lineWidth:rm.W1,color:nm.BLUE},background:{color:nm.BLUE,opacity:10}},emaPeriod:20,atrPeriod:10,multiplier:1},rules:{emaPeriod:{min:1,max:100},atrPeriod:{min:1,max:100},multiplier:{min:1,max:5}}}),Ru.W.MACD,{isBottom:!0,config:{lines:{histogram:{colors:{up:{color:nm.GREEN,opacity:70},down:{color:nm.RED,opacity:70}}},macd:{lineWidth:rm.W1,color:nm.GREEN},signal:{lineWidth:rm.W1,color:nm.RED}},fastPeriod:12,slowPeriod:26,signalPeriod:9},rules:{fastPeriod:{min:1,max:100},slowPeriod:{min:1,max:100},signalPeriod:{min:1,max:100}}}),Ru.W.MOMENTUM,{isBottom:!0,config:{lines:{main:{figure:om.HISTOGRAM,lineWidth:rm.W1,opacity:80,colors:{up:{color:nm.GREEN},down:{color:nm.RED}}}},period:10,source:im.CLOSE},rules:{period:{min:1,max:100}}}),tm(tm(tm(tm(tm(tm(tm(tm(tm(tm(Kp,Ru.W.MOVING_AVERAGE,{isBottom:!1,config:{lines:{main:{lineWidth:rm.W1,color:nm.GREEN}},ma:em.SMA,period:10},rules:{period:{min:1,max:250}}}),Ru.W.OSMA,{isBottom:!0,config:{lines:{histogram:{color:nm.GREEN,opacity:80}},fastPeriod:12,slowPeriod:26,signalPeriod:9},rules:{fastPeriod:{min:1,max:250},slowPeriod:{min:1,max:250},signalPeriod:{min:1,max:250}}}),Ru.W.PARABOLIC_SAR,{isBottom:!1,config:{lines:{main:{lineWidth:rm.W1,color:nm.GREEN}},acceleration:.02,accelerationMax:.2},rules:{acceleration:{min:.001,max:10,precision:3},accelerationMax:{min:.1,max:10,precision:2}}}),Ru.W.RSI,{isBottom:!0,config:{lines:{main:{lineWidth:rm.W1,color:nm.GREEN},overbought:{lineWidth:rm.W1,color:nm.CYAN,level:70,opacity:60},middle:{lineWidth:rm.W1,color:nm.GRAY,level:50,opacity:30},oversold:{lineWidth:rm.W1,color:nm.YELLOW,level:30,opacity:60}},period:14},rules:{period:{min:1,max:100}}}),Ru.W.RATE_OF_CHANGE,{isBottom:!0,config:{lines:{main:{lineWidth:rm.W1,color:nm.YELLOW}},period:14},rules:{period:{min:1,max:100}}}),Ru.W.SCHAFF_TREND_CYCLE,{isBottom:!0,config:{lines:{main:{lineWidth:rm.W1,color:nm.BLUE},overbought:{lineWidth:rm.W1,color:nm.CYAN,level:75,opacity:60},oversold:{lineWidth:rm.W1,color:nm.YELLOW,level:25,opacity:60}},fast:23,slow:50,cycle:10,macdD:3,pfD:3},rules:{fast:{min:1,max:100},slow:{min:1,max:100},cycle:{min:1,max:100},macdD:{min:1,max:100},pfD:{min:1,max:100}}}),Ru.W.STOCHASTIC_OSCILLATOR,{isBottom:!0,config:{lines:{kPeriod:{lineWidth:rm.W1,color:nm.BLUE},dPeriod:{lineWidth:rm.W1,color:nm.ORANGE},overbought:{lineWidth:rm.W1,color:nm.CYAN,level:80,opacity:60},oversold:{lineWidth:rm.W1,color:nm.YELLOW,level:20,opacity:60}},kPeriod:14,dPeriod:3,mPeriod:3,ma:em.SMA},rules:{kPeriod:{min:1,max:100},dPeriod:{min:1,max:100},mPeriod:{min:1,max:100}}}),Ru.W.SUPERTREND,{isBottom:!1,config:{lines:{up:{lineWidth:rm.W2,color:nm.RED,opacity:80},down:{lineWidth:rm.W2,color:nm.GREEN,opacity:80}},atrPeriod:10,multiplier:3},rules:{atrPeriod:{min:1,max:100},multiplier:{min:1,max:5,precision:2}}}),Ru.W.VORTEX,{isBottom:!0,config:{lines:{viPlus:{lineWidth:rm.W1,color:nm.GREEN},viMinus:{lineWidth:rm.W1,color:nm.RED}},period:14},rules:{period:{min:2,max:100}}}),Ru.W.WILLIAMS_R,{isBottom:!0,config:{lines:{main:{lineWidth:rm.W1,color:nm.CYAN,figure:om.LINE},upperBand:{lineWidth:rm.W1,color:nm.GREEN,level:-20,opacity:60},lowerBand:{lineWidth:rm.W1,color:nm.RED,level:-80,opacity:60}},period:14},rules:{period:{min:1,max:100},level:{min:-100,max:0}}}),tm(Kp,Ru.W.ZIG_ZAG,{isBottom:!1,config:{lines:{main:{lineWidth:rm.W2,color:nm.YELLOW}},deviation:5,depth:12,backstep:3},rules:{deviation:{min:1,max:100},depth:{min:1,max:100},backstep:{min:1,max:100}}})),cm=Object.keys(sm).filter((function(t){return sm[t].isBottom})),lm=function(t){return cm.includes(t)},um=function(t){return t.indicators.byId},dm=function(t){return t.drawings.byId},fm=function(t){return t.indicators.allIds},hm=function(t){return t.drawings.allIds},pm=function(t){return t.drawings.selectedIds},mm=function(t){return(0,hf.Mz)([dm,hm],(function(e,n){if(t=t.toString(),n.includes(t))return e[t];for(var r=0;r<n.length;r++){var i=n[r];if(e[i].requestId===t)return e[i]}}))},ym=function(t){return(0,hf.Mz)([um,fm],(function(e,n){return n.filter((function(n){return e[n].chartId===t})).map((function(t){return e[t]}))}))},vm=function(t){return(0,hf.Mz)([dm,hm],(function(e,n){return function(r){return n.filter((function(n){return e[n].chartId===t&&r===e[n].assetId})).map((function(t){return e[t]}))}}))},bm=(0,hf.Mz)([dm],(function(t){return function(e){return Object.values(t).filter((function(t){return e===t.assetId})).length}})),gm=(0,hf.Mz)([fm],(function(t){return t.length})),wm=n(1419),jm=n.n(wm);function xm(t){return xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(t)}function _m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_m(Object(n),!0).forEach((function(e){Om(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Om(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=xm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xm(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function km(t,e){var n={id:t,settings:e,shouldUpload:arguments.length>2&&void 0!==arguments[2]&&arguments[2]};return Zp.o1.edit(n)}function Tm(t){return function(e,n){var r=n(),i=t,o=mm(i)(r),a=o.id,s=o.chartId;i!==a&&(i=a),e(Zp.o1.remove({drawingId:i,chartId:s}))}}function Am(){return function(t,e){var n=e().drawings.selectedIds;t(Zp.o1.removeSelected(n))}}function Cm(t){return Zp.o1.changeSelected(t)}function Pm(t){return function(e,n){var r=n();if(bm(r)(t.assetId)>=Ru.Ay.CHART.MAX_DRAWINGS_LIMIT)return u.A.publish(y.zJ,{error:"LIMIT_EXCEED",limit:Ru.Ay.CHART.MAX_DRAWINGS_LIMIT,assetId:t.assetId});e(Zp.o1.add(Sm(Sm({},t),{},{requestId:(0,gp.Ak)()})))}}function Em(t){return Zp.o1.removeAllInChart(t)}function Im(t){var e=Sm(Sm({},t),{},{requestId:(0,gp.Ak)()});return function(t,n){if(gm(n())>=Ru.Ay.CHART.MAX_INDICATORS_LIMIT)return u.A.publish(y.e5,{error:"LIMIT_EXCEED",limit:Ru.Ay.CHART.MAX_INDICATORS_LIMIT});t(Jp.o1.add(e))}}function Nm(t,e){var n={id:t,settings:e,shouldUpload:arguments.length>2&&void 0!==arguments[2]&&arguments[2]};return Jp.o1.edit(n)}function Dm(t){return Jp.o1.remove(t)}function Lm(t,e){var n={id:t,value:e};return Jp.o1.changeVisibility(n)}function Mm(t){return Jp.o1.favorite(t)}function Rm(t){return Jp.o1.unfavorite(t)}function Bm(t){return Jp.o1.removeAllInChart(t)}function Hm(t){return function(t){if(Array.isArray(t))return $m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return $m(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$m(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Fm(t){return{type:ou.Mt,payload:t}}function Wm(t){return{type:ou.Bd,payload:t}}function Um(t){return{type:ou.Yh,payload:t}}function Vm(){return function(t,e){var n=function(t){var e=t.expresses,n=[];return e.opened.dealIds.forEach((function(t){n.push(e.opened.dealById[t].asset)})),Hm(new Set(n))}(e());n.length&&(n.forEach((function(t){bt.A.instance.subscribeAsset(t)})),t({type:ou.UP,payload:n}))}}var Gm=n(17949);var zm=n(58953),Ym=n.n(zm),Xm=n(63696),qm=n.t(Xm,2),Km=n(11750),Zm=n(62688),Jm=n.n(Zm),Qm=n(62540);function ty(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ey(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ey(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ey(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var ny={TEXT:"text",NUMBER:"number"},ry=function(t){var e=t.value,n=t.onParamChanged,r=t.path,i=t.children,o=t.className,a=void 0===o?"":o,s=t.type,c=void 0===s?ny.TEXT:s,l=ty((0,Xm.useState)(!1),2),u=l[0],d=l[1];return(0,Qm.jsxs)("div",{className:(0,Km.A)("input-wrapper",u&&"focused",a),children:[(0,Qm.jsx)("div",{className:"input-wrapper__input",children:(0,Qm.jsx)("input",{type:c,value:e,onChange:n(r),onBlur:function(t){n(r)(t),d(!1)},onFocus:function(){return d(!0)}})}),i]})};ry.propTypes={value:Jm().oneOfType([Jm().string,Jm().number]).isRequired,onParamChanged:Jm().func.isRequired,path:Jm().string.isRequired,className:Jm().string,type:Jm().oneOf(Object.values(ny))};var iy=ry,oy=function(){return(0,Qm.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 225 45",height:"16",width:"16",children:(0,Qm.jsx)("path",{d:"M58.2 30.7V15.3h108.4v15.4H58.2zM0 22.6C0 10.1 10.1 0 22.5 0 35 0 45.1 10.2 45 22.7 44.9 34.9 35 44.9 22.7 45 10.2 45.1 0 35 0 22.6zm225-.3c.1 12.5-10 22.6-22.5 22.6-12.4.1-22.5-10.1-22.5-22.5C180 10.2 190 .1 202.2 0c12.5-.1 22.7 9.9 22.8 22.3z"})})},ay=function(){return(0,Qm.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44.99 225.08",height:"16",width:"16",children:(0,Qm.jsx)("path",{d:"M14.34 58.24h15.4v108.42h-15.4zM22.55 45A22.5 22.5 0 1145 22.32 22.54 22.54 0 0122.55 45zm0 180.08A22.5 22.5 0 1145 202.4a22.53 22.53 0 01-22.45 22.68z"})})},sy=function(){return(0,Qm.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",height:"16",width:"16",children:[(0,Qm.jsx)("path",{d:"M5 12l-1-1 6.8-6.8 1.1 1.1C8.2 8.8 8.7 8.4 5 12zm-2.9-.2c1.2 0 2.1 1 2.1 2.2 0 1.1-1 2.1-2.1 2C.9 16 0 15 0 13.9s1-2.1 2.1-2.1z"}),(0,Qm.jsx)("circle",{cx:"13.9",cy:"2.1",r:"2.1"})]})},cy=function(){return(0,Qm.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 171 171.1",height:"16",width:"16",children:(0,Qm.jsx)("path",{d:"M53.3 128.4c-3.9-3.9-7.3-7.5-11-11.2C81.2 78.4 120.4 39.2 159.7 0L171 11.3c-39.3 39-78.4 78-117.7 117.1zm-30.4-2.2c12.5.2 22.3 10.5 22 23-.3 12.2-10.5 22.1-22.7 21.9C9.8 171-.2 160.7 0 148.3c.2-12.4 10.5-22.4 22.9-22.1z"})})},ly=function(){return(0,Qm.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 224.6 174",height:"16",width:"16",children:(0,Qm.jsx)("path",{d:"M81.1 159.5v-15.4h143.4v15.4H81.1zm61.5-128.8H.3V15.2h142.3v15.5zm55.5-7.7c.5 11.4-8.7 22.4-22.6 22.8-12.1.3-22.7-10.8-22.6-23.1.1-12.2 10.9-23 22.8-22.7 12.7.3 22.4 10.3 22.4 23zM48.5 128.7c12.8.1 22.6 9.9 22.5 22.7 0 12.7-10 22.6-22.8 22.6-12.5-.1-22.4-10.4-22.3-23.2 0-12.3 10-22.2 22.6-22.1zm102.6-48.8c26.6-.1 45.7 0 72.3 0h1.2v15.5h-90.5c9-8.4 17-15.5 17-15.5zm-151 16V80.2h89.4c-5.5 5.4-8.6 8.5-15.9 15.7H.1zm126.2-12.1c-6 6-11.8 11.7-18.4 18.3-3.6-3.6-7.2-7.3-10.8-11.1 5.9-5.6 12.1-12 18.4-18 2.9 3 7.2 7.2 10.8 10.8zm29.3-29.3l-17.3 17.3c-3.7-3.7-7.3-7.4-11-11.1 5.7-5.6 11.6-11.4 17.6-17.2 3.2 3.3 6.9 7.1 10.7 11zm-59.4 59.4c-5.3 5.3-11.2 11.1-17.6 17.3-3.5-3.8-7.1-7.6-10.7-11.6 6-5.8 11.8-11.5 17.6-17.2 3.4 3.7 7 7.6 10.7 11.5zm128.3-83.1h-16.2V15.2h16.2v15.6zM0 159.6v-15.3h15.6v15.3H0z"})})};function uy(t){return uy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uy(t)}function dy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dy(Object(n),!0).forEach((function(e){hy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hy(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=uy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=uy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==uy(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var py=function(t){return(0,Qm.jsx)("svg",fy(fy({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 224.6 224.7",height:"16",width:"16"},t),{},{children:(0,Qm.jsx)("path",{d:"M47 175.2c-5-2.8-9.3-5.2-14-7.8 27.3-48.7 54.4-96.9 81.7-145.6 4.8 2.7 9.2 5.2 14 7.9-27.2 48.6-54.3 96.8-81.7 145.5zm9.8 16.3c-2.6-4.9-4.9-9.2-7.5-14.1 49.3-26 98.2-51.8 147.8-77.9 2.4 4.6 4.8 9.1 7.4 14.3-49.2 25.9-98.2 51.6-147.7 77.7zM15.3 0h15.4v166.4H15.3V0zm42.9 209.4V194h166.4v15.4H58.2zm-34.6 15.3C10.7 224.8 0 214.2 0 201.3c0-12.5 10.1-22.6 22.6-22.5 12.7 0 23.2 10.5 23.4 23.2.1 12.4-9.9 22.7-22.4 22.7z"})}))},my=function(){return(0,Qm.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 206 198.1",height:"16",width:"16",children:(0,Qm.jsx)("path",{d:"M147.9 31.1c2.5 4.9 4.8 9.3 7.3 14.2-32.4 16.7-64.5 33.2-96.9 50-2.5-4.8-4.8-9.2-7.4-14.2 32.4-16.7 64.4-33.2 97-50zm-12.6 103.6c0 12.2-10.1 22.5-22.1 22.6-12.5 0-22.8-10-22.9-22.3-.1-12.2 9.9-22.6 21.9-22.8 12.7-.3 23 9.8 23.1 22.5zM205.8 23c-.2 12.4-10.7 22.3-23.1 22-12.2-.3-22-10.5-21.8-22.8C161 9.7 171.2-.2 183.8 0c12.4.2 22.3 10.5 22 23zM.8 104.5C1 92.2 11.4 82 23.2 82.3c12.9.3 22.8 10.6 22.5 23.2-.3 12.2-10.7 22.2-22.7 21.9C10.5 127.1.5 116.8.8 104.5zm84.6 53.3c-26.1 13.4-52 26.7-78.5 40.3-2.2-4.7-4.4-9.3-6.9-14.6 25.9-13.3 51.6-26.5 77.8-39.9 2.6 4.8 4.9 9.2 7.6 14.2zm62.4-32.6c-2.6-5-4.8-9.3-7.4-14.3 19.7-10.2 39.1-20.3 58.9-30.5 2.3 5 4.3 9.5 6.7 14.6-19.2 10-38.3 19.9-58.2 30.2z"})})},yy=function(){return(0,Qm.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:[(0,Qm.jsx)("path",{d:"M1.5 1.5H11v1H1.5v-1zm13 12H5v1h9.5v-1z"}),(0,Qm.jsx)("circle",{r:"1.75",cx:"2",cy:"14"}),(0,Qm.jsx)("circle",{cx:"14",cy:"2",r:"1.75"}),(0,Qm.jsx)("path",{d:"M1.5 2.5h1V11h-1zm12 2.5h1v8.5h-1z"})]})},vy=function(){return(0,Qm.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"12",viewBox:"0 0 14.95 10.56",children:(0,Qm.jsx)("path",{d:"M14.35 1.18c.21.41.4.77.61 1.18-2.69 1.38-7.5 3.87-10.18 5.26-.21-.4-.4-.76-.61-1.18 2.69-1.38 7.49-3.87 10.19-5.26ZM0 8.38c.02-1.02.88-1.87 1.86-1.84 1.07.02 1.89.88 1.87 1.92-.02 1.01-.89 1.84-1.88 1.82A1.875 1.875 0 0 1 0 8.38Zm10.23-7.2C8.07 2.29 5.92 3.39 3.72 4.52c-.18-.39-.36-.77-.57-1.21C5.3 2.21 7.43 1.11 9.6 0c.22.4.41.76.63 1.18ZM6.29 10.56c2.2-1.13 4.35-2.23 6.51-3.34-.22-.41-.41-.78-.63-1.18C10.1 7.1 8.06 8.15 6.01 9.2l-.29.15c.21.44.39.82.57 1.21Z"})})};function by(t){return by="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},by(t)}function gy(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=by(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=by(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==by(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wy={VALUES:"values",PERCENTS:"percents"},jy=gy(gy(gy(gy(gy(gy(gy(gy(gy({},Ru.Ay.CHART.DRAWINGS.ANDREWS_PITCHFORK,{icon:vy,label:(0,$.tr)("drawings.pitchfork"),config:{lines:{median:{lineWidth:rm.W1,color:nm.RED,opacity:80},level_0382:{lineWidth:rm.W1,color:nm.YELLOW,opacity:80,level:.382,show:!1},level_0618:{lineWidth:rm.W1,color:nm.ORANGE,opacity:80,level:.618,show:!1},level_1:{lineWidth:rm.W1,color:nm.BROWN,opacity:80,level:1},level_15:{lineWidth:rm.W1,color:nm.RED,opacity:80,level:1.5,show:!1},level_2:{lineWidth:rm.W1,color:nm.GREEN,opacity:80,level:2},bg:{opacity:20}}},rules:{level:{min:0,max:3,precision:3}}}),Ru.Ay.CHART.DRAWINGS.HORIZONTAL_LINE,{icon:oy,label:(0,$.tr)("drawings.horizontal-line"),config:{lines:{main:{lineWidth:rm.W1,color:nm.GREEN,opacity:90}}}}),Ru.Ay.CHART.DRAWINGS.VERTICAL_LINE,{icon:ay,label:(0,$.tr)("drawings.vertical-line"),config:{lines:{main:{lineWidth:rm.W1,color:nm.GREEN,opacity:90}}}}),Ru.Ay.CHART.DRAWINGS.RAY,{icon:cy,label:(0,$.tr)("drawings.ray"),config:{lines:{main:{lineWidth:rm.W1,color:nm.GREEN,opacity:90}}}}),Ru.Ay.CHART.DRAWINGS.FIBONACCI_RETRACEMENT,{icon:ly,label:(0,$.tr)("drawings.fibonacci-retracement"),config:{lines:{main:{lineWidth:rm.W1,color:nm.GREEN,opacity:90},level:{color:nm.GRAY},value:{color:nm.GREEN}},levels:wy.VALUES},rules:{levels:{in:Object.values(wy)}}}),Ru.Ay.CHART.DRAWINGS.FIBONACCI_FAN,{icon:py,label:(0,$.tr)("drawings.fibonacci-fan"),config:{lines:{main:{lineWidth:rm.W1,color:nm.GREEN,opacity:90},level:{color:nm.GRAY}}}}),Ru.Ay.CHART.DRAWINGS.TREND_LINE,{icon:sy,label:(0,$.tr)("drawings.trend-line"),config:{lines:{main:{lineWidth:rm.W1,color:nm.GREEN,opacity:90}}}}),Ru.Ay.CHART.DRAWINGS.PARALLEL_CHANNEL,{icon:my,label:(0,$.tr)("drawings.parallel-channel"),config:{lines:{main:{lineWidth:rm.W1,color:nm.GREEN,opacity:100},bg:{color:nm.GREEN,opacity:20}}}}),Ru.Ay.CHART.DRAWINGS.RECTANGLE,{icon:yy,label:(0,$.tr)("drawings.rectangle"),config:{lines:{main:{lineWidth:rm.W1,color:nm.GREEN,opacity:100},bg:{color:nm.GREEN,opacity:20}}}}),xy={main:(0,$.tr)("drawings.line_main"),bg:(0,$.tr)("drawings.line_bg"),level:(0,$.tr)("drawings.levels"),value:(0,$.tr)("drawings.levels_values"),histogram:(0,$.tr)("drawings.histogram"),median:(0,$.tr)("drawings.median")},_y=["lines"],Sy=["lines"];function Oy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ky(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oy(Object(n),!0).forEach((function(e){Ty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ty(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Cy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Cy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cy(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ay(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cy(t){return Cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cy(t)}function Py(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ey(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ey(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ey(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Iy(t,e){if(Fr()(t,e))return Bt()(t,e);var n=e.split("."),r=n.length>0?n[n.length-1]:e;return null!=t&&null!=t[r]?t[r]:null!=am[r]?am[r]:null}function Ny(t){return t&&null!=t.min&&null!=t.max}function Dy(t){return""===t||"-"===t||0===t}function Ly(t){var e=t.value,n=t.min,r=t.max,i=t.precision,o=void 0===i?2:i,a=t.step,s=void 0===a?0:a,c=t.fixValue,l=void 0!==c&&c,u=t.fixModulo,d=t.defaultValue,f=t.allowZero,h=void 0!==f&&f,p=t.replaceCommasToDots,m=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return t=t.toString(),e?t=t.replace(n?/[^\d]/g:/[^\-\d]/g,""):(r&&(t=t.replace(",",".")),t=t.replace(/[^\-\d\\.]/g,"")),t.trim()}(e,0===o,n>=0,void 0===p||p),y=o>0?parseFloat(m):parseInt(m,10);if((Dy(m)||Dy(y))&&!l)return m;var v=Math.pow(10,o),b=y*v%(s*v)/v;if(Number.isNaN(y))return d;if(l&&void 0===u&&(u=!0),u&&0!==s&&0!==b&&(y=(0,ru.xr)(y-b,o)),y<n&&l)return h&&0===y?0:n;if(y>r)return r;var g=Py(m.split("."),2),w=g[0],j=g[1],x=void 0===j?"":j;return x.length>o?Number("".concat(w,".").concat(x.substring(0,o))):l?y:m}function My(t,e,n){return function(e,r){return function(i){var o,a=void 0!==r||void 0===i||"blur"===i.type,s=void 0!==r?r:"checkbox"===(o=i).currentTarget.type?o.currentTarget.checked:o.currentTarget.value,c=a||!function(t){return void 0!==t&&Object.values(ny).includes(t.currentTarget.type)}(i),l=Wy(t,e,s,a);n((function(t){return Ni()(t,e,l)}),c)}}}function Ry(t){switch(t){case Ru.W.AROON:case Ru.W.ATR:case Ru.W.BEARS_POWER:case Ru.W.BULLS_POWER:case Ru.W.CCI:case Ru.W.DONCHIAN_CHANNEL:case Ru.W.DEMARKER:case Ru.W.MOMENTUM:case Ru.W.RSI:case Ru.W.VORTEX:case Ru.W.WILLIAMS_R:case Ru.W.RATE_OF_CHANGE:case Ru.W.FRACTAL:case Ru.W.FRACTAL_CHAOS_BANDS:return!0}return!1}function By(t){return Array.isArray(t)?t.filter((function(t){return e=t.type,Object.values(Ru.Ay.CHART.DRAWINGS).includes(e);var e})).map((function(t){return Hy(jy[t.type],t)})):[]}function Hy(t,e){if(null==e.settings)return e.settings=t.config,e;var n=e.settings,r=n.lines,i=Ay(n,_y),o=t.config,a=o.lines,s=Ay(o,Sy),c={};Object.keys(a).forEach((function(e){c[e]=Fy(t,e,a,r)}));var l={};return Object.keys(s).forEach((function(e){l[e]=$y(t,e,s,i)})),e.settings=ky(ky({},l),{},{lines:c}),e}function $y(t,e,n,r){var i=Bt()(r,e),o=Bt()(n,e);if(void 0===i)return o;if(Ym()(o)){var a={};return Object.keys(o).forEach((function(i){a[i]=$y(t,"".concat(e,".").concat(i),n,r)})),a}return Wy(t,e,i)}function Fy(t,e,n,r){var i=Bt()(r,e),o=Bt()(n,e);if(void 0===i)return o;var a={};return Object.keys(o).forEach((function(s){if(void 0===i[s])a[s]=o[s];else if("colors"===s){var c={};Object.keys(o[s]).forEach((function(i){var o="".concat(e,".colors.").concat(i);c[i]=Fy(t,o,n,r)})),a[s]=c}else a[s]=Wy(t,"lines.".concat(e,".").concat(s),i[s])})),void 0!==i.show&&(a.show=Boolean(i.show)),a}function Wy(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=Iy(t.rules,e);return Ny(i)?function(t,e,n,r){var i=t.config,o=Iy(t.rules,e),a=o.precision,s=void 0===a?0:a;return Ly({value:n,min:o.min,max:o.max,precision:s,fixValue:r,defaultValue:Bt()(i,e)})}(t,e,n,r):function(t){return t&&t.in&&Array.isArray(t.in)}(i)?function(t,e,n){var r=t.config;return Iy(t.rules,e).in.includes(n)?n:Bt()(r,e)}(t,e,n):function(t){return void 0!==t.type}(i)?function(t,e,n){var r=Iy(t.rules,e).type;return Cy(n).toLowerCase()===r.toLowerCase()?n:null}(t,e,n):null}function Uy(t){return Object.values(Ru.W).includes(t)}var Vy=function(t){return t[Math.floor(Math.random()*t.length)]};function Gy(t){return Gy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gy(t)}function zy(t){return function(t){if(Array.isArray(t))return Yy(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Yy(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yy(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Xy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qy(r.key),r)}}function qy(t){var e=function(t,e){if("object"!=Gy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Gy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gy(e)?e:e+""}var Ky="event_new_gem_show_end",Zy="event_new_gem_move_to_block_end",Jy="event_new_gem_hide_end",Qy="LIVE_GEM_EVENT",tv="TEST_GEM_EVENT",ev={1:"#ff2e00",2:"#00fff4",3:"#33ff00",4:"#ff009e"},nv={1:"red",2:"blue",3:"green"},rv=function(){return function(t,e,n){return e&&Xy(t.prototype,e),n&&Xy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.queue=[],this.isChart()&&(this.isMobile=(0,se.hP)(),this.$body=i()("body"),this.tpl=Lt("#gems-lotto-new-gem","gems-lotto-new-gem"),this.showClassName="animated tada",this.hideClassName="animated fadeOut",this.blockClassName="js-gems-lotto-new-gem")}),[{key:"getTo",value:function(){return this.isMobile?i()(".site-header .js-mobile-nav:first"):i()(".js-left-sidebar li:nth-child(4)")}},{key:"test",value:function(){var t,e,n=Object.keys(nv),r=Vy([9]);for(t=0;t<r;t++){var i=Vy([1,2,3]),o=[];for(e=0;e<i;e++)o.push(+Vy(n));u.A.publish(tv,o)}}},{key:"init",value:function(){this.isChart()&&(this.events(),this.startQueue())}},{key:"events",value:function(){var t=this;u.A.subscribe(tv,(function(e,n){return t.queue=[].concat(zy(t.queue),zy(n))})),u.A.subscribe(Qy,(function(e,n){t.queue=[].concat(zy(t.queue),zy(n))})),u.A.subscribe(Ky,(function(e,n){var r=n.$gem,i=n.uid,o=n.type;return t.animationStep2(r,i,o)})),u.A.subscribe(Zy,(function(e,n){var r=n.$gem,i=n.uid,o=n.type;return t.animationStep3(r,i,o)})),u.A.subscribe(Jy,(function(e,n){var r=n.$gem,i=n.uid,o=n.type;return t.animationStep4(r,i,o)}))}},{key:"startQueue",value:function(){var t=this,e=function(){if(t.queue.length){var e=t.queue[0];null!==e&&(t.renderGem(e),t.queue.splice(0,1))}};setInterval((function(){return e()}),6e3),e()}},{key:"highlightToBlock",value:function(t,e){var n,r;t=this.isMobile?t.find(".fa"):t.find("a"),n=t,r=(r={to:ev[e]})||{},r=i().extend({to:"#ff8b2b",speed:1e3},r),n.each((function(){var t=i()(this),e=r.from||t.data("color")||t.css("color"),n=r.to,o=r.speed;if(t.data("color",e),void 0===r.to)throw Error("Need to color param");t.css({color:n,transition:"none"}),setTimeout((function(){t.css({transition:"color "+o/1e3+"s ease",color:e})}),50)}))}},{key:"renderGem",value:function(t){var e=this,n=Math.round((0,Et.A)()),r=i()(this.tpl({type:nv[t],uid:n}));u.A.publish("event_new_gem_show_start",{$gem:r,uid:n,type:t}),u.A.publish(y.xM,{type:t,uid:n}),this.$body.prepend(r),r.addClass(this.showClassName),r.find(".crystal-".concat(nv[t],"-icon")).show(),setTimeout((function(){r.removeClass(e.showClassName),u.A.publish(Ky,{$gem:r,uid:n,type:t})}),1700)}},{key:"animationStep2",value:function(t,e,n){var r=this.getTo();if(0!==r.length){u.A.publish("event_new_gem_move_to_block_start",{$gem:t,uid:e,type:n});var i=this.getTopLeftCoordinates(t,r);t.css({left:i.left+"px",top:i.top+"px",transform:"scale3d(.4, .4, .4)"}),setTimeout((function(){return u.A.publish(Zy,{$gem:t,uid:e,type:n})}),1500)}else t.remove()}},{key:"getTopLeftCoordinates",value:function(t,e){var n={width:t.innerWidth(),height:t.innerHeight()};n.scaleWidth=.4*n.width,n.scaleHeight=.4*n.height;var r={width:e.innerWidth(),height:e.innerHeight()};return r.offset={top:e.offset().top,left:e.offset().left},r.center={top:r.offset.top+r.height/2,left:r.offset.left+r.width/2},r.center.top+=n.scaleWidth/2,r.center.left+=n.scaleHeight/2,{top:Math.round(r.center.top-n.scaleHeight/2),left:Math.round(r.center.left-n.scaleWidth/2)}}},{key:"animationStep3",value:function(t,e,n){u.A.publish("event_new_gem_hide_start",{$gem:t,uid:e,type:n});var r=this.blockClassName.replace("js-","")+"--hide";t.addClass(r),setTimeout((function(){return u.A.publish(Jy,{$gem:t,uid:e,type:n})}),500)}},{key:"animationStep4",value:function(t,e,n){var r=this;u.A.publish("event_new_gem_remove_start",{type:n,uid:e}),t.addClass(this.hideClassName),setTimeout((function(){t.remove(),r.highlightToBlock(r.getTo(),n),u.A.publish("event_new_gem_remove_end",{type:n,uid:e}),u.A.publish("gem_animation_end",{type:n,uid:e})}),500)}},{key:"isChart",value:function(){return 1===(parseInt((0,Q.A)("is-chart"))||0)}}])}(),iv=rv;function ov(t){return ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(t)}function av(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cv(r.key),r)}}function sv(t,e,n){return(e=cv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cv(t){var e=function(t,e){if("object"!=ov(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ov(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ov(e)?e:e+""}var lv=function(){return function(t,e,n){return e&&av(t.prototype,e),n&&av(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),sv(this,"openModal",(function(t,n){e.addEvents()})),sv(this,"closeModal",(function(){e.cache={},e.clearEvents()})),this.cache={},this.api=Bn.instance}),[{key:"init",value:function(){u.A.subscribe("".concat(y.iz,".demo-balance-modal"),this.openModal),u.A.subscribe("".concat(y.ub,".demo-balance-modal"),this.closeModal)}},{key:"addEvents",value:function(){this.startEv=this.api.addEventListener("".concat(An.k3).concat(An.uk),(function(){return i().magnificPopup.close()}))}},{key:"clearEvents",value:function(){this.api.removeEventListener("".concat(An.k3).concat(An.uk),this.startEv)}}])}(),uv=lv,dv=n(91207),fv=n(3594),hv=n(13431),pv={getAllData:function(){return ze.A.request({url:(0,tn.hX)("api/tournaments/all-data")})},getById:function(t){return ze.A.request({url:(0,tn.hX)("api/tournaments/detail/".concat(t,"?format=json"))})}},mv=function(){return function(t,e){if(!e().tournaments.isInitialLoading)return t(dv.o1.startLoadingInitialData()),pv.getAllData().then((function(n){var r=n.data,i=n.hideStatistics;if(!0===n.status){r.hideStatistics=i,t(dv.o1.loadTournamentInitialData(r));var o=e().tournaments,a=o.detailsModal,s=a.isLoading,c=a.loadingId,l=a.startTab;if(!s&&c>0&&t(wv(c,l)),!o.enabledRatingWidget){var u=o.tournaments.find((function(t){return t.id===o.currentTournament.id}));u&&t(dv.o1.updateCurrentTournamentRank({changed:u.changed,rank:u.rank}))}}}))}};function yv(t){return function(e){return e(dv.o1.startLoadingTournamentModal({modalId:qo.lx.TOURNAMENT_HISTORY,id:t})),ze.A.request({url:(0,tn.hX)("api/tournaments/history/".concat(t,"?format=json")),catch:function(){return e(dv.o1.errorLoadingTournamentModal({modalId:qo.lx.TOURNAMENT_HISTORY}))}}).then((function(t){var n=t.data,r=t.hideStatistics;!0===t.status?(n.hideStatistics=r,e(dv.o1.finishLoadingTournamentModal({modalId:qo.lx.TOURNAMENT_HISTORY,data:n}))):e(dv.o1.errorLoadingTournamentModal({modalId:qo.lx.TOURNAMENT_HISTORY}))}))}}function vv(t){return function(e){return e(dv.o1.startTournamentRegistration()),ze.A.request({url:t,catch:function(){return e(dv.o1.errorTournamentRegistration())}}).then((function(t){var n=t.data,r=t.status,i=t.message;if(!0===r){e(dv.o1.finishTournamentRegistration(n.tournament));var o=new CustomEvent("updateDropdownRegisterTournament",{detail:n});document.dispatchEvent(o)}else{i&&new F.A({position:Hr.k3,time:3e3}).red(i),e(dv.o1.errorTournamentRegistration())}}))}}function bv(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fv.v.DESCRIPTION;return function(n){return n(dv.o1.startLoadingTournamentModal({modalId:qo.lx.TOURNAMENT_DETAILS,id:t})),pv.getById(t).then((function(t){var r=t.data;!0===t.status?n(dv.o1.finishLoadingTournamentModal({modalId:qo.lx.TOURNAMENT_DETAILS,detailsTab:e,data:r})):n(dv.o1.errorLoadingTournamentModal({modalId:qo.lx.TOURNAMENT_DETAILS}))})).catch((function(){return n(dv.o1.errorLoadingTournamentModal({modalId:qo.lx.TOURNAMENT_DETAILS}))}))}}function gv(t){return function(e){return e(dv.o1.startOpeningNextTournament()),ze.A.request({url:(0,tn.hX)("api/tournaments/next-tournament/".concat(t)),catch:function(){return e(dv.o1.errorOpeningNextTournament())}}).then((function(t){var n=t.id;!0===t.status?(e(dv.o1.finishOpeningNextTournament()),e(jv(n,fv.v.DESCRIPTION))):e(dv.o1.errorOpeningNextTournament())}))}}var wv=function(t,e){return function(n,r){var i=null,o=-1,a=r().tournaments.tournaments.findIndex((function(e){return e.id===t}));a>=0&&(i=hv.m.ALL_TOURNAMENTS,o=a),o<0||(n(dv.o1.selectTournamentTab(i)),n(bv(t,e)))}};function jv(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fv.v.DESCRIPTION;return function(n,r){n(cp({modalId:qo.lx.TOURNAMENTS,value:!0})),r().tournaments.tournaments.length>0?n(wv(t,e)):n(dv.o1.preselectTournament({loadingId:t,startTab:e}))}}function xv(t){return function(e){e(dv.o1.toggleRatingWidget(t))}}function _v(t){return _v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(t)}function Sv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ov(r.key),r)}}function Ov(t){var e=function(t,e){if("object"!=_v(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_v(e)?e:e+""}var kv=function(){return function(t,e,n){return e&&Sv(t.prototype,e),n&&Sv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$body=i()("body")}),[{key:"init",value:function(){this.events()}},{key:"events",value:function(){this.$body.on("click",".js-re-buy",this.reBuyBtnClickHandler)}},{key:"reBuyBtnClickHandler",value:function(t){var e=i()(t.currentTarget),n=+e.data("tournament-id");Rl.A.dispatch(function(t){return bv(t,fv.v.REBUY)}(n)),e.closest(".drop-down-modal--balance").length&&u.A.publish("".concat(y.DD,".balance"),new j("balance"));var r=e.closest(".js-need-deposit-tooltip");r.length&&r.find(".js-self-close").click()}}])}(),Tv=kv,Av=n(47619),Cv=n(38388),Pv="tutorial-v1",Ev={sliderWidth:1280,sliderHeight:920,headerHeight:25,paddingY:20},Iv=function(t){-1!==t.indexOf("_")&&(t=t.split("_")[0]),Ev.$currentSlide.text(t)},Nv=function(t){var e=Ev.$tutorial.find(".step".concat(t));0!==e.length&&(Ev.$tutorial.find(".".concat(Pv,"__step")).addClass("hidden"),e.removeClass("hidden"),Ev.$tutorial[0].classList.forEach((function(t){t!==Pv&&Ev.$tutorial.removeClass(t)})),Ev.$tutorial.addClass("".concat(Pv,"--step").concat(t)),(0,se.hP)()&&e[0].scrollIntoView())},Dv=function(t){var e;t.preventDefault(),Ev.data.currentSlide=null===(e=t.currentTarget)||void 0===e||null===(e=e.dataset)||void 0===e?void 0:e.slide,Iv(Ev.data.currentSlide),Nv(Ev.data.currentSlide),Ev.$tutorial.find(".".concat(Pv,"__close-icon")).attr("data-layout",JSON.stringify({event:"onboarding_tutorial__stage_".concat(Ev.data.currentSlide,"_close")}))},Lv=function(t){t.preventDefault(),Ev.$tutorial.addClass("hidden"),Ev.$tutorial.find(".".concat(Pv,"__step:not(.hidden)")).addClass("hidden"),Ev.$tutorial.find(".".concat(Pv,"__step:first")).removeClass("hidden"),Ev.$tutorial.find(".".concat(Pv,"__serving-start")).text("1"),window.dispatchEvent(new CustomEvent("hide_tutorial",{detail:"v1"})),u.A.publish("".concat(y.ub,".").concat(Pv)),(0,se.hP)()||(window.removeEventListener("orientationchange",Hv),window.removeEventListener("optimizedResize",Hv)),window.reloadAfterWelcomeModal&&window.location.reload()},Mv=function(){var t=Ev.headerHeight+2*Ev.paddingY,e=Ev.sliderHeight+t,n=Ev.sliderHeight,r=Ev.sliderWidth;if(e>window.innerHeight){var i=((window.innerHeight-t)/Ev.sliderHeight).toFixed(4);n=(Ev.sliderHeight*i).toFixed(4),r=(Ev.sliderWidth*i).toFixed(4)}Ev.$tutorial.find(".".concat(Pv,"__body")).css({height:"".concat(n,"px"),"flex-basis":"".concat(n,"px"),width:"".concat(r,"px")})},Rv=function(t,e){Bv(e)},Bv=function(t){var e=Ev.$tutorial.hasClass("wrong-orientation");if(t===Xt.p){if(!e){var n=i()("<div/>",{class:"".concat(Pv,"__wrong-orientation")}).html('\n<div class="'.concat(Pv,'__wrong-orientation-img">\n    <img src="/themes/cabinet/images/tutorial/wrong-orientation.svg" />\n</div>\n<div class="').concat(Pv,'__wrong-orientation-title">').concat((0,$.tr)("tutorial_v1.wrong_orientation_title"),'</div>\n<div class="').concat(Pv,'__wrong-orientation-text">').concat((0,$.tr)("tutorial_v1.wrong_orientation_text"),"</div>\n"));Ev.$tutorial.addClass("wrong-orientation"),Ev.$tutorial.find(".".concat(Pv,"__body")).prepend(n),Ev.$tutorial.find(".".concat(Pv,"__serving")).hide()}}else e&&Ev.$tutorial.removeClass("wrong-orientation"),e&&Ev.$tutorial.find(".".concat(Pv,"__wrong-orientation")).remove(),e&&Ev.$tutorial.find(".".concat(Pv,"__serving")).show()},Hv=Fl()(Mv,300);function $v(t){return $v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(t)}function Fv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uv(r.key),r)}}function Wv(t,e,n){return(e=Uv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uv(t){var e=function(t,e){if("object"!=$v(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$v(e)?e:e+""}document.addEventListener("show_tutorial_v1",(function(){var t;if(Ev.$tutorial=i()(".".concat(Pv)),0!==Ev.$tutorial.length){var e=null!==(t=Ev.$tutorial.data("initial-slide"))&&void 0!==t?t:1;Ev.$currentSlide=Ev.$tutorial.find(".".concat(Pv,"__serving-start")),Ev.data={currentSlide:1},Ev.$tutorial.find(".js-change-slide").on("click",Dv),Ev.$tutorial.find(".js-exit").on("click",Lv),(0,se.hP)()||(Mv(),window.addEventListener("orientationchange",Hv),window.addEventListener("resize",Hv)),(0,se.hP)()&&(u.A.subscribe(qt.h,Rv),Bv(Id.o)),Ev.$tutorial.removeClass("hidden"),e>1&&(Ev.data.currentSlide=String(e),Iv(Ev.data.currentSlide),Nv(Ev.data.currentSlide))}})),document.addEventListener("tutorial_v1_select_slide",(function(t){i()(".".concat(Pv)).data("initial-slide",t.detail.slideId)}));var Vv=function(){return function(t,e,n){return e&&Fv(t.prototype,e),n&&Fv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Wv(this,"openModal",(function(t,n){e.cache.$modal=i()("#".concat(n.modalId)),e.cache.$modal.find(".js-item").on("click",e.itemClickHandler)})),Wv(this,"itemClickHandler",(function(t){t.preventDefault();var n=i()(t.currentTarget);n.siblings(".js-item").removeClass("item--active"),n.addClass("item--active"),e.changeUrl(n.data("amount"))})),Wv(this,"changeUrl",(function(t){e.cache.$modal.find(".js-promo-link").attr("href",(0,tn.hX)("cabinet/deposit-step-1")+"?code=mod50&amount="+t)})),Wv(this,"closeModal",(function(){e.cache={}})),this.cache={}}),[{key:"init",value:function(){this.events()}},{key:"events",value:function(){u.A.subscribe("".concat(y.iz,".promo-code-mod50-modal"),this.openModal),u.A.subscribe("".concat(y.ub,".promo-code-mod50-modal"),this.closeModal)}}])}();function Gv(t){return Gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(t)}function zv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xv(r.key),r)}}function Yv(t,e,n){return(e=Xv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xv(t){var e=function(t,e){if("object"!=Gv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Gv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gv(e)?e:e+""}var qv,Kv=function(){return function(t,e,n){return e&&zv(t.prototype,e),n&&zv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Yv(this,"openModal",(function(){e.cache.$modal=i()("#islamic-account-modal"),e.cache.$modal.find(".js-skip").on("click",(function(){e.removeData(),i().magnificPopup.close()})),e.cache.$modal.find(".js-activate").on("click",(function(t){t.preventDefault();var n=i()(t.currentTarget),r=(new I.Ay).getForButton();n.attr("disabled","disabled"),n.append(r),(0,B.A)("islamic_account_enabled",1).then((function(t){e.removeData(),t.modalUrl?(new Z.pc).openWithAjax(t.modalUrl):window.location.reload()}))}))})),Yv(this,"closeModal",(function(){e.cache={},e.removeData()})),Yv(this,"removeData",(function(){Pe.A.cookies.remove("i_acc_show_activate_modal")})),this.cache={}}),[{key:"init",value:function(){u.A.subscribe("".concat(y.iz,".islamic-account-modal"),this.openModal),u.A.subscribe("".concat(y.ub,".islamic-account-modal"),this.closeModal)}}])}(),Zv=Kv;function Jv(t){return Jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jv(t)}function Qv(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Jv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jv(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tb=(Qv(Qv(Qv(Qv(Qv(Qv(Qv(Qv(Qv(Qv(qv={},qo.lx.WELCOME,{priority:1,domId:"welcome-modal",ajaxUrl:(0,tn.hX)("cabinet/ajax/modal/welcome"),options:Z.mW}),qo.lx.TUTORIAL_1_MODAL,{priority:2,domId:"tutorial-v1",beforeOpen:function(){document.dispatchEvent(new CustomEvent("show_tutorial_v1"))},afterOpen:function(){Pe.A.cookies.remove("show_tutorial"),(0,se.Z5)()&&!Pe.A.cookies.get("tutorial_watched")&&Pe.A.cookies.set("tutorial_watched",1,8760)}}),qo.lx.ACTIVATE_ISLAMIC,{priority:3,domId:"islamic-account-modal",ajaxUrl:(0,tn.hX)("cabinet/ajax/modal/islamic-account")}),qo.lx.TRADER_BOX,{priority:4,domId:"traders-box-modal",ajaxUrl:(0,tn.hX)("cabinet/ajax/modal/traders-box"),afterOpen:function(){Pe.A.cookies.set("is_hidden_trader_box_modal","1",720)}}),qo.lx.TRADE_AND_UPGRADE,{priority:5,domId:"trade-and-upgrade-modal",ajaxUrl:(0,tn.hX)("cabinet/ajax/modal/trade-and-upgrade"),afterOpen:function(){Pe.A.cookies.set("is_hidden_trade_and_upgrade_modal","1",720)}}),qo.lx.REPEAT_MAX_DEPOSIT,{priority:6,domId:"repeat-max-deposit-modal",ajaxUrl:(0,tn.hX)("cabinet/ajax/modal/repeat-max-deposit"),afterOpen:function(){Pe.A.cookies.set("is_hidden_rmd_modal","1",720)}}),qo.lx.AI_TRADING_INFO,{priority:7}),qo.lx.PROMO_CODE_MOD_50,{priority:8,domId:"promo-code-mod50-modal",ajaxUrl:(0,tn.hX)("cabinet/ajax/modal/promo-code-mod50")}),qo.lx.MULTI_CURRENCY_HOW_TO,{priority:9}),qo.lx.WELCOME_BONUS,{priority:10,options:Z.mW}),Qv(Qv(qv,qo.lx.WELCOME_BACK_OCTOBER_EXP,{priority:14,domId:"welcome-back-october-exp-modal",ajaxUrl:(0,tn.hX)("cabinet/ajax/modal/welcome-back-october-exp")}),qo.lx.EARTH_2025,{priority:15,domId:"earth-2025-modal",ajaxUrl:(0,tn.hX)("cabinet/ajax/modal/earth-2025")}));function eb(t){return eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eb(t)}function nb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rb(r.key),r)}}function rb(t){var e=function(t,e){if("object"!=eb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=eb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eb(e)?e:e+""}!0===(0,Q.A)("show_webview_condition_4_popup_modal")&&(0,dl.Pe)()&&0===(0,dl.wI)()&&(tb[qo.lx.WEBVIEW_CONDITION_4_POPUP]={priority:11,ajaxUrl:(0,tn.hX)("cabinet/ajax/modal/webview-popup")+"?t=4",afterOpen:function(){(0,dl.cT)()}});var ib=function(){return function(t,e,n){return e&&nb(t.prototype,e),n&&nb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,n){(e=rb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"continueBtnClickHandler",(function(t){t.preventDefault(),n.parent.changeWindow(2)})),this.parent=e,this.cache=Object.assign({},this.parent.cache)}),[{key:"attach",value:function(){this.events()}},{key:"events",value:function(){this.cache.$window1.find(".js-continue-btn").on("click",this.continueBtnClickHandler)}},{key:"detach",value:function(){this.cache.$window1.find(".js-continue-btn").off("click"),this.cache={}}}])}(),ob=ib;function ab(t){return ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ab(t)}function sb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lb(r.key),r)}}function cb(t,e,n){return(e=lb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lb(t){var e=function(t,e){if("object"!=ab(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ab(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ab(e)?e:e+""}var ub=function(){return function(t,e,n){return e&&sb(t.prototype,e),n&&sb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),cb(this,"radioWidgetChangeHandler",(function(t){var e=i()(t.currentTarget).closest(".currency-item");e.siblings().removeClass("active"),e.addClass("active")})),cb(this,"selectChangeHandler",(function(t){var e=i()(t.currentTarget).val(),r=n.cache.$window2.find(".js-list"),o=n.cache.$window2.find(".js-btn-wrap"),a=(new I.Ay).getForBlock(),s=ze.A.requestAbortable({url:(0,tn.hX)("cabinet/my-qt-accounts/get-currency-list"),data:{country:e},beforeSend:function(){n.hideMessage(),r.removeClass("hidden").empty().append(a),o.addClass("hidden")},complete:function(){a.remove()},success:function(t){t.html&&(r.html(t.html),r.removeClass("hidden"),r.find(".selectpicker").selectpicker(),o.removeClass("hidden")),t.error&&(r.addClass("hidden"),n.showMessage(t.error))}}).abort;n.cache.selectAbort=s})),cb(this,"formSubmitHandler",(function(t){t.preventDefault();var e=i()(t.currentTarget),r=e.find('button[type="submit"]'),o=(new I.Ay).getForButton(),a=ze.A.requestAbortable({url:e.attr("action"),method:e.attr("method"),data:e.serialize(),beforeSend:function(){n.hideMessage(),r.addClass("btn-ajax-loading").attr("disabled","disabled"),r.append(o)},complete:function(){r.removeClass("btn-ajax-loading").removeAttr("disabled"),o.remove()},success:function(t){t.error&&n.showMessage(t.error),t.message&&(n.showMessage(t.message,"success"),window.reloadAfterWelcomeModal=!0,n.parent.changeWindow(3))}}).abort;n.cache.abort=a})),this.parent=e,this.cache=Object.assign({},this.parent.cache)}),[{key:"attach",value:function(){this.events()}},{key:"events",value:function(){var t=this;this.cache.$window2.find("form").on("submit",this.formSubmitHandler),this.cache.$window2.find("select[name=country]").on("change",this.selectChangeHandler),this.cache.$window2.on("radio-widget:change",".js-radio-widget",this.radioWidgetChangeHandler),this.cache.$divider=this.cache.$window2.find(".divider"),this.cache.$window2.find("select[name=currency]").on("show.bs.select",(function(){t.cache.$divider.removeClass("hidden")})),this.cache.$window2.find("select[name=currency]").on("hide.bs.select",(function(){t.cache.$divider.addClass("hidden")}))}},{key:"detach",value:function(){"function"==typeof this.cache.abort&&this.cache.abort(),"function"==typeof this.cache.selectAbort&&this.cache.selectAbort(),this.cache.$window2.find("form").off("submit"),this.cache.$window2.find("select").off("change"),this.cache.$window2.find(".js-radio-widget").off("radio-widget:change"),this.cache={}}},{key:"hideMessage",value:function(){this.cache.$window2.find(".js-message").addClass("hidden").empty()}},{key:"showMessage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";this.cache.$window2.find(".js-message").html('<div class="message message-'.concat(e,'">').concat(t,"</div>")).removeClass("hidden")}}])}(),db=ub;function fb(t){return fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fb(t)}function hb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mb(r.key),r)}}function pb(t,e,n){return(e=mb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mb(t){var e=function(t,e){if("object"!=fb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fb(e)?e:e+""}var yb=function(){return function(t,e,n){return e&&hb(t.prototype,e),n&&hb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),pb(this,"startGuideBtnClickHandler",(function(t){t.preventDefault(),Aa({event:"gtm_events",ga4_event_name:"onboarding_menu__tutorial"}),document.dispatchEvent(new CustomEvent("tutorial_v1_select_slide",{detail:{slideId:2}})),i().magnificPopup.close()})),pb(this,"startRealTradingClickHandler",(function(t){t.preventDefault(),Aa({event:"gtm_events",ga4_event_name:"onboarding_menu__start"}),_a.removeModalFromQueue("tutorial_1"),window.reloadAfterWelcomeModal?window.location.reload():i().magnificPopup.close()})),this.parent=e,this.cache=Object.assign({},this.parent.cache)}),[{key:"attach",value:function(){this.events()}},{key:"events",value:function(){this.cache.$window3.find(".js-start-guide").on("click",this.startGuideBtnClickHandler),this.cache.$window3.find(".js-start-trading").on("click",this.startRealTradingClickHandler)}},{key:"detach",value:function(){this.cache.$window3.find(".js-start-guide").off("click"),this.cache.$window3.find(".js-start-trading").off("click")}}])}(),vb=yb;function bb(t){return bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bb(t)}function gb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jb(r.key),r)}}function wb(t,e,n){return(e=jb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jb(t){var e=function(t,e){if("object"!=bb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bb(e)?e:e+""}var xb=function(){return function(t,e,n){return e&&gb(t.prototype,e),n&&gb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),wb(this,"openModal",(function(t,n){e.cache.$modal=i()("#".concat(n.modalId)),e.cache.$window1=e.cache.$modal.find(".js-window-1"),e.cache.$window2=e.cache.$modal.find(".js-window-2"),e.cache.$window3=e.cache.$modal.find(".js-window-3"),e.cache.$modal.find(".selectpicker").selectpicker(),e.cache.window1=new ob(e),e.cache.window2=new db(e),e.cache.window3=new vb(e),e.cache.window1.attach(),e.cache.window2.attach(),e.cache.window3.attach(),e.cache.$modal.find(".js-back").on("click",e.clickBackHandler),Aa({event:"gtm_events",ga4_event_name:"onboarding_start__show"}),e.changeWindow(1)})),wb(this,"clickBackHandler",(function(t){t.preventDefault(),e.cache.window2.hideMessage(),e.changeWindow(+t.currentTarget.dataset.w)})),wb(this,"closeModal",(function(){e.cache.window1.detach(),e.cache.window2.detach(),e.cache.window3.detach(),e.cache={}})),wb(this,"changeWindow",(function(t){1===t?(e.cache.$window1.removeClass("hidden"),e.cache.$window2.addClass("hidden"),e.cache.$window3.addClass("hidden")):2===t?(e.cache.$window1.addClass("hidden"),e.cache.$window2.removeClass("hidden"),e.cache.$window3.addClass("hidden")):3===t&&(Pe.A.cookies.remove("show_welcome"),Pe.A.cookies.remove("show_tutorial"),e.cache.$window1.addClass("hidden"),e.cache.$window2.addClass("hidden"),e.cache.$window3.removeClass("hidden"),Aa({event:"gtm_events",ga4_event_name:"onboarding_menu__show"}))})),this.cache={}}),[{key:"init",value:function(){u.A.subscribe("".concat(y.iz,".welcome-modal"),this.openModal),u.A.subscribe("".concat(y.ub,".welcome-modal"),this.closeModal)}}])}(),_b=xb,Sb=["points","locked"];function Ob(t){return Ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ob(t)}function kb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Tb(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tb(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ab(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ab(Object(n),!0).forEach((function(e){Pb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ab(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pb(t,e,n){return(e=Ib(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ib(r.key),r)}}function Ib(t){var e=function(t,e){if("object"!=Ob(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ob(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ob(e)?e:e+""}var Nb=function(){return function(t,e,n){return e&&Eb(t.prototype,e),n&&Eb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),[{key:"init",value:function(){this.socket=bt.A.instance,this.api=Bn.instance,this.notification=new Ku,this.events(),this.connectToSocket(),this.socketEvents(),this.initializeModalManager(),this.isFirstTimeUpdatedCurrentTime=!1}},{key:"initializeModalManager",value:function(){_a.setConfig(tb),_a.setStore(Rl.A,{onModalOpen:cp,onModalClose:cp}),_a.setEventManager(u.A),_a.processInitialData(window.AppData),_a.subscribeToPopups()}},{key:"connectToSocket",value:function(){this.socket.connectTo()}},{key:"socketEvents",value:function(){var t=this;this.socket.addEventListener(gt.Jd,(function(t){for(var e=Mp.A.getData(),n={},r=0;r<t.length;r++){var i=t[r],o=i.chart_id,a=i.settings;try{n[o]=sf(JSON.parse(a)),n[o].zoom=Cb(Cb({},cf.sS.zoom),e[o])}catch(c){return It.A.error(c),!1}}for(var s in Rl.A.dispatch(function(t){var e=t.save;return{type:lf.p3,payload:{save:e}}}({save:n})),n){Boolean(Pe.A.local.get("amountPercent_".concat(s)))&&Rl.A.dispatch(Wh(s,cf.yf.PERCENT,!0))}})),this.socket.addEventListener(gt.T2,(function(e){Rl.A.dispatch(Pp(e)),t.isFirstTimeUpdatedCurrentTime||(t.isFirstTimeUpdatedCurrentTime=!0,Rl.A.dispatch((function(t,e){Ip(t,e())})))})),this.socket.addEventListener(gt.gG,(function(){Rl.A.dispatch((function(t,e){var n=e().global;n.enabledSocialTrading&&n.showOnlyWatchedTraders&&bt.A.instance.enableOnlyWatchedTrades(),t({type:Rp.kI,payload:{}})})),t.socket.loadIndicators(),t.socket.loadFavorites(),t.socket.priceAlertsLoad(),t.handlePlatformChange()})),this.socket.addEventListener(gt.nk,(function(t){Rl.A.dispatch(function(t){return function(e,n){var r=n(),i=Sf(r);e({type:Gp.xD,payload:{deals:t,isTournament:i}})}}(t))})),this.socket.addEventListener(gt.iT,(function(t){Rl.A.dispatch(function(t){return function(e,n){var r=n(),i=Sf(r);e({type:Gp.eb,payload:{deals:t,isTournament:i}})}}(t))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.N1),(function(t){var e;Rl.A.dispatch((e=t,u.A.publish(Hn.oU),function(t,n){var r=n(),i=Sf(r);t({type:Gp.Yz,payload:{deal:e,isTournament:i}})}))})),this.socket.addEventListener("".concat(Cn.my).concat(gt.N1),(function(t){var e,n=t.error,r=t.asset;"IncorrectExpTime"===n&&Rl.A.dispatch((e=r,function(t,n){var r=n().assets;if(r.symbols.includes(e)){var i=r.assetBySymbol[e];t({type:cf.Ry,payload:{asset:i}})}}))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.Z5),(function(t){var e=t.deals;Rl.A.dispatch(function(t){var e=t.reduce((function(t,e){return t+e.profit}),0);return u.A.publish(e>=0?Hn.pd:Hn.$),function(e,n){var r=n(),i=Sf(r);e({type:Gp.Ls,payload:{deals:t,isTournament:i}})}}(e))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.N_),(function(t){var e;Rl.A.dispatch((e=t,{type:Gp.or,payload:e}))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.wM),(function(t){Rl.A.dispatch(Hp({balance:t}))})),this.api.addEventListener("".concat(Cn.Bf).concat(gt.wM),(function(t){Rl.A.dispatch(Hp({balance:t}))})),this.socket.addEventListener(gt.lF,(function(t){var e;Rl.A.dispatch((e=t,function(t,n){var r=n().global.liveBalance,i=(0,Q.A)("is-mt5");t({type:lf.db,payload:{assets:e,balance:r}}),i||Ip(t,n())}))})),this.socket.addEventListener(gt.Rb,(function(t){var e=t.asset;Rl.A.dispatch(function(t){var e=t.asset;return{type:cf.vr,payload:{asset:e}}}({asset:e}))})),this.socket.addEventListener(gt.$S,(function(t){var e;Rl.A.dispatch((e=t,function(t,n){var r=n(),i=r.quotes.bySymbol,o=r.assets.assetBySymbol,a=r.priceAlerts;if(a.length>0){var s,c=Op(e);try{var l=function(){var e,n,r=s.value,c=r.asset,l=r.price,u=null===(e=o[c])||void 0===e?void 0:e.id;if(!u)return 0;var d=null===(n=i[c])||void 0===n?void 0:n.price;if(!d)return 0;var f=a.filter((function(t){return t.assetId===u}));if(0===f.length)return 0;f.forEach((function(e){(d<e.price&&l>=e.price||d>e.price&&l<=e.price)&&t(Sp(e.id))}))};for(c.s();!(s=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}}t((0,uf.s)(e))}))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.Im),(function(t){var e;Rl.A.dispatch((e=t,u.A.publish(Hn.oU),bt.A.instance.subscribeAsset(e.asset),function(t,n){var r=n(),i=Sf(r);t({type:Gp.Rr,payload:{deal:e,isTournament:i}})}))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.$9),(function(t){var e;Rl.A.dispatch((e=t,function(t,n){var r=n(),i=Sf(r);t({type:Gp.SF,payload:{deal:e,isTournament:i}})}))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.sC),(function(t){var e;Rl.A.dispatch((e=t,Jp.o1.addSuccess(e)))})),this.socket.addEventListener("".concat(Cn.my).concat(gt.sC),(function(t){var e;Rl.A.dispatch((e=t,u.A.publish(y.e5,e),Jp.o1.addSuccess(e)))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.zC),(function(t){var e,n=(e=t.list,Array.isArray(e)?e.filter((function(t){return Uy(t.type)})).map((function(t){return Hy(sm[t.type],t)})):[]),r=t.favorites.filter((function(t){return Uy(t)}));Rl.A.dispatch(function(t){var e=t.favorites,n=t.list;return Jp.o1.load({favorites:e,list:n})}({favorites:r,list:n}))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.lw),(function(t){var e,n=t.id;Rl.A.dispatch((e=n,Jp.o1.removeSuccess(e)))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.rj),(function(t){var e=t.chartId;Rl.A.dispatch(function(t){return Jp.o1.removeAllInChartSuccess(t)}(e))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.E1),(function(t){var e,n=By(t.list);n=n.map((function(t){var e=t.points,n=t.locked,r=void 0===n?0:n,i=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,Sb);return Cb(Cb({},i),{},{isLocked:Boolean(r),points:e.map((function(t){var e=kb(t,4);return{time:e[0],price:e[1],assetId:e[2],point:e[3]}}))})})),Rl.A.dispatch((e={list:n},Zp.o1.load(e)))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.re),(function(t){var e;Rl.A.dispatch((e=t,Zp.o1.addSuccess(e)))})),this.socket.addEventListener("".concat(Cn.my).concat(gt.re),(function(t){var e;Rl.A.dispatch((e=t,u.A.publish(y.zJ,e),Zp.o1.addFail(e)))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.SF),(function(t){var e;Rl.A.dispatch((e=t.drawingId,Zp.o1.removeSuccess(e)))})),this.socket.addEventListener(gt.L,(function(t){Rl.A.dispatch(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,r){var i=r().signals.updated.length>0;n(ff.JS(t)),e&&!i&&Qf(n,r())}}(t))})),this.socket.addEventListener(gt.g_,(function(t){var e;Rl.A.dispatch((e=t,function(t,n){t(ff.JS(e));var r=n();r.signals.updated.length||Qf(t,r)}))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.kG),(function(t){Rl.A.dispatch(ff.$m(t))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.L$),(function(t){Rl.A.dispatch(ff.PP(t))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.Xc),(function(t){var e;Rl.A.dispatch((e=t,function(t){t({type:ou.PG,payload:e}),t(Vm())}))})),this.socket.addEventListener("".concat(Cn.my).concat(gt.Xc),(function(){Rl.A.dispatch({type:ou.h,payload:{}})})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.NJ),(function(t){var e;Rl.A.dispatch((e=t,{type:ou.qW,payload:e}))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.nY),(function(t){var e;Rl.A.dispatch((e=t,{type:ou.MD,payload:e}))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.gz),(function(t){var e;Rl.A.dispatch((e=t,{type:ou.yI,payload:e}))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.xg),(function(t){var e;Rl.A.dispatch((e=t,{type:ou.Z,payload:e}))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.yl),(function(t){var e,n,r;Rl.A.dispatch((n=(e=t).expressId,r=e.factor,{type:ou.tH,payload:{expressId:n,factor:r}}))})),this.socket.addEventListener(gt.MO,(function(t){var e;Rl.A.dispatch((e=t,{type:Gm.j,payload:e}))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.dZ),(function(t){Rl.A.dispatch((0,Kh.xk)(t))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.xY),(function(t){Rl.A.dispatch(function(t){var e=t.data,n=(0,iu.y0)(e.openType),r=n?(0,$.tr)("pending.created_by_time"):(0,$.tr)("pending.created_by_price");return u.A.publish("successPendingOrderCreate",r),function(t,r){var i=r();n||i.quotes.bySymbol[e.symbol]||bt.A.instance.subscribeAsset(e.symbol),t(Kh.LO(e))}}(t))})),this.socket.addEventListener("".concat(Cn.my).concat(gt.xY),(function(t){Rl.A.dispatch(function(t){var e=t.error,n=t.amount,r="";switch(e){case"OPEN_TYPE":r=(0,$.tr)("pending.error_bad_open_type");break;case"OPEN_PRICE":r=(0,$.tr)("pending.error_bad_open_price");break;case"OPEN_TIME":r=(0,$.tr)("pending.error_bad_open_time");break;case"BAD_MIN_PAYOUT":r=(0,$.tr)("pending.error_bad_payout","10%%","98%%");break;case"BAD_COMMAND":r=(0,$.tr)("pending.error_bad_command");break;case"BAD_TIMEFRAME":r=(0,$.tr)("pending.error_bad_timeframe");break;case"MaxDemoTrades":r=(0,$.tr)("errors.max_pendings_amount",n);break;default:r=(0,$.tr)("pending.fail_create")}return r&&u.A.publish("failPendingOrderCreate",r),{type:"pending.create.fail",payload:{error:e}}}(t))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.ld),(function(t){var e;Rl.A.dispatch((e=t,u.A.publish("successPendingOrderCancel",(0,$.tr)("pending.success_cancel")),function(t){t(Kh.SS(e))}))})),this.socket.addEventListener("".concat(Cn.my).concat(gt.ld),(function(t){var e;Rl.A.dispatch((e=t,u.A.publish("failPendingOrderCancel",(0,$.tr)("pending.fail_cancel")),{type:"pending.cancel.fail",payload:e}))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.VL),(function(t){var e;Rl.A.dispatch((e=t,u.A.publish("successPendingOrderCreated",(0,$.tr)("pending.success_created")),function(t){t(Kh.SS(e))}))})),this.socket.addEventListener("".concat(Cn.my).concat(gt.VL),(function(t){Rl.A.dispatch(yp(t))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.iW),(function(t){var e;Rl.A.dispatch((e=t,{type:Gp.Gp,payload:e}))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.EH),(function(t){var e;Rl.A.dispatch((e=t,{type:Gp.Zl,payload:e}))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.hC),(function(t){Rl.A.dispatch(Np(t))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.$5),(function(t){Rl.A.dispatch(Np(t))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.zn),(function(t){Rl.A.dispatch(function(t){if(t)return function(e,n){var r=n();if(!xf(r)){var i=[];t.forEach((function(t){var e=(0,vf.o1)(r)(t.assetId);e&&i.push(e.symbol)})),i=wp(new Set(i));var o=bp(r);i.forEach((function(t){o.includes(t)||bt.A.instance.subscribeAsset(t)}))}e(qh.o.load(t))}}(t))})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.au),(function(t){var e,n,r,i;Rl.A.dispatch((n=(e=t).id,r=e.price,i=e.assetId,function(t,e){var o=e();if(!xf(o)){var a=(0,vf.o1)(o)(i);a&&(bp(o).includes(a.symbol)||bt.A.instance.subscribeAsset(a.symbol))}t(qh.o.add({id:n,price:r,assetId:i}))}))})),this.socket.addEventListener("".concat(Cn.my).concat(gt.au),(function(t){u.A.publish(y.lM,t)})),this.socket.addEventListener("".concat(Cn.Bf).concat(gt.F_),(function(t){Rl.A.dispatch(_p(t.id))})),u.A.subscribe("mobile_close_all_right_sidebar_modals",(function(){Rl.A.dispatch(dp())})),window.addEventListener("open-modal",(function(t){switch(t.detail){case"social":Rl.A.dispatch(lp(Pb({},qo.lx.SOCIAL_TRADING,!0)));break;case"signals":(0,se.hP)()?Rl.A.dispatch(lp(Pb({},qo.lx.SIGNALS,!0))):Rl.A.dispatch(lp(Pb({},qo.lx.SIGNALS_WIDGET,!0)))}})),document.addEventListener("update-platform",(function(){t.handlePlatformChange()})),i()("body").on("click",".js-open-clawshorns-analytics-modal",(function(){i().magnificPopup.close(),Rl.A.dispatch(cp({modalId:qo.lx.ANALYTICS_MODAL,value:!0}))})),this.socket.addEventListener(gt.fV,(function(t){u.A.publish(Qy,t)})),Object.keys((0,cn.xO)(Av.g)).map((function(t){(0,cn.B1)((0,Cv.p)(t),(function(e){return Rl.A.dispatch((n=e,r=t,{type:Rp.U_,payload:{count:n,type:r}}));var n,r}))}))}},{key:"events",value:function(){var t=this;this.removeBonus(),this.socket.isMobileVersion?this.scrollToContent():new Jn,Vc.init(),(new iv).init(),(new Qe).init(),new nd,new sd,new fd,(new _b).init(),(new Ed).init(),(new Zv).init(),(new Vv).init(),Dd(),(0,se.yq)()?((new Tv).init(),(new Zd).init()):(new uv).init(),(new Fd).init(),(new zd).init(),u.A.subscribe(y.ag,(function(t,e){var n;Rl.A.dispatch((n=e.val,{type:lf.vJ,payload:n}))})),u.A.subscribe(y.TN,(function(t,e){Rl.A.dispatch(Bp("top_left_info_icons_signals",e.val)),e.val&&Rl.A.dispatch(Zf())})),u.A.subscribe(y.BB,(function(t,e){Rl.A.dispatch(Bp("top_left_info_icons_bonus",e.val))})),u.A.subscribe(y.Oe,(function(t,e){Rl.A.dispatch(Bp("top_left_info_icons_clawshorns_analytics",e.val))})),u.A.subscribe(y.q9,(function(t,e){Rl.A.dispatch(Bp("top_left_info_icons_gems_lottery",e.val))})),u.A.subscribe(y.$5,(function(t,e){Rl.A.dispatch(Wp([{field:"enabled_market_watch",value:e.val?1:0}]))})),u.A.subscribe(y.M9,(function(){var t;Rl.A.dispatch((t=!1,{type:lf.By,payload:t}))})),u.A.subscribe(y.td,(function(){window.location.reload()})),u.A.subscribe(y.K2,(function(){t.socket.updateBalance()})),u.A.subscribe(y.yi,(function(t,e){var n,r=e.val;Rl.A.dispatch((n=r,{type:Rp.HA,payload:{value:n}}))})),u.A.subscribe(y.Er,(function(t,e){Rl.A.dispatch(cp({modalId:qo.lx.DRAWING_SETTINGS_PANEL,value:e.val}))})),u.A.subscribe(y.Fk,(function(){Rl.A.dispatch(Am())})),u.A.subscribe(y.I,(function(t,e){var n;Rl.A.dispatch((n=e.val,Zp.o1.pointEdit(n)))})),u.A.subscribe(y.HI,(function(t,e){var n;Rl.A.dispatch((n=e.val,Zp.o1.pointsEdit(n)))})),u.A.subscribe(y.L2,(function(t,e){var n;Rl.A.dispatch((n=e.val,Zp.o1.select(n)))})),u.A.subscribe(y._w,(function(t,e){var n;Rl.A.dispatch((n=e.val,Zp.o1.deselect(n)))})),u.A.subscribe(y.En,(function(){Rl.A.dispatch(Zp.o1.deselectAll())})),u.A.subscribe(y.OH,(function(e,n){t.socket.copyOrder(n.val)})),u.A.subscribe(y.B1,(function(){Rl.A.dispatch(lp(Pb(Pb({},qo.lx.SIGNALS_WIDGET,!0),qo.lx.SIGNALS,!0))),Rl.A.dispatch(Bp("top_left_info_icons_signals",!0))})),u.A.subscribe(qt.h,(function(t,e){Rl.A.dispatch(Wp([{field:"mobileOrientation",value:e}]))})),u.A.subscribe(y.es,(function(t,e){(new Z.pc).openWithAjax((0,tn.hX)()+"cabinet/ajax/modal/trader-information/"+e)})),u.A.subscribe("".concat(zt.Sv,".tournaments-ranking"),(function(){Rl.A.dispatch(cp({modalId:qo.lx.TOURNAMENT_RATINGS,value:!0}))})),u.A.subscribe("".concat(zt.kA,".tournaments-ranking"),(function(){Rl.A.dispatch(cp({modalId:qo.lx.TOURNAMENT_RATINGS,value:!1}))})),u.A.subscribe(y.wZ,(function(t,e){var n=e.price,r=e.assetId;Rl.A.dispatch(function(t){var e=t.price,n=t.assetId;return function(t,r){var i=r(),o=xf(i),a=i.priceAlerts.filter((function(t){return t.assetId===n})).length;return a>=Ru.Ay.MAX_PRICE_ALERTS_PER_ASSET?u.A.publish(y.lM,{maxCount:Ru.Ay.MAX_PRICE_ALERTS_PER_ASSET,count:a,error:"MAX_PRICE_ALERTS_PER_ASSET_REACHED"}):o?t(qh.o.add({id:(0,gp.Ak)(),price:e,assetId:n})):void bt.A.instance.priceAlertAdd({price:e,assetId:n})}}({price:n,assetId:r}))})),u.A.subscribe(y.H7,(function(t,e){Rl.A.dispatch(xp(e))})),u.A.subscribe(y.DE,(function(t,e){var n=e.chartSlotIndex,r=e.symbol;Rl.A.dispatch(function(t){var e=t.chartSlotIndex,n=t.symbol;return function(t,r){var i=r(),o=If(i)(e);i.chartSettings.chartById[o].symbol!==n&&t(Ep({chartId:o,symbol:n}))}}({chartSlotIndex:n,symbol:r}))})),u.A.subscribe(y.sF,(function(t,e){var n=e.price,r=e.symbol;Rl.A.dispatch(function(t){var e=t.price,n=t.symbol;return function(t,r){var i=r(),o=(0,vf.rZ)(i)(n),a=o?o.payout:60,s=Ef(i),c=(0,Gu.Jt)(i)(s),l=Tf(i)(s)||60;t(cp({modalId:qo.lx.PENDING_ORDERS,value:!0})),t(Kh.Je({symbol:n,price:e,payout:a,amount:c,timeframe:l}))}}({price:n,symbol:r}))})),u.A.subscribe(y.nH,(function(t,e){Rl.A.dispatch(vp({ticket:e}))})),u.A.subscribe(y.Fu,(function(t,e){Rl.A.dispatch(Wp([{field:"ai_trading_mode",value:e.val}]))})),u.A.subscribe(y.sW,(function(t,e){var n=[{field:"isLimitOrderAmountShowBlock",value:Boolean(e.val)}];e.val||n.push({field:"isLimitOrderAmountEnabled",value:!1}),Rl.A.dispatch(Wp(n))}))}},{key:"scrollToContent",value:function(){var t=document.querySelector(".js-left-sidebar");if(t){var e=parseInt(t.offsetTop)||87;window.scrollY<e&&i()("html, body").animate({scrollTop:e+"px"},700)}}},{key:"removeBonus",value:function(){var t=i()(".bonus-info-modal");i()(document).on("closed",t,(function(){i()(".remove-bonus-msg-wrapper").hide(),i()(".ajax-loading",t).hide(),i()("#remove-bonus").show()})),Qd()}},{key:"handlePlatformChange",value:function(){var t=this,e=(0,Q.A)("platform");ks(e)&&Os()||!ks(e)&&!Os()||fetch((0,tn.hX)("get-platform"),{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}).then((function(t){return t.json()})).then((function(n){if(n){var r=parseInt(n.platform,10);isNaN(r)||r<=0||r>255||r!==e&&((0,B.A)("platform",r,!1),t.socket.changePlatform(r))}})).catch((function(){}))}}])}(),Db=new Nb;document.addEventListener("DOMContentLoaded",(function(){var t=i()("body");t.on("change",".js-select3-number input",(function(t){t.preventDefault(),t.stopPropagation();var e=i()(t.currentTarget),n=e.closest(".js-select3-number"),r=n.data("min"),o=n.data("max"),a=parseFloat(e.val())||r;a<r&&(a=r),a>o&&(a=o),e.val(a)})),t.on("click",".js-select3 > p",(function(t){var e=i()(t.currentTarget).closest(".js-select3");if(0===e.find("> ul").length)return!1;e.toggleClass("open")})),t.on("click",".js-select3 > ul a",(function(t){t.preventDefault(),t.stopPropagation();var e=i()(t.currentTarget),n=e.data("value"),r=e.closest(".js-select3"),o=r.find("> p");e.parent().addClass("selected").siblings().removeClass("selected"),o.find("input:hidden").val(n),o.find(".text").text(e.text()),r.removeClass("open"),r.hasClass("color")&&o.find(".color").css("background-color",n),r.hasClass("chart-line-height")&&o.find(".line-height").removeAttr("class").addClass("line-height line-height__"+n+"px")})),t.on("change",".js-select3 input:hidden",(function(t){var e=i()(t.currentTarget),n=e.val();e.closest(".js-select3").find("> ul > li").each((function(t,e){var r=i()(e).find("> a");if(r.data("value")===n)return r.trigger("click")}))})),t.on("click",".js-select3-number > p > i",(function(t){t.preventDefault(),t.stopPropagation();var e=i()(t.currentTarget),n=e.closest(".js-select3-number"),r=n.data("min"),o=(n.data("max"),n.data("step")||1),a=n.find("input"),s=parseFloat(a.val())||r;e.hasClass("increment")?s+=o:s-=o,a.val(s.toFixed(2)).trigger("change")})),i()(document).on("click",(function(t){var e=i()(".js-select3");e.is(t.target)||0!==e.has(t.target).length||e.filter(".open").removeClass("open")}))}));var Lb=n(80249);function Mb(t){var e=t.side,n=t.isActive,r=t.onArrowClick;return(0,Qm.jsx)("div",{className:(0,Km.A)("assets-favorites-arrow","assets-favorites-arrow--".concat(e),!n&&"assets-favorites-arrow--disabled"),onClick:function(){return r(e)},children:(0,Qm.jsx)("i",{className:"fa fa-chevron-".concat(e)})})}var Rb=n(75500);function Bb(t){return Bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bb(t)}function Hb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hb(Object(n),!0).forEach((function(e){Xb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fb(t){return function(t){if(Array.isArray(t))return Wb(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Wb(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wb(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ub(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qb(r.key),r)}}function Vb(t,e,n){return e=zb(e),function(t,e){if(e&&("object"==Bb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Gb()?Reflect.construct(e,n||[],zb(t).constructor):e.apply(t,n))}function Gb(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Gb=function(){return!!t})()}function zb(t){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zb(t)}function Yb(t,e){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yb(t,e)}function Xb(t,e,n){return(e=qb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qb(t){var e=function(t,e){if("object"!=Bb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bb(e)?e:e+""}function Kb(){var t=Date.now(),e=Math.floor(t/1e3),n=t-1e3*e,r=Math.floor(n/500);return"".concat(e,".").concat(r)}var Zb=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Xb(t=Vb(this,e,[].concat(r)),"state",{prevProfit:0,closeEstimateProfit:-1,closeProfit:0,lastHandledCloseDealTime:0,svgDate:Kb()}),Xb(t,"myRef",(0,Xm.createRef)()),Xb(t,"svgRef",(0,Xm.createRef)()),Xb(t,"svgDateInterval",null),Xb(t,"handleMiddleMouseClick",(function(e){1===e.button&&t.onRemoveItemClick(e)})),Xb(t,"onSliderItemClick",(function(){var e=t.props,n=e.visibleChartIds,r=e.symbol,i=e.active,o=e.changeSymbol;1===n.length&&i&&(o({symbol:r,chartId:n[0]}),u.A.publish(Hn.nS))})),Xb(t,"onRemoveItemClick",(function(e){e.stopPropagation();var n=t.props,r=n.symbol;(0,n.removeFavoriteSymbol)(r)})),Xb(t,"onReactSVGLoading",(function(){if(!t.svgRef.current)return null;var e=(new XMLSerializer).serializeToString(t.svgRef.current);return(0,Qm.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})})),Xb(t,"onReactSVGAfterInjection",(function(e){e&&(t.svgRef.current=e)})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yb(t,e)}(e,t),function(t,e,n){return e&&Ub(t.prototype,e),n&&Ub(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentDidMount",value:function(){var t=this;this.props.isActive&&(this.svgDateInterval=setInterval((function(){t.updateSvgDate()}),980))}},{key:"componentDidUpdate",value:function(t){var e=this,n=this.props,r=n.closedDeals,i=n.hasDeals,o=n.profit,a=n.state,s=n.isActive;void 0!==o&&o!==t.profit?this.setState({prevProfit:t.profit}):a===t.state||i||this.setState({prevProfit:0}),r.length!==t.closedDeals.length&&this.processClosedDeals(),s&&!this.svgDateInterval?this.svgDateInterval=setInterval((function(){e.updateSvgDate()}),980):!s&&this.svgDateInterval&&clearInterval(this.svgDateInterval)}},{key:"componentWillUnmount",value:function(){clearInterval(this.svgDateInterval)}},{key:"updateSvgDate",value:function(){this.setState({svgDate:Kb()})}},{key:"processClosedDeals",value:function(){var t=this.state.lastHandledCloseDealTime,e=this.props.closedDeals.filter((function(e){var n=e.closeTimestamp;return 0===t||n>t}));if(e.length){var n=Math.round(100*e.reduce((function(t,e){return t+e.amount+e.profit}),0))/100,r=e.reduce((function(t,e){return t+e.amount}),0),i=Math.max.apply(Math,Fb(e.map((function(t){return t.closeTimestamp}))));this.setState({closeEstimateProfit:n,closeProfit:r,closeDealsLastTime:i})}}},{key:"sliderClassNames",get:function(){var t=this.props,e=t.isSymbolVisible,n=t.state,r=t.active,i=t.visibleChartIds;return(0,Km.A)("animated assets-favorites-item",e&&"assets-favorites-item--active",(!r||1!==i.length)&&"assets-favorites-item--not-active",2===n&&"assets-favorites-item--bg-red",3===n&&"assets-favorites-item--bg-yellow",4===n&&"assets-favorites-item--bg-green")}},{key:"render",value:function(){var t=this.props,e=t.profit,n=t.label,r=t.payout,i=t.progress,o=t.symbol,a=t.hasDeals,s=t.tabIndex,c=t.totalBet,l=t.isActive,u=t.currency;if(!n)return null;var d=o.replace("#",""),f=(0,Hf.jA)(o),h=n.replace(" OTC",""),p=h.substring(0,f?8:12);return h.length!==p.length&&(p+="..."),f&&(p+=" OTC"),(0,Qm.jsxs)("div",{ref:this.myRef,className:this.sliderClassNames,onClick:this.onSliderItemClick,onMouseDown:this.handleMiddleMouseClick,"data-id":o,tabIndex:s,children:[l&&(0,Qm.jsx)(Rb.k,{className:"assets-favorites-item__preview-wrapper",src:"https://po-static.com/uploads/img_favourites_symbols/".concat(d,".svg?v=").concat(this.state.svgDate),loading:this.onReactSVGLoading,afterInjection:this.onReactSVGAfterInjection}),(0,Qm.jsx)("a",{className:"assets-favorites-item__close",onClick:this.onRemoveItemClick,children:(0,Qm.jsx)("i",{className:"fa fa-times"})}),(0,Qm.jsxs)("div",{className:"assets-favorites-item__line",children:[(0,Qm.jsx)("div",{className:"assets-favorites-item__label",children:p}),l&&(0,Qm.jsx)("div",{className:"payout",children:(0,Qm.jsxs)("div",{className:"payout__in",children:[(0,Qm.jsxs)("div",{className:"payout__number",children:["+",r]}),(0,Qm.jsx)("div",{className:"payout__symbol",children:"%"})]})})]}),a&&(0,Qm.jsxs)("div",{className:"assets-favorites-item__line",children:[(0,Qm.jsx)("div",{className:"amount",children:(0,hn.ej)(c,u)}),(0,Qm.jsx)("div",{className:"profit",children:(0,Qm.jsxs)("div",{className:"profit__in",children:[e>0&&(0,Qm.jsx)("div",{className:"profit__plus",children:"+"}),(0,hn.ej)(e,u)]})})]}),i>0&&(0,Qm.jsx)("div",{className:"assets-favorites-item__progress progress",children:(0,Qm.jsx)("div",{className:"progress-bar",style:{width:"".concat(i,"%")}})})]})}}])}(Xm.PureComponent),Jb=(0,Lb.Ng)((function(t,e){var n,r=(n=e.symbol,(0,hf.Mz)([xh,jh],(function(t,e){return e.filter((function(e){return!0===t[e].isNew&&t[e].asset===n})).map((function(e){return t[e]}))})));return function(t,e){return $b($b({},Nh(t)(e.symbol)),{},{closedDeals:r(t),visibleChartIds:t.chartSettings.visibleChartIds,isSymbolVisible:t.chartSettings.visibleSymbols.includes(e.symbol),isActive:(0,vf.Zn)(t)(e.symbol)})}}),{removeFavoriteSymbol:Lp,changeSymbol:Ep})(Zb),Qb=n(24484);function tg(t){return tg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(t)}function eg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ng(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=tg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=tg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tg(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rg=(0,Lb.Ng)((function(t){return{favoriteSymbols:t.favorites.list}}),{changeFavoriteSymbols:function(t){return function(e,n){var r=n().favorites.list;e(Xh.o.change(t));var i=n().favorites.list;Hl()(i,r)||bt.A.instance.changeFavoritesDebounced(i)}}})((function(t){var e=t.innerRef,n=t.changeFavoriteSymbols,r=t.favoriteSymbols.map((function(t,e){return{id:t,name:t,tabIndex:e+1}}));return(0,Qm.jsx)("div",{className:"assets-favorites-list__wrap",children:(0,Qm.jsx)(Qb.ReactSortable,{className:"assets-favorites-list__in",list:r,ref:e,setList:function(t){return n(t.map((function(t){return t.id})))},children:r.map((function(t){var e=t.id,n=t.name,r=t.tabIndex;return(0,Qm.jsx)(Jb,{symbol:n,tabIndex:r},e)}))})})})),ig=function(t,e){return(0,Qm.jsx)(rg,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eg(Object(n),!0).forEach((function(e){ng(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({innerRef:e},t))};ig.displayName="SliderWrapper";var og=(0,Xm.forwardRef)(ig);function ag(t){return ag="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(t)}function sg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sg(Object(n),!0).forEach((function(e){lg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lg(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=ag(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ag(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ag(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ug=(0,Lb.Ng)((function(t){var e=t.chartSettings.chartById,n=cf.Cj.filter((function(t){return e[t]&&e[t].isVisible}));return{firstVisibleChartId:n.length>0?n[0]:null,visibleSymbolsLength:t.chartSettings.visibleSymbols.length}}),{changeModalState:cp})((function(t){var e=t.innerRef,n=t.visibleSymbolsLength,r=t.firstVisibleChartId,i=t.changeModalState;return(0,Qm.jsxs)("div",{ref:e,className:"no-items-text",onClick:function(){n>0&&null!==r&&i({modalId:qo.lx.ASSETS_LIST,value:r})},children:[(0,Qm.jsx)("i",{className:"fa fa-star"})," ",(0,$.tr)("chart_settings.favorites_list"),1===n?" (Shift + F)":null]})})),dg=function(t,e){return(0,Qm.jsx)(ug,cg(cg({},t),{},{innerRef:e}))};dg.displayName="NoItemsText";var fg=(0,Xm.forwardRef)(dg);function hg(t){return hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(t)}function pg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wg(r.key),r)}}function mg(t,e,n){return e=vg(e),function(t,e){if(e&&("object"==hg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,yg()?Reflect.construct(e,n||[],vg(t).constructor):e.apply(t,n))}function yg(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yg=function(){return!!t})()}function vg(t){return vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vg(t)}function bg(t,e){return bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bg(t,e)}function gg(t,e,n){return(e=wg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wg(t){var e=function(t,e){if("object"!=hg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hg(e)?e:e+""}var jg="no-fav-panel";function xg(t,e){var n=document.body.classList,r=n.contains(jg);0!==t&&!e||r?t>0&&!e&&r&&(n.remove(jg),Yt()):(n.add(jg),Yt())}var _g=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return gg(t=mg(this,e,[].concat(r)),"state",{pages:0,currentPage:0,leftArrowActive:!1,rightArrowActive:!1,windowWidth:0,itemsWidth:0}),gg(t,"listRef",(0,Xm.createRef)()),gg(t,"sliderRef",(0,Xm.createRef)()),gg(t,"clamp",(function(t,e,n){return t<e?e:t>n?n:t})),gg(t,"onSliderArrowClick",(function(e){if(t.state["".concat(e,"ArrowActive")]){var n=t.state,r=n.pages,i=n.currentPage;r<=0||(i+="left"===e?-1:1,i=t.clamp(i,0,r),t.setState({currentPage:i},(function(){return t.calculate()})))}})),gg(t,"checkOffset",(function(){if(t.isSliderInitialized()){var e=t.state,n=e.pages,r=e.currentPage,i=e.itemsWidth,o=e.windowWidth,a=r!==n?300*r:Math.ceil(i-o);a=Math.max(0,a),t.sliderRef.current.ref.current.style.transform="translate3d(-".concat(a,"px, 0, 0)")}})),gg(t,"isSliderInitialized",(function(){return null!=t.sliderRef.current&&null!=t.sliderRef.current.ref&&null!=t.sliderRef.current.ref.current})),gg(t,"calculate",(function(){if(t.isSliderInitialized()&&null!=t.listRef.current){var e=t.listRef.current.offsetWidth-80,n=t.sliderRef.current.ref.current.offsetWidth,r=n>e&&n-e<300?1:Math.max(0,Math.ceil((n-e)/300)),i=t.state.currentPage;i>r&&(i=r),t.setState({pages:r,currentPage:i,leftArrowActive:i>0,rightArrowActive:i<r,windowWidth:e,itemsWidth:n},(function(){return t.checkOffset()}))}})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bg(t,e)}(e,t),function(t,e,n){return e&&pg(t.prototype,e),n&&pg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentDidMount",value:function(){var t=this;setInterval((function(){t.calculate()}),1e3),xg(this.props.favoriteSymbolsLength,this.props.isMultiChart)}},{key:"componentDidUpdate",value:function(t){var e=this.props.favoriteSymbolsLength,n=t.favoriteSymbolsLength;e!==n&&this.calculate(),(0===e&&n>0||e>0&&0===n)&&(Yt(),xg(e,this.props.isMultiChart)),this.props.isMultiChart!==t.isMultiChart&&xg(e,this.props.isMultiChart)}},{key:"render",value:function(){var t=this.state,e=t.leftArrowActive,n=t.rightArrowActive,r=this.props,i=r.favoriteSymbolsLength;return r.visibleChartsCount>1||0===i?null:(0,Qm.jsxs)("div",{ref:this.listRef,className:"assets-favorites-list",children:[0===i&&(0,Qm.jsx)(fg,{ref:this.sliderRef}),i>0&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)(Mb,{side:"left",isActive:e,onArrowClick:this.onSliderArrowClick}),(0,Qm.jsx)(og,{ref:this.sliderRef}),(0,Qm.jsx)(Mb,{side:"right",isActive:n,onArrowClick:this.onSliderArrowClick})]})]})}}])}(Xm.PureComponent),Sg=(0,Lb.Ng)((function(t){return{favoriteSymbolsLength:t.favorites.list.length,visibleChartsCount:t.chartSettings.visibleChartIds.length,isMultiChart:!(0,Xf.Ay)(t)}}))(_g),Og=n(78325);var kg=function(t){var e=t.children,n=t.wrapperId,r=void 0===n?"modal-root":n,i=document.getElementById(r);return i||(i=function(t){var e=document.createElement("div");return e.setAttribute("id",t),document.body.appendChild(e),e}(r)),Og.createPortal(e,i)};function Tg(t){return Tg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(t)}function Ag(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ag(Object(n),!0).forEach((function(e){Pg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ag(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pg(t,e,n){return(e=Ig(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ig(r.key),r)}}function Ig(t){var e=function(t,e){if("object"!=Tg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Tg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Tg(e)?e:e+""}function Ng(t,e,n){return e=Lg(e),function(t,e){if(e&&("object"==Tg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Dg()?Reflect.construct(e,n||[],Lg(t).constructor):e.apply(t,n))}function Dg(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Dg=function(){return!!t})()}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lg(t)}function Mg(t,e){return Mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mg(t,e)}var Rg=function(t){var e=function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),Ng(this,n,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mg(t,e)}(n,e),function(t,e,n){return e&&Eg(t.prototype,e),n&&Eg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(n,[{key:"render",value:function(){return(0,Qm.jsx)(kg,{children:(0,Qm.jsx)(t,Cg({},this.props))})}}])}(Xm.Component);return e.displayName="WithModalPortal(".concat(function(t){return t.displayName||t.name||"Component"}(t),")"),e},Bg=n(59111);function Hg(t){return Hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(t)}function $g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fg(r.key),r)}}function Fg(t){var e=function(t,e){if("object"!=Hg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Hg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hg(e)?e:e+""}function Wg(t,e,n){return e=Vg(e),function(t,e){if(e&&("object"==Hg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ug()?Reflect.construct(e,n||[],Vg(t).constructor):e.apply(t,n))}function Ug(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ug=function(){return!!t})()}function Vg(t){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vg(t)}function Gg(t,e){return Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gg(t,e)}var zg={"ps-scroll-y":"onScrollY","ps-scroll-x":"onScrollX","ps-scroll-up":"onScrollUp","ps-scroll-down":"onScrollDown","ps-scroll-left":"onScrollLeft","ps-scroll-right":"onScrollRight","ps-y-reach-start":"onYReachStart","ps-y-reach-end":"onYReachEnd","ps-x-reach-start":"onXReachStart","ps-x-reach-end":"onXReachEnd"},Yg=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Wg(this,e,[t])).handleRef=n.handleRef.bind(n),n._handlerByEvent={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gg(t,e)}(e,t),function(t,e,n){return e&&$g(t.prototype,e),n&&$g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentDidMount",value:function(){this.props.option&&console.warn('react-perfect-scrollbar: the "option" prop has been deprecated in favor of "options"'),this._ps=new Bg.A(this._container,this.props.options||this.props.option||{wheelPropagation:!1}),this._updateEventHook()}},{key:"componentDidUpdate",value:function(t){this._updateEventHook(t),this._ps.update()}},{key:"componentWillUnmount",value:function(){var t=this;Object.keys(this._handlerByEvent).forEach((function(e){var n=t._handlerByEvent[e];n&&t._container.removeEventListener(e,n,!1)})),this._handlerByEvent={},this._ps.destroy(),this._ps=null}},{key:"_updateEventHook",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(zg).forEach((function(n){var r=t.props[zg[n]],i=e[zg[n]];if(r!==i){if(i){var o=t._handlerByEvent[n];t._container.removeEventListener(n,o,!1),t._handlerByEvent[n]=null}if(r){var a=function(){return r(t._container)};t._container.addEventListener(n,a,!1),t._handlerByEvent[n]=a}}}))}},{key:"updateScroll",value:function(){this._ps.update()}},{key:"handleRef",value:function(t){this._container=t,this.props.containerRef&&this.props.containerRef(t)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.component,r=void 0===n?"div":n,i=t.className,o=void 0===i?"":i,a=t.style;return(0,Qm.jsx)(r,{style:a,className:"scrollbar-container ".concat(o),ref:this.handleRef,children:e})}}])}(Xm.Component);Yg.propTypes={children:Jm().node.isRequired,className:Jm().string,style:Jm().object,option:Jm().object,options:Jm().object,containerRef:Jm().func,onScrollY:Jm().func,onScrollX:Jm().func,onScrollUp:Jm().func,onScrollDown:Jm().func,onScrollLeft:Jm().func,onScrollRight:Jm().func,onYReachStart:Jm().func,onYReachEnd:Jm().func,onXReachStart:Jm().func,onXReachEnd:Jm().func,component:Jm().string};var Xg=Yg,qg=function(t){var e=t.isDemo,n=void 0===e?null:e,r=t.totalCount,i=void 0===r?null:r,o=(0,Lb.d4)((function(t){return t.global.isDemo})),a=null!==n?n:o;return(0,Qm.jsxs)("div",{className:(0,Km.A)("divider",a&&"divider_demo",!a&&"divider_live"),children:[(0,$.tr)("social_trades.".concat(a?"demo_trading":"live_trading")),i>0&&" (".concat(i,")")]})},Kg=n(3220),Zg=n.n(Kg),Jg=function(t){var e=t.nickname,n=t.first_name,r=t.last_name,i=n&&r?"".concat(n," ").concat(r.charAt(0),"."):e;return i?Zg()(i.toLowerCase()):""},Qg=function(t,e){var n=t-e,r=Math.floor(n/86400),i=Math.floor((n-60*r*60*24)/3600);return{d:r,h:i,m:Math.floor((n-60*r*60*24-60*i*60)/60)}},tw=function(t,e,n){var r=Qg(t,e);if(r.d>0)return(0,$.Lb)(n,r.d,r.h,r.m);var i=(0,$.Lb)(n,"{{d}}","{{h}}","{{m}}");return 0===r.d&&r.h>0?i.substring(i.indexOf("{{h}}")).replace("{{h}}",r.h).replace("{{m}}",r.m):0===r.h?i.substring(i.indexOf("{{m}}")).replace("{{m}}",r.m):"---"},ew=function(t){var e=t.position,n=void 0===e?"":e,r=t.text,i=t.textContent,o=t.children;if(null===n)return null;var a=(0,Lb.d4)((function(t){return t.global.enabledTooltipMessage})),s=(0,Km.A)("tooltip-content",a?"tooltip-status-on":"tooltip-status-off",""!==n&&"position-".concat(n)),c=i||(r?(0,$.tr)(r):null);return(0,Qm.jsx)("div",{className:s,children:(0,Qm.jsxs)("div",{className:"tooltip-text",children:[c,o]})})},nw=ew,rw=function(t){var e=t.avatar,n=t.forceShowTooltip,r=void 0===n?null:n,i=t.withStatus,o=void 0!==i&&i,a=(0,Lb.d4)(Gu.WN),s=e.size,c=e.avatarUrl;a=null!==r?r:a;var l,u=String(e.userLevel),d=(0,$.tr)("user_levels.".concat(u));switch(u){case"0":case"1":l="beginner";break;case"2":l="master";break;case"3":l="guru";break;case"4":l="vip";break;case"5":l="vip-elite";break;default:l="demo",d=(0,$.tr)("user_levels.demo")}var f={"--user-avatar-size":"".concat(s,"px")},h=u<4?"other":l;return(0,Qm.jsxs)("div",{className:"user-avatar user-avatar--level-".concat(u," ").concat(a?"tooltip2":""),style:f,children:[u<=3&&(0,Qm.jsx)("div",{className:"user-avatar__profile-level-icon",children:(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/loyalty-program/".concat(l,"-icon.svg")})}),(0,Qm.jsx)("div",{className:(0,Km.A)("user-avatar__img-wrap",o&&"user-avatar__img-wrap--with-status"),children:(0,Qm.jsx)("img",{src:c,alt:"",className:"user-avatar__img"})}),(0,Qm.jsx)("div",{className:"profile-level",children:(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/profile-level/".concat(h,".svg")})}),a&&(0,Qm.jsx)(nw,{position:"down",children:d})]})},iw=rw,ow=function(t){var e=t.deal,n=(0,Lb.wA)(),r=(0,Lb.d4)(Gu.Ln),i=(0,Lb.d4)((function(t){return(0,vf.P7)(t)(e.asset)})),o=(0,Lb.d4)(xf),a=function(t,e){return Math.ceil((t-e)/60)}(r,e.closeTimestamp),s=(0,hn.ej)(e.profit,e.currency);return(0,Qm.jsxs)("div",{className:(0,Km.A)("sc-items__item",o?"sc-items__item-ro":"mfp-ajax-modal"),"data-href":o?null:(0,tn.hX)("cabinet/ajax/modal/trader-information/".concat(e.uid)),children:[(0,Qm.jsxs)("a",{className:"sc-items__avatar avatar",children:[(0,Qm.jsx)(iw,{avatar:e.avatar,forceShowTooltip:!1,withStatus:!0}),(0,Qm.jsx)("span",{className:(0,Km.A)("status","status--".concat(e.isOnline?"on":"off")),title:(0,$.tr)("social_trades.".concat(e.isOnline?"online":"offline"))})]}),(0,Qm.jsxs)("div",{className:"sc-items__user-info user-info",children:[(0,Qm.jsx)("div",{className:"user-info__name",children:e.nickname}),(0,Qm.jsx)("div",{className:"user-info__pair","data-no-mfp":"true",onClick:function(t){t.preventDefault(),t.stopPropagation(),n(Bh(e.asset))},children:i})]}),(0,Qm.jsxs)("div",{className:"sc-items__bet-info bet-info",children:[(0,Qm.jsxs)("div",{className:"bet-info__sum bet-info__sum--win",children:["+",s]}),a>=0&&(0,Qm.jsx)("div",{className:"bet-info__time",children:(0,$.tr)("social_trades.min_ago",a)})]})]})},aw=(0,Xm.forwardRef)((function(t,e){var n=t.text;return(0,Qm.jsx)("div",{ref:e,className:"right-sidebar-modal__top-title",children:n})})),sw=aw,cw=n(1758);function lw(){return(0,Qm.jsx)("svg",{viewBox:"0 0 384 512",xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",height:16,children:(0,Qm.jsx)("path",{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37ZM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03ZM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82 12.957-8.226 29.573-8.226 42.53 0 15.89 10.06 36.5 7.65 49.73-5.82Zm11.139-88.494c-5.18 0-9.17-1.4-11.97-4.2-2.8-2.8-4.2-6.86-4.2-12.18v-11.97h-47.04c-5.18 0-9.31-1.155-12.39-3.465-3.08-2.31-4.62-5.845-4.62-10.605 0-2.8.63-5.635 1.89-8.505 1.26-2.87 3.5-6.545 6.72-11.025l54.39-79.17c2.38-3.64 5.005-6.335 7.875-8.085 2.87-1.75 6.265-2.625 10.185-2.625 4.62 0 8.26 1.365 10.92 4.095 2.66 2.73 3.99 6.825 3.99 12.285v81.48h7.77c9.38 0 14.07 4.27 14.07 12.81 0 8.54-4.69 12.81-14.07 12.81h-7.77v11.97c0 5.32-1.365 9.38-4.095 12.18-2.73 2.8-6.615 4.2-11.655 4.2Zm-183.12-1.89c-5.32 0-9.17-1.225-11.55-3.675-2.38-2.45-3.57-6.055-3.57-10.815 0-3.08.77-5.95 2.31-8.61 1.54-2.66 3.64-5.39 6.3-8.19l39.48-41.58c5.88-6.3 10.115-11.9 12.705-16.8s3.885-9.8 3.885-14.7c0-12.6-7.77-18.9-23.31-18.9-4.06 0-8.225.56-12.495 1.68-4.27 1.12-8.715 3.08-13.335 5.88-3.78 2.24-7.245 2.73-10.395 1.47-3.15-1.26-5.46-3.43-6.93-6.51-1.47-3.08-1.82-6.335-1.05-9.765.77-3.43 3.045-6.265 6.825-8.505 6.16-3.78 12.88-6.615 20.16-8.505 7.28-1.89 14.49-2.835 21.63-2.835 16.52 0 29.155 3.675 37.905 11.025 8.75 7.35 13.125 17.815 13.125 31.395 0 8.96-2.065 17.535-6.195 25.725-4.13 8.19-10.885 17.045-20.265 26.565l-28.56 28.98h48.72c9.1 0 13.65 4.41 13.65 13.23 0 8.96-4.55 13.44-13.65 13.44h-75.39Zm166.95-52.08v-48.93l-33.18 48.93h33.18Z"})})}var uw=n(90873);function dw(t){return dw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dw(t)}function fw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fw(Object(n),!0).forEach((function(e){yw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return mw(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mw(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function yw(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=dw(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dw(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vw=yw(yw(yw(yw(yw(yw(yw(yw(yw({},uw.$j.TAB_TOP_RANKED_24H,{label:(0,$.tr)("social_trades.top_24h_ranked"),icon:(0,Qm.jsx)(lw,{})}),uw.$j.TAB_TOP_RANKED,{label:(0,$.tr)("social_trades.top_ranked"),icon:(0,Qm.jsx)("i",{className:"fa fa-star-o"})}),uw.$j.TAB_TOP_100,{label:(0,$.tr)("social_trades.top_100_traders"),icon:(0,Qm.jsx)("i",{className:"fa fa-trophy"}),href:(0,tn.hX)("cabinet/social-trading/top-ranking")}),uw.$j.TAB_SEARCH,{label:(0,$.tr)("social_trades.search"),icon:(0,Qm.jsx)("i",{className:"fa fa-search"})}),uw.$j.TAB_LIST_COPIED_TRADERS,{label:(0,$.tr)("social_trades.copied_list"),icon:(0,Qm.jsx)("i",{className:"fa fa-files-o"}),counter:cw.pt}),uw.$j.TAB_LIST_OF_TRADERS_WHO_COPY_ME,{label:(0,$.tr)("social_trades.list_of_traders_who_copy_me"),icon:(0,Qm.jsx)("i",{className:"fa fa-share"})}),uw.$j.TAB_LIST_WATCHED_TRADERS,{label:(0,$.tr)("social_trades.list_watched_players"),icon:(0,Qm.jsx)("i",{className:"fa fa-eye"})}),uw.$j.TAB_LIST_OF_TRADERS_WHO_WATCH_ME,{label:(0,$.tr)("social_trades.list_of_traders_who_watch_me"),icon:(0,Qm.jsx)("i",{className:"fa fa-rss"})}),uw.$j.TAB_SETTINGS,{label:(0,$.tr)("social_trades.settings"),icon:(0,Qm.jsx)("i",{className:"fa fa-cog"})}),bw=function(t){var e=t.counterName,n=(0,Lb.d4)((function(t){return t.counters[e]}));return(0,Qm.jsxs)(Qm.Fragment,{children:[" ",(0,Qm.jsxs)("span",{className:"mobile-drop-down-list__counter",children:["(",n,")"]})]})},gw=function(t){var e=t.currentTab,n=t.onTabClickHandler,r=pw((0,Xm.useState)(!1),2),i=r[0],o=r[1],a=(0,Xm.useRef)(null),s=(0,Lb.d4)(xf);(0,Xm.useEffect)((function(){return document.addEventListener("click",c),function(){document.removeEventListener("click",c)}}),[]);var c=function(t){a.current&&!a.current.contains(t.target)&&o(!1)};return(0,Qm.jsxs)("div",{ref:a,className:(0,Km.A)("mobile-drop-down-list",i&&"open"),children:[(0,Qm.jsxs)("div",{className:"mobile-drop-down-list__title",onClick:function(){return o(!i)},children:[(0,Qm.jsx)("span",{className:"mobile-drop-down-list__icon",children:vw[e].icon}),(0,Qm.jsx)("span",{className:"mobile-drop-down-list__label",children:vw[e].label}),(0,Qm.jsx)("span",{className:"mobile-drop-down-list__arrow",children:(0,Qm.jsx)("i",{className:"fa fa-angle-down"})})]}),(0,Qm.jsx)("ul",{className:"mobile-drop-down-list__list",children:Object.keys(vw).map((function(t){if(s&&[uw.$j.TAB_TOP_100,uw.$j.TAB_SEARCH].includes(t))return null;var r,i=e===t,a=vw[t],c=a.href,l=a.counter,u=a.icon,d=a.label,f=void 0!==c,h=void 0!==l,p={};return f?p.href=c:p.onClick=(r=t,function(t){n(r)(t),o(!1)}),(0,Qm.jsx)("li",{className:(0,Km.A)("mobile-drop-down-list__item",i&&"active"),children:(0,Qm.jsxs)("a",hw(hw({className:(0,Km.A)("mobile-drop-down-list__link",f&&!s&&"mfp-ajax-modal")},p),{},{children:[(0,Qm.jsx)("span",{className:"mobile-drop-down-list__icon",children:u}),(0,Qm.jsxs)("span",{className:"mobile-drop-down-list__label",children:[d,h&&(0,Qm.jsx)(bw,{counterName:l})]})]}))},t)}))})]})},ww=n(77863);function jw(t){return jw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jw(t)}var xw=["type","className","absolute"];function _w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sw(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=jw(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jw(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ow(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return kw(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kw(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Tw=function(t){var e=t.type,n=void 0===e?I.X8:e,r=t.className,i=void 0===r?"ajax-loading":r,o=t.absolute,a=void 0!==o&&o,s=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,xw),c=(0,Xm.useRef)(),l=(0,Xm.useRef)((new I.Ay).setAbsolute(a).getByType(n)),u=Ow((0,Xm.useState)(Array.from(l.current[0].classList).join(" ")),2),d=u[0],f=u[1],h=Ow((0,Xm.useState)(l.current[0].tagName.toLowerCase()),2),p=h[0],m=h[1];if((0,Xm.useEffect)((function(){if(l.current=(new I.Ay).setAbsolute(a).getByType(n),c.current&&l.current&&void 0!==l.current[0]){m(l.current[0].tagName.toLowerCase()),f(Array.from(l.current[0].classList).join(" "));var t=l.current.children().get(0);return c.current.appendChild(t),function(){var e;null===(e=c.current)||void 0===e||e.removeChild(t),f("")}}}),[]),i)return(0,Qm.jsx)("div",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_w(Object(n),!0).forEach((function(e){Sw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({className:i,dangerouslySetInnerHTML:{__html:l.current.prop("outerHTML")}},s));if(c.current&&(!d||!p))return null;var y=p;return(0,Qm.jsx)(y,{className:d,ref:c})},Aw=function(){return(0,Qm.jsx)("div",{className:"sc-modal__ajax-loading",children:(0,Qm.jsx)(Tw,{type:I.X8})})},Cw=function(t){var e=t.onTabClickHandler,n=(0,Lb.d4)((function(t){return t.global.isDemo})),r=(0,Lb.d4)(jf),i=ww.s.endpoints.getTopTrades.useQuery(n),o=i.data,a=(void 0===o?{}:o).data,s=void 0===a?[]:a,c=i.isLoading,l="top-ranked-block";r&&(l+=" flex-vertical-block");var u=r?"flex-vertical-block__header":"main-tab-body__header",d=r?"flex-vertical-block__body":"main-tab-body__body";return(0,Qm.jsxs)("div",{className:l,children:[(0,Qm.jsxs)("div",{className:u,children:[(0,Qm.jsx)(sw,{text:(0,$.tr)("right_panel.social")}),(0,Qm.jsx)(gw,{currentTab:uw.$j.TAB_TOP_RANKED,onTabClickHandler:e}),(0,Qm.jsx)(qg,{isDemo:!1})]}),(0,Qm.jsx)("div",{className:d,children:(0,Qm.jsx)(Xg,{children:c?(0,Qm.jsx)(Aw,{}):(0,Qm.jsx)("div",{className:"tabs",children:(0,Qm.jsx)("div",{className:"tabs__content all-assets-rank active",children:(0,Qm.jsx)("div",{className:"sc-items",children:s.map((function(t){return(0,Qm.jsx)(ow,{deal:t},t.id)}))})})})})})]})},Pw=function(t){var e=t.deal,n=(0,Lb.d4)(xf),r=e.nickname,i=e.sum_profit,o=e.uid,a=e.count_trades,s=e.percent_win_trades,c=e.avatar,l=100*parseFloat(s),u=(0,hn.ej)(i,"USD");return(0,Qm.jsxs)("div",{className:(0,Km.A)("sc-items__item",n?"sc-items__item-ro":"mfp-ajax-modal"),"data-uid":o,"data-href":n?null:(0,tn.hX)("cabinet/ajax/modal/trader-information/".concat(o)),children:[(0,Qm.jsx)("div",{className:"sc-items__avatar",children:(0,Qm.jsx)(iw,{avatar:c,forceShowTooltip:!1})}),(0,Qm.jsxs)("div",{className:"sc-items__user-info user-info",children:[(0,Qm.jsx)("div",{className:"user-info__name",children:r}),(0,Qm.jsxs)("div",{className:"user-info__count-bets",children:[(0,$.tr)("social_trades.number_of_bets"),":",(0,Qm.jsx)("br",{}),(0,Qm.jsx)("span",{children:a})]})]}),(0,Qm.jsxs)("div",{className:"sc-items__top-info top-info",children:[(0,Qm.jsxs)("div",{className:"top-info__profit",children:["+",u]}),(0,Qm.jsxs)("div",{className:"top-info__deals",children:[(0,$.tr)("social_trades.profitable_deals"),":",(0,Qm.jsx)("br",{}),(0,Qm.jsxs)("span",{children:[Math.round(l),"%"]})]})]})]})};function Ew(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Iw(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Iw(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Nw=function(t){var e=t.onTabClickHandler,n=(0,Lb.d4)(jf),r=(0,Lb.d4)(_f),i=(0,Lb.d4)(xf),o=Ew(ww.s.endpoints.getTop24Hour.useLazyQuery(),2),a=o[0],s=o[1],c=s.data,l=(void 0===c?{}:c).data,u=void 0===l?[]:l,d=s.isLoading;(0,Xm.useEffect)((function(){i||a()}),[]);var f="all-top-24h-rank";n&&(f+=" flex-vertical-block");var h=n?"flex-vertical-block__header":"main-tab-body__header",p=n?"flex-vertical-block__body":"main-tab-body__body";return(0,Qm.jsxs)("div",{className:f,children:[(0,Qm.jsxs)("div",{className:h,children:[(0,Qm.jsx)(sw,{text:(0,$.tr)("right_panel.social")}),r&&(0,Qm.jsx)("div",{className:"right-sidebar-modal__message",children:(0,Qm.jsxs)("div",{className:"message message-warning",children:[(0,$.tr)("available_text"),"."]})}),(0,Qm.jsx)(gw,{currentTab:uw.$j.TAB_TOP_RANKED_24H,onTabClickHandler:e}),(0,Qm.jsx)(qg,{isDemo:!1})]}),(0,Qm.jsx)("div",{className:p,children:(0,Qm.jsxs)(Xg,{children:[d&&(0,Qm.jsx)(Aw,{}),u.length>0&&(0,Qm.jsx)("div",{className:"sc-items",children:u.map((function(t){return(0,Qm.jsx)(Pw,{deal:t},t.uid)}))}),!d&&0===u.length&&(0,Qm.jsx)("div",{className:"no-items-block",children:(0,Qm.jsx)("div",{className:"message message-info notification-message",children:(0,$.tr)("social_trades.no_top_deals")})})]})})]})},Dw=function(t){var e=t.user,n=(0,Lb.d4)(xf),r=e.uid,i=e.avatar,o=e.percent_win_trades_total,a=Math.round(100*o);return(0,Qm.jsxs)("div",{className:(0,Km.A)("sc-items__item",n?"sc-items__item-ro":"mfp-ajax-modal"),"data-uid":r,"data-href":n?null:(0,tn.hX)("cabinet/ajax/modal/trader-information/".concat(r)),children:[(0,Qm.jsx)("div",{className:"sc-items__avatar avatar",children:(0,Qm.jsx)(iw,{avatar:i,forceShowTooltip:!1})}),(0,Qm.jsxs)("div",{className:"sc-items__user-info user-info",children:[(0,Qm.jsx)("div",{className:"user-info__name",children:Jg(e)}),(0,Qm.jsx)("div",{className:"user-info__count-bets",children:(0,Qm.jsx)("span",{children:r})})]}),(0,Qm.jsx)("div",{className:"sc-items__top-info top-info",children:(0,Qm.jsxs)("div",{className:"top-info__deals",children:[(0,$.tr)("social_trades.profitable_deals"),": ",(0,Qm.jsxs)("span",{children:[a,"%"]})]})})]})},Lw=function(t){var e=t.users;return(0,Qm.jsxs)(Qm.Fragment,{children:[e.length>0&&(0,Qm.jsxs)("div",{className:"sc-items search-items",children:[e.map((function(t){return(0,Qm.jsx)(Dw,{user:t},t.uid)})),(0,Qm.jsx)("div",{className:"btn-wrap",children:(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet/social-trading/top-ranking"),className:"btn btn-green-light mfp-ajax-modal",children:(0,$.tr)("social_trades.show_top_100")})})]}),0===e.length&&(0,Qm.jsx)("div",{className:"no-items-block",children:(0,Qm.jsx)("div",{className:"message message-info notification-message",children:(0,$.tr)("social_trades.not_found")})})]})};function Mw(t){return Mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mw(t)}function Rw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rw(Object(n),!0).forEach((function(e){Vw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Hw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gw(r.key),r)}}function $w(t,e,n){return e=Ww(e),function(t,e){if(e&&("object"==Mw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Fw()?Reflect.construct(e,n||[],Ww(t).constructor):e.apply(t,n))}function Fw(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fw=function(){return!!t})()}function Ww(t){return Ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ww(t)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Uw(t,e)}function Vw(t,e,n){return(e=Gw(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gw(t){var e=function(t,e){if("object"!=Mw(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Mw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mw(e)?e:e+""}var zw="initial",Yw="ready",Xw="searching",qw=function(t){var e=t.onTabClickHandler;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)(sw,{text:(0,$.tr)("right_panel.social")}),(0,Qm.jsx)(gw,{currentTab:uw.$j.TAB_SEARCH,onTabClickHandler:e})]})},Kw=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Vw(t=$w(this,e,[].concat(r)),"state",{query:"",searchState:zw,foundUsers:[],errors:[]}),Vw(t,"notify",new F.A({position:Hr.XC,time:6e3})),Vw(t,"onInputChangeHandler",(function(e){var n=e.target.value.replace(/\D/g,"").trim();t.setState({query:n},(function(){t.state.query.length>4&&t.autocompleteSearchDebounced(t.state.query)}))})),Vw(t,"autocompleteSearch",(function(e){t.setState({searchState:Xw},(function(){var n,r;""!==e?(t.waitingQuery=e,t.cancelableRequest=(n=ze.A.request({url:(0,tn.hX)("api/social-modal/search-user"),method:"POST",data:{q:e}}),r=!1,{promise:new Promise((function(t,e){n.then((function(n){return r?e({isCanceled:!0}):t(n)}),(function(t){return e(r?{isCanceled:!0}:t)}))})),cancel:function(){r=!0}}),t.cancelableRequest.promise.then((function(n){var r=n.items,i=n.status,o=n.message,a=n.errors,s=void 0===a?[]:a;if(e===t.waitingQuery){var c=[];i&&Object.keys(r).forEach((function(t){c.push(Bw(Bw({},r[t]),{},{uid:t}))})),t.setState({searchState:Yw,foundUsers:c,errors:s}),o&&t.notify.red(o)}})).catch((function(e){e.isCanceled||t.setState({searchState:Yw,foundUsers:[],errors:[]})}))):t.setState({searchState:Yw,foundUsers:[],errors:[]})}))})),Vw(t,"autocompleteSearchDebounced",Fl()((function(){t.autocompleteSearch(t.state.query)}),800)),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}(e,t),function(t,e,n){return e&&Hw(t.prototype,e),n&&Hw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentWillUnmount",value:function(){this.cancelableRequest&&this.cancelableRequest.cancel()}},{key:"render",value:function(){var t=this.state,e=t.searchState,n=t.foundUsers,r=t.query,i=t.errors,o=this.props,a=o.onTabClickHandler,s=o.isMobile,c="search-block";s&&(c+=" flex-vertical-block");var l=s?"flex-vertical-block__header":"main-tab-body__header",u=s?"flex-vertical-block__body":"main-tab-body__body";return(0,Qm.jsxs)("div",{className:c,children:[!s&&(0,Qm.jsx)(qw,{onTabClickHandler:a}),(0,Qm.jsxs)("div",{className:l,children:[s&&(0,Qm.jsx)(qw,{onTabClickHandler:a}),(0,Qm.jsx)("input",{type:"text",className:"form-control",placeholder:(0,$.tr)("social_trades.placeholder"),value:r,onChange:this.onInputChangeHandler}),i.length>0&&(0,Qm.jsx)("div",{className:"validation-errors",dangerouslySetInnerHTML:{__html:i.join("<br/>")}})]}),(0,Qm.jsx)("div",{className:u,children:(0,Qm.jsxs)(Xg,{children:[e===Xw&&(0,Qm.jsx)(Aw,{}),e===Yw&&(0,Qm.jsx)(Lw,{users:n})]})})]})}}])}(Xm.Component),Zw=(0,Lb.Ng)((function(t){return{isMobile:t.global.isMobile}}))(Kw),Jw=function(t){var e=t.onTabClickHandler,n=(0,Lb.d4)(jf),r="copy-block";n&&(r+=" flex-vertical-block");var i=n?"flex-vertical-block__header":"main-tab-body__header",o=n?"flex-vertical-block__body":"main-tab-body__body";return(0,Qm.jsxs)("div",{className:r,children:[(0,Qm.jsxs)("div",{className:i,children:[(0,Qm.jsx)(sw,{text:(0,$.tr)("right_panel.social")}),(0,Qm.jsx)(gw,{currentTab:uw.$j.TAB_LIST_COPIED_TRADERS,onTabClickHandler:e}),!n&&(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet/profile/achievements/mining"),className:"title-position-icon",children:(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/copy-block-icon.svg"})}),(0,Qm.jsx)(qg,{})]}),(0,Qm.jsx)("div",{className:o,children:(0,Qm.jsx)(Xg,{children:(0,Qm.jsxs)("div",{className:"no-items-block",children:[(0,Qm.jsx)("div",{className:"message message-info notification-message",children:(0,$.tr)("social_trades.copy_on_demo")}),(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet/high-low"),className:"btn btn-warn",children:(0,$.tr)("social_trades.switch_to_live")})]})})})]})},Qw=function(t){var e=t.user,n=(0,Lb.wA)(),r=(0,Lb.d4)(Gu.Ln),i=(0,Lb.d4)(xf),o=e.uid,a=e.avatar,s=e.nickname,c=e.asset,l=e.assetLabel,u=e.profit,d=e.isOnline,f=e.close_time,h=e.currency,p=tw(r,f,(0,$.tr)("social_trades.time_ago_format"));if("---"!==p){var m=Qg(r,f);m.d>=1&&(p=(0,$.tr)("social_trades.time_ago_format_short",m.d))}return(0,Qm.jsxs)("div",{className:(0,Km.A)("sc-items__item",i?"sc-items__item-ro":"mfp-ajax-modal"),"data-uid":o,"data-href":i?null:(0,tn.hX)("cabinet/ajax/modal/trader-information/".concat(o)),children:[(0,Qm.jsxs)("a",{className:"sc-items__avatar avatar",children:[(0,Qm.jsx)(iw,{avatar:a,forceShowTooltip:!1,withStatus:!0}),(0,Qm.jsx)("span",{className:(0,Km.A)("status","status--".concat(d?"on":"off")),title:(0,$.tr)("social_trades.".concat(d?"online":"offline"))})]}),(0,Qm.jsxs)("div",{className:"sc-items__user-info user-info",children:[(0,Qm.jsx)("div",{className:"user-info__name",children:s}),(0,Qm.jsx)("div",{className:"user-info__pair","data-no-mfp":"true",onClick:function(t){t.preventDefault(),t.stopPropagation(),n(Bh(c))},children:l})]}),(0,Qm.jsxs)("div",{className:"sc-items__top-info top-info",children:[(0,Qm.jsx)("div",{className:(0,Km.A)("bet-info__sum","bet-info__sum--".concat(u<=0?"loss":"win")),children:(0,hn.MU)(u,h)}),(0,Qm.jsx)("div",{className:"bet-info__time",children:p})]})]})},tj=function(t){var e=t.user,n=(0,Lb.d4)(Gu.Ln),r=(0,Lb.d4)(xf),i=e.uid,o=e.avatar,a=e.nickname,s=e.profit,c=e.isOnline,l=e.close_time,u=tw(n,l,(0,$.tr)("social_trades.time_ago_format"));return(0,Qm.jsxs)("div",{className:(0,Km.A)("sc-items__item",r?"sc-items__item-ro":"mfp-ajax-modal"),"data-uid":i,"data-href":r?null:(0,tn.hX)("cabinet/ajax/modal/trader-information/".concat(i,"?rfh=1")),children:[(0,Qm.jsxs)("div",{className:"sc-items__avatar avatar",children:[(0,Qm.jsx)(iw,{avatar:o,forceShowTooltip:!1,withStatus:!0}),(0,Qm.jsx)("span",{className:(0,Km.A)("status","status--".concat(c?"on":"off")),title:(0,$.tr)("social_trades.".concat(c?"online":"offline"))})]}),(0,Qm.jsxs)("div",{className:"sc-items__user-info user-info",children:[(0,Qm.jsx)("div",{className:"user-info__name",children:a}),(0,Qm.jsx)("div",{className:"user-info__stop-copy",title:(0,$.tr)("social_trades.stopped_copy",u),children:u})]}),(0,Qm.jsxs)("div",{className:"sc-items__top-info top-info",children:[(0,Qm.jsx)("div",{className:(0,Km.A)("bet-info__sum","bet-info__sum--".concat(s<=0?"loss":"win")),children:(0,hn.MU)(s,"USD")}),(0,Qm.jsx)("div",{className:"bet-info__total-profit",children:(0,$.tr)("social_trades.total_profit")})]})]})},ej=function(t){var e=t.openTopRankedHandler,n=t.children;return(0,Qm.jsxs)("div",{className:"no-items-block",children:[(0,Qm.jsx)("div",{className:"message message-info notification-message",children:n}),(0,Qm.jsx)("a",{className:"btn btn-green-light",onClick:e,children:(0,$.tr)("social_trades.see_top_ranker_bets")})]})},nj=[y.Y5,y.Nm,y.B],rj=function(t){var e=t.onTabClickHandler,n=ww.s.endpoints.getCopiedTrades.useQuery(),r=n.data,i=(void 0===r?{}:r).data,o=void 0===i?{}:i,a=o.copyList,s=void 0===a?[]:a,c=o.historyList,l=void 0===c?[]:c,d=n.isLoading,f=n.refetch,h=(0,Xm.useRef)([]);(0,Xm.useEffect)((function(){return nj.forEach((function(t){return h.current.push(u.A.subscribe(t,f))})),function(){return h.current.forEach((function(t){return u.A.unsubscribe(t)}))}}),[]);var p=(0,Lb.d4)(jf),m="copy-block";p&&(m+=" flex-vertical-block");var y=p?"flex-vertical-block__header":"main-tab-body__header",v=p?"flex-vertical-block__body":"main-tab-body__body";return(0,Qm.jsxs)("div",{className:m,children:[(0,Qm.jsxs)("div",{className:y,children:[(0,Qm.jsx)(sw,{text:(0,$.tr)("right_panel.social")}),(0,Qm.jsx)(gw,{currentTab:uw.$j.TAB_LIST_COPIED_TRADERS,onTabClickHandler:e}),!p&&(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet/profile/achievements/mining"),className:"title-position-icon",children:(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/copy-block-icon.svg"})}),(0,Qm.jsx)(qg,{})]}),(0,Qm.jsx)("div",{className:v,children:(0,Qm.jsx)(Xg,{children:d?(0,Qm.jsx)(Aw,{}):(0,Qm.jsxs)("div",{className:"copy-block__in",children:[s.length>0?(0,Qm.jsx)("div",{children:(0,Qm.jsx)("div",{className:"sc-items",children:s.map((function(t){return(0,Qm.jsx)(Qw,{user:t},t.uid)}))})}):(0,Qm.jsx)(ej,{openTopRankedHandler:function(){return e(uw.$j.TAB_TOP_RANKED_24H)()},children:(0,$.tr)("social_trades.empty_copied_traders_list")}),l.length>0&&(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)("div",{className:"ssub-title",children:(0,$.tr)("social_trades.history")}),(0,Qm.jsx)("div",{className:"sc-items",children:l.map((function(t){return(0,Qm.jsx)(tj,{user:t},t.uid)}))})]})]})})})]})},ij=n(15430);function oj(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return aj(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aj(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var sj=function(t){var e=t.user,n=t.type,r=t.action,i=t.refreshAllAction,o=(0,Lb.d4)((function(t){return t.global.currentTime})),a=(0,Lb.d4)(xf),s=oj(ww.s.endpoints.updateWhoCopyWatchMe.useMutation(),2),c=s[0],l=s[1],u=e.uid,d=e.avatar,f=e.nickname,h=e.isOnline,p=e.date_created,m=tw(o,(0,ij.M7)(p),(0,$.tr)("social_trades.time_ago_format"));if("---"!==m){var y=Qg(o,(0,ij.M7)(p));y.d>=1&&(m=(0,$.tr)("social_trades.time_ago_format_short",y.d))}return(0,Qm.jsxs)("div",{className:(0,Km.A)("sc-items__item",a?"sc-items__item-ro":"mfp-ajax-modal"),"data-uid":u,"data-href":a?null:(0,tn.hX)("cabinet/ajax/modal/trader-information/".concat(u,"?rfh=1&cm=1")),children:[(0,Qm.jsxs)("a",{className:"sc-items__avatar avatar",children:[(0,Qm.jsx)(iw,{avatar:d,forceShowTooltip:!1,withStatus:!0}),(0,Qm.jsx)("span",{className:(0,Km.A)("status","status--".concat(h?"on":"off")),title:(0,$.tr)("social_trades.".concat(h?"online":"offline"))})]}),(0,Qm.jsxs)("div",{className:"sc-items__user-info user-info",children:[(0,Qm.jsx)("div",{className:"user-info__name",children:f}),(0,Qm.jsxs)("div",{className:"user-info__stop-copy",children:["ID: ",u]})]}),(0,Qm.jsxs)("div",{className:"sc-items__time-info time-info",children:[(0,Qm.jsx)("div",{className:"time-info__btn",children:l.isLoading?(0,Qm.jsxs)("a",{"data-no-mfp":"true",className:(0,Km.A)("btn",n===uw.KD.DISALLOW?"btn-danger-light":"btn-green-light"),disabled:!0,children:[(0,Qm.jsx)(Tw,{className:"",type:I.iV,absolute:!0}),(0,$.tr)("social_trades.".concat(n,"_").concat(r,"_btn"))]}):(0,Qm.jsx)("a",{onClick:function(){c({action:r,type:n,uid:u}).then((function(){"function"==typeof i&&i()}))},"data-no-mfp":"true",className:(0,Km.A)("btn",n===uw.KD.DISALLOW?"btn-danger-light":"btn-green-light"),children:(0,$.tr)("social_trades.".concat(n,"_").concat(r,"_btn"))})}),(0,Qm.jsx)("div",{className:"time-info__label",children:m})]})]})};sj.propTypes={action:Jm().oneOf(Object.values(uw.nx)),type:Jm().oneOf(Object.values(uw.KD)),user:Jm().object,refreshAllAction:Jm().func};var cj=sj;function lj(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return uj(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uj(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var dj=function(t){var e=t.onTabClickHandler,n=(0,Lb.d4)(jf),r=(0,Lb.d4)(xf),i=lj(ww.s.endpoints.getWhoCopyMe.useLazyQuery(),2),o=i[0],a=i[1],s=a.data,c=(void 0===s?{}:s).data,l=void 0===c?{}:c,u=l.list,d=void 0===u?[]:u,f=l.blackList,h=void 0===f?[]:f,p=a.isLoading;(0,Xm.useEffect)((function(){r||o()}),[]);var m="list-of-traders-who-copy-me-block";n&&(m+=" flex-vertical-block");var y=n?"flex-vertical-block__header":"main-tab-body__header",v=n?"flex-vertical-block__body":"main-tab-body__body";return(0,Qm.jsxs)("div",{className:m,children:[(0,Qm.jsxs)("div",{className:y,children:[(0,Qm.jsx)(sw,{text:(0,$.tr)("right_panel.social")}),(0,Qm.jsx)(gw,{currentTab:uw.$j.TAB_LIST_OF_TRADERS_WHO_COPY_ME,onTabClickHandler:e}),!n&&(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet/social-trading-rewards"),className:"title-position-icon",children:(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/who-copy-me-icon.svg"})})]}),(0,Qm.jsx)("div",{className:v,children:(0,Qm.jsxs)(Xg,{children:[(0,Qm.jsx)("div",{className:"ssub-title",children:(0,$.tr)("social_trades.traders_who_copy_me")}),p?(0,Qm.jsx)(Aw,{}):(0,Qm.jsxs)(Qm.Fragment,{children:[d.length>0?(0,Qm.jsx)("div",{children:(0,Qm.jsx)("div",{className:"sc-items",children:d.map((function(t){return(0,Qm.jsx)(cj,{user:t,action:uw.nx.COPY,type:uw.KD.DISALLOW},t.uid)}))})}):(0,Qm.jsx)("div",{className:"no-items-block",children:(0,Qm.jsx)("div",{className:"message message-info notification-message",children:(0,$.tr)("social_trades.not_found")})}),(0,Qm.jsx)("div",{className:"ssub-title",children:(0,$.tr)("social_trades.blocked_traders")}),h.length>0?(0,Qm.jsx)("div",{children:(0,Qm.jsx)("div",{className:"sc-items",children:h.map((function(t){return(0,Qm.jsx)(cj,{user:t,action:uw.nx.COPY,type:uw.KD.ALLOW},t.uid)}))})}):(0,Qm.jsx)("div",{className:"no-items-block",children:(0,Qm.jsx)("div",{className:"message message-info notification-message",children:(0,$.tr)("social_trades.not_found")})})]})]})})]})};function fj(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return hj(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hj(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var pj=[y.AP,y.Xl,y.OH],mj=function(t){var e=t.onTabClickHandler,n=(0,Lb.d4)(jf),r=(0,Lb.d4)(xf),i=fj((0,Xm.useState)(1),2),o=i[0],a=i[1],s=fj(ww.s.endpoints.getMyWatchList.useLazyQuery(),2),c=s[0],l=s[1],d=l.data,f=void 0===d?{}:d,h=f.data,p=void 0===h?[]:h,m=f.totalCount,y=void 0===m?null:m,v=f.showNextBtn,b=void 0!==v&&v,g=l.isLoading,w=l.isFetching,j=l.refetch;(0,Xm.useEffect)((function(){r||(c(o),a(o+1))}),[]);var x=(0,Xm.useRef)([]);(0,Xm.useEffect)((function(){return pj.forEach((function(t){return x.current.push(u.A.subscribe(t,j))})),function(){return x.current.forEach((function(t){return u.A.unsubscribe(t)}))}}),[]);var _="watch-block";n&&(_+=" flex-vertical-block");var S=n?"flex-vertical-block__header":"main-tab-body__header",O=n?"flex-vertical-block__body":"main-tab-body__body";return(0,Qm.jsxs)("div",{className:_,children:[(0,Qm.jsxs)("div",{className:S,children:[(0,Qm.jsx)(sw,{text:(0,$.tr)("right_panel.social")}),(0,Qm.jsx)(gw,{currentTab:uw.$j.TAB_LIST_WATCHED_TRADERS,onTabClickHandler:e}),(0,Qm.jsx)(qg,{totalCount:y})]}),(0,Qm.jsx)("div",{className:O,children:(0,Qm.jsx)(Xg,{children:g?(0,Qm.jsx)(Aw,{}):(0,Qm.jsx)("div",{className:"copy-block__in",children:p.length>0?(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"sc-items",children:p.map((function(t){return(0,Qm.jsx)(Qw,{user:t},t.uid)}))}),b&&(0,Qm.jsx)("div",{className:"load-more-btn-wrapper",children:(0,Qm.jsxs)("a",{onClick:function(){a(o+1),c(o)},className:(0,Km.A)("btn btn-green-v2",w&&"btn-ajax-loading"),disabled:w,children:[(0,$.tr)("load_next")," 50",w&&(0,Qm.jsx)(Tw,{absolute:!0,type:I.iV})]})})]}):(0,Qm.jsx)(ej,{openTopRankedHandler:function(){return e(uw.$j.TAB_TOP_RANKED_24H)()},children:(0,$.tr)("social_trades.empty_watched_traders_list")})})})})]})};function yj(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return vj(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vj(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var bj=function(t){var e=t.onTabClickHandler,n=(0,Lb.d4)(jf),r=(0,Lb.d4)(xf),i=yj((0,Xm.useState)(1),2),o=i[0],a=i[1],s=yj((0,Xm.useState)(1),2),c=s[0],l=s[1],u=yj(ww.s.endpoints.getWhoWatchMeWatchingMe.useLazyQuery(),2),d=u[0],f=u[1],h=f.data,p=void 0===h?{}:h,m=p.items,y=void 0===m?[]:m,v=p.totalCount,b=void 0===v?null:v,g=p.showNextBtn,w=void 0!==g&&g,j=f.isLoading,x=f.isFetching,_=yj(ww.s.endpoints.getWhoWatchMeBlockedWatchers.useLazyQuery(),2),S=_[0],O=_[1],k=O.data,T=void 0===k?{}:k,A=T.items,C=void 0===A?[]:A,P=T.totalCount,E=void 0===P?null:P,N=T.showNextBtn,D=void 0!==N&&N,L=O.isLoading,M=O.isFetching;(0,Xm.useEffect)((function(){r||(d(o),S(c),a(o+1),l(c+1))}),[]);var R="list-of-traders-who-watch-me-block";n&&(R+=" flex-vertical-block");var B=n?"flex-vertical-block__header":"main-tab-body__header",H=n?"flex-vertical-block__body":"main-tab-body__body",F=function(){a(1),d(1),l(1),S(1)};return(0,Qm.jsxs)("div",{className:R,children:[(0,Qm.jsxs)("div",{className:B,children:[(0,Qm.jsx)(sw,{text:(0,$.tr)("right_panel.social")}),(0,Qm.jsx)(gw,{currentTab:uw.$j.TAB_LIST_OF_TRADERS_WHO_WATCH_ME,onTabClickHandler:e})]}),(0,Qm.jsx)("div",{className:H,children:(0,Qm.jsxs)(Xg,{children:[(0,Qm.jsxs)("div",{className:"ssub-title",children:[(0,$.tr)("social_trades.traders_who_watch_me"),b>0&&" (".concat(b,")")]}),j?(0,Qm.jsx)(Aw,{}):(0,Qm.jsx)(Qm.Fragment,{children:y.length>0?(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"sc-items",children:y.map((function(t){return(0,Qm.jsx)(cj,{user:t,action:uw.nx.WATCH,type:uw.KD.DISALLOW,refreshAllAction:F},t.uid)}))}),w&&(0,Qm.jsx)("div",{className:"load-more-btn-wrapper",children:(0,Qm.jsxs)("a",{onClick:function(){a(o+1),d(o)},className:(0,Km.A)("btn btn-green-v2",x&&"btn-ajax-loading"),disabled:x,children:[(0,$.tr)("load_next")," 50",x&&(0,Qm.jsx)(Tw,{absolute:!0,type:I.iV})]})})]}):(0,Qm.jsx)("div",{className:"no-items-block",children:(0,Qm.jsx)("div",{className:"message message-info notification-message",children:(0,$.tr)("social_trades.not_found")})})}),(0,Qm.jsxs)("div",{className:"ssub-title",children:[(0,$.tr)("social_trades.blocked_watchers"),E>0&&" (".concat(E,")")]}),L?(0,Qm.jsx)(Aw,{}):(0,Qm.jsx)(Qm.Fragment,{children:C.length>0?(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"sc-items",children:C.map((function(t){return(0,Qm.jsx)(cj,{user:t,action:uw.nx.WATCH,type:uw.KD.ALLOW,refreshAllAction:F},t.uid)}))}),D&&(0,Qm.jsx)("div",{className:"load-more-btn-wrapper",children:(0,Qm.jsxs)("a",{onClick:function(){l(c+1),S(c)},className:(0,Km.A)("btn btn-green-v2",M&&"btn-ajax-loading"),disabled:M,children:[(0,$.tr)("load_next")," 50",M&&(0,Qm.jsx)(Tw,{absolute:!0,type:I.iV})]})})]}):(0,Qm.jsx)("div",{className:"no-items-block",children:(0,Qm.jsx)("div",{className:"message message-info notification-message",children:(0,$.tr)("social_trades.not_found")})})})]})})]})},gj=["className","ripple","children"];function wj(t){return wj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wj(t)}function jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jj(Object(n),!0).forEach((function(e){Aj(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cj(r.key),r)}}function Sj(t,e,n){return e=kj(e),function(t,e){if(e&&("object"==wj(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Oj()?Reflect.construct(e,n||[],kj(t).constructor):e.apply(t,n))}function Oj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Oj=function(){return!!t})()}function kj(t){return kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kj(t)}function Tj(t,e){return Tj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tj(t,e)}function Aj(t,e,n){return(e=Cj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cj(t){var e=function(t,e){if("object"!=wj(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wj(e)?e:e+""}var Pj={checked:Jm().bool,className:Jm().string,disabled:Jm().bool,onChange:Jm().func,ripple:Jm().bool},Ej=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Aj(t=Sj(this,e,[].concat(r)),"rootRef",(0,Xm.createRef)()),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tj(t,e)}(e,t),function(t,e,n){return e&&_j(t.prototype,e),n&&_j(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentDidMount",value:function(){window.componentHandler.upgradeElements(this.rootRef.current)}},{key:"componentDidUpdate",value:function(t){if(this.props.disabled!==t.disabled){var e=this.props.disabled?"disable":"enable";this.rootRef.current.MaterialSwitch[e]()}if(this.props.checked!==t.checked){var n=this.props.checked?"on":"off";this.rootRef.current.MaterialSwitch[n]()}}},{key:"componentWillUnmount",value:function(){window.componentHandler.downgradeElements(this.rootRef.current)}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.ripple,r=t.children,i=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,gj),o=(0,Km.A)("mdl-switch mdl-js-switch",n&&"mdl-js-ripple-effect",e);return(0,Qm.jsxs)("label",{ref:this.rootRef,className:o,children:[(0,Qm.jsx)("input",xj({type:"checkbox",className:"mdl-switch__input"},i)),(0,Qm.jsx)("span",{className:"mdl-switch__label",children:r})]})}}])}(Xm.Component);Ej.propTypes=Pj;var Ij=Ej,Nj=function(t){var e=t.condition,n=t.wrapper,r=t.children;return e?n(r):r},Dj=function(t){var e=t.onTabClickHandler,n=(0,Lb.wA)(),r=(0,Lb.d4)(jf),i=(0,Lb.d4)((function(t){return t.global.enabledSocialTrading})),o=(0,Lb.d4)((function(t){return t.global.enabledWatchlistingOfCopiedBets})),a=(0,Lb.d4)((function(t){return t.global.showRating})),s=(0,Lb.d4)((function(t){return t.global.hideMyProfileWatching})),c=(0,Lb.d4)((function(t){return t.global.showOnlyWatchedTraders})),l="settings-block";return r&&(l+=" flex-vertical-block"),(0,Qm.jsxs)("div",{className:l,style:{display:"block"},children:[(0,Qm.jsxs)(Nj,{condition:r,wrapper:function(t){return(0,Qm.jsx)("div",{className:"flex-vertical-block__header",children:t})},children:[(0,Qm.jsx)(sw,{text:(0,$.tr)("right_panel.social")}),(0,Qm.jsx)(gw,{currentTab:uw.$j.TAB_SETTINGS,onTabClickHandler:e})]}),(0,Qm.jsxs)(Nj,{condition:r,wrapper:function(t){return(0,Qm.jsx)("div",{className:"flex-vertical-block__body",children:t})},children:[(0,Qm.jsx)(Ij,{checked:i,onChange:function(){return n(Fp(!i))},children:(0,$.tr)("social_trades.social_trading")}),(0,Qm.jsx)(Ij,{checked:o,onChange:function(){return n((t=!o,{type:Rp.Ne,payload:{value:t}}));var t},children:(0,$.tr)("social_trades.whatchlisting_copied_bets")}),(0,Qm.jsx)(Ij,{checked:!a,onChange:function(){return n((t=!a,{type:Rp.TD,payload:{value:t}}));var t},children:(0,$.tr)("social_trades.hide_my_profile")}),(0,Qm.jsx)(Ij,{checked:s,onChange:function(){return n((t=!s,{type:Rp.bD,payload:{value:t}}));var t},children:(0,$.tr)("social_trades.hide_my_profile_watching")}),(0,Qm.jsx)(Ij,{checked:c,onChange:function(){return n(((t=!c)?bt.A.instance.enableOnlyWatchedTrades():bt.A.instance.disableOnlyWatchedTrades(),{type:Rp.Ck,payload:{value:t}}));var t},children:(0,$.tr)("social_trades.show_only_watched_traders")})]})]})};function Lj(t){return Lj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lj(t)}function Mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mj(Object(n),!0).forEach((function(e){Bj(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bj(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Lj(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Lj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lj(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hj=function(t){var e=t.currentTab,n=t.onTabClickHandler,r=(0,Lb.d4)(jf),i=(0,Lb.d4)((function(t){return t.global.isDemo})),o={onTabClickHandler:n};return(0,Qm.jsxs)(Nj,{condition:!r,wrapper:function(t){return(0,Qm.jsx)("div",{className:"main-tab-body tab-body",children:t})},children:[e===uw.$j.TAB_TOP_RANKED_24H&&(0,Qm.jsx)(Nw,Rj({},o)),e===uw.$j.TAB_TOP_RANKED&&(0,Qm.jsx)(Cw,Rj({},o)),e===uw.$j.TAB_SEARCH&&(0,Qm.jsx)(Zw,Rj({},o)),e===uw.$j.TAB_LIST_COPIED_TRADERS&&i&&(0,Qm.jsx)(Jw,Rj({},o)),e===uw.$j.TAB_LIST_COPIED_TRADERS&&!i&&(0,Qm.jsx)(rj,Rj({},o)),e===uw.$j.TAB_LIST_OF_TRADERS_WHO_COPY_ME&&(0,Qm.jsx)(dj,Rj({},o)),e===uw.$j.TAB_LIST_WATCHED_TRADERS&&(0,Qm.jsx)(mj,Rj({},o)),e===uw.$j.TAB_LIST_OF_TRADERS_WHO_WATCH_ME&&(0,Qm.jsx)(bj,Rj({},o)),e===uw.$j.TAB_SETTINGS&&(0,Qm.jsx)(Dj,Rj({},o))]})},$j=n(79106),Fj=n(33972);function Wj(t){return Wj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wj(t)}var Uj=["children","timeout","className","classNames"];function Vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vj(Object(n),!0).forEach((function(e){zj(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zj(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Wj(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Wj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wj(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yj=function(t){var e=t.children,n=t.timeout,r=void 0===n?1:n,i=t.className,o=void 0===i?"right-sidebar-modal":i,a=t.classNames,s=void 0===a?{enterDone:"active"}:a,c=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,Uj),l=(0,Xm.useRef)(null);return(0,Qm.jsx)($j.A,{component:null,appear:!0,children:(0,Qm.jsx)(Fj.A,{timeout:r,nodeRef:l,classNames:s,children:(0,Qm.jsx)("div",Gj(Gj({ref:l,className:o},c),{},{children:e}))})})},Xj=["children","onClickOutside","shouldCapture","chartId","setRef"];function qj(t){return qj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qj(t)}function Kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kj(Object(n),!0).forEach((function(e){rx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Jj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ix(r.key),r)}}function Qj(t,e,n){return e=ex(e),function(t,e){if(e&&("object"==qj(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,tx()?Reflect.construct(e,n||[],ex(t).constructor):e.apply(t,n))}function tx(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(tx=function(){return!!t})()}function ex(t){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ex(t)}function nx(t,e){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nx(t,e)}function rx(t,e,n){return(e=ix(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ix(t){var e=function(t,e){if("object"!=qj(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qj(e)?e:e+""}var ox=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return rx(t=Qj(this,e,[].concat(r)),"ref",(0,Xm.createRef)()),rx(t,"state",{isCapturing:!1,chartEl:null}),rx(t,"handleClickOutside",(function(e){var n=t.props,r=n.onClickOutside,i=n.ignoreClickElements;(void 0===i?["[data-toggle-dropdown=true]"]:i).some((function(t){return e.target.closest(t)}))||t.ref.current&&!t.ref.current.contains(e.target)&&(e.stopPropagation(),r(e))})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nx(t,e)}(e,t),function(t,e,n){return e&&Jj(t.prototype,e),n&&Jj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.chartId,r=e.shouldCapture,i=void 0===r||r,o=e.setRef;null!=n?this.setState({chartEl:document.getElementById(n)},(function(){i&&t.addListeners()})):i&&this.addListeners(),null!=o&&o(this.ref)}},{key:"componentDidUpdate",value:function(t){t.shouldCapture!==this.props.shouldCapture&&(this.props.shouldCapture&&!this.state.isCapturing&&this.addListeners(),!this.props.shouldCapture&&this.state.isCapturing&&this.removeListeners())}},{key:"componentWillUnmount",value:function(){this.state.isCapturing&&this.removeListeners()}},{key:"addListeners",value:function(){this.setState({isCapturing:!0}),document.addEventListener("mousedown",this.handleClickOutside);var t=this.state.chartEl;t&&t.addEventListener("touchstart",this.handleClickOutside)}},{key:"removeListeners",value:function(){this.setState({isCapturing:!1}),document.removeEventListener("mousedown",this.handleClickOutside);var t=this.state.chartEl;t&&t.removeEventListener("touchstart",this.handleClickOutside)}},{key:"render",value:function(){var t=this.props,e=t.children,n=(t.onClickOutside,t.shouldCapture,t.chartId,t.setRef,function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,Xj));return(0,Qm.jsx)("div",Zj(Zj({ref:this.ref},n),{},{children:e}))}}])}(Xm.Component);ox.propTypes={onClickOutside:Jm().func.isRequired,shouldCapture:Jm().bool,chartId:Jm().string,setRef:Jm().func};var ax=ox,sx=ax;function cx(t){return cx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cx(t)}function lx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ux(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lx(Object(n),!0).forEach((function(e){dx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dx(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=cx(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=cx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cx(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fx(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return hx(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hx(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hx(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var px=Rg((function(t){var e=t.onClickOutside,n=(0,Lb.d4)(xf),r=fx((0,Xm.useState)(n?uw.$j.TAB_TOP_RANKED:uw.$j.TAB_TOP_RANKED_24H),2),i=r[0],o=r[1],a=(0,Lb.d4)(jf),s=a?{className:"right-sidebar-modal__overlay"}:{id:"sc-modal",className:"right-sidebar-modal sc-modal"};return(0,Qm.jsx)(Yj,ux(ux({},s),{},{children:(0,Qm.jsx)(Nj,{condition:a,wrapper:function(t){return(0,Qm.jsx)(sx,{onClickOutside:e(qo.lx.SOCIAL_TRADING),className:"right-sidebar-modal sc-modal",children:t})},children:(0,Qm.jsx)("div",{className:"tab-wrap",children:(0,Qm.jsx)(Hj,{currentTab:i,onTabClickHandler:function(t){return function(){return o(t)}}})})})}))})),mx=function(t){var e=t.count,n=void 0===e?null:e,r=t.icon,i=void 0===r?null:r,o=t.type,a=void 0===o?null:o,s=!1;return null!==n&&(s=n>0),null===n&&null!==i&&(s=!0),(0,Qm.jsxs)("div",{className:(0,Km.A)("counter",a&&"counter--".concat(a," js-counter--").concat(a),s&&"animated zoomIn",!s&&"animated zoomOut"),children:[null!==i&&(0,Qm.jsx)("span",{className:"counter__icon",children:i}),null!==n&&(0,Qm.jsx)("span",{className:"counter__number",children:n})]})},yx=mx,vx=(0,Lb.Ng)((function(t){var e=t.global,n=t.counters;return{showTooltip:!e.isMobile&&e.enabledTooltipMessage,socialTradingListOfCopiedCount:n[cw.pt]}}))((function(t){var e=t.showTooltip,n=t.socialTradingListOfCopiedCount,r=t.menuClick;return(0,Qm.jsxs)("a",{className:(0,Km.A)("js-social-trading",e&&"tooltip2"),onClick:r,children:[(0,Qm.jsx)("i",{className:"fa fa-users"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("chart_settings.social_trading")}),n>0&&(0,Qm.jsx)("div",{className:"counter-wrap",children:(0,Qm.jsx)(yx,{count:n,type:cw.pt})}),e&&(0,Qm.jsx)(nw,{position:"left",children:(0,Qm.jsxs)(Qm.Fragment,{children:[(0,$.tr)("chart_settings.social_trading"),(0,Qm.jsx)("br",{}),(0,$.tr)("right_panel.social_trading_tooltip")]})})]})})),bx=(0,Lb.Ng)((function(t){return{isOpen:t.modals.states[qo.lx.SOCIAL_TRADING]}}))((function(t){var e=t.isOpen,n=t.clickHandler;return(0,Qm.jsxs)("li",{className:(0,Km.A)(e&&"active open-menu"),children:[(0,Qm.jsx)(vx,{menuClick:n}),e&&(0,Qm.jsx)(px,{})]})})),gx=n(83732),wx=n.n(gx);wx().defaultStyles.content={},wx().defaultStyles.overlay={};var jx=function(t){var e=t.children,n=t.isOpen,r=t.onRequestClose,i=t.className,o=void 0===i?"Refactor":i;return(0,Qm.jsx)(wx(),{isOpen:n,onRequestClose:r,ariaHideApp:!1,closeTimeoutMS:200,className:o,children:e})};function xx(t){return xx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xx(t)}function _x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_x(Object(n),!0).forEach((function(e){Ox(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ox(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=xx(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xx(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kx=function(t){var e=t.isOpen,n=void 0===e||e,r=t.onRequestClose,i=t.className,o=void 0===i?"":i,a=t.showCloseButton,s=void 0===a||a,c=t.children,l=t.captureClickOutside,u=void 0!==l&&l,d=u?ax:"div",f={className:"".concat(o," zoom-anim-dialog po-modal")};return u&&(f.onClickOutside=r),(0,Qm.jsx)(jx,{isOpen:n,onRequestClose:r,children:(0,Qm.jsxs)(d,Sx(Sx({},f),{},{children:[c,s&&(0,Qm.jsx)("a",{className:"modal-close",onClick:r,children:(0,Qm.jsx)("svg",{className:"svg-icon modal-close-icon",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Qm.jsx)("path",{d:"M10.3432 7.5L14.6075 3.23565C15.1308 2.71236 15.1308 1.86392 14.6075 1.3402L13.6598 0.392472C13.1365 -0.130824 12.2881 -0.130824 11.7643 0.392472L7.5 4.65682L3.23565 0.392472C2.71236 -0.130824 1.86392 -0.130824 1.3402 0.392472L0.392472 1.3402C-0.130824 1.86349 -0.130824 2.71193 0.392472 3.23565L4.65682 7.5L0.392472 11.7643C-0.130824 12.2876 -0.130824 13.1361 0.392472 13.6598L1.3402 14.6075C1.86349 15.1308 2.71236 15.1308 3.23565 14.6075L7.5 10.3432L11.7643 14.6075C12.2876 15.1308 13.1365 15.1308 13.6598 14.6075L14.6075 13.6598C15.1308 13.1365 15.1308 12.2881 14.6075 11.7643L10.3432 7.5Z"})})})]}))})},Tx=n(21575),Ax=(0,Qm.jsx)(Tx.A,{src:"/themes/cabinet/images/modal/hotkeys-modal/btn-shift-arrow-icon.svg"}),Cx=[{char:"W",text:(0,$.tr)("hotkeys.higher")+" ("+(0,$.tr)("hotkeys.new_trade")+")"},{char:"S",text:(0,$.tr)("hotkeys.lower")+" ("+(0,$.tr)("hotkeys.new_trade")+")"},{char:"A",text:(0,$.tr)("hotkeys.dec_bet")},{char:"D",text:(0,$.tr)("hotkeys.inc_bet")},{char:"Tab",text:(0,$.tr)("hotkeys.next_fav")}],Px=function(t){var e=t.onRequestClose,n=(0,Lb.wA)(),r=(0,Lb.d4)((function(t){return t.global.enabledHotKeys})),i=(0,Lb.d4)((function(t){return t.chartSettings.visibleChartIds.length>1})),o=r&&!i,a=(0,Lb.d4)((function(t){return t.global.theme}));return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"title",children:[(0,$.tr)("hotkeys.title"),(0,Qm.jsxs)("span",{className:o?"active":"inactive",children:["[",(0,$.tr)(o?"active":"inactive"),"]"]})]}),(0,Qm.jsxs)(Xg,{children:[i&&(0,Qm.jsxs)("div",{className:"message notification-message message-warning",children:[(0,$.tr)("hotkeys.multigraph_tooltip"),"."]}),(0,Qm.jsx)("div",{className:"img-wrap",children:(0,Qm.jsx)("img",{srcSet:"/themes/cabinet/images/modal/hotkeys-modal/img-".concat(a,".jpg?v=1 1x, /themes/cabinet/images/modal/hotkeys-modal/img-").concat(a,"@2x.jpg?v=1 2x"),src:"/themes/cabinet/images/modal/hotkeys-modal/img-".concat(a,".jpg?v=1"),alt:""})}),(0,Qm.jsx)("div",{className:"buttons",children:Cx.map((function(t,e){return(0,Qm.jsxs)("div",{className:(0,Km.A)("buttons__line","Tab"===t.char&&"char-tab"),children:[(0,Qm.jsxs)("div",{className:"buttons__button button",children:[Ax," Shift"]}),(0,Qm.jsx)("div",{className:"buttons__plus",children:"+"}),(0,Qm.jsx)("div",{className:"buttons__button button",children:t.char}),(0,Qm.jsx)("div",{className:"buttons__text",children:t.text})]},e)}))}),!i&&(0,Qm.jsxs)("div",{className:"btn-wrap",children:[o&&(0,Qm.jsx)("a",{onClick:function(){n($p(!1)),e()},className:"btn btn-danger-light",children:(0,$.tr)("hotkeys.deactivate")}),!o&&(0,Qm.jsx)("a",{onClick:function(){n($p(!0)),e()},className:"btn btn-green-light",children:(0,$.tr)("hotkeys.activate")})]})]})]})},Ex=function(t){var e=t.isOpen,n=t.onRequestClose;return(0,Qm.jsx)(kx,{isOpen:e,onRequestClose:n,className:"hotkeys-modal",children:(0,Qm.jsx)(Px,{onRequestClose:n})})};function Ix(t,e){0!==Nx(t).length&&Aa({event:"gtm_events",ga4_event_name:"right_menu__".concat(Nx(t)),event_value:e?1:0})}function Nx(t){switch(t){case qo.lx.DEALS_WIDGET:return"trades";case qo.lx.SIGNALS:return"signals";case qo.lx.SOCIAL_TRADING:return"social_trading";case qo.lx.EXPRESSES:return"express_trades";case qo.lx.TOURNAMENTS:return"tournaments";case qo.lx.PENDING_ORDERS:return"pending_trades";case"hotkeys":case"full_screen":return t;default:return t.replace("-modal","").replace("-modal-widget","")}}function Dx(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Lx(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lx(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lx(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Mx=(0,Lb.Ng)((function(t){var e=t.chartSettings,n=t.global;return{showTooltip:!n.isMobile&&n.enabledTooltipMessage,showEnabledIndicator:!n.isMobile&&n.enabledHotKeys&&1===e.visibleChartIds.length}}))((function(t){var e=t.showEnabledIndicator,n=t.showTooltip,r=Dx((0,Xm.useState)(!1),2),i=r[0],o=r[1];return(0,Qm.jsxs)("li",{children:[(0,Qm.jsxs)("a",{onClick:function(){o(!0),Ix("hotkeys",!0)},className:(0,Km.A)("hotkeys-icon",n&&"tooltip2"),children:[(0,Qm.jsx)("i",{className:"fa fa-keyboard-o"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("right_panel.hotkeys")}),n&&(0,Qm.jsx)(nw,{position:"left",children:(0,Qm.jsxs)(Qm.Fragment,{children:[(0,$.tr)("right_panel.hotkeys"),(0,Qm.jsx)("br",{}),(0,$.tr)("right_panel.hotkeys_settings")]})}),e&&(0,Qm.jsx)("span",{className:"on"})]}),(0,Qm.jsx)(Ex,{isOpen:i,onRequestClose:function(){o(!1),Ix("hotkeys",!1)}})]})})),Rx=Mx,Bx=function(){var t=function(){Ix("full_screen",document.fullscreenElement)};return(0,Xm.useEffect)((function(){return document.addEventListener("fullscreenchange",t),function(){document.removeEventListener("fullscreenchange",t)}}),[]),(0,Qm.jsxs)("a",{onClick:function(){var t=window.document,e=t.documentElement,n=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen,r=t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen,i=t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement;try{i?r&&r.call(t):n&&n.call(e)}catch(o){}},children:[(0,Qm.jsx)("i",{className:"fa fa-arrows-alt"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("right_panel.full_screen")})]})},Hx=(0,Lb.Ng)((function(t){var e=t.global,n=t.expresses;return{showTooltip:!e.isMobile&&e.enabledTooltipMessage,countOpened:n.opened.expressIds.length}}))((function(t){var e=t.menuClick,n=t.showTooltip,r=t.countOpened;return(0,Qm.jsxs)("a",{onClick:e,className:(0,Km.A)(n&&"tooltip2"),children:[(0,Qm.jsx)("i",{className:"fa fa-bullseye"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("right_panel.express_trades")}),r>0&&(0,Qm.jsx)("div",{className:"counter-wrap",children:(0,Qm.jsx)(yx,{count:r,type:cw.Si})}),n&&(0,Qm.jsx)(nw,{position:"left",children:(0,Qm.jsxs)(Qm.Fragment,{children:[(0,$.tr)("right_panel.express_trades"),(0,Qm.jsx)("br",{}),(0,$.tr)("right_panel.express_tooltip")]})})]})})),$x=n(39155),Fx=n.n($x);function Wx(t){return function(t){if(Array.isArray(t))return Vx(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ux(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ux(t,e){if(t){if("string"==typeof t)return Vx(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vx(t,e):void 0}}function Vx(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Gx=function(t){return t.expresses.opened.dealById},zx=function(t){return t.expresses.opened.dealIds},Yx=function(t){return t.expresses.closed.dealById},Xx=function(t){return t.expresses.closed.dealIds},qx=function(t){return t.expresses.new.assetSymbols},Kx=function(t){return t.expresses.isClosedExpressesRequested},Zx=function(t,e){return e.symbol},Jx=(0,hf.Mz)([Xx,Yx],(function(t,e){return function(n){var r=t.filter((function(t){return e[t].expressId===n})).map((function(t){return e[t].closeTimestamp}));return r.sort((function(t,e){return e-t})),r.length>0?r[0]:""}})),Qx=(0,hf.Mz)([qx,vf.rZ,Gx,zx,Yx,Xx,Gu.Ln],(function(t,e,n,r,i,o,a){if(!a)return[];var s=new Set([]),c=r.map((function(t){return n[t].asset}));return[].concat(Wx(t),Wx(c)).forEach((function(t){var n=e(t),r=n.label;n.is_otc?s.add(t):(0,Hf.an)(r).forEach((function(t){return s.add(t)}))})),Wx(s)})),t_=(0,hf.Mz)([qx,vf.rZ],(function(t,e){var n=t.map((function(t){return e(t).payout}));return(0,iu.O7)(n)})),e_=(0,hf.Mz)([Gu.tv,Gu.Ny],(function(t,e){return!e&&(t[qo.lx.DEALS_WIDGET]||t[qo.lx.SIGNALS_WIDGET])})),n_=(0,hf.Mz)([function(t){return t.expresses.opened.expressById},Gx,zx,pf],(function(t,e,n,r){return function(i){if(!t[i])return 1;var o=n.filter((function(t){return e[t].expressId===i&&e[t].status!==ou.AY.LOOSE})).map((function(t){return e[t]}));if(!o.length)return 1;var a=1;o.map((function(t){return t.percentProfit})).forEach((function(t){return a*=1+t/100}));var s,c=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ux(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(o);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(l.status===ou.AY.NEW){var u=r[l.asset];if(!u)return 1;var d=u.price;if(d===l.openPrice)a/=1+l.percentProfit/100;else{var f=(0,iu.nT)(l.command)&&d>l.openPrice,h=!(0,iu.nT)(l.command)&&d<l.openPrice;if(!f&&!h)return 1}}l.status===ou.AY.REFUND&&(a/=1+l.percentProfit/100)}}catch(p){c.e(p)}finally{c.f()}return(0,ru.xr)(a,2)}})),r_=(0,Lb.Ng)((function(t){var e=t.expresses;return{currentTime:t.global.currentTime,expirationTimesByTimeframe:e.expirationTimes.byTimeframe}}))((function(t){var e=t.currentTime,n=t.timeframe,r=t.expirationTimesByTimeframe[n];if(!r)return null;var i=(0,ij.Rt)(r.fromTimestamp-e),o=t.className,a=void 0===o?"timeframe__block timeframe":o,s=t.tagName,c=void 0===s?"span":s,l=t.onClick,u=void 0===l?null:l,d=c,f=(0,ij.pZ)(n),h=f.prefix,p=f.period;return(0,Qm.jsxs)(d,{className:a,onClick:u,children:["".concat(h).concat(p)," ",i]})})),i_=n(78561),o_=n.n(i_),a_=(0,Xm.createContext)("chartId"),s_=(0,Xm.createContext)("chartSlotIndex"),c_=function(){var t=(0,Xm.useContext)(a_);if(!t)throw new Error("useChartId must be used within ChartIdContext.Provider");return t},l_=function(){var t=(0,Xm.useContext)(s_);if(!t)throw new Error("useChartId must be used within ChartSlotIndexContext.Provider");return t};function u_(t){return u_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u_(t)}function d_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f_(t,e,n){return(e=p_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p_(r.key),r)}}function p_(t){var e=function(t,e){if("object"!=u_(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=u_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u_(e)?e:e+""}function m_(t,e,n){return e=v_(e),function(t,e){if(e&&("object"==u_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,y_()?Reflect.construct(e,n||[],v_(t).constructor):e.apply(t,n))}function y_(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(y_=function(){return!!t})()}function v_(t){return v_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v_(t)}function b_(t,e){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b_(t,e)}function g_(t,e,n,r){var i=function(n){function i(n,o){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(a=m_(this,i,[n,o])).mapStateToProps=t?function(e,n){return t(e,n,o)}:null,a.mapDispatchToProps="function"==typeof e?function(t,n){return e(t,n,o)}:e,a.component=(0,Lb.Ng)(a.mapStateToProps,a.mapDispatchToProps)(r),a.shouldComponentUpdate=a.component.shouldComponentUpdate,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b_(t,e)}(i,n),function(t,e,n){return e&&h_(t.prototype,e),n&&h_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(i,[{key:"render",value:function(){var t=this.component;return(0,Qm.jsx)(t,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d_(Object(n),!0).forEach((function(e){f_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.props))}}])}(Xm.Component);return i.contextType=n,i}function w_(t,e,n){return function(r){return g_(t,e,n,r)}}var j_=w_((function(t,e,n){var r=t.expresses,i=t.global;return{asset:(0,vf.rZ)(t)(e.symbol),currentTime:i.currentTime,expirationTimesByTimeframe:r.expirationTimes.byTimeframe,expirationTimeTimeframes:r.expirationTimes.allTimeframes,chartId:n}}),null,a_)((function(t){var e=t.asset,n=t.timeframeClicked,r=t.currentTime,i=t.handleOnClickOutside,o=t.isOpen,a=t.currentTimeframe,s=t.expirationTimesByTimeframe,c=t.expirationTimeTimeframes,l=t.chartId;if(!c.length)return null;var u=function(t){return function(){return n(t)}},d=o_()(e.timeframes,e.timeframes.length/2),f=(0,Xm.useCallback)((function(t){if(null!==t&&o){var e=t.getBoundingClientRect().height;t.getBoundingClientRect().top+e+20>window.innerHeight&&setTimeout((function(){return t.style.top="-".concat(e+5,"px")}),0)}}),[o]);return(0,Qm.jsx)($j.A,{component:null,children:o&&(0,Qm.jsx)(Fj.A,{timeout:1,nodeRef:f,children:(0,Qm.jsx)(sx,{onClickOutside:i,shouldCapture:o,chartId:l,children:(0,Qm.jsxs)("div",{className:"timeframe__list-wrap",ref:f,children:[(0,Qm.jsx)("div",{className:"timeframe__title",children:(0,$.tr)("chart_settings.deadline_time")}),(0,Qm.jsx)("div",{className:"timeframe__list",children:d.map((function(t,e){return(0,Qm.jsx)("div",{className:"timeframe__col",children:t.map((function(t){var e=t.time,n=s[e],i=n.timeframe,o=n.fromTimestamp-r,c=i===a;return(0,Qm.jsx)("a",{className:(0,Km.A)("timeframe__item",c&&"selected"),onClick:u(e),children:(0,ij.Rt)(o)},e)}))},"col-".concat(e))}))})]})})})})}));function x_(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return __(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?__(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function __(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var S_=(0,Qm.jsx)(Rb.k,{className:"svg-icon-wrap",src:"/themes/cabinet/svg/icons/btn-buy.svg?v=1"}),O_=(0,Qm.jsx)(Rb.k,{className:"svg-icon-wrap",src:"/themes/cabinet/svg/icons/btn-sell.svg?v=1"}),k_=function(t){var e=t.symbol,n=t.isFirst,r=x_((0,Xm.useState)(!1),2),i=r[0],o=r[1],a=x_((0,Xm.useState)(60),2),s=a[0],c=a[1],l=(0,Lb.wA)(),u=(0,Lb.d4)((function(t){return(0,vf.rZ)(t)(e)})),d=u.label,f=u.payout,h=(0,Lb.d4)((function(t){return Qx(t)})),p=(0,Lb.d4)((function(t){return t.expresses.new.assetSymbols})),m=p.includes(e)||h.includes(e)||Fx()(h,(0,Hf.an)(d)).length>0,y=function(t){m||l(function(t){var e=t.symbol,n=t.actionType,r=t.timeframe;return{type:ou.EV,payload:{symbol:e,actionType:n,timeframe:r}}}({symbol:e,actionType:t,timeframe:s}))};return(0,Qm.jsxs)("div",{className:(0,Km.A)("asset-item",n&&"first",i&&"list-opened",m&&"blocked"),children:[(0,Qm.jsx)("div",{className:"asset-item__l",children:(0,Qm.jsx)("a",{className:(0,Km.A)("asset-item__call btn-call",m&&"disabled"),onClick:function(){p.includes(e)||y(Gp.Jq)},children:S_})}),(0,Qm.jsxs)("div",{className:"asset-item__c",children:[(0,Qm.jsx)("div",{className:"asset-item__top",children:(0,Qm.jsxs)("div",{className:"asset-item__label",children:[d,(0,Qm.jsxs)("span",{className:"asset-item__percent price-up",children:["+",f,"%"]})]})}),(0,Qm.jsx)("div",{className:"asset-item__bottom",children:(0,Qm.jsxs)("div",{className:"timeframe__block timeframe",children:[(0,Qm.jsx)(r_,{className:"timeframe__current",tagName:"div",symbol:e,timeframe:s,onClick:function(){return o(!0)}}),(0,Qm.jsx)(j_,{timeframeClicked:function(t){o(!1),c(t)},handleOnClickOutside:function(){return o(!1)},isOpen:i,currentTimeframe:s,symbol:e})]})})]}),(0,Qm.jsx)("div",{className:"asset-item__r",children:(0,Qm.jsx)("a",{className:(0,Km.A)("asset-item__put btn-put",m&&"disabled"),onClick:function(){p.includes(e)||y(Gp.MY)},children:O_})})]})},T_=function(t){var e=t.searchTerm,n=t.isSearching,r=t.selectedAssetCategory,i=(0,Lb.d4)((function(t){return t.assets.symbols})),o=(0,Lb.d4)((function(t){return t.assets.assetBySymbol})),a=(0,Lb.d4)(vf.lw),s=i.filter((function(t){var i=o[t],s=i.active,c=i.label,l=i.type,u=i.is_otc;if(!s||!u||!a.includes(t))return!1;if(n){var d=e.toLowerCase().replace("/[^w]/g","");return c.toLowerCase().includes(d)||t.toLowerCase().includes(d)}return l===r})).map((function(t){return o[t]})).slice().sort((function(t,e){return t.payout===e.payout?0:e.payout-t.payout}));return(0,Qm.jsxs)(Qm.Fragment,{children:[s.map((function(t,e){var n=t.symbol;return(0,Qm.jsx)(k_,{isFirst:0===e,symbol:n},n)})),0===s.length&&(0,Qm.jsx)("div",{className:"not-found find-not-found",children:(0,$.tr)("expresses.not_found")})]})};function A_(t){var e=t.children,n=(0,Lb.d4)(Xf.AM),r=(0,ch.h7)(n,Ru.ol.MASTER),i=(0,tn.hX)("cabinet/deposit-step-1?amount=".concat(r));return(0,Qm.jsxs)("div",{className:"no-items-block",children:[(0,Qm.jsx)("div",{className:"message message-warning notification-message",style:{marginTop:"10px"},children:e}),(0,Qm.jsx)("div",{className:"button-wrapper",children:(0,Qm.jsx)("a",{className:"btn btn-green-light btn-block",href:i,children:(0,$.tr)("user_levels.acquire_level")})})]})}var C_=n(88441),P_=(0,Qm.jsx)(Tx.A,{src:"/themes/cabinet/images/modal/express-modal/delete-icon.svg",className:"svg-icon"}),E_=(0,Qm.jsx)(Tx.A,{src:"/themes/cabinet/images/modal/express-modal/buy-icon.svg",className:"svg-icon"}),I_=(0,Qm.jsx)(Tx.A,{src:"/themes/cabinet/images/modal/express-modal/sell-icon.svg",className:"svg-icon"}),N_=(0,Qm.jsx)(Tx.A,{src:"/themes/cabinet/images/modal/express-modal/notify-icon.svg",className:"svg-icon"}),D_=(0,Lb.Ng)((function(t,e){var n=t.assets,r=t.expresses,i=e.symbol,o=n.assetBySymbol[i],a=o.label,s=o.payout,c=r.new.assetBySymbol[i],l=c.actionType,u=c.timeframe;return{isCall:l===Gp.Jq,timeframe:u,expressAssetSymbols:r.new.assetSymbols,label:a,payout:s}}),(function(t){return(0,C_.zH)({removeExpressItem:Fm,changeSymbolOnFirstChart:Bh},t)}))((function(t){var e=t.symbol,n=t.isCall,r=t.timeframe,i=t.removeExpressItem,o=t.changeSymbolOnFirstChart,a=t.label,s=t.payout;return(0,Qm.jsxs)("div",{className:"added-asset-item",children:[(0,Qm.jsx)("div",{className:"added-asset-item__start",children:n?E_:I_}),(0,Qm.jsxs)("div",{className:"added-asset-item__text",children:[(0,Qm.jsxs)("div",{className:"added-asset-item__label",onClick:function(){return o(e)},children:[a,(0,Qm.jsxs)("div",{className:"added-asset-item__percent price-up",children:["+",s,"%"]})]}),(0,Qm.jsxs)("div",{className:"added-asset-item__time",children:[(0,$.tr)("chart_settings.deadline_time"),": ",(0,Qm.jsx)(r_,{symbol:e,timeframe:r})]})]}),(0,Qm.jsx)("div",{className:"added-asset-item__end",children:(0,Qm.jsx)("a",{onClick:function(){u.A.publish(Hn.nS),i(e)},children:P_})})]})})),L_=(0,Lb.Ng)((function(t){return{expressAssetSymbols:t.expresses.new.assetSymbols}}))((function(t){return t.expressAssetSymbols.map((function(t){return(0,Qm.jsx)(D_,{symbol:t},t)}))}));function M_(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return R_(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R_(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var B_=function(){var t=(0,Lb.wA)(),e=(0,Lb.d4)((function(t){return t.global.isDemo})),n=(0,Lb.d4)((function(t){return t.global.balance})),r=(0,Lb.d4)(Xf.Oi),i=(0,Lb.d4)(Xf.PK),o=(0,Lb.d4)((function(t){return t.expresses.new.assetSymbols})),a=(0,Lb.d4)((function(t){return t.assets.assetBySymbol})),s=(0,Lb.d4)((function(t){return t.expresses.new.amount})),c=(0,Lb.d4)((function(t){return t.expresses.isConfirming})),l=(0,Lb.d4)(Oh),d=(0,Lb.d4)((function(t){return t_(t)})),f=M_((0,Xm.useState)((0,ru.xr)(s*d)),2),h=f[0],p=f[1],m=o.map((function(t){return a[t].payout})).reduce((function(t,e){return t+e}),1);(0,Xm.useEffect)((function(){p((0,ru.xr)(s*d))}),[o,s,m]);var v=M_((0,Xm.useState)(gn(s)),2),b=v[0],g=v[1],w=function(e,i){var o=String(e);"0"!==b||i||2!==o.length||"0"!==o.substring(1)||(o=o.substring(0,1)),o.includes(".")||(o=o.replace(/^0+/,""));var a=(0,ru.He)(r),s=Ly({value:o,min:a,max:(0,ch.Ew)(n,(0,ru.jp)({amount:l,currency:r})),fixValue:i,defaultValue:a,replaceCommasToDots:!1,precision:2});(Dy(s)||isNaN(s))&&(s=0);var c=gn(s);g(c),i&&t(function(t){return{type:ou.FR,payload:t}}(s))},j=null==s||Number.isNaN(s)?0:s,x=o.length<Ru.Ay.EXPRESS.MIN_DEALS||j<=0,_=e||(0,ch.HI)(i),S=(0,iu.T$)(d);return(0,Qm.jsxs)(Qm.Fragment,{children:[!_&&(0,Qm.jsx)(A_,{children:(0,$.tr)("expresses.low_balance",'"'.concat((0,$.tr)("user_levels.2"),'"'))}),_&&o.length>0&&(0,Qm.jsxs)("div",{className:"new-tab__content",children:[(0,Qm.jsx)(L_,{}),o.length>=Ru.Ay.EXPRESS.MIN_DEALS&&(0,Qm.jsxs)("div",{className:"add-form",children:[(0,Qm.jsx)("div",{className:"add-form__item",children:(0,Qm.jsxs)("div",{className:"form-group",children:[(0,Qm.jsxs)("label",{htmlFor:"amount",children:[(0,$.tr)("control_panel.bid_amount"),":"]}),(0,Qm.jsxs)("div",{className:"input-group",children:[(0,Qm.jsx)("input",{id:"amount",autoComplete:"off",type:"text",name:"amount",className:"form-control",value:b,onChange:function(t){return w(t.target.value,!1)},onBlur:function(t){return w(t.target.value,!0)}}),(0,Qm.jsx)("span",{className:"input-group-addon fs_amount_sub_text",children:(0,hn.AR)(r)})]})]})}),(0,Qm.jsxs)("div",{className:"add-form__item add-form-info",children:[(0,Qm.jsxs)("div",{className:"add-form-info__item",children:[(0,Qm.jsx)("div",{className:"add-form-info__label",children:(0,$.tr)("expresses.total_payout")}),(0,Qm.jsxs)("div",{className:"add-form-info__value price-up",children:[S>0?"+":"",S,"%"]})]}),(0,Qm.jsxs)("div",{className:"add-form-info__item",children:[(0,Qm.jsx)("div",{className:"add-form-info__label",children:(0,$.tr)("expresses.possible_profit")}),(0,Qm.jsx)("div",{className:"add-form-info__value price-up",children:(0,hn.ej)(h-s,r)})]})]}),(0,Qm.jsx)("div",{className:"add-form__item",children:(0,Qm.jsxs)("button",{disabled:x||c,onClick:function(){return t(function(t){return function(e,n){var r=n();if((0,Xf.Hf)(r))return u.A.publish(y.FI);e({type:ou.YS,payload:t})}}(s))},className:"btn ".concat(x?"btn-danger-light":"btn-green-v2"),children:[c&&(0,Qm.jsxs)(Qm.Fragment,{children:["".concat((0,$.tr)("expresses.confirming")," "),(0,Qm.jsx)("i",{className:"fa fa-spinner fa-spin fa-fw"})]}),!c&&(0,$.tr)("expresses.confirm")]})})]})]}),_&&o.length<Ru.Ay.EXPRESS.MIN_DEALS&&(0,Qm.jsx)(Qm.Fragment,{children:(0,Qm.jsx)("div",{className:"no-items-block",children:(0,Qm.jsxs)("div",{className:"msg-block",children:[(0,Qm.jsx)("div",{className:"msg-block__icon",children:N_}),(0,$.tr)("expresses.no_items",Ru.Ay.EXPRESS.MIN_DEALS)]})})})]})},H_=(0,Lb.Ng)((function(t){return{currentTime:t.global.currentTime}}))((function(t){var e=t.currentTime,n=t.openTimestamp,r=t.closeTimestamp,i=r-e,o=r-n,a=Math.min(100,(0,ru.xr)(100-i/o*100));return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"progress",children:(0,Qm.jsx)("div",{className:"progress-bar",style:{width:"".concat(a,"%")}})}),(0,Qm.jsx)("span",{className:"to-expiration-time",children:(0,ij.Rt)(i)})]})})),$_=function(t){var e=t.deal,n=(0,Lb.d4)((function(t){return(0,vf.P7)(t)(e.asset)})),r=e.openPrice,i=e.percentProfit,o=e.closeTimestamp,a=e.openTimestamp,s=e.command,c=e.status,l=e.closePrice,u=void 0===l?"":l,d="price-".concat((0,iu.nT)(s)?"up":"down"),f="fa ".concat((0,iu.nT)(s)?"fa-caret-up":"fa-caret-down"),h=c!==ou.AY.NEW,p=c===ou.AY.WIN,m=c===ou.AY.LOOSE,y=function(){var t="".concat(r).concat(h?"/".concat(u):"");return p||m?(0,Qm.jsx)("div",{className:(0,Km.A)(p&&"price-up",m&&"price-down"),children:t}):t};return(0,Qm.jsxs)("div",{className:"deals__item item",children:[(0,Qm.jsxs)("div",{className:"item__top",children:[(0,Qm.jsxs)("div",{className:"item__col flex flex-aic",children:[(0,Qm.jsx)("span",{className:d,children:(0,Qm.jsx)("i",{className:f})}),(0,Qm.jsx)("div",{className:(0,Km.A)("item__label",!h&&"crop-text"),children:null!=n?n:e.asset}),(0,Qm.jsxs)("div",{className:"item__percent-profit price-up",children:[i>0?"+":"",i,"%"]})]}),!h&&(0,Qm.jsx)("div",{className:"item__col item__col--progress flex flex-aic",children:(0,Qm.jsx)(H_,{openTimestamp:a,closeTimestamp:o})}),h&&(0,Qm.jsx)("div",{className:"item__col text-right",children:y()})]}),!h&&(0,Qm.jsxs)("div",{className:"item__bottom",children:[(0,Qm.jsxs)("div",{className:"item__col",children:[(0,Qm.jsx)("div",{className:"item__k",children:(0,$.tr)("expresses.open_price")}),(0,Qm.jsx)("div",{className:"item__v",children:y()})]}),(0,Qm.jsxs)("div",{className:"item__col text-right",children:[(0,Qm.jsx)("div",{className:"item__k",children:(0,$.tr)("expresses.current_price")}),(0,Qm.jsx)("div",{className:"item__v",children:"???????"})]})]})]})};function F_(t){var e=t.expressId,n=(0,Xm.useMemo)((function(){return function(t){return(0,hf.Mz)([Xx,Yx],(function(e,n){return e.filter((function(e){return n[e].expressId===t})).map((function(t){return n[t]}))}))}(e)}),[e]);return(0,Lb.d4)(n).map((function(t){return(0,Qm.jsx)($_,{deal:t},t.id)}))}var W_=function(t){var e=t.expressId,n=t.isOpen,r=(0,Lb.wA)(),i=(0,Lb.d4)((function(t){return t.expresses.closed.expressById[e]})),o=(0,Lb.d4)((function(t){return Jx(t)(e)})),a=i.amount,s=i.factor,c=i.status,l=i.currency,u=(0,ru.xr)(a*s)-a;u<0&&(u=0);var d,f=c===ou.m3.WIN,h=c===ou.m3.REFUND,p=(f||h?u:0).toFixed(2),m=(0,iu.T$)(s),y=(0,ij.ow)(i.openTimestamp),v=o?(0,ij.ow)(o):"";return(0,Qm.jsxs)("div",{className:"ei",children:[(0,Qm.jsxs)("div",{onClick:(d=n?null:e,function(){return r(Um(d))}),className:"ei__short-info short-info",children:[(0,Qm.jsxs)("div",{className:"short-info__col",children:[(0,Qm.jsxs)("div",{className:"short-info__k",children:[(0,$.tr)("expresses.amount"),":"]}),(0,Qm.jsx)("div",{className:"short-info__v",children:(0,hn.ej)(a,l)})]}),(0,Qm.jsxs)("div",{className:"short-info__col",children:[(0,Qm.jsxs)("div",{className:"short-info__k",children:[(0,$.tr)("expresses.total_payout"),":"]}),(0,Qm.jsxs)("div",{className:"short-info__v",children:[m>0?"+":"",m,"%"]})]}),(0,Qm.jsxs)("div",{className:"short-info__col text-right",children:[(0,Qm.jsxs)("div",{className:"short-info__k",children:[(0,$.tr)("expresses.profit"),":"]}),(0,Qm.jsxs)("div",{className:(0,Km.A)("short-info__v",f&&"price-up"),children:[f?"+":"",(0,hn.ej)(p,l)]})]})]}),n&&(0,Qm.jsxs)("div",{className:"ei__deals deals",children:[(0,Qm.jsxs)("div",{className:"deals__id",children:[(0,Qm.jsxs)("div",{children:[(0,$.tr)("expresses.express")," #"]})," ",e]}),(0,Qm.jsxs)("div",{className:"deals__times flex flex-aic flex-jcsb",children:[(0,Qm.jsxs)("div",{className:"deals__open-time",children:[(0,Qm.jsx)("div",{children:(0,$.tr)("expresses.open_time")})," ",y]}),(0,Qm.jsxs)("div",{className:"deals__close-time text-right",children:[(0,Qm.jsx)("div",{children:(0,$.tr)("expresses.close_time")})," ",v]})]}),(0,Qm.jsx)(F_,{expressId:e})]})]})},U_=(0,Xm.memo)(W_),V_=function(){var t=(0,Lb.wA)(),e=(0,Lb.d4)((function(t){return t.expresses.closed.expressIds})),n=(0,Lb.d4)((function(t){return t.global.isDemo})),r=(0,Lb.d4)((function(t){return t.expresses.selectedExpresses})),i=(0,Lb.d4)(xf),o=(0,Lb.d4)(Kx);return(0,Xm.useEffect)((function(){o||t((bt.A.instance.loadClosedExpresses(),function(t){t({type:ou.OU})}))}),[]),(0,Qm.jsxs)(Qm.Fragment,{children:[0===e.length&&o&&(0,Qm.jsx)("div",{className:"no-items-block",children:(0,Qm.jsxs)("div",{className:"msg-block",children:[(0,Qm.jsx)("div",{className:"msg-block__icon",children:N_}),(0,$.tr)("expresses.no_closed")]})}),e.length>0&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"ei-list",children:e.map((function(t){return(0,Qm.jsx)(U_,{expressId:t,isOpen:r===t},t)}))}),!i&&(0,Qm.jsx)("div",{className:"more-btn",children:(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet/".concat(n?"demo-":"","express-history/")),className:"btn btn-primary btn-block",children:(0,$.tr)("more")})})]})]})},G_=function(t){var e=t.deal,n=(0,Lb.d4)((function(t){return(0,vf.P7)(t)(e.asset)})),r=(0,Lb.d4)((function(t){return mf(t)(e.asset)})),i=(0,Lb.d4)((function(t){return(0,vf.L5)(t)(e.asset)})),o=e.openPrice,a=e.percentProfit,s=e.closeTimestamp,c=e.openTimestamp,l=e.command,u=e.status,d=e.closePrice,f=void 0===d?"":d,h=(0,iu.nT)(l),p="price-".concat(h?"up":"down"),m="fa ".concat(h?"fa-caret-up":"fa-caret-down"),y=u!==ou.AY.NEW,v=u===ou.AY.WIN,b=u===ou.AY.LOOSE,g=h&&o<r||!h&&o>r,w="";return g&&(w="price-up"),g||o===r||(w="price-down"),(0,Qm.jsxs)("div",{className:"deals__item item",children:[(0,Qm.jsxs)("div",{className:"item__top",children:[(0,Qm.jsxs)("div",{className:"item__col flex flex-aic",children:[(0,Qm.jsx)("span",{className:p,children:(0,Qm.jsx)("i",{className:m})}),(0,Qm.jsx)("div",{className:"item__label crop-text",children:n}),(0,Qm.jsxs)("div",{className:"item__percent-profit price-up",children:[a>0?"+":"",a,"%"]})]}),!y&&(0,Qm.jsx)("div",{className:"item__col item__col--progress flex flex-aic",children:(0,Qm.jsx)(H_,{openTimestamp:c,closeTimestamp:s})})]}),(0,Qm.jsxs)("div",{className:"item__bottom",children:[(0,Qm.jsxs)("div",{className:"item__col",children:[(0,Qm.jsx)("div",{className:"item__k",children:(0,$.tr)("expresses.open_price")}),(0,Qm.jsx)("div",{className:(0,Km.A)("item__v",v&&"price-up",b&&"price-down"),children:"".concat((0,ru.xr)(o,i,!0)).concat(y?"/".concat((0,ru.xr)(f,i,!0)):"")})]}),(0,Qm.jsxs)("div",{className:"item__col text-right",children:[(0,Qm.jsx)("div",{className:"item__k",children:(0,$.tr)("expresses.current_price")}),(0,Qm.jsx)("div",{className:(0,Km.A)("item__v",w),children:(0,ru.xr)(r,i,!0)})]})]})]})},z_=function(t){var e,n=t.expressId,r=(0,Lb.wA)(),i=(0,Xm.useMemo)((function(){return function(t){return(0,hf.Mz)([zx,Gx],(function(e,n){return e.filter((function(e){return n[e].expressId===t})).map((function(t){return n[t]}))}))}(n)}),[n]),o=(0,Lb.d4)(i),a=(0,Lb.d4)((function(t){return t.expresses.opened.expressById[n]})),s=(0,Lb.d4)((function(t){return t.expresses.selectedExpresses})),c=(0,Lb.d4)((function(t){return n_(t)(n)})),l=a.amount,u=a.factor,d=a.currency,f=Math.trunc(100*(u-1)),h=n===s,p=(0,ru.xr)(l*c-l,2);return(0,Qm.jsxs)("div",{className:"ei",children:[(0,Qm.jsxs)("div",{onClick:(e=h?null:n,function(){return r(Um(e))}),className:"ei__short-info short-info",children:[(0,Qm.jsxs)("div",{className:"short-info__col",children:[(0,Qm.jsxs)("div",{className:"short-info__k",children:[(0,$.tr)("expresses.amount"),":"]}),(0,Qm.jsx)("div",{className:"short-info__v",children:(0,hn.ej)(l,d)})]}),(0,Qm.jsxs)("div",{className:"short-info__col",children:[(0,Qm.jsxs)("div",{className:"short-info__k",children:[(0,$.tr)("expresses.total_payout"),":"]}),(0,Qm.jsxs)("div",{className:"short-info__v",children:[f>0?"+":"",f,"%"]})]}),(0,Qm.jsxs)("div",{className:"short-info__col text-right",children:[(0,Qm.jsxs)("div",{className:"short-info__k",children:[(0,$.tr)("expresses.expected_profit"),":"]}),(0,Qm.jsxs)("div",{className:(0,Km.A)("short-info__v",p>0&&"price-up"),children:[p>0?"+":"",(0,hn.ej)(p,d)]})]})]}),h&&(0,Qm.jsx)("div",{className:"ei__deals deals",children:o.map((function(t){return(0,Qm.jsx)(G_,{deal:t},t.id)}))})]})},Y_=function(){var t=(0,Lb.wA)(),e=(0,Lb.d4)((function(t){return t.expresses.opened.expressIds}));return(0,Qm.jsxs)(Qm.Fragment,{children:[0===e.length&&(0,Qm.jsxs)("div",{className:"no-items-block",children:[(0,Qm.jsxs)("div",{className:"msg-block",children:[(0,Qm.jsx)("div",{className:"msg-block__icon",children:N_}),(0,$.tr)("expresses.no_opened")]}),(0,Qm.jsx)("div",{className:"button-wrapper",children:(0,Qm.jsx)("a",{className:"btn btn-green-light btn-block",onClick:function(){return t(Wm(ou.Li.NEW))},children:(0,$.tr)("expresses.create_new")})})]}),e.length>0&&(0,Qm.jsx)("div",{className:"ei-list",children:e.map((function(t){return(0,Qm.jsx)(z_,{expressId:t},t)}))})]})},X_=n(46009);function q_(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return K_(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K_(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Z_=[X_.E4,X_.ih,X_.tu],J_=function(t){switch(t){case X_.E4:return(0,Qm.jsx)("i",{className:"fa fa-usd"});case X_.ih:return(0,Qm.jsx)("i",{className:"fa fa-tint"});case X_.tu:return(0,Qm.jsx)("i",{className:"fa fa-file-text-o"});case X_.ip:return(0,Qm.jsx)("i",{className:"fa fa-star"});case X_.Xb:return(0,Qm.jsx)("i",{className:"fa fa-search"});case X_._A:return(0,Qm.jsx)("i",{className:"fa fa-bullseye"});case X_.aB:return(0,Qm.jsx)("i",{className:"fa fa-question"});default:return""}},Q_=function(t){var e=t.searchTerm,n=t.isSearching,r=t.selectedAssetCategory,i=t.changeSearchTerm,o=q_((0,Xm.useState)(!1),2),a=o[0],s=o[1],c=(0,Lb.wA)(),l=function(t){return function(){i(""),c(function(t){return{type:ou.DT,payload:t}}(t))}};return(0,Qm.jsxs)("div",{className:"flex-vertical-block__body-nav",children:[(0,Qm.jsx)("div",{className:"flex-vertical-block__body-nav-title",children:(0,$.tr)("expresses.select_assets")}),(0,Qm.jsxs)("div",{className:"flex-vertical-block__body-nav-list-wrap",children:[(0,Qm.jsxs)("div",{className:"flex-vertical-block__body-nav-list",children:[Z_.map((function(t){return(0,Qm.jsx)("a",{className:(0,Km.A)(r===t&&!n&&"active"),onClick:l(t),children:J_(t)},t)})),(0,Qm.jsx)("a",{onClick:function(){s(!0)},children:J_(X_.Xb)})]}),a&&(0,Qm.jsxs)("div",{className:"search-full-block",children:[(0,Qm.jsx)("input",{type:"text",placeholder:"EUR/USD OTC",value:e,onChange:function(t){return i(t.target.value)}}),(0,Qm.jsx)("i",{onClick:function(){s(!1),i("")},className:"fa fa-times-circle"})]})]})]})},tS="left-top",eS="right-top",nS=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tS;if(!t)return{};var n=t.getBoundingClientRect()||{},r=n.top,i=void 0===r?0:r,o=n.left,a=void 0===o?0:o,s=n.right,c=void 0===s?0:s,l=n.bottom,u=void 0===l?0:l,d={top:i+document.body.scrollTop,left:a+document.body.scrollLeft,elementHeight:Math.round(100*t.offsetHeight)/100,elementWidth:Math.round(100*t.offsetWidth)/100};return e===eS?{top:d.top+d.elementHeight,rectTop:i,rectBottom:u,right:window.innerWidth-c-document.body.scrollLeft}:{top:d.top+d.elementHeight,rectTop:i,rectBottom:u,left:d.left}},rS=Rg((function(t){var e=t.openerNode,n=t.onDropdownClose;return(0,Qm.jsx)(Yj,{timeout:200,classNames:"drop-down-modal-wrap",className:"drop-down-modal-wrap",children:(0,Qm.jsx)(sx,{onClickOutside:n,className:"drop-down-modal drop-down-modal__signal-settings",style:nS(e),children:(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)("div",{className:"divider mb-15",children:(0,$.tr)("expresses.howto-title")}),(0,Qm.jsx)("div",{className:"s-text mb-10",children:(0,$.tr)("expresses.howto-desc")})]})})})}));function iS(t){return iS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iS(t)}function oS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function aS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oS(Object(n),!0).forEach((function(e){sS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sS(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=iS(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=iS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==iS(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cS(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return lS(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lS(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var uS={},dS=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/help-icon.svg"}),fS=Rg((function(t){var e=t.onClickOutside,n=(0,Lb.wA)(),r=cS((0,Xm.useState)(""),2),i=r[0],o=r[1],a=(0,Lb.d4)((function(t){return t.expresses.opened.expressIds.length})),s=(0,Lb.d4)((function(t){return t.expresses.selectedTab})),c=(0,Lb.d4)((function(t){return t.expresses.selectedAssetCategory})),l=(0,Lb.d4)((function(t){return t.global.isMobile})),u=(0,Xm.useRef)(null),d=cS((0,Xm.useState)(!1),2),f=d[0],h=d[1];(0,Xm.useEffect)((function(){return n(Vm()),function(){n((function(t,e){var n=e(),r=n.expresses.subscribedSymbols,i=bp(n);r.forEach((function(t){i.includes(t)||bt.A.instance.unsubscribeAsset(t)})),t({type:ou.UP,payload:[]})}))}}),[]);var p=i.length>0,m=function(t){return function(){o(""),n(Wm(t))}},y=l?sx:"div",v=l?{onClickOutside:function(t){o(""),e(t)}}:uS;return(0,Qm.jsx)(Yj,{className:"right-sidebar-modal__overlay",children:(0,Qm.jsx)(y,aS(aS({className:"right-sidebar-modal active express-modal"},v),{},{children:(0,Qm.jsx)("div",{className:"tab-wrap",children:(0,Qm.jsxs)("div",{className:"flex-vertical-block",children:[(0,Qm.jsxs)("div",{className:"flex-vertical-block__header",children:[(0,Qm.jsx)(sw,{ref:u,text:(0,$.tr)("right_panel.express_trades")}),!l&&(0,Qm.jsx)("a",{onClick:function(){return h(!0)},className:(0,Km.A)("title-position-icon",f&&"active"),children:dS}),f&&(0,Qm.jsx)(rS,{openerNode:u.current,onDropdownClose:function(){return h(!1)}}),(0,Qm.jsxs)("ul",{className:(0,Km.A)(l&&"tab-nav-mobile-sidebar",!l&&"tab-nav tab-nav--v2"),children:[(0,Qm.jsx)("li",{className:(0,Km.A)(s===ou.Li.NEW&&"active"),children:(0,Qm.jsx)("a",{onClick:m(ou.Li.NEW),children:(0,Qm.jsx)("span",{children:(0,$.tr)("expresses.new")})})}),(0,Qm.jsx)("li",{className:(0,Km.A)(s===ou.Li.OPENED&&"active"),children:(0,Qm.jsxs)("a",{onClick:m(ou.Li.OPENED),children:[(0,Qm.jsx)("span",{children:(0,$.tr)("expresses.opened")}),a>0&&(0,Qm.jsx)("span",{className:"counter-wrap",children:(0,Qm.jsx)(yx,{count:a,type:cw.Si})})]})}),(0,Qm.jsx)("li",{className:(0,Km.A)(s===ou.Li.CLOSED&&"active"),children:(0,Qm.jsx)("a",{onClick:m(ou.Li.CLOSED),children:(0,Qm.jsx)("span",{children:(0,$.tr)("expresses.closed")})})})]})]}),(0,Qm.jsx)("div",{className:"flex-vertical-block__body",children:(0,Qm.jsxs)(Xg,{children:[s===ou.Li.NEW&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)(B_,{}),(0,Qm.jsx)(Q_,{searchTerm:i,isSearching:p,changeSearchTerm:o,selectedAssetCategory:c}),(0,Qm.jsx)(T_,{isSearching:p,searchTerm:i,selectedAssetCategory:c})]}),s===ou.Li.OPENED&&(0,Qm.jsx)(Y_,{}),s===ou.Li.CLOSED&&(0,Qm.jsx)(V_,{})]})})]})})}))})})),hS=(0,Lb.Ng)((function(t){return{isOpen:t.modals.states[qo.lx.EXPRESSES]}}))((function(t){var e=t.isOpen,n=t.clickHandler;return(0,Qm.jsxs)("li",{className:(0,Km.A)(e&&"active open-menu"),children:[(0,Qm.jsx)(Hx,{menuClick:n}),e&&(0,Qm.jsx)(fS,{onClickOutside:n})]})}));function pS(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return mS(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mS(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var yS="right",vS="left",bS=function(t){var e=t.side,n=void 0===e?yS:e,r="ms".concat(n===vS?"l":"r"),i=pS((0,Xm.useState)(1==+Pe.A.cookies.get(r)),1)[0],o=n===yS?vS:yS;return(0,Qm.jsx)("a",{onClick:function(t){u.A.publish(Re,t.currentTarget)},"data-type":n,children:(0,Qm.jsx)("i",{className:(0,Km.A)("fa","fa-long-arrow-".concat(i?o:n))})})};bS.propTypes={side:Jm().oneOf([yS,vS])};var gS=bS;function wS(t){return wS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wS(t)}function jS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jS(Object(n),!0).forEach((function(e){_S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _S(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=wS(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wS(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var SS=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/sidebar/signals.svg"}),OS=function(){var t=(0,Lb.wA)(),e=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.SIGNALS_WIDGET]})),n=(0,Lb.d4)(Gu.WN);return(0,Qm.jsx)("li",{className:(0,Km.A)(e&&"active open-menu"),children:(0,Qm.jsxs)("a",{onClick:function(){t(lp(xS(xS({},qo.n5),{},_S({},qo.lx.SIGNALS_WIDGET,!e)))),Ix(qo.lx.SIGNALS_WIDGET,!e)},className:(0,Km.A)(n&&"tooltip2"),children:[SS,(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("right_panel.signals")}),n&&(0,Qm.jsx)(nw,{position:"left",children:(0,Qm.jsxs)(Qm.Fragment,{children:[(0,$.tr)("right_panel.signals"),(0,Qm.jsx)("br",{}),(0,$.tr)("right_panel.signals_tooltip")]})})]})})};function kS(t){return kS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kS(t)}function TS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function AS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?TS(Object(n),!0).forEach((function(e){CS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function CS(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=kS(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kS(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var PS=(0,Lb.Ng)((function(t){var e=t.deals,n=t.global,r=t.modals,i=e.openedIds,o=e.openedById;return{countOpened:i.filter((function(t){return o[t].closeTimestamp>=n.currentTime})).length,showTooltip:!n.isMobile&&n.enabledTooltipMessage,isOpen:r.states[qo.lx.DEALS_WIDGET]}}),{changeModalStates:lp})((function(t){var e=t.isOpen,n=t.countOpened,r=t.showTooltip,i=t.changeModalStates;return(0,Qm.jsx)("li",{className:(0,Km.A)(e&&"active open-menu"),children:(0,Qm.jsxs)("a",{onClick:function(){i(AS(AS({},qo.n5),{},CS({},qo.lx.DEALS_WIDGET,!e))),Ix(qo.lx.DEALS_WIDGET,!e)},className:(0,Km.A)(r&&"tooltip2"),children:[(0,Qm.jsx)("i",{className:"fa fa-history"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("deals.trades")}),n>0&&(0,Qm.jsx)("div",{className:"counter-wrap",children:(0,Qm.jsx)(yx,{count:n,type:cw.AI})}),r&&(0,Qm.jsx)(nw,{position:"left",children:(0,Qm.jsxs)(Qm.Fragment,{children:[(0,$.tr)("deals.trades"),(0,Qm.jsx)("br",{}),(0,$.tr)("deals.bets_history")]})})]})})}));function ES(t){return ES="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ES(t)}var IS=["children","WrapperComponent","className","TooltipComponent"];function NS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function DS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?NS(Object(n),!0).forEach((function(e){LS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function LS(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=ES(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ES(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ES(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var MS=(0,Xm.forwardRef)((function(t,e){var n=(0,Lb.d4)((function(t){return t.global.enabledTooltipMessage})),r=(0,Lb.d4)((function(t){return t.global.isMobile})),i=n&&!r,o=t.children,a=t.WrapperComponent,s=void 0===a?"a":a,c=t.className,l=void 0===c?null:c,u=t.TooltipComponent,d=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,IS),f=(0,Km.A)(i&&"tooltip2",l);return(0,Qm.jsxs)(s,DS(DS({},d),{},{ref:e,className:f,children:[o,(0,Qm.jsx)(u,{})]}))}));MS.propTypes={TooltipComponent:Jm().func.isRequired,WrapperComponent:Jm().string};var RS=function(t){var e=t.menuClick,n=t.activeTournamentCount;return(0,Qm.jsxs)(MS,{className:"js-tournament",onClick:e,TooltipComponent:function(){return(0,Qm.jsx)(nw,{position:"left",children:(0,Qm.jsxs)(Qm.Fragment,{children:[(0,$.tr)("right_panel.tournaments"),(0,Qm.jsx)("br",{}),(0,$.tr)("right_panel.tournaments_tooltip")]})})},children:[(0,Qm.jsx)("i",{className:"fa fa-trophy"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("right_panel.tournaments")}),n>0&&(0,Qm.jsx)("div",{className:"counter-wrap",children:(0,Qm.jsx)(yx,{count:n,type:cw.jV})})]})};RS.propTypes={menuClick:Jm().func.isRequired};var BS=(0,Lb.Ng)((function(t){return{activeTournamentCount:t.counters[cw.jV]}}))(RS);function HS(t){return HS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HS(t)}function $S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function FS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$S(Object(n),!0).forEach((function(e){WS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function WS(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=HS(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=HS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==HS(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var US=function(t){return(0,Qm.jsx)("div",FS(FS({className:"r-loading"},t),{},{children:(0,Qm.jsx)(Tw,{type:I.X8})}))},VS=function(){return(0,Qm.jsx)("div",{"data-testid":"loading-tab",children:(0,Qm.jsx)(US,{})})},GS=function(t){return t.tournaments.tournaments},zS=function(t){return t.global.isTournamentStarted},YS=function(t){return t.tournaments.isAllowToRegister},XS=function(t){return t.tournaments.enabledRatingWidget},qS=(0,hf.Mz)([function(t){return t.tournaments.hideStatistics}],(function(t){return t})),KS=(0,hf.Mz)([function(t){return t.tournaments.errorMessage}],(function(t){return t})),ZS=(0,hf.Mz)([GS],(function(t){return t})),JS=(0,hf.Mz)([function(t){return t.tournaments.detailsModal.data}],(function(t){return null!==t?t.tournament:null})),QS=(0,hf.Mz)([function(t){return t.tournaments.stats}],(function(t){return null!==t})),tO=(0,hf.Mz)([Sf,Xf.Ay,jf,XS],(function(t,e,n,r){return t&&e&&!n&&r})),eO=(0,hf.Mz)([Xf.N3,Xf.Ei],(function(t,e){return t&&e})),nO=function(t){var e=t.message,n=void 0===e?(0,$.tr)("no_data"):e;return(0,Qm.jsx)("div",{className:"no-items-block",children:(0,Qm.jsx)("div",{className:"message message-info notification-message",children:n})})};function rO(t){return rO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rO(t)}var iO=["seconds"];function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function aO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oO(Object(n),!0).forEach((function(e){sO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sO(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=rO(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rO(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cO=function(t){var e=t.seconds,n=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,iO);return(0,Qm.jsx)("div",aO(aO({},n),{},{children:(0,As.ny)((0,As.Dp)(e))}))},lO=function(t){var e=t.space,n=void 0!==e&&e;return(0,Qm.jsxs)(Qm.Fragment,{children:[n&&" ",(0,Qm.jsx)(Tw,{className:null,type:I.iV})]})},uO="images/cabinet/tournaments",dO=function(t,e){return(0,Qm.jsx)("img",{src:(0,tn.pc)("".concat(uO,"/").concat(t,".png")),srcSet:"\n                ".concat((0,tn.pc)("".concat(uO,"/").concat(t,".png"))," 1x, \n                ").concat((0,tn.pc)("".concat(uO,"/").concat(t,"@2x.webp"))," 2x\n            "),alt:e,className:"tournament__img"})},fO=function(){return(0,Qm.jsx)(nw,{position:"left",text:"tournaments.cup_tooltip_text"})};function hO(t,e){return"vip_bonanza"===e?"light"===t?"/images/cabinet/tournaments/cup_registered_gold-l.svg":"/images/cabinet/tournaments/cup_registered_gold-d.svg":"light"===t?"/images/cabinet/tournaments/cup_registered1-l.svg":"/images/cabinet/tournaments/cup_registered1-d.svg"}function pO(t){var e=t.fee,n=t.prize,r=t.type,i=(0,Lb.d4)(Xf.PJ),o="vip_bonanza"===r;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"tkv",children:[(0,Qm.jsx)("div",{className:"tkv__k",children:(0,$.tr)("tournaments.prize_f")}),(0,Qm.jsx)("div",{className:"tkv__v",children:(0,hn.ej)(n,i)})]}),(0,Qm.jsx)("div",{className:"tkv",children:!o&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"tkv__k",children:(0,$.tr)("tournaments.participation")}),(0,Qm.jsx)("div",{className:"tkv__v",children:e>0?(0,hn.ej)(e,i):(0,$.tr)("tournaments.free")})]})})]})}var mO=function(){var t=(0,Lb.wA)(),e=(0,Lb.d4)(ZS),n=(0,Lb.d4)(QS),r=(0,Lb.d4)((function(t){return t.global.currentTime})),i=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.TOURNAMENT_DETAILS]})),o=(0,Lb.d4)((function(t){return t.tournaments.detailsModal})),a=o.isLoading,s=o.loadingId,c=(0,Lb.d4)(JS),l=(0,Lb.d4)((function(t){return t.global.isMobile})),u=(0,Lb.d4)((function(t){return t.global.theme}));if(!n)return(0,Qm.jsx)(VS,{});if(0===e.length)return(0,Qm.jsx)(nO,{});var d=function(e){return function(){a||t(bv(e))}};return(0,Qm.jsx)("div",{className:"tournaments-list",children:e.map((function(t){var e=t.id,n=t.type,o=t.isRegistered,f=t.prize,h=t.timeStart,p=t.timeEnd,m=t.title,y=t.link,v=t.rank,b=t.changed,g=t.fee,w=t.balanceStart,j=s>0&&e===s||i&&null!==c&&c.id===e,x=s>0&&e!==s||i&&null!==c&&c.id!==e,_=r>=h&&r<=p,S="vip_bonanza"===n;return(0,Qm.jsxs)("div",{className:(0,Km.A)("tournament","tournament--".concat(n),j&&"tournament--active",x&&"tournament--not-active",o&&"tournament--registered",o&&_&&"tournament--current"),children:[(0,Qm.jsxs)("div",{className:"tournament__content",onClick:d(e),children:[(0,Qm.jsx)("div",{className:"tournament__img-wrap",children:dO(n,m)}),(0,Qm.jsx)("div",{className:"tournament__name",children:m}),S&&(0,Qm.jsx)("div",{className:"tkv",children:(0,Qm.jsx)("div",{className:"tkv__v",children:(0,$.tr)("tournaments.only_for_vip")})}),!o&&(0,Qm.jsx)(pO,{fee:g,prize:f,type:n}),o&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"tkv",children:[(0,Qm.jsx)("div",{className:"tkv__k",children:(0,$.tr)("tournaments.detail_modal.text10")}),(0,Qm.jsx)("div",{className:"tkv__v",children:(0,hn.ej)(w,Ru.Ay.TOURNAMENT_CURRENCY_CODE)})]}),_&&(0,Qm.jsxs)("div",{className:"tkv",children:[(0,Qm.jsx)("div",{className:"tkv__k",children:(0,$.tr)("tournaments.your_position")}),(0,Qm.jsxs)("div",{className:"tkv__v",children:[_&&(0,Qm.jsxs)("div",{className:"tournament__place-rank-wrap flex flex-aic",children:[(0,Qm.jsx)("div",{className:"tournament__place-rank",children:v}),(0,Qm.jsxs)("div",{className:(0,Km.A)("tournament-rank-position-offset","tournament-rank-position-offset--".concat(b>=0?"up":"down")),children:[b>0&&"+",b]})]}),!_&&"-"]})]}),!_&&(0,Qm.jsx)(pO,{fee:g,prize:f,type:n}),(0,Qm.jsxs)("div",{className:(0,Km.A)("tournament__cup",!l&&"tooltip2"),children:[(0,Qm.jsx)(Rb.k,{className:"svg-icon-wrap",src:hO(u,n)}),!l&&(0,Qm.jsx)(fO,{})]})]})]}),(0,Qm.jsxs)("div",{className:"tournament__footer flex flex-aic flex-jcsb",children:[_&&(0,Qm.jsxs)("div",{className:"tournament__time-to-end",children:[(0,Qm.jsxs)("div",{className:"tournament__time-to-end-label",children:[(0,$.tr)("tournaments.till_the_end"),":"]}),(0,Qm.jsx)(cO,{className:"tournament__time",seconds:p-r})]}),!_&&(0,Qm.jsxs)("div",{className:"tournament__time-to-end",children:[(0,Qm.jsxs)("div",{className:"tournament__time-to-end-label",children:[(0,$.tr)("tournaments.to_start"),":"]}),(0,Qm.jsx)(cO,{className:"tournament__time",seconds:h-r})]}),o&&(0,Qm.jsxs)(Qm.Fragment,{children:[_&&(0,Qm.jsxs)("a",{href:y,className:(0,Km.A)("tournament__btn btn",a&&e===s&&"tournament__btn-ajax-loading",S?"btn-orange":"btn-blue-light"),children:[(0,$.tr)("tournaments.continue"),a&&e===s&&(0,Qm.jsx)(lO,{})]}),!_&&(0,Qm.jsxs)("a",{href:y,className:(0,Km.A)("tournament__btn btn",a&&e===s&&"tournament__btn-ajax-loading",S?"btn-orange":"btn-blue-light"),children:[(0,$.tr)("tournaments.waiting_room"),a&&e===s&&(0,Qm.jsx)(lO,{})]})]}),!o&&(0,Qm.jsxs)("a",{className:(0,Km.A)("tournament__btn btn btn-green",a&&e===s&&"tournament__btn-ajax-loading"),onClick:d(e),children:[(0,$.tr)("tournaments.join"),a&&e===s&&(0,Qm.jsx)(lO,{})]})]})]},e)}))})},yO=function(){var t=(0,Lb.d4)(QS),e=(0,Lb.d4)(qS),n=(0,Lb.d4)(KS),r=(0,Lb.wA)();return(0,Xm.useEffect)((function(){t||n||r(mv())}),[]),t||n?n?(0,Qm.jsx)(nO,{message:n}):e?(0,Qm.jsx)(nO,{message:(0,$.tr)("tournaments.tournaments_unavailable")}):(0,Qm.jsx)(mO,{}):(0,Qm.jsx)(VS,{})},vO=function(){var t=(0,Lb.d4)((function(t){return t.tournaments.history}));if(0===t.length)return null;var e=(0,Lb.d4)((function(t){return t.tournaments.historyModal.isLoading})),n=(0,Lb.wA)(),r=function(t){return function(){e||n(yv(t))}};return(0,Qm.jsxs)("div",{className:"stats__history history",children:[e&&(0,Qm.jsx)(Tw,{className:"ajax-loader-v2 js-ajax-loader-v2 ajax-loader-v2--absolute ajax-loader-v2--block"}),(0,Qm.jsx)("div",{className:"history__title",children:(0,$.tr)("tournaments.history_title")}),(0,Qm.jsxs)("table",{className:"table table--no-bordered-v1",children:[(0,Qm.jsxs)("colgroup",{children:[(0,Qm.jsx)("col",{style:{width:"40%"}}),(0,Qm.jsx)("col",{style:{width:"50%"}}),(0,Qm.jsx)("col",{style:{width:"10%"}})]}),(0,Qm.jsx)("thead",{children:(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("th",{children:(0,$.tr)("tournaments.name")}),(0,Qm.jsx)("th",{children:(0,$.tr)("tournaments.finished")}),(0,Qm.jsx)("th",{children:"#"})]})}),(0,Qm.jsx)("tbody",{children:t.map((function(t){var e=t.id,n=t.title,i=t.dateFinish,o=t.rank,a=(0,ij.Pw)(i);return(0,Qm.jsxs)("tr",{onClick:r(e),children:[(0,Qm.jsx)("td",{children:n}),(0,Qm.jsx)("td",{children:(0,ij.CO)(a)}),(0,Qm.jsx)("td",{children:o})]},e)}))})]})]})},bO=function(){var t=(0,Lb.d4)((function(t){return t.tournaments.stats}));return(0,Qm.jsx)("div",{className:"stats__info info",children:(0,Qm.jsxs)("table",{children:[(0,Qm.jsxs)("colgroup",{children:[(0,Qm.jsx)("col",{style:{width:"60%"}}),(0,Qm.jsx)("col",{style:{width:"40%"}})]}),(0,Qm.jsxs)("tbody",{children:[(0,Qm.jsxs)("tr",{children:[(0,Qm.jsxs)("td",{className:"info__k",children:[(0,$.tr)("tournaments.win_cnt"),":"]}),(0,Qm.jsx)("td",{className:"info__v",children:t.wonTournaments})]}),(0,Qm.jsxs)("tr",{children:[(0,Qm.jsxs)("td",{className:"info__k",children:[(0,$.tr)("tournaments.total_prize"),":"]}),(0,Qm.jsx)("td",{className:"info__v",children:(0,hn.ej)(t.totalPrizeAmount,t.currency)})]}),(0,Qm.jsxs)("tr",{children:[(0,Qm.jsxs)("td",{className:"info__k",children:[(0,$.tr)("tournaments.top_prize"),":"]}),(0,Qm.jsx)("td",{className:"info__v",children:(0,hn.ej)(t.mostValuablePrize,t.currency)})]})]})]})})},gO=function(){var t=(0,Lb.d4)(QS),e=(0,Lb.d4)(KS),n=(0,Lb.wA)();return(0,Xm.useEffect)((function(){t||e||n(mv())}),[]),t||e?e?(0,Qm.jsx)(nO,{message:e}):(0,Qm.jsxs)("div",{className:"stats",children:[(0,Qm.jsx)(bO,{}),(0,Qm.jsx)(vO,{})]}):(0,Qm.jsx)(VS,{})},wO="ALL_TOURNAMENTS",jO=(0,Lb.Ng)((function(t){return{activeTournamentCount:t.counters[cw.jV]}}))((function(t){var e=t.activeTournamentCount,n=(0,Lb.d4)((function(t){return t.tournaments.selectedTab})),r=(0,Lb.d4)((function(t){return t.global.isMobile})),i=(0,Lb.d4)((function(t){return t.global.isDemo})),o=(0,Lb.wA)(),a=function(t){return function(){return o(dv.o1.selectTournamentTab(t))}},s=(0,Xm.useRef)(null);return(0,Qm.jsxs)("div",{className:"flex-vertical-block",children:[(0,Qm.jsxs)("div",{className:"flex-vertical-block__header",children:[(0,Qm.jsx)(sw,{text:(0,$.tr)("right_panel.tournaments")}),i&&(0,Qm.jsx)("div",{className:"right-sidebar-modal__message",children:(0,Qm.jsxs)("div",{className:"message message-warning",children:[(0,$.tr)("available_text"),"."]})}),(0,Qm.jsx)("ul",{className:(0,Km.A)(r?"tab-nav-mobile-sidebar":"tab-nav tab-nav--v2"),children:Object.keys(hv.m).map((function(t){return(0,Qm.jsx)("li",{className:(0,Km.A)(t===n&&"active"),children:(0,Qm.jsxs)("a",{onClick:a(t),children:[(0,$.tr)("tournaments.".concat(hv.m[t])),t===wO&&e>0&&(0,Qm.jsx)(yx,{count:e,type:cw.jV})]})},t)}))})]}),(0,Qm.jsx)("div",{className:"flex-vertical-block__body",children:(0,Qm.jsx)(Xg,{className:"tab-body",containerRef:function(t){return s.current=t},children:(0,Qm.jsxs)("div",{style:{display:"block"},children:[n===hv.m.ALL_TOURNAMENTS&&(0,Qm.jsx)(yO,{}),n===hv.m.STATISTICS&&(0,Qm.jsx)(gO,{})]})})})]})})),xO=Rg((function(){return(0,Qm.jsx)(Yj,{className:"right-sidebar-modal tournaments-modal",children:(0,Qm.jsx)(jO,{})})})),_O=function(t){var e=t.currentTournamentId,n=(0,Lb.wA)(),r=(0,Lb.d4)((function(t){return t.tournaments.isJoiningNext}));return(0,Qm.jsx)("div",{className:"bottom-btn-wrap",children:(0,Qm.jsxs)("a",{onClick:function(){r||n(gv(e))},className:(0,Km.A)("btn btn-green btn-block",r&&"btn-ajax-loading"),children:[(0,$.tr)("tournaments.join_next"),r&&(0,Qm.jsx)(lO,{space:!0})]})})};_O.propTypes={currentTournamentId:Jm().number.isRequired};var SO=_O,OO=function(t){var e=t.tournamentId,n=(0,Lb.wA)(),r=(0,Lb.d4)((function(t){return t.tournaments.isTakingPrize}));return(0,Qm.jsx)("div",{className:"bottom-btn-wrap",children:(0,Qm.jsxs)("a",{onClick:function(){return n((t=e,function(e){return e(dv.o1.startTakingTournamentPrize()),ze.A.request({url:(0,tn.hX)("api/tournaments/take-prize/".concat(t)),catch:function(){return e(dv.o1.errorTakingTournamentPrize())}}).then((function(t){var n=t.message,r=!0===t.status;e(r?dv.o1.finishTakingTournamentPrize(t):dv.o1.errorTakingTournamentPrize()),new F.A({position:Hr.k3,time:3e3})[r?"green":"red"](n)}))}));var t},className:(0,Km.A)("btn btn-green btn-block",r&&"btn-ajax-loading"),children:[(0,$.tr)("tournaments.take_prize"),r&&(0,Qm.jsx)(lO,{})]})})};OO.propTypes={tournamentId:Jm().number.isRequired};var kO=OO,TO=function(t){var e=t.children;return(0,Lb.d4)((function(t){return t.global.isMobile}))?(0,Qm.jsx)("span",{className:"adaptive-label",children:e}):null},AO=function(t){var e=t.users;return(0,Qm.jsx)(Xg,{className:"history-rating",children:(0,Qm.jsxs)("table",{className:"table table-adaptive",children:[(0,Qm.jsxs)("colgroup",{children:[(0,Qm.jsx)("col",{style:{width:"5%"}}),(0,Qm.jsx)("col",{style:{width:"45%"}}),(0,Qm.jsx)("col",{style:{width:"25%"}}),(0,Qm.jsx)("col",{style:{width:"25%"}})]}),(0,Qm.jsx)("thead",{children:(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("th",{children:"#"}),(0,Qm.jsx)("th",{children:(0,$.tr)("tournaments.trader_id")}),(0,Qm.jsx)("th",{children:(0,$.tr)("tournaments.result")}),(0,Qm.jsx)("th",{children:(0,$.tr)("tournaments.prize")})]})}),(0,Qm.jsx)("tbody",{children:e.map((function(t){var e=t.isMe,n=t.name,r=t.rank,i=t.prize,o=t.prizeCurrency,a=t.sum;return(0,Qm.jsxs)("tr",{className:(0,Km.A)(e&&"active-tr"),children:[(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)(TO,{children:"#"}),r]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)(TO,{children:(0,$.tr)("tournaments.trader_id")}),n," ",e&&(0,Qm.jsx)("span",{className:"tournament-me-label",children:(0,$.tr)("me")})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)(TO,{children:(0,$.tr)("tournaments.result")}),(0,hn.ej)(a,Ru.Ay.TOURNAMENT_CURRENCY_CODE)]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)(TO,{children:(0,$.tr)("tournaments.prize")}),(0,hn.ej)(i,o)]})]},r)}))})]})})},CO=function(){var t=(0,Lb.d4)((function(t){return t.tournaments.historyModal})).data,e=t.tournament,n=e.id,r=e.title,i=e.isCalculated,o=e.prize,a=e.isPrizeTaken,s=e.rank,c=e.users,l=e.prizeCurrency,u=o>0,d=(0,Lb.d4)(qS),f=(0,hn.ej)(o,l);return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"title",children:[(0,$.tr)("tournaments.t_history")," ",'"'.concat(r,'"')]}),!i&&(0,Qm.jsx)("div",{className:"place-info-block",children:(0,Qm.jsx)("div",{className:"message message-info notification-message",children:(0,Qm.jsx)("p",{children:(0,$.tr)("tournaments.waiting")})})}),i&&u&&(0,Qm.jsx)("div",{className:"place-info-block win",children:(0,Qm.jsx)("div",{className:"message message-info notification-message",children:(0,Qm.jsxs)("div",{children:[(0,$.tr)("tournaments.gratz")," ",(0,$.tr)("tournaments.pos",s),"."," ",(0,$.tr)("tournaments.you_won","prize").replace("$prize",f).replace("prize$",f)]})})}),i&&!u&&(0,Qm.jsx)("div",{className:"place-info-block lose",children:(0,Qm.jsxs)("div",{className:"message message-info notification-message",children:[(0,Qm.jsxs)("p",{children:[(0,$.tr)("tournaments.no_win"),"."]}),(0,Qm.jsxs)("p",{children:[(0,$.tr)("tournaments.pos",s),"."]})]})}),!t&&(0,Qm.jsx)(nO,{}),t&&(0,Qm.jsx)(AO,{users:c}),i&&u&&(0,Qm.jsxs)(Qm.Fragment,{children:[a&&(0,Qm.jsx)(SO,{currentTournamentId:n}),!a&&(0,Qm.jsx)(kO,{tournamentId:n})]}),i&&!u&&!d&&(0,Qm.jsx)(SO,{currentTournamentId:n})]})},PO=Rg((function(t){var e=t.isOpen,n=(0,Lb.wA)();return(0,Qm.jsx)(kx,{isOpen:e,onRequestClose:function(){return n(cp({modalId:qo.lx.TOURNAMENT_HISTORY,value:!1}))},className:"tournament-history-modal",children:(0,Qm.jsx)(CO,{})})})),EO=(0,Qm.jsx)(Rb.k,{className:"svg-icon-wrap",src:"/images/cabinet/tournaments/detail-modal/cup.svg"}),IO=function(t){var e,n,r=t.tournament,i=(0,Lb.d4)((function(t){return t.global.currentTime})),o=r.totalPrize,a=r.rebuy,s=r.usersCount,c=r.timeEnd,l=r.timeStart,u=r.link,d=r.users,f=r.changed,h=r.tournamentBalance,p=r.currency,m=r.startBalance,y=d.find((function(t){return t.isMe})),v=i>=l&&i<=c;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"msg msg1 flex flex-aic",children:[EO,(0,Qm.jsx)("span",{children:(0,$.tr)("tournaments.detail_modal.text1")})]}),(0,Qm.jsxs)("div",{className:"td-desc__info",children:[(0,Qm.jsxs)("table",{className:"table pc-table",children:[(0,Qm.jsxs)("colgroup",{children:[(0,Qm.jsx)("col",{style:{width:"33.3333%"}}),(0,Qm.jsx)("col",{style:{width:"33.3333%"}}),(0,Qm.jsx)("col",{style:{width:"33.3333%"}})]}),(0,Qm.jsxs)("tbody",{children:[(0,Qm.jsxs)("tr",{children:[(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:(0,hn.ej)(m,Ru.Ay.TOURNAMENT_CURRENCY_CODE)}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.detail_modal.text10")})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsxs)("div",{className:"k flex flex-aic",children:[v&&(0,Qm.jsxs)(Qm.Fragment,{children:[null!==(e=null==y?void 0:y.rank)&&void 0!==e?e:"0"," ",null!=(null==y?void 0:y.rank)&&(0,Qm.jsxs)("div",{className:(0,Km.A)("tournament-rank-position-offset","tournament-rank-position-offset--".concat(f>=0?"up":"down")),children:[f>0&&"+",f]})]}),!v&&"-"]}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.detail_modal.text11")})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsxs)("div",{className:"k",children:[v&&(0,Qm.jsx)(cO,{seconds:c-i}),!v&&(0,Qm.jsx)(cO,{seconds:l-i})]}),(0,Qm.jsxs)("div",{className:"v",children:[v&&(0,$.tr)("tournaments.till_the_end"),!v&&(0,$.tr)("tournaments.to_start")]})]})]}),(0,Qm.jsxs)("tr",{children:[(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:(0,hn.ej)(o,p)}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.prize_f")})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:s}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.users_cnt")})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:(0,hn.ej)(a,p)}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.rebuy_fee")})]})]})]})]}),(0,Qm.jsxs)("table",{className:"table mobile-table",children:[(0,Qm.jsxs)("colgroup",{children:[(0,Qm.jsx)("col",{style:{width:"50%"}}),(0,Qm.jsx)("col",{style:{width:"50%"}})]}),(0,Qm.jsxs)("tbody",{children:[(0,Qm.jsxs)("tr",{children:[(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:(0,hn.ej)(h,Ru.Ay.TOURNAMENT_CURRENCY_CODE)}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.detail_modal.text10")})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsxs)("div",{className:"k flex flex-aic",children:[null!==(n=null==y?void 0:y.rank)&&void 0!==n?n:""," ",(0,Qm.jsxs)("div",{className:(0,Km.A)("tournament-rank-position-offset","tournament-rank-position-offset--".concat(f>=0?"up":"down")),children:[f>0&&"+",f]})]}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.detail_modal.text11")})]})]}),(0,Qm.jsxs)("tr",{children:[(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:(0,hn.ej)(o,p)}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.prize_f")})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:s}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.users_cnt")})]})]}),(0,Qm.jsxs)("tr",{children:[(0,Qm.jsxs)("td",{children:[(0,Qm.jsxs)("div",{className:"k",children:[v&&(0,Qm.jsx)(cO,{seconds:c-i}),!v&&(0,Qm.jsx)(cO,{seconds:l-i})]}),(0,Qm.jsxs)("div",{className:"v",children:[v&&(0,$.tr)("tournaments.till_the_end"),!v&&(0,$.tr)("tournaments.to_start")]})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:(0,hn.ej)(a,p)}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.rebuy_fee")})]})]})]})]})]}),(0,Qm.jsxs)("div",{className:"target target--open",children:[(0,Qm.jsx)("div",{className:"target__title",children:(0,$.tr)("tournaments.goal")}),(0,Qm.jsxs)("div",{className:"target__text",children:[(0,$.tr)("tournaments.prizes_to"),"."]})]}),(0,Qm.jsx)("a",{href:u,className:"btn btn-green btn-block",children:(0,$.tr)("tournaments.continue")})]})};function NO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return DO(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DO(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var LO=function(t){var e=t.tournament,n=(0,Lb.d4)((function(t){return t.global.currentTime})),r=(0,Lb.d4)(Xf.PJ),i=NO((0,Xm.useState)(!1),2),o=i[0],a=i[1],s=e.fee,c=e.type,l=e.totalPrize,u=e.startBalance,d=e.rebuy,f=e.usersCount,h=e.timeStart,p=e.timeEnd,m=e.prizePercent,y=e.prizeMinFund,v=n>=h&&n<=p,b="vip_bonanza"===c;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"td-desc__info",children:[(0,Qm.jsxs)("table",{className:"table pc-table",children:[(0,Qm.jsxs)("colgroup",{children:[(0,Qm.jsx)("col",{style:{width:"33.3333%"}}),(0,Qm.jsx)("col",{style:{width:"33.3333%"}}),(0,Qm.jsx)("col",{style:{width:"33.3333%"}})]}),(0,Qm.jsxs)("tbody",{children:[(0,Qm.jsxs)("tr",{children:[(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:(0,hn.ej)(s,r)}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.part_fee")})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:(0,hn.ej)(u,Ru.Ay.TOURNAMENT_CURRENCY_CODE)}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.start_balance")})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsxs)("div",{className:"k",children:[v&&(0,Qm.jsx)(cO,{seconds:p-n}),!v&&(0,Qm.jsx)(cO,{seconds:h-n})]}),(0,Qm.jsxs)("div",{className:"v",children:[v&&(0,$.tr)("tournaments.till_the_end"),!v&&(0,$.tr)("tournaments.to_start")]})]})]}),(0,Qm.jsxs)("tr",{children:[(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:(0,hn.ej)(l,r)}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.prize_f")})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:f}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.users_cnt")})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:(0,hn.ej)(d,r)}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.rebuy_fee")})]})]})]})]}),(0,Qm.jsxs)("table",{className:"table mobile-table",children:[(0,Qm.jsxs)("colgroup",{children:[(0,Qm.jsx)("col",{style:{width:"50%"}}),(0,Qm.jsx)("col",{style:{width:"50%"}})]}),(0,Qm.jsxs)("tbody",{children:[(0,Qm.jsxs)("tr",{children:[(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:(0,hn.ej)(s,r)}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.part_fee")})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:(0,hn.ej)(u,Ru.Ay.TOURNAMENT_CURRENCY_CODE)}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.start_balance")})]})]}),(0,Qm.jsxs)("tr",{children:[(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:(0,hn.ej)(l,r)}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.prize_f")})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:f}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.users_cnt")})]})]}),(0,Qm.jsxs)("tr",{children:[(0,Qm.jsxs)("td",{children:[(0,Qm.jsxs)("div",{className:"k",children:[v&&(0,Qm.jsx)(cO,{seconds:p-n}),!v&&(0,Qm.jsx)(cO,{seconds:h-n})]}),(0,Qm.jsxs)("div",{className:"v",children:[v&&(0,$.tr)("tournaments.till_the_end"),!v&&(0,$.tr)("tournaments.to_start")]})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)("div",{className:"k",children:(0,hn.ej)(d,r)}),(0,Qm.jsx)("div",{className:"v",children:(0,$.tr)("tournaments.rebuy_fee")})]})]})]})]})]}),(0,Qm.jsxs)("div",{className:(0,Km.A)("target",o&&"target--open"),children:[(0,Qm.jsxs)("div",{className:"target__title",onClick:function(){return a(!o)},children:[(0,$.tr)("tournaments.tournament_regulations"),(0,Qm.jsx)("div",{className:"target__arrow",children:(0,Qm.jsx)("i",{className:"fa fa-chevron-down"})})]}),o&&(0,Qm.jsxs)("div",{className:"target__text",children:[(0,Qm.jsx)("p",{children:b?(0,$.tr)("tournaments.vip_tournament_terms.t1"):0===s?(0,$.tr)("tournaments.free_tournament_terms.t1"):(0,$.tr)("tournaments.paid_tournament_terms.t1",{amount:(0,hn.ej)(s,r)})}),!b&&(0,Qm.jsx)("p",{children:(0,$.tr)("tournaments.terms.t1")}),(0,Qm.jsx)("p",{children:(0,$.tr)("tournaments.terms.t2",(0,hn.ej)(u,Ru.Ay.TOURNAMENT_CURRENCY_CODE))}),(0,Qm.jsx)("p",{children:(0,$.tr)("tournaments.terms.t3",{amount:(0,hn.ej)(y,r),number:b?40:"day_off"===c?3:10})}),0!==s&&(0,Qm.jsx)("p",{children:(0,$.tr)("tournaments.paid_tournament_terms.t2","".concat(m,"%"))})]})]})]})},MO=function(t){var e=t.amount;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"text11",dangerouslySetInnerHTML:{__html:(0,$.tr)("tournaments.insuff_funds",{amount:"<span>".concat((0,hn.ej)(e,(0,hn.L9)()),"</span>")})}}),(0,Qm.jsx)("div",{className:"btn-wrap",children:(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet/deposit-step-1"),className:"btn btn-block btn-green-light",children:(0,$.tr)("dep")})})]})};MO.propTypes={amount:Jm().number.isRequired};var RO=MO,BO=function(t){var e=t.message;return(0,Qm.jsx)("div",{className:"message message-unverify-profile message-error notification-message",children:e})};function HO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return $O(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$O(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var FO=function(t){var e=t.tournament,n=(0,Lb.d4)((function(t){return t.global.isDemoProfile})),r=(0,Lb.d4)((function(t){return t.tournaments.isRegistering})),i=HO((0,Xm.useState)(!1),2),o=i[0],a=i[1],s=(0,Lb.wA)(),c=(0,Lb.d4)(YS),l=(0,Lb.d4)(Xf.PK),u=HO((0,Xm.useState)(!1),2),d=u[0],f=u[1],h=e.id,p=e.ticketId,m=e.type,y=(0,ch.p3)(l),v="vip_bonanza"!==m||y;return(0,Qm.jsxs)(Qm.Fragment,{children:[n&&(0,Qm.jsx)("div",{className:"btn-wrap",children:(0,Qm.jsx)("a",{href:(0,tn.hX)("register?tournament-id=".concat(h)),className:"btn btn-green",children:(0,$.tr)("register")})}),!n&&c&&(0,Qm.jsxs)("div",{className:"btn-wrap flex flex-aic",children:[v?(0,Qm.jsxs)("a",{onClick:function(){if(!r){var t=(0,tn.hX)("api/tournaments/register/".concat(h,"?format=json"));a(!1),f(!0),s(vv(t))}},className:(0,Km.A)("btn btn-green btn-block",r&&!o&&"btn-ajax-loading"),disabled:d,children:[(0,$.tr)("tournaments.confirm_p"),r&&!o&&(0,Qm.jsx)(lO,{})]}):(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet/loyalty-program"),className:"btn btn-green btn-block",children:(0,$.tr)("tournaments.not_avlb")}),p>0&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"btn-wrap-divider",children:(0,$.tr)("or").toUpperCase()}),(0,Qm.jsxs)("a",{onClick:function(){if(!r){var t=(0,tn.hX)("cabinet/profile/achievements/market/register-tournament/".concat(p,"/").concat(h,"?format=json"));a(!0),f(!0),s(vv(t))}},className:(0,Km.A)("btn btn-gold btn-block",r&&o&&"btn-ajax-loading"),disabled:d,children:[(0,$.tr)("tournaments.use_ticker"),r&&o&&(0,Qm.jsx)(lO,{})]})]})]})]})};function WO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return UO(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UO(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var VO=function(t){var e=t.url,n=WO((0,Xm.useState)(!1),2),r=n[0],i=n[1];return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"text11 success",children:[(0,Qm.jsx)("h4",{children:(0,$.tr)("tournaments.succ_reg")}),(0,Qm.jsx)("p",{children:(0,$.tr)("tournaments.press_cont")})]}),(0,Qm.jsx)("div",{className:"btn-wrap",children:(0,Qm.jsx)("a",{className:"btn btn-green btn-block",onClick:function(t){r?t.preventDefault():(i(!0),window.location.href=e)},disabled:r,children:(0,$.tr)("tournaments.cont")})})]})};VO.propTypes={url:Jm().string.isRequired};var GO=VO,zO=function(){return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)(BO,{message:(0,$.tr)("tournaments.for_verify")}),(0,Qm.jsx)("div",{className:"btn-wrap",children:(0,Qm.jsx)("a",{className:"btn btn-green-light btn-block",href:(0,tn.hX)("cabinet/profile"),children:(0,$.tr)("tournaments.verify")})})]})},YO=function(t){var e,n=t.tournament,r=n.id,i=n.fee,o=(0,Lb.d4)((function(t){return t.global.liveBalance})),a=(0,Lb.d4)((e=r,(0,hf.Mz)([GS],(function(t){return t.find((function(t){return t.id===e}))})))),s=(0,Lb.d4)(eO),c=null!=a&&a.isRegistered,l=!c&&(s||i>0),u=o<i;return(0,Qm.jsxs)(Qm.Fragment,{children:[!l&&!c&&(0,Qm.jsx)(zO,{}),l&&u&&(0,Qm.jsx)(RO,{amount:i-o}),l&&!u&&(0,Qm.jsx)(FO,{tournament:n}),c&&(0,Qm.jsx)(GO,{url:a.link})]})},XO=function(t){var e=t.tournament,n=(0,Lb.d4)((function(t){return t.global.isDemoProfile})),r=(0,Lb.d4)((function(t){return t.global.liveBalance})),i=(0,Lb.d4)(YS),o=(0,Lb.d4)(Xf.PJ),a=e.fee;return(0,Qm.jsxs)(Qm.Fragment,{children:[n&&(0,Qm.jsxs)("div",{className:"text11",children:[(0,$.tr)("tournaments.open_real"),"."]}),!n&&(0,Qm.jsx)("div",{className:"text11",children:i?(0,Qm.jsxs)(Qm.Fragment,{children:[a>0&&"".concat((0,$.tr)("tournaments.real_acc_debited",{amount:(0,hn.ej)(a,o),balance:(0,hn.ej)(r,o)})),0===a&&" ".concat((0,$.tr)("tournaments.free_tour")," ")]}):(0,$.tr)("tournaments.not_available")})]})},qO=function(t){var e=t.tournament,n=e.isRegistered;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)(Xg,{className:"td-desc",children:[n&&(0,Qm.jsx)(IO,{tournament:e}),!n&&(0,Qm.jsx)(LO,{tournament:e}),!n&&(0,Qm.jsx)(XO,{tournament:e})]}),!n&&(0,Qm.jsx)(YO,{tournament:e})]})};function KO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ZO(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZO(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var JO=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).debounce,e=void 0===t?200:t,n=KO((0,Xm.useState)({innerWidth:window.innerWidth,innerHeight:window.innerHeight}),2),r=n[0],i=n[1];return(0,Xm.useEffect)((function(){var t=Fl()((function(){var t=window,e=t.innerWidth,n=t.innerHeight;i({innerWidth:e,innerHeight:n})}),e);return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),r};function QO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tk(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tk(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var ek=function(t){var e=t.users,n=t.date,r=t.tournament,i=(0,Xm.useRef)(null),o=JO().innerHeight,a=QO((0,Xm.useState)(0),2),s=a[0],c=a[1],l=r.link,u=r.isRegistered;if((0,Xm.useEffect)((function(){if(null!==i.current){var t=i.current.getBoundingClientRect(),e=t.top,n=t.height;c(e+n)}}),[]),0===e.length)return(0,Qm.jsx)(nO,{});var d=s>o,f=(0,Lb.d4)(Xf.PJ);return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)(Xg,{className:"td-rating",children:[(0,Qm.jsxs)("div",{className:"text1",children:[(0,$.tr)("tournaments.detail_modal.text12")," ",(0,Qm.jsx)("span",{children:(0,$.tr)("tournaments.detail_modal.text13",n)})]}),(0,Qm.jsx)("div",{className:"rating-table-wrap",children:(0,Qm.jsxs)("table",{className:(0,Km.A)("table table-adaptive",d&&"fixed-me-bottom"),children:[(0,Qm.jsx)("thead",{children:(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("th",{children:"#"}),(0,Qm.jsx)("th",{children:(0,$.tr)("tournaments.trader_id")}),(0,Qm.jsx)("th",{children:"".concat((0,$.tr)("tournaments.result"),", ").concat((0,hn.AR)(Ru.Ay.TOURNAMENT_CURRENCY_CODE))}),(0,Qm.jsx)("th",{children:(0,$.tr)("tournaments.prize")})]})}),(0,Qm.jsx)("tbody",{children:e.map((function(t){var e=t.isMe,n=t.name,r=t.prize,o=t.rank,a=t.sum;return(0,Qm.jsxs)("tr",{className:(0,Km.A)(e&&"active-tr",e&&d&&"its-me show_"),ref:e?i:null,children:[(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)(TO,{children:"#"}),(0,Qm.jsx)("span",{className:(0,Km.A)(o<=3&&"rank-".concat(o)),children:o})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)(TO,{children:(0,$.tr)("tournaments.trader_id")}),n," ",e&&(0,Qm.jsx)("span",{className:"tournament-me-label",children:(0,$.tr)("me")})]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)(TO,{children:"".concat((0,$.tr)("tournaments.result"),", ").concat((0,hn.AR)(Ru.Ay.TOURNAMENT_CURRENCY_CODE))}),(0,hn.Fl)(a,Ru.Ay.TOURNAMENT_CURRENCY_CODE)]}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)(TO,{children:(0,$.tr)("tournaments.prize")}),(0,hn.ej)(r,f)]})]},o)}))})]})})]}),!u&&(0,Qm.jsx)(YO,{tournament:r}),u&&(0,Qm.jsx)("a",{href:l,className:"btn btn-green btn-block",children:(0,$.tr)("tournaments.continue")})]})},nk=function(t){var e=t.tournament,n=e.id,r=e.rebuy,i=e.startBalance,o=e.link,a=e.tournamentBalance,s=e.countOpened,c=e.currency,l=e.balance,u=(0,Lb.d4)((function(t){return t.tournaments.isRebuying})),d=(0,Lb.d4)((function(t){return t.global.isTournament})),f=(0,Lb.wA)(),h=0;l<r?h=2:(a>=i||s>0)&&(h=3);return(0,Qm.jsxs)(Xg,{className:"td-rebuy",children:[0===h&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"target target--open target--rebuy",children:[(0,Qm.jsx)("table",{children:(0,Qm.jsxs)("tbody",{children:[(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("tournaments.before_rebuy_msg1")}),(0,Qm.jsx)("td",{children:(0,hn.ej)(l,c)})]}),(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("tournaments.before_rebuy_msg2")}),(0,Qm.jsx)("td",{children:(0,hn.ej)(a,Ru.Ay.TOURNAMENT_CURRENCY_CODE)})]})]})}),(0,Qm.jsx)("p",{children:(0,$.tr)("tournaments.before_rebuy_msg3",{amount:(0,hn.ej)(r,c),balance:(0,hn.ej)(i,Ru.Ay.TOURNAMENT_CURRENCY_CODE)})}),(0,Qm.jsx)("div",{className:"btn-wrap",children:(0,Qm.jsxs)("a",{onClick:function(t){return function(){return f(function(t){return function(e){return e(dv.o1.startRebuyTournament()),ze.A.request({url:(0,tn.hX)("api/tournaments/rebuy/".concat(t)),catch:function(){return e(dv.o1.errorRebuyTournament())}}).then((function(n){var r=n.balance,i=n.message,o=void 0===i?"":i,a=!0===n.status;e(a?dv.o1.finishRebuyTournament({id:t,message:o,tournamentBalance:r}):dv.o1.errorRebuyTournament()),new K({time:3e6,to:".tournament-detail-modal"})[a?"green":"red"](o)}))}}(t))}}(n),className:(0,Km.A)("btn btn-green-light btn-block",u&&"btn-ajax-loading"),children:[(0,$.tr)("tournaments.confirm_rebuy"),u&&(0,Qm.jsx)(lO,{})]})})]}),!d&&(0,Qm.jsx)("a",{href:o,className:"btn btn-green btn-block",children:(0,$.tr)("tournaments.go")})]}),1===h&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"text11",children:[(0,Qm.jsxs)("p",{children:[(0,$.tr)("tournaments.disabled_rebuy"),":"]}),(0,Qm.jsx)("div",{className:"message message-info notification-message",style:{marginTop:"10px"},children:(0,$.tr)("tournaments.top_up_for_rebuy",{amount:(0,hn.ej)(r,c)})})]}),(0,Qm.jsx)("div",{className:"btn-wrap",children:(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet/deposit-step-1/"),className:"btn btn-green-light btn-block",children:(0,$.tr)("dep")})})]}),2===h&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"text11",children:[(0,Qm.jsxs)("p",{children:[(0,$.tr)("tournaments.disabled_rebuy"),":"]}),(0,Qm.jsxs)("div",{className:"message message-info notification-message",style:{marginTop:"10px"},children:[(0,$.tr)("tournaments.not_enough_for_rebuy")," ",(0,$.tr)("tournaments.top_up_for_rebuy",{amount:(0,hn.ej)(r,c)})]})]}),(0,Qm.jsx)("div",{className:"btn-wrap",children:(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet/deposit-step-1/"),className:"btn btn-green-light btn-block",children:(0,$.tr)("dep")})})]}),3===h&&(0,Qm.jsxs)("div",{className:"text11",children:[(0,Qm.jsxs)("p",{children:[(0,$.tr)("tournaments.disabled_rebuy"),":"]}),(0,Qm.jsxs)("div",{className:"message message-info notification-message",style:{marginTop:"10px"},children:[a>=i&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("p",{children:["-"," ",(0,$.tr)("tournaments.tour_balance_high",(0,hn.ej)(a,Ru.Ay.TOURNAMENT_CURRENCY_CODE))]}),(0,Qm.jsxs)("p",{children:["-"," ",(0,$.tr)("tournaments.min_balance_for_rebuy",(0,hn.ej)(i,Ru.Ay.TOURNAMENT_CURRENCY_CODE))]})]}),s>0&&(0,Qm.jsx)("p",{children:(0,$.tr)("tournaments.have_opened_bets")})]})]})]})},rk=function(t){var e=t.tournament;return(0,Qm.jsx)(nk,{tournament:e})};function ik(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ok(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ok(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ok(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var ak=function(){var t=(0,Lb.d4)((function(t){return t.tournaments.detailsModal})),e=t.data,n=t.startTab,r=(0,Lb.d4)((function(t){return t.global.currentTime})),i=e.tournament,o=e.date,a=ik((0,Xm.useState)(n),2),s=a[0],c=a[1],l=function(t){return function(){return c(t)}},u=i.isRegistered,d=i.title,f=i.users,h=i.timeStart,p=i.timeEnd,m=r>=h&&r<=p,y=[fv.v.DESCRIPTION];return m&&y.push(fv.v.RATING),u&&m&&y.push(fv.v.REBUY),(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"title",children:[(0,$.tr)("tournaments.detail_modal.title")," ",'"'.concat(d,'"')]}),y.length>1&&(0,Qm.jsx)("ul",{className:(0,Km.A)("td-tabs",u?"td-tabs--three-tabs":"td-tabs--two-tabs"),children:y.map((function(t){return(0,Qm.jsx)("li",{className:(0,Km.A)("td-tabs__item",s===t&&"td-tabs__item--active"),children:(0,Qm.jsx)("a",{className:"td-tabs__link",onClick:l(t),children:(0,$.tr)(t)})},t)}))}),s===fv.v.DESCRIPTION&&(0,Qm.jsx)(qO,{tournament:i}),s===fv.v.RATING&&(0,Qm.jsx)(ek,{tournament:i,date:o,users:f}),(s===fv.v.REG||s===fv.v.REBUY)&&(0,Qm.jsx)(rk,{selectedTab:s,tournament:i})]})},sk=function(t){var e=t.isOpen,n=(0,Lb.wA)(),r=function(){return n(cp({modalId:qo.lx.TOURNAMENT_DETAILS,value:!1}))};return(0,Qm.jsx)(kx,{isOpen:e,onRequestClose:r,className:"tournament-detail-modal",captureClickOutside:!0,children:(0,Qm.jsx)(ak,{onRequestClose:r})})},ck=function(t){if(window.location.hash.startsWith("#".concat(t))){var e=+window.location.hash.substr(t.length+1);if(e>1)return e}return null},lk=function(t){var e=t.clickHandler,n=(0,Lb.d4)((function(t){return t.modals.states})),r=n[qo.lx.TOURNAMENTS],i=n[qo.lx.TOURNAMENT_DETAILS],o=n[qo.lx.TOURNAMENT_HISTORY],a=(0,Lb.wA)();return(0,Xm.useEffect)((function(){var t=ck("tid=");t&&a(jv(t,fv.v.DESCRIPTION));var e=ck("next-tournament-");e&&a(gv(e));var n=ck("history-tournament-");n&&a(yv(n))}),[]),(0,Qm.jsxs)("li",{className:(0,Km.A)(r&&"active open-menu"),children:[(0,Qm.jsx)(BS,{menuClick:e}),r&&(0,Qm.jsx)(xO,{}),(0,Qm.jsx)(PO,{isOpen:o}),(0,Qm.jsx)(sk,{isOpen:i})]})},uk="by-time",dk="by-price",fk="list";function hk(t){return hk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hk(t)}var pk=["children","selectedSymbol","onChangeSymbol"];function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mk(Object(n),!0).forEach((function(e){vk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vk(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=hk(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hk(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bk=function(t){t.children;var e=t.selectedSymbol,n=t.onChangeSymbol,r=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,pk),o=(0,Lb.d4)((function(t){return t.assets.assetBySymbol})),a=(0,Lb.d4)(vf.lw),s=(0,Xm.useRef)();(0,Xm.useEffect)((function(){s.current&&i()(s.current).selectpicker({liveSearchStyle:function(t,e){e=e.replace(/([.+?^$\\])/g,"$1").replace(/[*%]/g,".*");var n=new RegExp(e,"i"),r=t.replace("/","");return t.search(n)>=0||r.search(n)>=0}})}),[]),(0,Xm.useEffect)((function(){i()(s.current).selectpicker("refresh")}),[e]);var c,l,u={};for(var d in o){var f=o[d];f.active&&a.includes(f.symbol)&&(u[f.type]||(u[f.type]=[]),u[f.type].push(f))}l={},(c=u).currency&&(l.currency=c.currency),c.cryptocurrency&&(l.cryptocurrency=c.cryptocurrency),c.commodity&&(l.commodity=c.commodity),c.stock&&(l.stock=c.stock),c.index&&(l.index=c.index),u=l;var h=[];for(var p in u){var m=u[p];m.sort((function(t,e){return t.label===e.label?0:t.label>e.label?1:-1}));var y=m.map((function(t){var e=t.label,n=t.symbol;return(0,Qm.jsx)("option",{value:n,children:e},n)}));h.push((0,Qm.jsx)("optgroup",{label:(0,X_.AU)(p),children:y},p))}return(0,Qm.jsxs)("div",yk(yk({},r),{},{children:[(0,Qm.jsx)("label",{htmlFor:"field-symbol",children:(0,$.tr)("pending.form_asset")}),(0,Qm.jsx)("select",{ref:s,className:"form-control selectpicker","data-live-search":"true",value:e,"data-size":"7",onChange:function(t){return n(t.target.value)},children:h})]}))},gk=n(66794);n(62581);function wk(t){return wk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wk(t)}var jk=["children","openTime","onChangeOpenTime"];function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xk(Object(n),!0).forEach((function(e){Sk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sk(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=wk(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wk(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ok(t){return(0,gk.a3)(t,!0)}var kk="YYYY-MM-DD HH:mm:ss",Tk=function(t){t.children;var e=t.openTime,n=t.onChangeOpenTime,r=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,jk),o=(0,Lb.d4)((function(t){return t.global.currentTime})),a=(0,Xm.useRef)(),s=(0,ij.cR)(o),c=function(t){return function(e){if(t){var r=(0,ij.M7)(e.target.value);if(Number.isNaN(r)||r<=s)return n(Ok(s+120))}n(e.target.value)}};return(0,Xm.useEffect)((function(){n(Ok(s+120))}),[]),(0,Xm.useEffect)((function(){a.current&&void 0!==i().fn.datetimepicker&&i()(a.current).datetimepicker({format:kk,widgetPositioning:{horizontal:"left",vertical:"bottom"}}).on("dp.change",(function(t){n(t.date?t.date.format(kk):Ok(s+120))}))}),[a]),(0,Qm.jsxs)("div",_k(_k({},r),{},{children:[(0,Qm.jsx)("label",{htmlFor:"field-open_time",className:"open-time-label",children:(0,$.tr)("pending.form_open_time")}),(0,Qm.jsxs)("div",{className:"input-group date",ref:a,children:[(0,Qm.jsx)("span",{className:"input-group-addon",children:(0,Qm.jsx)("i",{className:"fa fa-clock-o"})}),(0,Qm.jsx)("input",{type:"text",className:"form-control",value:e,onChange:c(!1),onBlur:c(!0)})]}),(0,Qm.jsxs)("div",{className:"current-time",children:[(0,$.tr)("analytics-modal.current_time"),":"," ",(0,Qm.jsx)("span",{className:"open-time-number",onClick:function(){return n(Ok(s+120))},children:Ok(s)})]})]}))};function Ak(t){return Ak="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ak(t)}var Ck=["children","symbol","openPrice","setOpenPrice"];function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ek(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pk(Object(n),!0).forEach((function(e){Ik(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ik(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Ak(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ak(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ak(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nk(t){t.children;var e=t.symbol,n=t.openPrice,r=t.setOpenPrice,i=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,Ck),o=(0,Lb.d4)(pf),a=(0,Lb.d4)(ep),s=(0,Lb.d4)(tp),c=Bt()(o,"".concat(e,".price"),0),l=(0,Lb.d4)((function(t){return(0,vf.L5)(t)(e)}));(0,Xm.useEffect)((function(){r(null!=a&&s===e?a:c)}),[e]),(0,Xm.useEffect)((function(){c>0&&0===n&&r(c)}),[c]);var u=function(t){return function(e){var n=e.target.value;n.includes(".")||(n=n.replace(/^0+/,""));var i=Ly({value:n,min:0,max:Number.MAX_VALUE,fixValue:t,defaultValue:0,precision:l,replaceCommasToDots:!1});(Dy(i)||isNaN(i))&&(i=0),r(i)}};return(0,Qm.jsxs)("div",Ek(Ek({},i),{},{children:[(0,Qm.jsx)("label",{htmlFor:"field-open_price",className:"open-price-label",children:(0,Qm.jsx)("span",{children:(0,$.tr)("pending.form_open_price")})}),(0,Qm.jsxs)("div",{className:"input-group",children:[(0,Qm.jsx)("span",{className:"input-group-addon",children:(0,Qm.jsx)("i",{className:"fa fa-line-chart"})}),(0,Qm.jsx)("input",{type:"text",className:"form-control",value:n,onChange:u(!1),onBlur:u(!0)})]}),(0,Qm.jsxs)("div",{className:"current-time",children:[(0,$.tr)("pending.form_current_price"),":"," ",(0,Qm.jsx)("span",{className:"open-time-number",onClick:function(){return r(c)},children:gn(c,l)})]})]}))}var Dk=(0,Qm.jsx)(Rb.k,{className:"svg-icon-wrap",src:"/themes/cabinet/svg/icons/btn-buy.svg?v=1"}),Lk=(0,Qm.jsx)(Rb.k,{className:"svg-icon-wrap",src:"/themes/cabinet/svg/icons/btn-sell.svg?v=1"}),Mk=10,Rk=98,Bk=60,Hk=0,$k=1;function Fk(t){return Fk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fk(t)}var Wk=["children","minPayout","onMinPayoutChange"];function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Uk(Object(n),!0).forEach((function(e){Gk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gk(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Fk(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Fk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fk(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zk=function(t){t.children;var e=t.minPayout,n=t.onMinPayoutChange,r=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,Wk),i=function(t){return function(e){var r=parseInt(e.target.value,10);t?Number.isNaN(r)?r=Bk:r<Mk?r=Mk:r>Rk&&(r=Rk):Number.isNaN(r)?r="":r<0?r=0:r>Rk&&(r=Rk),n(r)}};return(0,Qm.jsxs)("div",Vk(Vk({},r),{},{children:[(0,Qm.jsx)("label",{htmlFor:"field-min_payout",children:(0,$.tr)("pending.form_payout")}),(0,Qm.jsxs)("div",{className:(0,Km.A)("input-group"),children:[(0,Qm.jsx)("span",{className:"input-group-addon",children:(0,$.tr)("pending.form_from")}),(0,Qm.jsx)("input",{type:"text",name:"min_payout",className:"form-control",id:"field-min_payout",value:e,onChange:i(!1),onBlur:i(!0)}),(0,Qm.jsx)("span",{className:"input-group-addon",children:"%"})]})]}))};function Yk(t){return Yk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yk(t)}var Xk=["children","amount","onChangeAmount"];function qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Kk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qk(Object(n),!0).forEach((function(e){Zk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zk(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Yk(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Yk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yk(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jk(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Qk(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qk(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tT(t){t.children;var e=t.amount,n=t.onChangeAmount,r=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,Xk),i=Jk((0,Xm.useState)(gn(e)),2),o=i[0],a=i[1],s=(0,Lb.d4)((function(t){return t.global.balance})),c=(0,Lb.d4)(Xf.Oi),l=(0,Lb.d4)(Oh);(0,Xm.useEffect)((function(){a(gn(e))}),[e]);var u=(0,ch.Ew)(s,(0,ru.jp)({amount:l,currency:c})),d=function(t,e){var r=String(t);"0"!==o||e||2!==r.length||"0"!==r.substring(1)||(r=r.substring(0,1)),r.includes(".")||(r=r.replace(/^0+/,""));var i=(0,ru.He)(c),s=Ly({value:r,min:i,max:u,fixValue:e,defaultValue:i,replaceCommasToDots:!1});(Dy(s)||isNaN(s))&&(s=0),a(gn(s)),e&&n(s)};return(0,Qm.jsxs)("div",Kk(Kk({},r),{},{children:[(0,Qm.jsx)("label",{htmlFor:"field-amount",children:(0,$.tr)("pending.form_amount")}),(0,Qm.jsxs)("div",{className:"input-group",children:[(0,Qm.jsx)("input",{type:"text",className:"form-control",value:o,onChange:function(t){return d(t.target.value,!1)},onBlur:function(t){return d(t.target.value,!0)}}),(0,Qm.jsx)("span",{className:"input-group-addon",children:(0,hn.AR)(c)})]})]}))}function eT(t){var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60);return{hour:e,min:n,sec:Math.floor(t-60*n-3600*e)}}function nT(t){return nT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nT(t)}function rT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function iT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rT(Object(n),!0).forEach((function(e){oT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oT(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=nT(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nT(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aT(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return sT(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sT(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sT(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var cT={HOUR:3600,MINUTE:60,SECONOD:1},lT=function(t){var e=aT((0,Xm.useState)(oT(oT(oT({},cT.HOUR,"0"),cT.MINUTE,"0"),cT.SECONOD,"0")),2),n=e[0],r=e[1],i=function(t){var e=eT(t),n=e.hour,i=e.min,o=e.sec;r(oT(oT(oT({},cT.HOUR,"".concat(n)),cT.MINUTE,"".concat(i)),cT.SECONOD,"".concat(o)))};return(0,Xm.useEffect)((function(){return i(t)}),[]),{hms:n,setHMSPart:function(t,e){r((function(n){return iT(iT({},n),{},oT({},t,"".concat(e)))}))},setHMS:i}};function uT(){var t=navigator.userAgent||navigator.vendor||window.opera;return!(!/iPad|Macintosh/i.test(t)||!("ontouchend"in document))||(!(!/Android/i.test(t)||/Mobile/i.test(t))||/Windows/i.test(t)&&/Touch/i.test(t))}var dT=function(){var t=(0,Lb.d4)((function(t){return t.global.isMobile})),e=uT()||(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&(navigator.maxTouchPoints>1||void 0!==navigator.standalone))&&!window.MSStream;return t||e},fT=n(12284),hT=n.n(fT);function pT(t){return pT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pT(t)}var mT=["children","symbol","timeframe","onChangeTimeframe"];function yT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yT(Object(n),!0).forEach((function(e){bT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bT(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=pT(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pT(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gT(t){return function(t){if(Array.isArray(t))return wT(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return wT(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wT(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wT(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var jT=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/trading-panel/expiration-inputs-list-modal/plus.svg"}),xT=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/trading-panel/expiration-inputs-list-modal/minus.svg"});function _T(t){t.children;var e=t.symbol,n=t.timeframe,r=t.onChangeTimeframe,i=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,mT),o=lT(n),a=o.hms,s=o.setHMS,c=dT(),l=(0,Lb.d4)((function(t){return(0,vf.rZ)(t)(e)}));(0,Xm.useEffect)((function(){return s(n)}),[n]);var u=(0,Hf.Sp)({asset:l}),d=Math.max.apply(Math,gT(l.timeframes.map((function(t){return t.time})))),f=function(t,e){if(0!==l.timeframes.length){var n=parseInt(function(t){return hT()("".concat(t),"0").replace(/[^-0-9]/g,"")}(e),10);n=Number.isNaN(n)?0:sh()(n,0,59);var i=Object.values(cT).reduce((function(e,r){return e+(r===t?n:parseInt(a[r],10))*r}),0);r(sh()(i,u,d))}},h=function(t){return r(sh()(t,u,d))},p=function(t){return function(){return h(n+1*t)}},m=function(t){return function(){return h(n-1*t)}},y=function(t){return function(e){return f(t,e.currentTarget.value)}},v=function(t){return function(e){return f(t,e.currentTarget.value)}},b=d===n,g=u===n;return(0,Qm.jsxs)("div",vT(vT({},i),{},{children:[(0,Qm.jsx)("label",{htmlFor:"field-close_period",children:(0,$.tr)("pending.form_timeframe")}),(0,Qm.jsx)("div",{className:"quick-timeframe-selector__in",children:Object.values(cT).map((function(t){return(0,Qm.jsxs)("div",{className:"rw",children:[(0,Qm.jsx)("a",{className:(0,Km.A)("btn-plus",b&&"disabled"),onClick:p(t),children:jT}),(0,Qm.jsx)("div",{className:"input-field-wrapper",children:(0,Qm.jsx)("input",{type:"text",autoComplete:"off",value:(0,dh.wl)(a[t]),onBlur:y(t),onChange:v(t),readOnly:c})}),(0,Qm.jsx)("a",{className:(0,Km.A)("btn-minus",g&&"disabled"),onClick:m(t),children:xT})]},"keys-".concat(t))}))})]}))}function ST(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return OT(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OT(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OT(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function kT(t){var e=Bk;return t&&t<e&&(e=Math.max(30,t-10)),e}var TT=function(t){var e=t.tab,n=(0,Lb.wA)(),r=(0,Lb.d4)(Of),i=(0,Lb.d4)(ep),o=(0,Lb.d4)(tp),a=(0,Lb.d4)(np),s=(0,Lb.d4)(rp),c=(0,Lb.d4)(ip),l=(0,Lb.d4)(Xf.Oi),d=ST((0,Xm.useState)(r),2),f=d[0],h=d[1],p=ST((0,Xm.useState)(null),2),m=p[0],v=p[1],b=(0,Lb.d4)((function(t){return(0,vf.L5)(t)(f)})),g=ST((0,Xm.useState)(0),2),w=g[0],j=g[1],x=ST((0,Xm.useState)(gn(null!=i?i:0,b)),2),_=x[0],S=x[1],O=ST((0,Xm.useState)(kT(a)),2),k=O[0],T=O[1],A=ST((0,Xm.useState)(null!=c?c:60),2),C=A[0],P=A[1],E=ST((0,Xm.useState)(null!=s?s:(0,ru.He)(l)),2),I=E[0],N=E[1],D=function(t){return S(gn(t,b))};(0,Xm.useEffect)((function(){null!==i&&D(i),null!==o&&h(o),null!==a&&T(kT(a)),null!==s&&N(s),null!==c&&P(c)}),[i,o,a,s,c]),(0,Xm.useEffect)((function(){return null!==m&&n(mp({symbol:m})),v(f),n(pp({symbol:f})),function(){n(mp({symbol:f}))}}),[f]);var L=function(t){return function(){var r=w;w&&(r=(0,ij.CO)((0,ij.bU)(w)));var i,o={openType:e===uk?Zh.g.BY_TIME:Zh.g.BY_PRICE,amount:parseFloat(String(I).replace(",","")),asset:f,openTime:r,openPrice:parseFloat(String(_).replace(",","")),timeframe:C,minPayout:k,command:t};n((i=o,function(t,e){var n=e();if((0,Xf.Hf)(n))return u.A.publish(y.FI);if((0,Xf.cO)(n)){var r=(0,Xf.Oi)(n),o=(0,Xf.A4)(n);if(i.amount>o)return u.A.publish(y.$k,{limit:o,amount:i.amount,currency:r,asset:i.asset})}bt.A.instance.createPendingOrder(i),t({type:"pending.create"},i)}))}};return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("form",{method:"post",children:[(0,Qm.jsx)(bk,{className:"form-group",id:"pending-trades_asset",selectedSymbol:f,onChangeSymbol:h}),e===uk&&(0,Qm.jsx)(Tk,{id:"pending-trades_open-time",className:"form-group",openTime:w,onChangeOpenTime:function(t){return j(t)}}),e===dk&&(0,Qm.jsx)(Nk,{className:"form-group",id:"pending-trades_open-price",symbol:f,openPrice:_,setOpenPrice:D}),(0,Qm.jsx)(zk,{className:"form-group",id:"pending-trades_min-payout",minPayout:k,onMinPayoutChange:T}),(0,Qm.jsx)(_T,{className:"form-group quick-timeframe-selector",id:"pending-trades_timeframe",symbol:f,timeframe:C,onChangeTimeframe:P}),(0,Qm.jsx)(tT,{className:"form-group",id:"pending-trades_amount",amount:I,onChangeAmount:N}),(0,Qm.jsxs)("div",{className:"form-group call-put-btn-wrap",children:[(0,Qm.jsxs)("a",{className:"btn btn-call",id:"pending-trades_higher-btn",onClick:L(Hk),children:[Dk,(0,Qm.jsx)("span",{className:"btn-text",children:(0,$.tr)("control_panel.buy")})]}),(0,Qm.jsxs)("a",{className:"btn btn-put",id:"pending-trades_lower-btn",onClick:L($k),children:[Lk,(0,Qm.jsx)("span",{className:"btn-text",children:(0,$.tr)("control_panel.sell")})]})]})]}),(0,Qm.jsx)("div",{className:"info",children:(0,Qm.jsx)("p",{children:(0,$.tr)("pending.form_info")})})]})},AT=function(){return(0,Qm.jsx)("div",{className:"message message-info notification-message",children:(0,$.tr)("pending.no_current")})},CT=function(t){var e=t.openTime;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("i",{className:"fa fa-clock-o"})," ",e]})},PT=function(t){var e=t.symbol,n=t.openPrice,r=(0,Lb.d4)((function(t){return(0,vf.L5)(t)(e)}));return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("i",{className:"fa fa-line-chart"})," ",(0,ru.xr)(n,r,!0)]})};var ET=function(t){var e=t.dateFrom,n=t.dateTo,r=(0,Lb.d4)((function(t){return t.global.currentTime})),i=(0,ij.M7)(n),o=i-r,a=function(t,e,n){var r=Math.round(100*(1-(n-e)/(n-t)));return r>100?r=100:r<0&&(r=0),r}((0,ij.M7)(e),r,i),s=o<=0?"00:00:00":(0,As.ny)((0,As.Dp)(o));return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"progress",children:(0,Qm.jsx)("div",{className:"progress-bar",style:{width:"".concat(a,"%")}})}),(0,Qm.jsxs)("div",{className:"formatted-date",children:[(0,$.tr)("analytics-modal.time_left"),": ",s]})]})},IT=function(t,e){var n=(0,Xm.useRef)(!1);(0,Xm.useEffect)((function(){n.current?t():n.current=!0}),e)};function NT(t){return NT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NT(t)}var DT=["children"];function LT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function MT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?LT(Object(n),!0).forEach((function(e){RT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function RT(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=NT(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=NT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==NT(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var BT=function(t){var e=t.children,n=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,DT),r=(0,Xm.useRef)(),i=(0,Xm.useRef)(e);return IT((function(){var t,n,o,a,s,c,l,u;i.current!==e&&r.current&&(t={element:r.current},n=t.element,o=t.fromColor,a=void 0===o?"inherit":o,s=t.toColor,c=void 0===s?"#ff8b2b":s,l=t.speed,u=void 0===l?1e3:l,n&&(n.style.color=c,n.style.transition="none",setTimeout((function(){n.style.transition="color ".concat(u/1e3,"s ease"),n.style.color=a}),50))),i.current=e}),[e]),(0,Qm.jsx)("div",MT(MT({ref:r},n),{},{children:e}))},HT=function(t){var e=t.symbol,n=(0,Lb.d4)((function(t){return(0,vf.L5)(t)(e)})),r=(0,Lb.d4)((function(t){return mf(t)(e)}));return(0,Qm.jsx)(BT,{className:"price",children:(0,ru.xr)(r,n,!0)})},$T=(0,hf.Mz)([function(t){return t.pendingOrders.byId}],(function(t){return function(e){var n;return null!==(n=t[e])&&void 0!==n?n:null}})),FT=function(t){var e=t.command,n=(0,iu.nT)(e);return(0,Qm.jsx)("i",{className:(0,Km.A)("fa",n?"fa-arrow-up":"fa-arrow-down",n?"icon-call":"icon-put")})},WT=function(t){var e=t.pendingId,n=(0,Lb.wA)(),r=(0,Lb.d4)((function(t){return $T(t)(e)})),i=r.openType,o=r.openTime,a=r.openPrice,s=r.timeframe,c=r.command,l=r.symbol,u=r.minPayout,d=r.amount,f=r.dateCreated,h=r.ticket,p=r.currency,m=(0,Lb.d4)((function(t){return(0,vf.P7)(t)(l)})),y=(0,iu.y0)(i),v=(0,ij.pZ)(s),b=v.prefix,g=v.period;return(0,Qm.jsxs)("div",{className:"current-item",children:[(0,Qm.jsxs)("div",{className:"current-item__row",children:[(0,Qm.jsx)(FT,{command:c}),m]}),(0,Qm.jsxs)("div",{className:"current-item__row flex-jcsb",children:[(0,Qm.jsxs)("div",{className:"current-item__key",style:{flex:"0 0 145px"},children:[y&&(0,Qm.jsx)(CT,{openTime:(0,ij.CO)((0,ij.Pw)(o))}),!y&&(0,Qm.jsx)(PT,{symbol:l,openPrice:a})]}),(0,Qm.jsxs)("div",{className:"current-item__key",children:[b,g]}),(0,Qm.jsx)("div",{className:"current-item__key",children:(0,hn.ej)(d,p)}),(0,Qm.jsxs)("div",{className:"current-item__key",children:[u,"%"]})]}),(0,Qm.jsxs)("div",{className:"current-item__row",children:[(0,Qm.jsxs)("div",{className:"current-item__progress",children:[y&&(0,Qm.jsx)(ET,{dateFrom:f,dateTo:o}),!y&&(0,Qm.jsx)(HT,{symbol:l})]}),(0,Qm.jsx)("div",{className:"current-item__actions",children:(0,Qm.jsx)("a",{onClick:function(t){return function(){return n(vp({ticket:t}))}}(h),className:"btn btn-danger-light btn-sm btn-cancel btn-block flex flex-aic flex-jcc",children:(0,Qm.jsx)("i",{className:"fa fa-times"})})})]})]})},UT=function(){var t=(0,Lb.d4)((function(t){return t.pendingOrders.ids}));return(0,Qm.jsx)("div",{className:"current-items",children:t.map((function(t){return(0,Qm.jsx)(WT,{pendingId:t},t)}))})},VT=function(){var t=(0,Lb.d4)((function(t){return t.pendingOrders.ids.length}));return(0,Qm.jsxs)("div",{className:"pending-order-list",children:[0===t&&(0,Qm.jsx)(AT,{}),t>0&&(0,Qm.jsx)(UT,{})]})},GT=Rg((function(t){var e=t.openerNode,n=t.onDropdownClose;return(0,Qm.jsx)(Yj,{timeout:200,classNames:"drop-down-modal-wrap",className:"drop-down-modal-wrap",children:(0,Qm.jsx)(sx,{onClickOutside:n,className:"drop-down-modal drop-down-modal__signal-settings",style:nS(e),children:(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)("div",{className:"divider mb-15",children:(0,$.tr)("pending.form_more_title")}),(0,Qm.jsx)("div",{className:"s-text mb-10",children:(0,$.tr)("expresses.howto-desc")}),(0,Qm.jsx)("div",{className:"s-text mb-10",children:(0,$.tr)("pending.form_more_1")}),(0,Qm.jsx)("div",{className:"s-text",children:(0,$.tr)("pending.form_more_2")})]})})})}));function zT(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return YT(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YT(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YT(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var XT=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/help-icon.svg"}),qT=function(t){var e=t.tab,n=t.handleTabChange,r=(0,Lb.d4)((function(t){return t.pendingOrders.ids.length})),i=(0,Xm.useRef)(r),o=zT((0,Xm.useState)(!1),2),a=o[0],s=o[1],c=(0,Lb.d4)((function(t){return t.global.isMobile})),l=(0,Xm.useRef)(null);IT((function(){i.current=r}),[r]);return(0,Qm.jsxs)("div",{className:"flex-vertical-block__header",children:[(0,Qm.jsx)(sw,{ref:l,text:(0,$.tr)("pending.title")}),!c&&(0,Qm.jsx)("a",{onClick:function(){return s(!0)},className:(0,Km.A)("title-position-icon",a&&"active"),children:XT}),(0,Qm.jsxs)("ul",{className:"tab-nav tab-nav--v2",children:[(0,Qm.jsx)("li",{className:(0,Km.A)(e===uk&&"active"),children:(0,Qm.jsx)("a",{onClick:n(uk),id:"pending-trades_by-time-tab",children:(0,$.tr)("pending.tab_by_time")})}),(0,Qm.jsx)("li",{className:(0,Km.A)(e===dk&&"active"),children:(0,Qm.jsx)("a",{onClick:n(dk),id:"pending-trades_by-price-tab",children:(0,$.tr)("pending.tab_by_price")})}),(0,Qm.jsx)("li",{className:(0,Km.A)(e===fk&&"active"),children:(0,Qm.jsxs)("a",{onClick:n(fk),id:"pending-trades_current-tab",children:[(0,$.tr)("pending.tab_current"),r>0&&(0,Qm.jsx)(yx,{count:r,type:cw.$9})]})})]}),(0,Qm.jsxs)("div",{className:"tab-text",children:[e===uk&&(0,$.tr)("pending.tab_by_time_desc"),e===dk&&(0,$.tr)("pending.tab_by_price_desc"),e===fk&&(0,$.tr)("pending.tab_current_desc")]}),a&&(0,Qm.jsx)(GT,{openerNode:l.current,onDropdownClose:function(){return s(!1)}})]})};function KT(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ZT(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZT(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZT(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var JT="by-time",QT="by-price",tA="list",eA=Rg((function(){var t=(0,Lb.wA)(),e=(0,Lb.d4)(ap),n=KT((0,Xm.useState)(e?QT:JT),2),r=n[0],i=n[1],o=(0,Lb.d4)(op);(0,Xm.useEffect)((function(){return o.forEach((function(e){return t(pp({symbol:e}))})),function(){t((function(t,e){var n=e(),r=op(n);if(r.length){var i=bp(n,!1);r.filter((function(t){return!i.includes(t)})).forEach((function(t){return bt.A.instance.unsubscribeAsset(t)})),t({type:"symbol.unsubscribePendings",payload:{pendingSymbols:r}})}}))}}),[]),(0,Xm.useEffect)((function(){var t=u.A.subscribe(y.sF,(function(){i(QT)}));return function(){u.A.unsubscribe(t)}}),[]);return(0,Qm.jsx)(Yj,{className:"right-sidebar-modal pending-order-modal",children:(0,Qm.jsxs)("div",{className:"flex-vertical-block",children:[(0,Qm.jsx)(qT,{tab:r,handleTabChange:function(t){return function(){return i(t)}}}),(0,Qm.jsx)(Xg,{children:(0,Qm.jsxs)("div",{className:"flex-vertical-block__body",children:[(r===JT||r===QT)&&(0,Qm.jsx)(TT,{tab:r}),r===tA&&(0,Qm.jsx)(VT,{})]})})]})})})),nA=function(t){var e=t.menuClick,n=(0,Lb.d4)((function(t){return t.pendingOrders.ids.length})),r=(0,Lb.d4)((function(t){return(0,Gu.WN)(t)}));return(0,Qm.jsxs)("a",{className:(0,Km.A)(r&&"tooltip2"),onClick:e,children:[(0,Qm.jsx)("i",{className:"fa fa-hourglass-end"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("right_panel.pending_order")}),n>0&&(0,Qm.jsx)("div",{className:"counter-wrap",children:(0,Qm.jsx)(yx,{count:n,type:cw.AI})}),r&&(0,Qm.jsx)(nw,{position:"left",children:(0,Qm.jsx)(Qm.Fragment,{children:(0,$.tr)("right_panel.pending_order")})})]})},rA=function(t){var e=t.clickHandler,n=(0,Lb.wA)(),r=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.PENDING_ORDERS]})),i=(0,Lb.d4)((function(t){return t.assets.symbols.length>0})),o=(0,Lb.d4)((function(t){return null!==t.global.currentTime})),a=r&&i&&o;return(0,Xm.useEffect)((function(){a||n(Kh.Je({symbol:null,price:null,payout:null,amount:null,timeframe:null}))}),[a]),(0,Qm.jsxs)("li",{className:(0,Km.A)(a&&"active open-menu"),children:[(0,Qm.jsx)(nA,{menuClick:e}),a&&(0,Qm.jsx)(eA,{})]})},iA=function(){var t=(0,Lb.wA)(),e=(0,Lb.d4)((function(t){return t.global.isTournament})),n=(0,Lb.d4)((function(t){return t.modals.states})),r=(0,Lb.d4)(zS),i=(0,Lb.d4)((function(t){return t.global.hideTournament})),o=(0,Lb.d4)(xf),a=(0,Lb.d4)(_f);(0,Xm.useEffect)((function(){var t=document.body;if(t){var e=!1;for(var r in n){var i="open-".concat(r);n[r]&&!t.classList.contains(i)&&(t.classList.add(i),e=!0),!n[r]&&t.classList.contains(i)&&(t.classList.remove(i),e=!0)}e&&Yt()}}),[n]);var s=function(e){return function(){!o||e!==qo.lx.EXPRESSES&&e!==qo.lx.TOURNAMENTS&&e!==qo.lx.PENDING_ORDERS?a&&e===qo.lx.EXPRESSES?t(cp({modalId:qo.lx.ONLY_REAL_TRADING,value:!0})):n[e]?(t(cp({modalId:e,value:!1})),Ix(e,!1)):(t(up(e)),Ix(e,!0)):t(cp({modalId:qo.lx.ONLY_REGISTERED,value:!0}))}};return(0,Qm.jsxs)("nav",{children:[(0,Qm.jsxs)("ul",{children:[e&&(0,Qm.jsxs)(Qm.Fragment,{children:[r&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)(PS,{}),(0,Qm.jsx)(OS,{})]}),(0,Qm.jsx)(lk,{clickHandler:s(qo.lx.TOURNAMENTS)}),r&&(0,Qm.jsx)(rA,{clickHandler:s(qo.lx.PENDING_ORDERS)})]}),!e&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)(PS,{}),(0,Qm.jsx)(OS,{}),(0,Qm.jsx)(bx,{clickHandler:s(qo.lx.SOCIAL_TRADING)}),(0,Qm.jsx)(hS,{clickHandler:s(qo.lx.EXPRESSES)}),!i&&(0,Qm.jsx)(lk,{clickHandler:s(qo.lx.TOURNAMENTS)}),(0,Qm.jsx)(rA,{clickHandler:s(qo.lx.PENDING_ORDERS)})]}),(0,Qm.jsx)(Rx,{})]}),(0,Qm.jsxs)("ul",{className:"bottom",children:[(0,Qm.jsx)("li",{children:(0,Qm.jsx)(Bx,{})}),(0,Qm.jsx)("li",{className:"tooltip2",children:(0,Qm.jsx)(gS,{})})]})]})};function oA(t){return oA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oA(t)}function aA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sA(r.key),r)}}function sA(t){var e=function(t,e){if("object"!=oA(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=oA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oA(e)?e:e+""}function cA(t,e,n){return e=uA(e),function(t,e){if(e&&("object"==oA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,lA()?Reflect.construct(e,n||[],uA(t).constructor):e.apply(t,n))}function lA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(lA=function(){return!!t})()}function uA(t){return uA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uA(t)}function dA(t,e){return dA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dA(t,e)}var fA=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),cA(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dA(t,e)}(e,t),function(t,e,n){return e&&aA(t.prototype,e),n&&aA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentDidMount",value:function(){var t=this;this.eventTokenOpen=u.A.subscribe(zt.Sv,(function(e,n){var r=n.val,i=t.props,o=i.closeOtherModals;!0!==i.modalStates[r]&&o(r)})),this.eventTokenClose=u.A.subscribe(zt.kA,(function(e,n){var r=n.val;t.props.changeModalState({val:r,value:!1})}))}},{key:"componentWillUnmount",value:function(){u.A.unsubscribe(this.eventTokenOpen),u.A.unsubscribe(this.eventTokenClose)}},{key:"render",value:function(){return this.props.isMobile?null:(0,Qm.jsx)(iA,{})}}])}(Xm.Component),hA=(0,Lb.Ng)((function(t){var e=t.global,n=t.modals;return{isMobile:e.isMobile,modalStates:n.states}}),{changeModalState:cp,changeModalStates:lp,closeOtherModals:up})(fA),pA=hA;function mA(t){var e=t.active,n=(0,Lb.wA)(),r=(0,Lb.d4)(Gu.WN),i=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.TRADING_MODAL]})),o=(0,Lb.d4)(xf);return(0,Qm.jsxs)("li",{className:(0,Km.A)(e&&"active",r&&"tooltip2"),children:[(0,Qm.jsxs)("a",{onClick:function(){n(cp(o?{modalId:qo.lx.ONLY_REGISTERED,value:!0}:{modalId:qo.lx.TRADING_MODAL,value:!i}))},className:"js-left-sidebar-menu","data-menu-id":"trading",children:[(0,Qm.jsx)("i",{className:"fa fa-line-chart"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("left-sidebar.trading")})]}),r&&(0,Qm.jsxs)(nw,{position:"right",children:[(0,$.tr)("left-sidebar.trading"),(0,Qm.jsx)("br",{}),(0,$.tr)("left-sidebar.trading-desc")]})]})}function yA(){return(0,Qm.jsx)("li",{children:(0,Qm.jsxs)("a",{href:(0,tn.hX)("register"),children:[(0,Qm.jsx)("i",{className:"fa fa-user-plus"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("register")})]})})}function vA(){return(0,Qm.jsx)("li",{children:(0,Qm.jsxs)("a",{href:(0,tn.hX)("login"),children:[(0,Qm.jsx)("i",{className:"fa fa-sign-in"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("sign_in")})]})})}function bA(){return(0,Qm.jsx)("li",{children:(0,Qm.jsxs)("a",{href:(0,tn.hX)("logout/?redirectUrl=/"),children:[(0,Qm.jsx)("i",{className:"fa fa-sign-out"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("logout")})]})})}function gA(t){var e=t.count,n=t.type;return e?(0,Qm.jsx)("div",{className:"counter-wrap",children:(0,Qm.jsx)(yx,{count:e,type:n})}):null}function wA(t){return wA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wA(t)}function jA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jA(Object(n),!0).forEach((function(e){_A(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _A(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=wA(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wA(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SA(){var t=(0,Lb.wA)(),e=(0,Lb.d4)(Gu.WN),n=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.FINANCE_MODAL]})),r=(0,Lb.d4)((function(t){return t.counters[cw.fG]})),i={};return(0,Lb.d4)(xf)?i.href=(0,tn.hX)("deposit-demo"):i.onClick=function(){return t(cp({modalId:qo.lx.FINANCE_MODAL,value:!n}))},(0,Qm.jsxs)("li",{className:(0,Km.A)(e&&"tooltip2"),children:[(0,Qm.jsxs)("a",xA(xA({},i),{},{className:"js-left-sidebar-menu","data-menu-id":"finance",children:[(0,Qm.jsx)("i",{className:"fa fa-dollar"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("left-sidebar.finance")}),(0,Qm.jsx)(gA,{count:r,type:cw.fG})]})),e&&(0,Qm.jsxs)(nw,{position:"right",children:[(0,$.tr)("left-sidebar.finance"),(0,Qm.jsx)("br",{}),(0,$.tr)("left-sidebar.finance-desc")]})]})}function OA(){var t=(0,Lb.wA)(),e=(0,Lb.d4)(Gu.WN),n=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.PROFILE_MODAL]})),r=(0,Lb.d4)(xf);return(0,Qm.jsxs)("li",{className:(0,Km.A)(e&&"tooltip2"),children:[(0,Qm.jsxs)("a",{onClick:function(){t(cp(r?{modalId:qo.lx.ONLY_REGISTERED,value:!0}:{modalId:qo.lx.PROFILE_MODAL,value:!n}))},className:"js-left-sidebar-menu","data-menu-id":"profile",children:[(0,Qm.jsx)("i",{className:"fa fa-user"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("left-sidebar.profile")})]}),e&&(0,Qm.jsxs)(nw,{position:"right",children:[(0,$.tr)("left-sidebar.profile"),(0,Qm.jsx)("br",{}),(0,$.tr)("left-sidebar.profile-desc")]})]})}function kA(t){var e=t.type;return(0,Qm.jsx)("div",{className:(0,Km.A)("counter",e&&"counter--".concat(e)),children:(0,Qm.jsxs)("span",{className:"counter__icon",children:[(0,Qm.jsx)("i",{className:"fa fa-bell"})," "]})})}function TA(t){var e=t.show,n=t.type;return e?(0,Qm.jsx)("div",{className:"counter-wrap",children:(0,Qm.jsx)(kA,{type:n})}):null}function AA(){var t=(0,Lb.wA)(),e=(0,Lb.d4)(Gu.WN),n=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.MARKET_MODAL]})),r=(0,Lb.d4)((function(t){return t.counters[cw.In]})),i=(0,Lb.d4)(xf);return(0,Qm.jsxs)("li",{className:(0,Km.A)(e&&"tooltip2"),children:[(0,Qm.jsxs)("a",{onClick:function(){t(cp(i?{modalId:qo.lx.ONLY_REGISTERED,value:!0}:{modalId:qo.lx.MARKET_MODAL,value:!n}))},className:"js-left-sidebar-menu","data-menu-id":"market",children:[(0,Qm.jsx)(Tx.A,{src:"/themes/cabinet/svg/icons/market.svg"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("left-sidebar.market")}),(0,Qm.jsx)(TA,{show:r,type:cw.In})]}),e&&(0,Qm.jsxs)(nw,{position:"right",children:[(0,$.tr)("left-sidebar.market"),(0,Qm.jsx)("br",{}),(0,$.tr)("left-sidebar.market-desc")]})]})}function CA(){var t=(0,Lb.wA)(),e=(0,Lb.d4)(Gu.WN),n=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.ACHIEVEMENTS_MODAL]})),r=(0,Lb.d4)((function(t){return t.counters[cw.KO]})),i=(0,Lb.d4)(xf);return(0,Qm.jsxs)("li",{className:(0,Km.A)(e&&"tooltip2"),children:[(0,Qm.jsxs)("a",{onClick:function(){t(cp(i?{modalId:qo.lx.ONLY_REGISTERED,value:!0}:{modalId:qo.lx.ACHIEVEMENTS_MODAL,value:!n}))},className:"js-left-sidebar-menu","data-menu-id":"achievements",children:[(0,Qm.jsx)("i",{className:"fa fa-diamond"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("left-sidebar.ach")}),(0,Qm.jsx)(TA,{show:r,type:cw.KO})]}),e&&(0,Qm.jsxs)(nw,{position:"right",children:[(0,$.tr)("left-sidebar.ach"),(0,Qm.jsx)("br",{}),(0,$.tr)("left-sidebar.ach-desc")]})]})}function PA(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return EA(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EA(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EA(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function IA(){return document.body.classList.contains("s-chat_open")}function NA(){var t=(0,Lb.wA)(),e=PA((0,Xm.useState)(IA()),2),n=e[0],r=e[1],i=(0,Lb.d4)(Gu.WN),o=(0,Lb.d4)(xf);(0,Xm.useEffect)((function(){var t;(t=n)?document.body.classList.add("s-chat_open"):document.body.classList.remove("s-chat_open"),Pe.A.cookies.set("chat_opened",t?1:0),u.A.publish(t?y.Zl:y.FU),Yt()}),[n]),(0,Xm.useEffect)((function(){function t(){r(!0)}function e(){r(!1)}var n=u.A.subscribe(y.UL,t),i=u.A.subscribe(y.aP,e);return document.addEventListener("showChatCallback",t),document.addEventListener("hideChatCallback",e),function(){u.A.unsubscribe(n),u.A.unsubscribe(i),document.removeEventListener("showChatCallback",t),document.removeEventListener("hideChatCallback",e)}}),[]),(0,Xm.useEffect)((function(){function t(){IA()||r(!0)}function e(){IA()||r(!0)}var n=document.querySelector(".js_chat_room_link");n&&n.addEventListener("click",t);var i=document.querySelector(".js-chat-open-notifications-room");return i&&i.addEventListener("click",e),function(){n&&n.removeEventListener("click",t),i&&i.removeEventListener("click",e)}}),[]);return(0,Qm.jsxs)("li",{className:(0,Km.A)(i&&"tooltip2",n&&"active open-menu"),children:[(0,Qm.jsxs)("a",{onClick:function(){if(o)return t(cp({modalId:qo.lx.ONLY_REGISTERED,value:!0}));r(!IA())},children:[(0,Qm.jsx)("i",{className:"fa fa-comments-o"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("left-sidebar.chat")}),(0,Qm.jsxs)("div",{className:"counter-wrap",children:[(0,Qm.jsx)("div",{className:"counter counter--chat js-counter--chat",style:{display:"none"},children:(0,Qm.jsx)("span",{className:"counter__number"})}),(0,Qm.jsx)("div",{className:"counter counter--group-chat-vip js-counter--group-chat-vip",style:{display:"none"},children:(0,Qm.jsx)("span",{className:"counter__icon",children:(0,Qm.jsx)("i",{className:"fa fa-bell"})})})]})]}),i&&(0,Qm.jsxs)(nw,{position:"right",children:[(0,$.tr)("left-sidebar.chat"),(0,Qm.jsx)("br",{}),(0,$.tr)("left-sidebar.chat-desc")]})]})}function DA(){var t=(0,Lb.wA)(),e=(0,Lb.d4)(Gu.WN),n=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.SUPPORT_MODAL]})),r=(0,Lb.d4)((function(t){return t.counters[cw.$k]}));return(0,Qm.jsxs)("li",{className:(0,Km.A)(e&&"tooltip2"),children:[(0,Qm.jsxs)("a",{onClick:function(){t(cp({modalId:qo.lx.SUPPORT_MODAL,value:!n}))},className:"js-left-sidebar-menu","data-menu-id":"support",children:[(0,Qm.jsx)("i",{className:"fa fa-question-circle"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("left-sidebar.help")}),(0,Qm.jsx)(TA,{show:r,type:cw.$k})]}),e&&(0,Qm.jsxs)(nw,{position:"right",children:[(0,$.tr)("left-sidebar.help"),(0,Qm.jsx)("br",{}),(0,$.tr)("left-sidebar.help-desc")]})]})}function LA(){var t=(0,Lb.d4)(Gu.WN);return(0,Qm.jsxs)("li",{className:(0,Km.A)("active",t&&"tooltip2"),children:[(0,Qm.jsxs)("a",{children:[(0,Qm.jsx)("i",{className:"fa fa-flag-checkered"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("left-sidebar.tour")})]}),t&&(0,Qm.jsxs)(nw,{position:"right",children:[(0,$.tr)("left-sidebar.tour"),(0,Qm.jsx)("br",{}),(0,$.tr)("left-sidebar.tour-desc")]})]})}function MA(t){var e=t.active,n=(0,Lb.wA)(),r=(0,Lb.d4)(Gu.WN),i=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.TOURNAMENT_RATINGS]}));return(0,Qm.jsxs)("li",{className:(0,Km.A)(e&&"active",r&&"tooltip2"),children:[(0,Qm.jsxs)("a",{onClick:function(){n(cp({modalId:qo.lx.TOURNAMENT_RATINGS,value:!i}))},children:[(0,Qm.jsx)("i",{className:"fa fa-list-ol"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("left-sidebar.tour-rating")})]}),r&&(0,Qm.jsxs)(nw,{position:"right",children:[(0,$.tr)("left-sidebar.tour-rating"),(0,Qm.jsx)("br",{}),(0,$.tr)("left-sidebar.tour-rating-desc")]})]})}function RA(){return(0,Qm.jsx)("li",{className:"settings",children:(0,Qm.jsxs)("a",{href:(0,tn.hX)("cabinet/trading/to-mobile-version"),children:[(0,Qm.jsx)("i",{className:"fa fa-mobile"}),(0,Qm.jsx)("span",{className:"nlabel",children:(0,$.tr)("left-sidebar.mob-ver")})]})})}var BA=n(32395),HA=Rg((function(){var t=(0,Lb.wA)(),e=(0,Xm.useRef)(),n=(0,Xm.useRef)(),r=BA.S.endpoints.getRankings.useQuery(void 0,{pollingInterval:6e4,refetchOnMountOrArgChange:!0}),i=r.data,o=r.isLoading;function a(){t(cp({modalId:qo.lx.TOURNAMENT_RATINGS,value:!1})),u.A.publish("".concat(zt.kA,".tournaments-ranking}"),new H.A("tournaments-ranking"))}(0,Xm.useEffect)((function(){var t=u.A.subscribe(y.Zl,a),e=u.A.subscribe(ne,a);return function(){u.A.unsubscribe(t),u.A.unsubscribe(e)}}),[]);var s=(0,Lb.d4)((function(t){return t.tournaments.currentTournament.title})),c=(0,Lb.d4)((function(t){return t.global.currency})),l=(0,Lb.d4)(Xf.PJ);if(!o&&i&&!i.status)return null;var d=i||{},f=d.earn,h=d.ranking,p=void 0===h?[]:h,m=d.isFullRanking,v=["active"],b=!1;if(m){var g,w,j=(null===(g=e.current)||void 0===g?void 0:g.clientHeight)||0;((null===(w=n.current)||void 0===w?void 0:w.clientHeight)||0)<p.findIndex((function(t){return t.me}))*j&&(b=!0,v.push("its-me","show_"))}return(0,Qm.jsx)("div",{id:"tournaments-ranking-modal",className:"left-sidebar-modal tournaments-modal tournaments-ranking-modal active",children:(0,Qm.jsxs)("div",{className:"flex-vertical-block",children:[(0,Qm.jsxs)("div",{className:"flex-vertical-block__header",children:[(0,Qm.jsx)("div",{className:"right-sidebar-modal__top-title",children:s}),(0,Qm.jsx)("a",{className:"close-btn title-position-icon",onClick:a,children:(0,Qm.jsx)("i",{className:"fa fa-times"})}),(0,Qm.jsx)("div",{className:"divider",children:(0,$.tr)("modals.t-ranking.title")})]}),(0,Qm.jsxs)("div",{className:(0,Km.A)("flex-vertical-block__body",b&&"fixed-me-bottom"),ref:n,children:[o&&(0,Qm.jsx)("div",{className:"ajax-loader-v2--block",children:(0,Qm.jsx)(Aw,{})}),!o&&(0,Qm.jsxs)(Xg,{className:"ranking-list bottom-offset",children:[(0,Qm.jsx)("div",{className:"message message-info notification-message",children:(0,Qm.jsx)("p",{children:(0,$.tr)("modals.t-ranking.title","".concat(c).concat(f))})}),(0,Qm.jsxs)("div",{className:"ranking-item ranking-item--header",ref:e,children:[(0,Qm.jsx)("div",{className:"position",children:"#"}),(0,Qm.jsx)("div",{className:"username",children:(0,$.tr)("modals.t-ranking.player")}),(0,Qm.jsx)("div",{className:"result",children:(0,$.tr)("modals.t-ranking.result")}),(0,Qm.jsx)("div",{className:"prize",children:(0,$.tr)("modals.t-ranking.prize")}),(0,Qm.jsx)("div",{className:"changed"})]}),p.map((function(t){return(0,Qm.jsxs)("div",{className:(0,Km.A)("ranking-item",t.me?v.join(" "):""),children:[(0,Qm.jsx)("div",{className:"position",children:t.rank}),(0,Qm.jsx)("div",{className:"username",title:t.name,children:(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet/ajax/modal/trader-information/".concat(t.uid)),className:"mfp-ajax-modal",children:t.name})}),(0,Qm.jsx)("div",{className:"result",children:"".concat(t.result<0?"-":"").concat(c).concat(Math.abs(t.result))}),(0,Qm.jsx)("div",{className:"prize",children:(0,hn.ej)(t.prize*(0,ru.D3)(l),l)}),(0,Qm.jsxs)("div",{className:(0,Km.A)("changed",t.changed>0&&"changed--up",t.changed<0&&"changed--down"),children:[(0,Qm.jsx)("i",{className:(0,Km.A)("fa",t.changed>0&&"fa-chevron-up",t.changed<0&&"fa-chevron-down")})," ",Math.abs(t.changed)]})]},t.uid)}))]})]})]})})}));function $A(){var t=(0,Lb.d4)((function(t){return t.global.theme})),e=(0,Lb.d4)((function(t){return t.global.isMobile})),n=(0,Lb.d4)((function(t){return t.global.isIslamicAccount}));return(0,Qm.jsxs)("a",{className:(0,Km.A)("pocket-friends-sidebar-btn",e&&"pocket-friends-sidebar-btn--mobile",n&&"pocket-friends-sidebar-btn--halal"),href:(0,tn.hX)("cabinet/pocket-friends"),children:[(0,Qm.jsx)("div",{className:"pocket-friends-sidebar-btn__text",children:(0,$.tr)("left-sidebar.pocket-friends")}),(0,Qm.jsxs)("div",{className:"pocket-friends-sidebar-btn__icon",children:[n&&(0,Qm.jsx)("img",{src:"/themes/cabinet/images/pocket-friends/left-sidebar/halal/img-".concat(t,".svg"),alt:""}),!n&&(0,Qm.jsx)("img",{src:"/themes/cabinet/images/pocket-friends/left-sidebar/img.png",srcSet:"/themes/cabinet/images/pocket-friends/left-sidebar/img.png 1x,/themes/cabinet/images/pocket-friends/left-sidebar/img@2x.png 2x",alt:(0,$.tr)("left-sidebar.pocket-friends")})]}),!e&&(0,Qm.jsx)("div",{className:"pocket-friends-sidebar-btn__icon pocket-friends-sidebar-btn__icon--minimize",children:(0,Qm.jsx)("img",{src:"/themes/cabinet/svg/icons/pocket-friends/sidebar-block-".concat(t,"-icon.svg"),alt:(0,$.tr)("left-sidebar.pocket-friends")})})]})}var FA=function(){var t=(0,Lb.d4)((function(t){return t.global.isDetectedMobile})),e=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.TOURNAMENT_RATINGS]}));return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("ul",{children:[(0,Qm.jsx)(mA,{active:!1}),(0,Qm.jsx)(LA,{}),(0,Qm.jsx)(MA,{active:e}),(0,Qm.jsx)(NA,{}),t&&(0,Qm.jsx)(RA,{})]}),e&&(0,Qm.jsx)(HA,{})]})},WA=function(){var t=(0,Lb.d4)((function(t){return t.global.isDetectedMobile}));return(0,Qm.jsxs)("ul",{children:[(0,Qm.jsx)(mA,{active:!0}),(0,Qm.jsx)(SA,{}),(0,Qm.jsx)(OA,{}),(0,Qm.jsx)(AA,{}),(0,Qm.jsx)(CA,{}),(0,Qm.jsx)(NA,{}),(0,Qm.jsx)(DA,{}),(0,Qm.jsx)($A,{}),t&&(0,Qm.jsx)(RA,{})]})};function UA(){var t=(0,Lb.d4)((function(t){return t.global.isDemoProfile})),e=(0,Lb.d4)((function(t){return t.global.isTournament})),n=(0,Lb.d4)((function(t){return t.global.isDetectedMobile}));return(0,Qm.jsx)(Qm.Fragment,{children:(0,Qm.jsxs)("nav",{children:[e?(0,Qm.jsx)(FA,{}):(0,Qm.jsx)(WA,{}),(0,Qm.jsxs)("ul",{className:"bottom",children:[t?(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)(yA,{}),(0,Qm.jsx)(vA,{})]}):(0,Qm.jsx)(bA,{}),!n&&(0,Qm.jsx)("li",{className:"tooltip2",children:(0,Qm.jsx)(gS,{side:vS})})]})]})})}var VA=n(14749),GA=n.n(VA),zA=n(69162),YA=n.n(zA),XA=(GA().start({apiKey:"4856b3059a46d3720bad2f5b4e2ea3c4",plugins:[new(YA())],appVersion:"8.0.39",autoTrackSessions:!1,onError:function(t){var e=void 0!==window.AppData&&void 0!==window.AppData.uid?window.AppData.uid:"unknown uid";t.setUser(e)}}),GA().getPlugin("react").createErrorBoundary(qm));function qA(t){return qA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qA(t)}function KA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ZA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?KA(Object(n),!0).forEach((function(e){JA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function JA(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=qA(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qA(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var QA=function(t){var e=t.onDropdownOpened,n=t.isOpen,r=t.innerRef;return(0,Qm.jsx)("div",{ref:r,className:(0,Km.A)("chart-layout-options-btn","pending-order-modal-current-animation",{active:n}),onClick:function(){return e()},children:(0,Qm.jsxs)("div",{className:"square",children:[(0,Qm.jsx)("div",{className:"square__item"}),(0,Qm.jsx)("div",{className:"square__item"}),(0,Qm.jsx)("div",{className:"square__item"}),(0,Qm.jsx)("div",{className:"square__item"})]})})},tC=function(t,e){return(0,Qm.jsx)(QA,ZA(ZA({},t),{},{innerRef:e}))};tC.displayName="WindowLayoutSwitcherIcon";var eC=(0,Xm.forwardRef)(tC),nC=Rg((function(t){var e=t.onDropdownClose,n=t.openerNode,r=(0,Lb.wA)(),i=function(t){return function(){u.A.publish(Hn.nS),r(function(t){return function(e,n){e({type:lf.r9,payload:{windowLayout:t}}),Qf(e,n()),Ip(e,n())}}(t)),e()}},o=(0,Lb.d4)((function(t){return t.global.windowLayout})),a=nS(n);return(0,Qm.jsx)(Yj,{timeout:1,classNames:"drop-down-modal-wrap",className:"drop-down-modal-wrap",children:(0,Qm.jsx)(sx,{onClickOutside:function(t){u.A.publish(Hn.nS),e(t)},className:"drop-down-modal drop-down-modal--window-layout-switcher",shouldCapture:!0,style:a,children:(0,Qm.jsx)("table",{className:"table",children:(0,Qm.jsxs)("tbody",{children:[(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("window_layout.chart_1")}),(0,Qm.jsx)("td",{children:(0,Qm.jsx)("div",{className:"sq-wrap",children:(0,Qm.jsx)("div",{className:(0,Km.A)("sq full",o===bf.rs.FULL&&"active"),onClick:i(bf.rs.FULL),children:(0,Qm.jsx)("div",{className:"sq__item"})})})})]}),(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("window_layout.charts",2)}),(0,Qm.jsx)("td",{children:(0,Qm.jsxs)("div",{className:"sq-wrap",children:[(0,Qm.jsxs)("div",{className:(0,Km.A)("sq horizontal-2",o===bf.rs.H2&&"active"),onClick:i(bf.rs.H2),children:[(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"})]}),(0,Qm.jsxs)("div",{className:(0,Km.A)("sq vertical-2",o===bf.rs.V2&&"active"),onClick:i(bf.rs.V2),children:[(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"})]})]})})]}),(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("window_layout.charts",3)}),(0,Qm.jsx)("td",{children:(0,Qm.jsxs)("div",{className:"sq-wrap",children:[(0,Qm.jsxs)("div",{className:(0,Km.A)("sq top-1-bottom-2",o===bf.rs.T1B2&&"active"),onClick:i(bf.rs.T1B2),children:[(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"})]}),(0,Qm.jsxs)("div",{className:(0,Km.A)("sq top-2-bottom-1",o===bf.rs.T2B1&&"active"),onClick:i(bf.rs.T2B1),children:[(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"})]}),(0,Qm.jsxs)("div",{className:(0,Km.A)("sq left-2-right-1",o===bf.rs.L2R1&&"active"),onClick:i(bf.rs.L2R1),children:[(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"})]}),(0,Qm.jsxs)("div",{className:(0,Km.A)("sq left-1-right-2",o===bf.rs.L1R2&&"active"),onClick:i(bf.rs.L1R2),children:[(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"})]}),(0,Qm.jsxs)("div",{className:(0,Km.A)("sq vertical-3",o===bf.rs.V3&&"active"),onClick:i(bf.rs.V3),children:[(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"})]})]})})]}),(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("window_layout.charts",4)}),(0,Qm.jsx)("td",{children:(0,Qm.jsxs)("div",{className:"sq-wrap",children:[(0,Qm.jsxs)("div",{className:(0,Km.A)("sq top-2-bottom-2",o===bf.rs.T2B2&&"active"),onClick:i(bf.rs.T2B2),children:[(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"})]}),(0,Qm.jsxs)("div",{className:(0,Km.A)("sq top-3-bottom-1",o===bf.rs.T3B1&&"active"),onClick:i(bf.rs.T3B1),children:[(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"})]}),(0,Qm.jsxs)("div",{className:(0,Km.A)("sq top-1-bottom-3",o===bf.rs.T1B3&&"active"),onClick:i(bf.rs.T1B3),children:[(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"})]}),(0,Qm.jsxs)("div",{className:(0,Km.A)("sq left-1-right-3",o===bf.rs.L1R3&&"active"),onClick:i(bf.rs.L1R3),children:[(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"})]}),(0,Qm.jsxs)("div",{className:(0,Km.A)("sq left-3-right-1",o===bf.rs.L3R1&&"active"),onClick:i(bf.rs.L3R1),children:[(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"}),(0,Qm.jsx)("div",{className:"sq__item"})]})]})})]})]})})})})}));function rC(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return iC(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iC(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iC(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var oC=function(){var t=rC((0,Xm.useState)(!1),2),e=t[0],n=t[1],r=(0,Xm.useRef)(null),i=(0,Lb.d4)((function(t){return t.chartSettings.chartIds.length}));return(0,Qm.jsxs)(Qm.Fragment,{children:[i>0&&(0,Qm.jsx)(eC,{ref:r,isOpen:e,onDropdownOpened:function(){return n(!0)}}),e&&(0,Qm.jsx)(nC,{openerNode:r.current,onDropdownClose:function(){return n(!1)}})]})},aC=function(){var t=(0,Lb.d4)((function(t){return t.global.isMobile})),e=(0,Lb.d4)((function(t){return t.chartSettings.visibleChartIds.length>1}));return t||!e?null:(0,Qm.jsx)(oC,{})};function sC(){if(!(0,Lb.d4)(Xf.Ay))return null;return(0,Qm.jsx)("a",{className:"fav-panel-switcher",onClick:function(){return u.A.publish(y.Py)},children:(0,Qm.jsx)(Tx.A,{src:"/themes/cabinet/svg/icons/header-buttons/fav-icon.svg",className:"svg-icon"})})}var cC=n(7470);function lC(){var t=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.TOURNAMENT_RATINGS]}));return(0,Qm.jsx)(Qm.Fragment,{children:t&&(0,Qm.jsx)(HA,{})})}var uC=function(){var t=(0,Lb.d4)((function(t){return t.global.enabledSocialTrading})),e=(0,Lb.wA)(),n=(0,Xm.useCallback)((function(n){n.stopPropagation(),u.A.publish(Hn.nS),e(Fp(!t))}),[t]);return(0,Qm.jsxs)(MS,{className:(0,Km.A)("items__link items__link--social",t&&"active"),onClick:n,TooltipComponent:function(){return(0,Qm.jsx)(ew,{position:"down",text:"chart_settings.social_trading"})},children:[(0,Qm.jsx)("i",{className:"items__fa fa fa-users"}),t&&(0,Qm.jsx)(yx,{icon:(0,Qm.jsx)("i",{className:"fa fa-check"})})]})};function dC(){var t=(0,Lb.wA)(),e=(0,Lb.d4)(Xf.CN);return(0,Qm.jsxs)(MS,{className:(0,Km.A)("items__link items__link--market-watch",e&&"active"),onClick:function(n){n.stopPropagation(),u.A.publish(Hn.nS),t(Vp(!e))},TooltipComponent:function(){return(0,Qm.jsx)(nw,{position:"down",text:"chart_settings.market_watch"})},children:[(0,Qm.jsx)("i",{className:"items__fa fa fa-thermometer-three-quarters"}),e&&(0,Qm.jsx)(yx,{icon:(0,Qm.jsx)("i",{className:"fa fa-check"})})]})}var fC=function(){var t=(0,Lb.wA)(),e=(0,Lb.d4)(XS);return(0,Qm.jsxs)(MS,{className:(0,Km.A)("items__link items__link--rating-widget",e&&"active"),onClick:function(n){n.stopPropagation(),u.A.publish(Hn.nS),t(xv(!e))},TooltipComponent:function(){return(0,Qm.jsx)(nw,{position:"down",text:"chart_settings.rating"})},children:[(0,Qm.jsx)("i",{className:"items__fa fa fa-list-ol"}),e&&(0,Qm.jsx)(yx,{icon:(0,Qm.jsx)("i",{className:"fa fa-check"})})]})},hC=function(t){var e=t.position,n=(0,Xm.useContext)(a_),r=(0,Lb.wA)();return(0,Qm.jsx)(MS,{className:"items__link items__link--zoom",onClick:function(t){t.stopPropagation(),u.A.publish(Hn.nS),r(Rh({chartId:n,action:cf.Wu.CLICKED_PLUS}))},TooltipComponent:function(){return(0,Qm.jsx)(nw,{position:e,text:"chart_settings.zoom_plus"})},children:(0,Qm.jsx)("i",{className:"items__fa fa fa-search-plus"})})};hC.propTypes={position:Jm().oneOf(["top","down"])};var pC=hC,mC=function(t){var e=t.position,n=(0,Xm.useContext)(a_),r=(0,Lb.wA)();return(0,Qm.jsx)(MS,{className:"items__link items__link--zoom",onClick:function(t){t.stopPropagation(),u.A.publish(Hn.nS),r(Rh({chartId:n,action:cf.Wu.CLICKED_MINUS}))},TooltipComponent:function(){return(0,Qm.jsx)(nw,{position:e,text:"chart_settings.zoom_minus"})},children:(0,Qm.jsx)("i",{className:"items__fa fa fa-search-minus"})})};mC.propTypes={position:Jm().oneOf(["top","down"])};var yC=mC,vC=function(){var t=(0,Xm.useContext)(a_),e=(0,Lb.wA)();return(0,Qm.jsx)(MS,{className:"items__link",onClick:function(){u.A.publish(Hn.nS),e(function(t){return{type:cf.II,payload:{chartId:t}}}(t))},TooltipComponent:function(){return(0,Qm.jsx)(nw,{position:"down",text:"chart_settings.hide_chart_tooltip"})},children:(0,Qm.jsx)("i",{className:"items__fa fa fa-times"})})},bC=n(47348),gC=w_((function(t,e,n){return{chartId:n,minimizedTradePanel:t.chartSettings.chartById[n].minimizedTradePanel}}),null,a_)((function(t){var e=t.chartId,n=t.minimizedTradePanel,r=(0,Lb.wA)();return(0,Qm.jsxs)(MS,{onClick:function(t){t.stopPropagation(),u.A.publish(Hn.nS),r(Vh(e,!n))},className:(0,Km.A)("items__link items__link--toggle-panel",!n&&"active"),TooltipComponent:function(){return(0,Qm.jsx)(nw,{position:"down",text:n?"control_panel.trade_panel_max":"control_panel.trade_panel_min"})},children:[(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/toggle-panel.svg"}),!n&&(0,Qm.jsx)(yx,{icon:(0,Qm.jsx)("i",{className:"fa fa-check"})})]})})),wC=function(t){var e=t.isOpen,n=t.onClick;return(0,Qm.jsx)("a",{className:"items__link items__link--dots",onClick:n,children:(0,Qm.jsx)("i",{className:(0,Km.A)("items__fa fa",e?"fa-ellipsis-v":"fa-ellipsis-h")})})},jC=function(t,e){return!(0,nh.Mt)(t)&&rh.$t[e]},xC=(0,Xm.forwardRef)((function(t,e){var n=t.handleClick,r=t.isOpened,i=(0,Xm.useContext)(a_),o=(0,Lb.d4)((function(t){return t.chartSettings.chartById[i].chartType})),a=(0,Lb.d4)((function(t){return t.chartSettings.chartById[i].chartPeriod}));return(0,Qm.jsxs)(MS,{className:(0,Km.A)("items__link items__link--chart-type",r&&"active"),ref:e,onClick:n,TooltipComponent:function(){return(0,Qm.jsxs)(ew,{position:"down",children:[(0,$.tr)("chart_settings.chart_type"),": ",rh.U6[o],jC(o,a)&&(0,Qm.jsxs)("p",{children:[(0,$.tr)("chart_settings.timeframe"),": ",rh.$t[a]]})]})},children:[(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/chart-types/".concat(rh.ab[o],".svg"),className:"svg-wrapper"}),jC(o,a)&&(0,Qm.jsx)(yx,{icon:rh.$t[a]})]})})),_C=(0,Xm.forwardRef)((function(t,e){var n=t.count,r=t.handleClick,i=t.isOpened,o=(0,Lb.d4)((function(t){return t.global.isMobile}));return(0,Qm.jsxs)(MS,{ref:e,className:(0,Km.A)("block1__item items__link items__link--indicators",i&&"active"),onClick:r,TooltipComponent:function(){return!o&&(0,Qm.jsx)(nw,{position:"down",text:"chart_settings.indicators"})},children:[(0,Qm.jsx)("i",{className:"items__fa fa fa-sliders"}),n>0&&(0,Qm.jsx)(yx,{count:n})]})})),SC=(0,Xm.forwardRef)((function(t,e){var n=t.count,r=t.handleClick,i=t.isOpened,o=(0,Lb.d4)((function(t){return t.global.isMobile}));return(0,Qm.jsxs)(MS,{ref:e,className:(0,Km.A)("block1__item items__link items__link--drawings",i&&"active"),onClick:r,TooltipComponent:function(){return!o&&(0,Qm.jsx)(nw,{position:"down",text:"chart_settings.drawings"})},children:[(0,Qm.jsx)("i",{className:"items__fa fa fa-paint-brush"}),n>0&&(0,Qm.jsx)(yx,{count:n})]})})),OC=function(t){var e=t.isEnabled,n=t.handleChange;return(0,Qm.jsx)("div",{className:"settings-row",children:(0,Qm.jsx)(Ij,{checked:e,onChange:n,children:(0,$.tr)("chart_settings.timer_on")})})};OC.propTypes={isEnabled:Jm().bool.isRequired,handleChange:Jm().func.isRequired};var kC=OC,TC=function(t){var e=t.isEnabled,n=t.handleChange;return(0,Qm.jsx)("div",{className:"settings-row",children:(0,Qm.jsx)(Ij,{checked:e,onChange:n,children:(0,$.tr)("chart_settings.enable_scroll")})})};TC.propTypes={isEnabled:Jm().bool.isRequired,handleChange:Jm().func.isRequired};var AC=TC,CC=function(t){var e=t.isEnabled,n=t.handleChange;return(0,Qm.jsx)("div",{className:"settings-row",children:(0,Qm.jsx)(Ij,{checked:e,onChange:n,children:(0,$.tr)("chart_settings.enable_grid_snap")})})};CC.propTypes={isEnabled:Jm().bool.isRequired,handleChange:Jm().func.isRequired};var PC=CC,EC=n(61738),IC=function(t){var e=t.color,n=t.setColor,r=(0,Xm.useRef)(null),i=(0,Xm.useRef)(null),o=(0,Xm.useRef)(null);return(0,Xm.useEffect)((function(){return o.current=new EC.A({parent:i.current,color:"#".concat(e),popup:!1,alpha:!1,editor:!1,onChange:zo()((function(t){return n(t.hex.substring(1,7))}),100)}),function(){var t;null===(t=o.current)||void 0===t||t.destroy(),o.current=null}}),[]),(0,Xm.useEffect)((function(){null!==r.current&&(r.current.style.background="#".concat(e))}),[e]),(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"line",ref:r}),(0,Qm.jsx)("div",{ref:i})]})};IC.propTypes={color:Jm().string.isRequired,setColor:Jm().func.isRequired};var NC=IC,DC=function(t){var e=t.value,n=t.items,r=t.onChange;return(0,Qm.jsxs)("div",{className:"simple-dropdown",children:[(0,Qm.jsx)("select",{className:"form-control",onChange:r,value:e,children:Object.keys(n).map((function(t){return(0,Qm.jsx)("option",{value:n[t],children:(0,$.tr)("chart_settings.shadow_style_".concat(n[t]))},t)}))}),(0,Qm.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 11 7",children:(0,Qm.jsx)("path",{stroke:"currentColor",strokeWidth:"1.3",d:"M.5 1.5l5 4 5-4"})})]})};function LC(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return MC(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MC(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MC(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var RC=function(){var t=(0,Lb.d4)((function(t){return t.global.shadowStyle})),e=LC((0,Xm.useState)(t),2),n=e[0],r=e[1],i=(0,Lb.wA)();return(0,Xm.useEffect)((function(){i(Wp([{field:"shadowStyle",value:n}]))}),[n]),(0,Qm.jsx)(Qm.Fragment,{children:(0,Qm.jsx)(DC,{items:rh.QJ,value:n,onChange:function(t){r(t.currentTarget.value)}})})},BC=["shadowStyle","candleUpColor","candleDownColor"],HC=function(t){var e=t.onRequestClose,n=t.values,r=t.initialData,i=(0,Lb.wA)(),o=function(t){return function(e){return i(Wp([{field:t,value:e}]))}};return(0,Qm.jsxs)("div",{className:"po-modal custom-candles-colors",children:[(0,Qm.jsx)("div",{className:"title",children:(0,$.tr)("chart_settings.custom_colors")}),(0,Qm.jsxs)("table",{className:"table",children:[(0,Qm.jsxs)("colgroup",{children:[(0,Qm.jsx)("col",{style:{width:"30%"}}),(0,Qm.jsx)("col",{style:{width:"70%"}})]}),(0,Qm.jsxs)("tbody",{children:[(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("chart_settings.uptrend_color")}),(0,Qm.jsx)("td",{children:(0,Qm.jsx)(NC,{color:n.candleUpColor,setColor:o("candleUpColor")})})]}),(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("chart_settings.downtrend_color")}),(0,Qm.jsx)("td",{children:(0,Qm.jsx)(NC,{color:n.candleDownColor,setColor:o("candleDownColor")})})]}),(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("chart_settings.shadow_style")}),(0,Qm.jsx)("td",{children:(0,Qm.jsx)(RC,{})})]})]})]}),(0,Qm.jsxs)("div",{className:"btn-wrap",children:[(0,Qm.jsx)("a",{onClick:function(){var t=[];BC.forEach((function(e){n[e]!==r.current[e]&&t.push({field:e,value:n[e]})})),t.length>0&&i(Up(t)),e()},className:"btn btn-green-light",children:(0,$.tr)("apply")}),(0,Qm.jsx)("a",{onClick:function(){i(Up([{field:"candleUpColor",value:Ru.Ay.CHART.CANDLE_COLOR.up},{field:"candleDownColor",value:Ru.Ay.CHART.CANDLE_COLOR.down}])),e()},className:"btn btn-primary",children:(0,$.tr)("chart_settings.default_colors")})]}),(0,Qm.jsx)("a",{className:"modal-close",onClick:e,children:(0,Qm.jsx)("svg",{className:"svg-icon modal-close-icon",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Qm.jsx)("path",{opacity:"0.5",d:"M10.3432 7.5L14.6075 3.23565C15.1308 2.71236 15.1308 1.86392 14.6075 1.3402L13.6598 0.392472C13.1365 -0.130824 12.2881 -0.130824 11.7643 0.392472L7.5 4.65682L3.23565 0.392472C2.71236 -0.130824 1.86392 -0.130824 1.3402 0.392472L0.392472 1.3402C-0.130824 1.86349 -0.130824 2.71193 0.392472 3.23565L4.65682 7.5L0.392472 11.7643C-0.130824 12.2876 -0.130824 13.1361 0.392472 13.6598L1.3402 14.6075C1.86349 15.1308 2.71236 15.1308 3.23565 14.6075L7.5 10.3432L11.7643 14.6075C12.2876 15.1308 13.1365 15.1308 13.6598 14.6075L14.6075 13.6598C15.1308 13.1365 15.1308 12.2881 14.6075 11.7643L10.3432 7.5Z"})})})]})},$C=function(t){var e=t.isOpen,n=t.onRequestClose,r={};r.candleUpColor=(0,Lb.d4)((function(t){return t.global.candleUpColor})),r.candleDownColor=(0,Lb.d4)((function(t){return t.global.candleDownColor})),r.shadowStyle=(0,Lb.d4)((function(t){return t.global.shadowStyle}));var i=(0,Lb.wA)(),o=(0,Xm.useRef)(r);return(0,Qm.jsx)(jx,{isOpen:e,showCloseButton:!1,onRequestClose:function(){var t=BC.map((function(t){return{field:t,value:o.current[t]}}));i(Wp(t)),n()},children:(0,Qm.jsx)(HC,{onRequestClose:n,values:r,initialData:o})})},FC=function(t){var e=t.isEnabled,n=t.handleChange;return(0,Qm.jsx)("div",{className:"settings-row",children:(0,Qm.jsx)(Ij,{checked:e,onChange:n,children:(0,$.tr)("chart_settings.show_area")})})};FC.propTypes={isEnabled:Jm().bool.isRequired,handleChange:Jm().func.isRequired};var WC=FC;function UC(t){return UC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UC(t)}var VC=["openerNode","onRequestClose"];function GC(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return zC(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zC(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zC(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function XC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?YC(Object(n),!0).forEach((function(e){qC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qC(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=UC(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=UC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==UC(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var KC=function(t){var e=t.openerNode,n=t.onRequestClose,r=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,VC),i=nS(e),o=(0,Xm.useRef)(),a=(0,Xm.useContext)(a_);return(0,Qm.jsx)($j.A,{component:null,appear:!0,children:(0,Qm.jsx)(Fj.A,{timeout:1,nodeRef:o,classNames:"drop-down-modal-wrap",children:(0,Qm.jsx)("div",{ref:o,className:"drop-down-modal-wrap",children:(0,Qm.jsx)(sx,XC({onClickOutside:n,className:"drop-down-modal drop-down-modal--chart-type",style:i,shouldCapture:!0,chartId:a},r))})})})},ZC=Rg((function(t){var e=t.onRequestClose,n=t.openerNode,r=GC((0,Xm.useState)(!1),2),i=r[0],o=r[1],a=(0,Lb.wA)(),s=(0,Xm.useContext)(a_),c=(0,Lb.d4)((function(t){return t.chartSettings.chartById[s].candlesTimer})),l=(0,Lb.d4)((function(t){return t.chartSettings.chartById[s].showArea})),u=(0,Lb.d4)((function(t){return t.chartSettings.chartById[s].enabledAutoscroll})),d=(0,Lb.d4)((function(t){return t.chartSettings.chartById[s].enabledGridSnap})),f=(0,Lb.d4)((function(t){return t.chartSettings.chartById[s].chartType})),h=(0,Lb.d4)((function(t){return t.chartSettings.chartById[s].chartPeriod})),p=(0,Lb.d4)((function(t){return t.global.isMobile})),m=function(t){return function(){return a(Tp({chartType:t,chartId:s}))}},y=function(t){return function(){return a(Ap({chartPeriod:t,chartId:s}))}},v=Object.values(oh()(rh.YE,["S1"])),b=!(0,nh.Mt)(f);return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)(KC,{onRequestClose:function(t){return!i&&e(t)},openerNode:n,children:[(0,Qm.jsxs)("div",{className:"chart-list-block",children:[(0,Qm.jsx)("div",{className:"chart-list-block__title",children:(0,$.tr)("chart_settings.chart_types")}),(0,Qm.jsx)("ul",{className:"list-links color-blue",children:Object.keys(rh.M).map((function(t){return(0,Qm.jsx)("li",{className:(0,Km.A)(rh.M[t]===f&&"active"),children:(0,Qm.jsxs)("a",{onClick:m(rh.M[t]),children:[(0,Qm.jsx)(Rb.k,{src:(e=rh.ab[rh.M[t]],"/themes/cabinet/svg/icons/chart-types/".concat(e,".svg")),className:"svg-icon-wrapper"}),(0,Qm.jsx)("span",{children:rh.U6[rh.M[t]]})]})},rh.M[t]);var e}))})]}),b&&(0,Qm.jsxs)("div",{className:"time-frames-block",children:[(0,Qm.jsx)("div",{className:"time-frames-block__title",children:(0,$.tr)("chart_settings.time_frames")}),(0,Qm.jsx)("ul",{className:"list-links color-blue",children:v.map((function(t){return(0,Qm.jsx)("li",{className:(0,Km.A)(t===h&&"active"),children:(0,Qm.jsx)("a",{onClick:y(t),children:(0,Qm.jsx)("span",{children:rh.$t[t]})})},t)}))})]}),(0,Qm.jsxs)("div",{className:"settings-block",children:[(0,Qm.jsxs)("div",{className:"settings-block__header",children:[(0,Qm.jsx)("div",{className:"settings-block__title",children:(0,$.tr)("chart_settings.settings")}),b&&(0,Qm.jsx)("a",{onClick:function(){return o(!0)},children:(0,$.tr)("chart_settings.candle_colors")})]}),(0,Qm.jsxs)("div",{className:"settings-block__in",children:[!b&&(0,Qm.jsx)(WC,{isEnabled:l,handleChange:function(t){return a(zh(s,!!t.target.checked))}}),b&&(0,Qm.jsx)(kC,{isEnabled:c,handleChange:function(t){return a(Cp(s,!!t.target.checked))}}),(0,Qm.jsx)(AC,{isEnabled:u,handleChange:function(t){return a(Fh(s,!!t.target.checked))}}),b&&!p&&(0,Qm.jsx)(PC,{isEnabled:d,handleChange:function(t){return a(Gh(s,!!t.target.checked))}})]})]})]}),(0,Qm.jsx)($C,{isOpen:i,onRequestClose:function(){return o(!1)}})]})})),JC="favorites",QC="all",tP="current",eP=function(t){var e=t.favoriteIndicatorsCount,n=t.indicatorsCount,r=t.tab,i=t.setTab,o=function(t){return function(){u.A.publish(Hn.nS),i(t)}};return(0,Qm.jsxs)("ul",{className:"tab-nav",children:[e>0&&(0,Qm.jsx)("li",{className:(0,Km.A)("favorites",r===JC&&"active"),children:(0,Qm.jsxs)("a",{onClick:o(JC),children:[(0,Qm.jsx)("i",{className:"fa fa-star"})," ",(0,$.tr)("assets.fav")]})}),n>0&&(0,Qm.jsx)("li",{className:(0,Km.A)(r===tP&&"active"),children:(0,Qm.jsx)("a",{onClick:o(tP),children:(0,Qm.jsx)("span",{children:(0,$.tr)("indicators.current")})})}),(e>0||n>0)&&(0,Qm.jsx)("li",{className:(0,Km.A)(r===QC&&"active"),children:(0,Qm.jsx)("a",{onClick:o(QC),children:(0,Qm.jsx)("span",{children:(0,$.tr)("indicators.all_ind")})})})]})};function nP(t){return nP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nP(t)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function iP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rP(Object(n),!0).forEach((function(e){oP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oP(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=nP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nP(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var aP=w_((function(t,e,n){return{chartId:n,favoriteIndicators:t.indicators.favorites}}),{indicatorAdd:Im,indicatorFavorite:Mm,indicatorUnfavorite:Rm},a_)((function(t){var e=t.tab,n=t.indicatorAdd,r=t.chartId,i=t.favoriteIndicators,o=t.indicatorFavorite,a=t.indicatorUnfavorite,s=function(t){return function(){u.A.publish(Hn.nS);var e=sm[t];n(iP(iP({},e.config),{},{chartId:r,type:t}))}},c=function(t){return function(){o(t),u.A.publish(Hn.nS)}},l=function(t){return function(){a(t),u.A.publish(Hn.nS)}},d=e===QC?Object.keys(sm):i;return(0,Qm.jsx)(Xg,{className:"tab-body",children:(0,Qm.jsx)("div",{className:"".concat(e,"-block tab-body-block"),children:(0,Qm.jsx)("div",{className:"".concat(e," indicators-list"),children:d.map((function(t){var e=i.includes(t);return(0,Qm.jsxs)("div",{className:(0,Km.A)("list-item",e&&"has-favorites"),children:[e&&(0,Qm.jsx)("a",{onClick:l(t),className:"fav",children:(0,Qm.jsx)("i",{className:"fa fa-star del"})}),!e&&(0,Qm.jsx)("a",{onClick:c(t),className:"fav",children:(0,Qm.jsx)("i",{className:"fa fa-star-o add"})}),(0,Qm.jsx)("a",{className:"list-item-block crop-text",onClick:s(t),children:(0,Qm.jsx)("span",{className:"asset-label",children:(0,$.tr)("indicators.".concat(t))})})]},t)}))})})})}));function sP(t){return sP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sP(t)}var cP=["width","height"];function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lP(Object(n),!0).forEach((function(e){dP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dP(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=sP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sP(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fP=function(t){var e=t.width,n=void 0===e?20:e,r=t.height,i=void 0===r?20:r,o=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,cP);return(0,Qm.jsx)("div",uP(uP({},o),{},{children:(0,Qm.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:i,viewBox:"0 0 20 20",children:(0,Qm.jsx)("path",{d:"M15.9 8.5l-.2.4c-.1.2-.3.2-.5.2-.4-.1-.7-.3-1-.6-.1-.1-.2-.3-.1-.5l.2-.4c-.1-.3-.3-.6-.4-.9h-.5c-.2 0-.3-.1-.4-.3V5.2c0-.2.2-.3.4-.3h.5c.1-.3.3-.6.5-.9l-.2-.4c-.1-.2-.1-.4.1-.5.3-.2.6-.4 1-.6.2-.1.4 0 .5.2l.2.4c.3-.1.6-.1 1 0l.2-.4c.1-.2.3-.2.5-.2.4.1.7.3 1 .6.1.1.2.3.1.5l-.4.4c.2.3.4.5.5.9h.5c.2 0 .3.1.4.3.1.4.1.8 0 1.2 0 .2-.2.3-.4.3h-.5c-.1.3-.3.6-.5.9l.3.4c.1.2.1.4-.1.5-.3.2-.6.4-1 .6-.2.1-.4 0-.5-.2l-.2-.4h-1zm-.3-1.9c1.2.9 2.5-.4 1.6-1.7-1.2-.8-2.5.5-1.6 1.7zm-3.5 4.9l1 .5c.3.2.4.6.3.9-.3.8-.8 1.5-1.3 2.1-.2.3-.6.3-.9.2l-.9-.5c-.5.4-1.1.8-1.7 1v1.1c0 .4-.3.7-.6.7-.7.1-1.5.1-2.3 0-.4-.1-.6-.4-.6-.7v-1.1c-.6-.2-1.2-.6-1.7-1l-.9.5c-.3.2-.7.1-.9-.2-.5-.6-1-1.3-1.3-2.1-.1-.3 0-.7.3-.9l1-.5c-.1-.7-.1-1.3 0-2L.7 9C.4 8.8.2 8.4.4 8c.2-.7.7-1.4 1.2-2 .2-.3.6-.3.9-.2l.9.5c.5-.4 1.1-.8 1.7-1v-1c0-.4.2-.7.6-.7.7-.1 1.5-.1 2.3 0 .4.1.6.4.6.7v1.1c.6.2 1.2.6 1.7 1l.9-.5c.3-.2.7-.1.9.2.5.6 1 1.3 1.3 2.1.1.3 0 .7-.3.9l-1 .5c.1.5.1 1.2 0 1.9zm-3.6.6c1.8-2.4-.9-5.1-3.2-3.3-1.8 2.4.9 5.2 3.2 3.3z"})})}))};function hP(t){return hP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hP(t)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pP(Object(n),!0).forEach((function(e){yP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yP(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=hP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hP(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vP=function(t){return(0,Qm.jsx)("div",mP(mP({},t),{},{children:(0,Qm.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,Qm.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),(0,Qm.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]})}))};function bP(t){return bP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bP(t)}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gP(Object(n),!0).forEach((function(e){jP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jP(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=bP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bP(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xP=function(t){return(0,Qm.jsx)("div",wP(wP({},t),{},{children:(0,Qm.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,Qm.jsx)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,Qm.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),(0,Qm.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]})}))};function _P(t){return _P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_P(t)}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function OP(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=_P(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_P(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kP(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return TP(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TP(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TP(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var AP=function(t){var e=kP((0,Xm.useState)(!1),2),n=e[0],r=e[1],i=n?xP:vP;return(0,Qm.jsx)(i,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?SP(Object(n),!0).forEach((function(e){OP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)}},t))},CP=function(t){var e=t.type,n=t.settings;switch(e){case Ru.W.MOVING_AVERAGE:return"".concat(n.ma," ").concat(n.period);case Ru.W.ALLIGATOR:return"".concat(n.jaws.period," ").concat(n.teeth.period," ").concat(n.lips.period);case Ru.W.BOLLINGER_BANDS:case Ru.W.BOLLINGER_BANDS_WIDTH:case Ru.W.ENVELOPE:return"".concat(n.period," ").concat(n.deviation);case Ru.W.ICHIMOKU_CLOUD:return"".concat(n.tenkanSen," ").concat(n.kijunSen," ").concat(n.senkouSpanB);case Ru.W.KELTNER_CHANNEL:return"".concat(n.emaPeriod," ").concat(n.atrPeriod);case Ru.W.PARABOLIC_SAR:return"".concat(n.acceleration," ").concat(n.accelerationMax);case Ru.W.ZIG_ZAG:return"".concat(n.deviation," ").concat(n.depth," ").concat(n.backstep);case Ru.W.ACCELERATOR_OSCILLATOR:return"".concat(n.aoPeriodShort," ").concat(n.aoPeriodLong," ").concat(n.acPeriod);case Ru.W.ADX:return"".concat(n.adxSmoothing," ").concat(n.diLength);case Ru.W.AWESOME_OSCILLATOR:return"".concat(n.periodShort," ").concat(n.periodLong);case Ru.W.MACD:return"".concat(n.fastPeriod," ").concat(n.slowPeriod," ").concat(n.signalPeriod);case Ru.W.SCHAFF_TREND_CYCLE:return"".concat(n.fast," ").concat(n.slow," ").concat(n.cycle," ").concat(n.macdD," ").concat(n.pfD);case Ru.W.STOCHASTIC_OSCILLATOR:return"".concat(n.kPeriod," ").concat(n.dPeriod," ").concat(n.mPeriod);case Ru.W.OSMA:return"".concat(n.fastPeriod," ").concat(n.slowPeriod," ").concat(n.signalPeriod);case Ru.W.SUPERTREND:return"".concat(n.atrPeriod," ").concat(n.multiplier)}return Ry(e)?"".concat(n.period):""},PP=function(t){var e=t.indicator;return CP(e)};PP.propTypes={indicator:Jm().object.isRequired};var EP=PP;function IP(t){return IP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IP(t)}var NP=["width","height"];function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function LP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?DP(Object(n),!0).forEach((function(e){MP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function MP(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=IP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=IP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==IP(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var RP=function(t){var e=t.width,n=void 0===e?16:e,r=t.height,i=void 0===r?16:r,o=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,NP);return(0,Qm.jsx)("div",LP(LP({},o),{},{children:(0,Qm.jsx)("svg",{width:n,height:i,viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Qm.jsx)("path",{d:"M7.67196 12.75H5.32821C5.17196 12.75 5.03655 12.6979 4.92196 12.5938C4.80738 12.4896 4.73967 12.3594 4.71884 12.2031L4.53134 10.75C4.39592 10.6979 4.26842 10.6354 4.14884 10.5625C4.02884 10.4896 3.91155 10.4115 3.79696 10.3281L2.43759 10.8906C2.29176 10.9427 2.14592 10.9479 2.00009 10.9062C1.85426 10.8646 1.73967 10.776 1.65634 10.6406L0.500089 8.625C0.416755 8.48958 0.390714 8.34375 0.421964 8.1875C0.453214 8.03125 0.531339 7.90625 0.656339 7.8125L1.82821 6.92188C1.8178 6.84896 1.81259 6.77854 1.81259 6.71062V6.28875C1.81259 6.22125 1.8178 6.15104 1.82821 6.07812L0.656339 5.1875C0.531339 5.09375 0.453214 4.96875 0.421964 4.8125C0.390714 4.65625 0.416755 4.51042 0.500089 4.375L1.65634 2.35938C1.72926 2.21354 1.84113 2.12229 1.99196 2.08562C2.14321 2.04937 2.29176 2.05729 2.43759 2.10938L3.79696 2.67188C3.91155 2.58854 4.03134 2.51042 4.15634 2.4375C4.28134 2.36458 4.40634 2.30208 4.53134 2.25L4.71884 0.796875C4.73967 0.640625 4.80738 0.510417 4.92196 0.40625C5.03655 0.302083 5.17196 0.25 5.32821 0.25H7.67196C7.82821 0.25 7.96363 0.302083 8.07821 0.40625C8.1928 0.510417 8.26051 0.640625 8.28134 0.796875L8.46884 2.25C8.60426 2.30208 8.73196 2.36458 8.85196 2.4375C8.97155 2.51042 9.08863 2.58854 9.20321 2.67188L10.5626 2.10938C10.7084 2.05729 10.8543 2.05208 11.0001 2.09375C11.1459 2.13542 11.2605 2.22396 11.3438 2.35938L12.5001 4.375C12.5834 4.51042 12.6095 4.65625 12.5782 4.8125C12.547 4.96875 12.4688 5.09375 12.3438 5.1875L11.172 6.07812C11.1824 6.15104 11.1876 6.22125 11.1876 6.28875V6.71062C11.1876 6.77854 11.1772 6.84896 11.1563 6.92188L12.3282 7.8125C12.4532 7.90625 12.5313 8.03125 12.5626 8.1875C12.5938 8.34375 12.5678 8.48958 12.4845 8.625L11.3282 10.625C11.2449 10.7604 11.1278 10.8517 10.977 10.8988C10.8257 10.9454 10.6772 10.9427 10.5313 10.8906L9.20321 10.3281C9.08863 10.4115 8.96884 10.4896 8.84384 10.5625C8.71884 10.6354 8.59384 10.6979 8.46884 10.75L8.28134 12.2031C8.26051 12.3594 8.1928 12.4896 8.07821 12.5938C7.96363 12.6979 7.82821 12.75 7.67196 12.75ZM6.53134 8.6875C7.13551 8.6875 7.65113 8.47396 8.07821 8.04688C8.5053 7.61979 8.71884 7.10417 8.71884 6.5C8.71884 5.89583 8.5053 5.38021 8.07821 4.95312C7.65113 4.52604 7.13551 4.3125 6.53134 4.3125C5.91676 4.3125 5.39842 4.52604 4.97634 4.95312C4.55467 5.38021 4.34384 5.89583 4.34384 6.5C4.34384 7.10417 4.55467 7.61979 4.97634 8.04688C5.39842 8.47396 5.91676 8.6875 6.53134 8.6875Z"})})}))},BP=function(t){var e=t.handleDeleteClick,n=t.handleEditClick,r=t.indicators,i=(0,Lb.d4)((function(t){return t.global.isMt5}));return(0,Qm.jsx)(Xg,{className:"tab-body",children:(0,Qm.jsx)("div",{className:"current-block tab-body-block",children:(0,Qm.jsx)("div",{className:"current indicators-list",children:r.map((function(t){var r=t.id,o=t.type;return(0,Qm.jsxs)("div",{className:"list-item",children:[(0,Qm.jsxs)("div",{className:"asset-label crop-text",children:[(0,$.tr)("indicators.".concat(o))," ",(0,Qm.jsx)(EP,{indicator:t})]}),(0,Qm.jsxs)("div",{className:"actions-block",children:[(0,Qm.jsxs)("a",{onClick:n(r),children:[!i&&(0,Qm.jsx)(fP,{className:"icon-wrapper"}),i&&(0,Qm.jsx)(RP,{className:"icon-wrapper"})]}),(0,Qm.jsx)("a",{onClick:e(r),children:(0,Qm.jsx)(AP,{className:"icon-wrapper"})})]})]},r)}))})})})},HP=n(55316);function $P(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return FP(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FP(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FP(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var WP=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tS,n=$P((0,Xm.useState)({width:0,height:0}),2),r=n[0],i=n[1],o=$P((0,Xm.useState)(null),2),a=o[0],s=o[1],c=$P((0,Xm.useState)(nS(t,e)),2),l=c[0],u=c[1];return(0,Xm.useEffect)((function(){function n(){var n=nS(t,e),i=n.top;if(n.top+r.height>window.innerHeight&&(i=window.innerHeight-r.height),e===tS){var o=n.left;n.left+r.width>window.innerWidth&&(o=window.innerWidth-r.width),u({top:i,left:o})}else if(e===eS){var a=n.right;n.right+r.width>window.innerWidth&&(a=window.innerWidth-r.width),u({top:i,right:a})}}var i=zo()(n,300);return window.addEventListener("resize",i),n(),function(){window.removeEventListener("resize",i)}}),[r]),(0,Xm.useEffect)((function(){a&&i(a.getBoundingClientRect())}),[a]),[l,s]};function UP(t){return UP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UP(t)}function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function GP(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=UP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=UP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==UP(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zP(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return YP(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YP(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YP(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var XP=function(t){var e=t.onClickOutside,n=t.openerNode,r=t.lineName,i=t.onParamChanged,o=t.settings,a=o.color,s=o.lineWidth,c=o.opacity,l=o.figure,u=zP(WP(n),2),d=u[0],f=u[1],h=(0,Xm.useRef)(null);return(0,Qm.jsx)($j.A,{component:null,children:(0,Qm.jsx)(Fj.A,{timeout:200,nodeRef:h,classNames:"drop-down-modal-wrap",children:(0,Qm.jsx)("div",{className:"drop-down-modal-wrap",ref:h,children:(0,Qm.jsxs)(sx,{onClickOutside:e,style:d,setRef:function(t){return f(t.current)},className:"line-styles-modal drop-down-modal",children:[a&&(0,Qm.jsxs)("div",{className:"line-styles-modal__row color-list",children:[(0,Qm.jsx)("div",{className:"list-label",children:(0,$.tr)("indicators.line_color")}),(0,Qm.jsx)("div",{className:"list-body",children:Object.values(nm).map((function(t){return(0,Qm.jsx)("a",{style:{backgroundColor:t},className:(0,Km.A)(a===t&&"active"),onClick:i("lines.".concat(r,".color"),t)},t)}))})]}),s&&(0,Qm.jsxs)("div",{className:"line-styles-modal__row line-width-list",children:[(0,Qm.jsx)("div",{className:"list-label",children:(0,$.tr)("indicators.line_width")}),(0,Qm.jsx)("div",{className:"list-body",children:Object.values(rm).map((function(t){return(0,Qm.jsxs)("a",{className:(0,Km.A)(s===t&&"active"),onClick:i("lines.".concat(r,".lineWidth"),t),children:[t,"px"]},t)}))})]}),void 0!==c&&(0,Qm.jsxs)("div",{className:"line-styles-modal__row line-opacity",children:[(0,Qm.jsx)("div",{className:"list-label",children:(0,$.tr)("indicators.opacity")}),(0,Qm.jsx)("div",{className:"list-body",children:(0,Qm.jsx)(HP.A,{className:"range-wrapper",thumbClassName:"thumb",trackClassName:"track",defaultValue:c,onChange:function(t){return i("lines.".concat(r,".opacity"),"".concat(t))()},renderThumb:function(t){return(0,Qm.jsx)("div",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?VP(Object(n),!0).forEach((function(e){GP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t))}})})]}),l&&(0,Qm.jsxs)("div",{className:"line-styles-modal__row figures-list",children:[(0,Qm.jsx)("div",{className:"list-label",children:(0,$.tr)("indicators.figure")}),(0,Qm.jsx)("div",{className:"list-body",children:Object.values(om).map((function(t){return(0,Qm.jsx)("a",{className:(0,Km.A)(l===t&&"active"),onClick:i("lines.".concat(r,".figure"),t),children:t},t)}))})]})]})})})})},qP=function(t){var e=t.colors,n=t.lineName,r=t.selectLineHandler,i=t.settings;return(0,Qm.jsxs)("div",{className:"subtitles-wrapper",children:[(0,bC.MK)(i)&&(0,Qm.jsx)(fP,{onClick:r(n),className:"icon-wrapper"}),Object.keys(e).map((function(t){var i="".concat(n,".colors.").concat(t);return(0,Qm.jsx)("div",{children:(0,Qm.jsx)("a",{className:(0,Km.A)("list-style-selector"),onClick:r(i),children:(0,Qm.jsx)("div",{className:"current-color",style:{backgroundColor:e[t].color}})})},i)}))]})},KP=function(t){var e=t.checked,n=t.onChange,r=t.label;return(0,Qm.jsx)("div",{className:(0,Km.A)("checkbox-wrapper"),children:(0,Qm.jsxs)("label",{className:(0,Km.A)("checkbox-inner-wrapper"),children:[r,(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("input",{type:"checkbox",checked:e,onChange:n}),(0,Qm.jsx)("span",{className:"checkmark"})]})]})})};function ZP(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return JP(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JP(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JP(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var QP=function(t){var e=t.lines,n=t.onParamChanged,r=ZP((0,Xm.useState)(null),2),i=r[0],o=r[1],a=ZP((0,Xm.useState)(null),2),s=a[0],c=a[1],l=function(t){return function(e){u.A.publish(Hn.nS),o(t),c(e.currentTarget)}};return(0,Qm.jsxs)("div",{className:"inputs",children:[(0,Qm.jsx)("div",{className:"labels",children:Object.keys(e).map((function(t){var r=e[t],i=r.show,o=void 0===i||i,a=r.colors,s=r.level,c=void 0!==a,l=!(0,bC.MK)(e[t]),u=void 0!==s;return(0,Qm.jsxs)("div",{className:(0,Km.A)(c&&"multiline",l&&"no-config"),children:[(0,Qm.jsx)(KP,{checked:o,onChange:n("lines.".concat(t,".show")),label:u?null:Bt()(xy,t,t)}),u&&(0,Qm.jsx)(iy,{value:s,className:"max-w-100",path:"lines.".concat(t,".level"),onParamChanged:n}),c&&(0,Qm.jsx)("div",{className:"subtitles-wrapper",children:Object.keys(a).map((function(e){return(0,Qm.jsx)("div",{children:e},"label-".concat(t,".").concat(e))}))})]},"label-".concat(t))}))}),(0,Qm.jsx)("div",{className:"fields",children:Object.keys(e).map((function(t){var n=e[t],r=n.color,o=n.colors,a=n.lineWidth,s=void 0!==o,c=!(0,bC.MK)(e[t]);return(0,Qm.jsxs)("div",{className:(0,Km.A)(s&&"multiline",c&&"no-config"),children:[s&&(0,Qm.jsx)(qP,{colors:o,lineName:t,selectLineHandler:l,settings:e[t]}),!s&&(0,Qm.jsxs)("a",{className:(0,Km.A)("list-style-selector",i===t&&"active"),onClick:l(t),children:[(0,Qm.jsx)("div",{className:"current-color",style:{backgroundColor:r}}),a&&(0,Qm.jsxs)("div",{className:"current-line-width",children:[a,"px"]})]})]},t)}))}),i&&s&&(0,Qm.jsx)(XP,{openerNode:s,onClickOutside:function(){o(null),c(null)},lineName:i,onParamChanged:n,settings:Bt()(e,i)})]})};QP.propTypes={hiddenCheckboxLines:Jm().array.isRequired,lines:Jm().object.isRequired,onParamChanged:Jm().func.isRequired};var tE=QP;function eE(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return nE(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nE(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var rE="input",iE="styles",oE=function(t){var e=t.children,n=t.settings,r=t.onParamChanged,i=t.hiddenCheckboxLines,o=void 0===i?[]:i,a=eE((0,Xm.useState)(e?rE:iE),2),s=a[0],c=a[1],l=function(t){return function(){u.A.publish(Hn.nS),c(t)}},d=null!=e;return(0,Qm.jsxs)(Qm.Fragment,{children:[d&&(0,Qm.jsxs)("div",{className:"m-tabs",children:[e&&(0,Qm.jsx)("a",{onClick:l(rE),className:(0,Km.A)(s===rE&&"active"),children:(0,$.tr)("indicators.inputs")}),(0,Qm.jsx)("a",{onClick:l(iE),className:(0,Km.A)(s===iE&&"active"),children:(0,$.tr)("indicators.styles")})]}),(0,Qm.jsxs)("div",{className:"m-content",children:[s===rE&&e,s===iE&&(0,Qm.jsx)(tE,{lines:n.lines,onParamChanged:r,hiddenCheckboxLines:o})]})]})};function aE(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return sE(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sE(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var cE=function(t){var e=t.selected,n=t.onChange,r=t.options,i=t.opener,o=t.onCloseModal,a=t.onItemDisplay,s=aE(WP(i),2),c=s[0],l=s[1],u=function(t){return function(){n(t),o()}};return(0,Qm.jsx)("div",{className:"drop-down-modal-wrap",children:(0,Qm.jsx)(sx,{onClickOutside:o,style:c,className:"dropdown-wrapper--list",setRef:function(t){return l(t.current)},children:Object.keys(r).map((function(t){var n=r[t],i=n===e;return(0,Qm.jsx)("div",{className:(0,Km.A)(i&&"selected"),onClick:u(n),children:null!=a?a(n):n},t)}))})})};function lE(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return uE(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uE(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var dE=function(t){var e=t.selected,n=t.onChange,r=t.options,i=t.onItemDisplay,o=lE((0,Xm.useState)(!1),2),a=o[0],s=o[1],c=(0,Xm.useRef)(null);return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{ref:c,className:(0,Km.A)("dropdown-wrapper",a&&"opened"),onClick:function(){return s(!a)},children:(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"selected",children:null!=i?i(e):e}),(0,Qm.jsx)("span",{className:(0,Km.A)("icon",a&&"opened"),children:(0,Qm.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 11 7",children:(0,Qm.jsx)("path",{stroke:"currentColor",strokeWidth:"1.3",d:"M.5 1.5l5 4 5-4"})})})]})}),a&&(0,Qm.jsx)(cE,{options:r,selected:e,opener:c.current,onChange:n,onCloseModal:function(){return s(!1)},onItemDisplay:i})]})};function fE(t){return fE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fE(t)}var hE=["fieldRules"];function pE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pE(Object(n),!0).forEach((function(e){yE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yE(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=fE(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fE(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vE(t,e,n){var r=Number(t);if(Number.isNaN(r))return t;var i=0!==e?1/Math.pow(10,e):1,o="+"===n?r+i:r-i;return 0===e?o:parseFloat(o.toFixed(10))}var bE=function(t){var e=t.fieldRules,n=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,hE),r=e.precision,i=void 0===r?0:r,o=n.onParamChanged,a=n.path,s=n.value,c=o(a,vE(s,i,"+")),l=o(a,vE(s,i,"-"));return(0,Qm.jsx)(iy,mE(mE({},n),{},{children:(0,Qm.jsxs)("div",{className:"input-wrapper__arrows",children:[(0,Qm.jsx)("div",{className:"input-wrapper__arrows-item",onClick:c,children:(0,Qm.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 330 330",width:"9px",height:"9px",children:(0,Qm.jsx)("path",{d:"M325.606 229.393l-150.004-150a14.997 14.997 0 00-21.213.001l-149.996 150c-5.858 5.858-5.858 15.355 0 21.213 5.857 5.857 15.355 5.858 21.213 0l139.39-139.393 139.397 139.393A14.953 14.953 0 00315 255a14.95 14.95 0 0010.607-4.394c5.857-5.858 5.857-15.355-.001-21.213z"})})}),(0,Qm.jsx)("div",{className:"input-wrapper__arrows-item",onClick:l,children:(0,Qm.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 330 330",width:"9px",height:"9px",children:(0,Qm.jsx)("path",{d:"M325.607 79.393c-5.857-5.857-15.355-5.858-21.213.001l-139.39 139.393L25.607 79.393c-5.857-5.857-15.355-5.858-21.213.001-5.858 5.858-5.858 15.355 0 21.213l150.004 150a14.999 14.999 0 0021.212-.001l149.996-150c5.859-5.857 5.859-15.355.001-21.213z"})})})]})}))};bE.propTypes=mE(mE({},iy.propTypes),{},{fieldRules:Jm().object.isRequired});var gE=bE,wE=function(t){var e=t.value,n=t.path,r=t.onParamChanged,i=t.type,o=(0,Lb.d4)((function(t){return t.global.isMobile})),a=Iy(sm[i].rules,n),s=!o&&Ny(a);return(0,Qm.jsxs)("div",{children:[s&&(0,Qm.jsx)(gE,{value:e,onParamChanged:r,path:n,fieldRules:a,type:ny.NUMBER}),!s&&(0,Qm.jsx)(iy,{value:e,onParamChanged:r,path:n,type:ny.NUMBER})]})};wE.propTypes={path:Jm().string.isRequired,onParamChanged:Jm().func.isRequired,value:Jm().oneOfType([Jm().number,Jm().string]),type:Jm().oneOf(Object.keys(sm)).isRequired};var jE=wE,xE=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(oE,{settings:n,onParamChanged:e,children:(0,Qm.jsxs)("div",{className:"inputs",children:[(0,Qm.jsxs)("div",{className:"labels",children:[(0,Qm.jsx)("div",{children:(0,$.tr)("period")}),(0,Qm.jsx)("div",{children:(0,$.tr)("indicators.ma")})]}),(0,Qm.jsxs)("div",{className:"fields",children:[(0,Qm.jsx)(jE,{type:Ru.W.MOVING_AVERAGE,onParamChanged:e,path:"period",value:Bt()(n,"period")}),(0,Qm.jsx)("div",{children:(0,Qm.jsx)(dE,{selected:n.ma,options:em,onChange:function(t){return e("ma",t)()}})})]})]})})};function _E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return SE(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SE(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var OE=function(t){var e=_E((0,Xm.useState)(t),2),n=e[0],r=e[1],i=_E((0,Xm.useState)(!0),2),o=i[0],a=i[1];return[n,o,function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r((0,Ar.jM)(n,t)),a(e)}]},kE=function(t){var e=t.inputs,n=t.onParamChanged,r=t.settings,i=t.type,o=t.hiddenCheckboxLines,a=void 0===o?[]:o;return(0,Qm.jsx)(oE,{settings:r,onParamChanged:n,hiddenCheckboxLines:a,children:(0,Qm.jsxs)("div",{className:"inputs",children:[(0,Qm.jsx)("div",{className:"labels",children:Object.keys(e).map((function(t){return(0,Qm.jsx)("div",{children:e[t]},"name-".concat(t))}))}),(0,Qm.jsx)("div",{className:"fields",children:Object.keys(e).map((function(t){return(0,Qm.jsx)(jE,{type:i,onParamChanged:n,path:t,value:Bt()(r,t)},"value-".concat(t))}))})]})})};kE.propTypes={type:Jm().oneOf(Object.keys(sm)).isRequired,settings:Jm().object.isRequired,onParamChanged:Jm().func.isRequired,inputs:Jm().object.isRequired};var TE=kE,AE={"jaws.period":(0,$.tr)("indicators.jaws_per"),"jaws.shift":(0,$.tr)("indicators.jaws_sh"),"teeth.period":(0,$.tr)("indicators.teeth_per"),"teeth.shift":(0,$.tr)("indicators.teeth_sh"),"lips.period":(0,$.tr)("indicators.lips_per"),"lips.shift":(0,$.tr)("indicators.lips_sh")},CE=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(TE,{settings:n,onParamChanged:e,inputs:AE,type:Ru.W.ALLIGATOR})},PE={period:(0,$.tr)("period"),deviation:(0,$.tr)("indicators.deviation")},EE=function(t){var e=t.onParamChanged,n=t.settings,r=t.type,i=void 0===r?Ru.W.BOLLINGER_BANDS:r;return(0,Qm.jsx)(TE,{settings:n,onParamChanged:e,inputs:PE,type:i})},IE={period:(0,$.tr)("period"),deviation:(0,$.tr)("indicators.deviation")},NE=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(oE,{settings:n,onParamChanged:e,children:(0,Qm.jsxs)("div",{className:"inputs",children:[(0,Qm.jsxs)("div",{className:"labels",children:[Object.keys(IE).map((function(t){return(0,Qm.jsx)("div",{children:IE[t]},"name-".concat(t))})),(0,Qm.jsx)("div",{children:(0,$.tr)("indicators.ma")}),(0,Qm.jsx)("div",{children:(0,$.tr)("indicators.src")})]}),(0,Qm.jsxs)("div",{className:"fields",children:[Object.keys(IE).map((function(t){return(0,Qm.jsx)(jE,{type:Ru.W.ENVELOPE,onParamChanged:e,path:t,value:Bt()(n,t)},"value-".concat(t))})),(0,Qm.jsx)("div",{children:(0,Qm.jsx)(dE,{selected:n.ma,options:em,onChange:function(t){return e("ma",t)()}})}),(0,Qm.jsx)("div",{children:(0,Qm.jsx)(dE,{selected:n.source,options:im,onChange:function(t){return e("source",t)()}})})]})]})})},DE={tenkanSen:"Tenkan Sen",kijunSen:"Kijun Sen",senkouSpanB:"Senkou Span B"},LE=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(TE,{settings:n,onParamChanged:e,inputs:DE,type:Ru.W.ICHIMOKU_CLOUD})},ME={emaPeriod:"EMA ".concat((0,$.tr)("period")),atrPeriod:"ATR ".concat((0,$.tr)("period")),multiplier:(0,$.tr)("indicators.multiplier")},RE=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(TE,{settings:n,onParamChanged:e,inputs:ME,type:Ru.W.KELTNER_CHANNEL})},BE={acceleration:(0,$.tr)("indicators.acceleration"),accelerationMax:(0,$.tr)("indicators.max_acceleration")},HE=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(TE,{settings:n,onParamChanged:e,inputs:BE,type:Ru.W.PARABOLIC_SAR})},$E={deviation:(0,$.tr)("indicators.deviation"),depth:(0,$.tr)("indicators.depth"),backstep:(0,$.tr)("indicators.backstep")},FE=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(TE,{settings:n,onParamChanged:e,inputs:$E,type:Ru.W.ZIG_ZAG})},WE={adxSmoothing:(0,$.tr)("indicators.adx_smoothing"),diLength:(0,$.tr)("indicators.di_length")},UE=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(TE,{settings:n,onParamChanged:e,inputs:WE,type:Ru.W.ADX})},VE=["main"],GE={periodShort:(0,$.tr)("indicators.period_short"),periodLong:(0,$.tr)("indicators.period_long")},zE=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(TE,{settings:n,onParamChanged:e,inputs:GE,type:Ru.W.AWESOME_OSCILLATOR,hiddenCheckboxLines:VE})},YE={fastPeriod:(0,$.tr)("indicators.fast_period"),slowPeriod:(0,$.tr)("indicators.slow_period"),signalPeriod:(0,$.tr)("indicators.signal_period")},XE=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(TE,{settings:n,onParamChanged:e,inputs:YE,type:Ru.W.MACD})},qE={period:(0,$.tr)("period")},KE=function(t){var e=t.onParamChanged,n=t.settings,r=t.type;return(0,Qm.jsx)(TE,{settings:n,onParamChanged:e,inputs:qE,type:r})},ZE={kPeriod:"%K ".concat((0,$.tr)("period")),dPeriod:"%D ".concat((0,$.tr)("period")),mPeriod:(0,$.tr)("indicators.smoothing_period")},JE=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(oE,{settings:n,onParamChanged:e,children:(0,Qm.jsxs)("div",{className:"inputs",children:[(0,Qm.jsxs)("div",{className:"labels",children:[Object.keys(ZE).map((function(t){return(0,Qm.jsx)("div",{children:ZE[t]},"label-".concat(t))})),(0,Qm.jsx)("div",{children:(0,$.tr)("indicators.ma")})]}),(0,Qm.jsxs)("div",{className:"fields",children:[Object.keys(ZE).map((function(t){return(0,Qm.jsx)(jE,{type:Ru.W.STOCHASTIC_OSCILLATOR,onParamChanged:e,path:t,value:Bt()(n,t)},"value-".concat(t))})),(0,Qm.jsx)("div",{children:(0,Qm.jsx)(dE,{selected:n.ma,options:em,onChange:function(t){return e("ma",t)()}})})]})]})})},QE={fast:(0,$.tr)("indicators.fast_len"),slow:(0,$.tr)("indicators.slow_len"),cycle:(0,$.tr)("indicators.cycle_len"),macdD:(0,$.tr)("indicators.d_macd_len"),pfD:(0,$.tr)("indicators.d_pf_len")},tI=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(oE,{settings:n,onParamChanged:e,children:(0,Qm.jsxs)("div",{className:"inputs",children:[(0,Qm.jsx)("div",{className:"labels",children:Object.keys(QE).map((function(t){return(0,Qm.jsx)("div",{children:QE[t]},"label-".concat(t))}))}),(0,Qm.jsx)("div",{className:"fields",children:Object.keys(QE).map((function(t){return(0,Qm.jsx)(jE,{type:Ru.W.SCHAFF_TREND_CYCLE,onParamChanged:e,path:t,value:Bt()(n,t)},"value-".concat(t))}))})]})})},eI=function(){return(0,Qm.jsx)("svg",{className:"svg-icon modal-close-icon",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Qm.jsx)("path",{d:"M10.3432 7.5L14.6075 3.23565C15.1308 2.71236 15.1308 1.86392 14.6075 1.3402L13.6598 0.392472C13.1365 -0.130824 12.2881 -0.130824 11.7643 0.392472L7.5 4.65682L3.23565 0.392472C2.71236 -0.130824 1.86392 -0.130824 1.3402 0.392472L0.392472 1.3402C-0.130824 1.86349 -0.130824 2.71193 0.392472 3.23565L4.65682 7.5L0.392472 11.7643C-0.130824 12.2876 -0.130824 13.1361 0.392472 13.6598L1.3402 14.6075C1.86349 15.1308 2.71236 15.1308 3.23565 14.6075L7.5 10.3432L11.7643 14.6075C12.2876 15.1308 13.1365 15.1308 13.6598 14.6075L14.6075 13.6598C15.1308 13.1365 15.1308 12.2881 14.6075 11.7643L10.3432 7.5Z"})})},nI={fastPeriod:"Fast EMA Period",slowPeriod:"Slow EMA Period",signalPeriod:"Signal SMA Period"},rI=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(oE,{settings:n,onParamChanged:e,children:(0,Qm.jsxs)("div",{className:"inputs",children:[(0,Qm.jsx)("div",{className:"labels",children:Object.keys(nI).map((function(t){return(0,Qm.jsx)("div",{children:nI[t]},"label-".concat(t))}))}),(0,Qm.jsx)("div",{className:"fields",children:Object.keys(nI).map((function(t){return(0,Qm.jsx)(jE,{type:Ru.W.OSMA,onParamChanged:e,path:t,value:Bt()(n,t)},"value-".concat(t))}))})]})})},iI=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(EE,{settings:n,onParamChanged:e,type:Ru.W.BOLLINGER_BANDS_WIDTH})},oI={aoPeriodShort:"AO Short Period",aoPeriodLong:"AO Long Period",acPeriod:"AC SMA Period"},aI=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(TE,{settings:n,onParamChanged:e,inputs:oI,type:Ru.W.ACCELERATOR_OSCILLATOR})},sI={atrPeriod:"ATR ".concat((0,$.tr)("period")),multiplier:(0,$.tr)("indicators.multiplier")},cI=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(TE,{settings:n,onParamChanged:e,inputs:sI,type:Ru.W.SUPERTREND})};function lI(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return uI(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uI(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var dI=function(t){var e=t.closeTriggered,n=t.indicator,r=t.onRequestClose,i=lI(OE(n.settings),3),o=i[0],a=i[1],s=i[2],c=lI((0,Xm.useState)(n.settings),1)[0],l=(0,Lb.d4)((function(t){return t.global.isMobile})),d=(0,Lb.wA)(),f=n.id,h=n.type,p=n.visible;(0,Xm.useEffect)((function(){e&&m()}),[e]),(0,Xm.useEffect)((function(){a&&d(Nm(f,o))}),[a,o]);var m=function(){Hl()(c,o)||d(Nm(f,o,!0)),r()},y=(0,Xm.useCallback)(My(sm[h],0,s),[o]);return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"m-header",children:[(0,Qm.jsx)("span",{children:(0,$.tr)("indicators.".concat(h))}),(0,Qm.jsx)("a",{onClick:r,children:(0,Qm.jsx)(eI,{})})]}),h===Ru.W.MOVING_AVERAGE&&(0,Qm.jsx)(xE,{settings:o,onParamChanged:y}),h===Ru.W.ALLIGATOR&&(0,Qm.jsx)(CE,{settings:o,onParamChanged:y}),h===Ru.W.BOLLINGER_BANDS&&(0,Qm.jsx)(EE,{settings:o,onParamChanged:y}),h===Ru.W.BOLLINGER_BANDS_WIDTH&&(0,Qm.jsx)(iI,{settings:o,onParamChanged:y}),h===Ru.W.ENVELOPE&&(0,Qm.jsx)(NE,{settings:o,onParamChanged:y}),h===Ru.W.ICHIMOKU_CLOUD&&(0,Qm.jsx)(LE,{settings:o,onParamChanged:y}),h===Ru.W.KELTNER_CHANNEL&&(0,Qm.jsx)(RE,{settings:o,onParamChanged:y}),h===Ru.W.PARABOLIC_SAR&&(0,Qm.jsx)(HE,{settings:o,onParamChanged:y}),h===Ru.W.ZIG_ZAG&&(0,Qm.jsx)(FE,{settings:o,onParamChanged:y}),h===Ru.W.ADX&&(0,Qm.jsx)(UE,{settings:o,onParamChanged:y}),h===Ru.W.ACCELERATOR_OSCILLATOR&&(0,Qm.jsx)(aI,{settings:o,onParamChanged:y}),h===Ru.W.AWESOME_OSCILLATOR&&(0,Qm.jsx)(zE,{settings:o,onParamChanged:y}),h===Ru.W.MACD&&(0,Qm.jsx)(XE,{settings:o,onParamChanged:y}),h===Ru.W.OSMA&&(0,Qm.jsx)(rI,{settings:o,onParamChanged:y}),h===Ru.W.STOCHASTIC_OSCILLATOR&&(0,Qm.jsx)(JE,{settings:o,onParamChanged:y}),h===Ru.W.SCHAFF_TREND_CYCLE&&(0,Qm.jsx)(tI,{settings:o,onParamChanged:y}),h===Ru.W.SUPERTREND&&(0,Qm.jsx)(cI,{settings:o,onParamChanged:y}),Ry(h)&&(0,Qm.jsx)(KE,{settings:o,onParamChanged:y,type:h}),(0,Qm.jsx)("div",{className:"m-footer",children:(0,Qm.jsxs)("div",{className:"btn-wrap btn-gap",children:[(0,Qm.jsxs)("a",{onClick:function(){u.A.publish(Hn.nS),d(Dm(f)),r()},className:"btn btn-gap__item btn-default-light",children:[!l&&(0,$.tr)("remove"),l&&(0,Qm.jsx)("i",{className:"fa fa-trash-o"})]}),l&&(0,Qm.jsx)("a",{onClick:function(){u.A.publish(Hn.nS),d(Lm(f,!p))},className:"btn btn-gap__item btn-default-light",children:(0,Qm.jsx)("i",{className:(0,Km.A)("fa",p?"fa-eye":"fa-eye-slash")})}),!l&&(0,Qm.jsx)("a",{onClick:function(){u.A.publish(Hn.nS),d(Nm(f,c)),r()},className:"btn btn-gap__item btn-danger-light",children:(0,$.tr)("cancel")}),(0,Qm.jsx)("a",{onClick:m,className:"btn btn-gap__item btn-green-light",children:(0,$.tr)("save")})]})})]})},fI=Rg((function(t){var e=t.isOpen,n=t.indicator,r=t.onRequestClose,i=(0,Lb.d4)((function(t){return t.global.isMt5})),o=lI((0,Xm.useState)(!1),2),a=o[0],s=o[1];return(0,Qm.jsx)(wx(),{isOpen:e,onRequestClose:function(){return s(!0)},ariaHideApp:!1,closeTimeoutMS:200,className:(0,Km.A)(!i&&"EditIndicator",i&&"default-modal edit-indicator-modal"),overlayClassName:(0,Km.A)(!i&&"EditIndicatorOverlay",i&&"default-modal-overlay"),children:n&&(0,Qm.jsx)(dI,{closeTriggered:a,indicator:n,onRequestClose:function(){s(!1),r()}})})}));function hI(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return pI(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pI(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var mI=w_((function(t,e,n){var r=ym(n);return function(t){return{chartId:n,favoriteIndicatorsCount:t.indicators.favorites.length,indicators:r(t)}}}),{indicatorDelete:Dm,indicatorsDeleteAllByChartId:Bm},a_)(Rg((function(t){var e=t.chartId,n=t.indicatorDelete,r=t.indicatorsDeleteAllByChartId,i=t.favoriteIndicatorsCount,o=t.indicators,a=t.onClickOutside,s=t.openerNode,c=hI((0,Xm.useState)(QC),2),l=c[0],u=c[1],d=hI((0,Xm.useState)(null),2),f=d[0],h=d[1],p=(0,Lb.d4)((function(t){return t.global.isMt5})),m=nS(s),y=o.length;(0,Xm.useEffect)((function(){(0===i&&l===JC||0===y&&l===tP)&&u(QC)}),[i,y]);var v=(0,Xm.useRef)(null),b=o.find((function(t){return t.id===f}));return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)($j.A,{component:null,appear:!0,children:(0,Qm.jsx)(Fj.A,{timeout:1,nodeRef:v,classNames:"drop-down-modal-wrap",children:(0,Qm.jsx)("div",{className:"drop-down-modal-wrap",ref:v,children:(0,Qm.jsxs)(sx,{onClickOutside:a,style:m,className:"drop-down-modal drop-down-modal--indicators-list",shouldCapture:null===f,chartId:e,children:[(i>0||y>0)&&(0,Qm.jsx)(eP,{favoriteIndicatorsCount:i,indicatorsCount:y,tab:l,setTab:u}),l===tP&&(0,Qm.jsx)(BP,{indicators:o,handleEditClick:function(t){return function(){return h(t)}},handleDeleteClick:function(t){return function(){return n(t)}}}),l!==tP&&(0,Qm.jsx)(aP,{tab:l}),l!==JC&&o.length>0&&(0,Qm.jsxs)("a",{className:"btn remove-all",onClick:function(){r(e)},children:[(0,$.tr)("drawings.delete_all"),p&&(0,Qm.jsx)("span",{className:"cnt",children:o.length}),!p&&" (".concat(o.length,")")]})]})})})}),(0,Qm.jsx)(fI,{isOpen:null!=b,indicator:b,onRequestClose:function(){return h(null)}})]})}))),yI=mI,vI="current",bI="all",gI=function(t){var e=t.tab,n=t.setTab,r=function(t){return function(){u.A.publish(Hn.nS),n(t)}};return(0,Qm.jsxs)("ul",{className:"tab-nav",children:[(0,Qm.jsx)("li",{className:(0,Km.A)(e===vI&&"active"),children:(0,Qm.jsx)("a",{onClick:r(vI),children:(0,$.tr)("drawings.current")})}),(0,Qm.jsx)("li",{className:(0,Km.A)(e===bI&&"active"),children:(0,Qm.jsx)("a",{onClick:r(bI),children:(0,$.tr)("drawings.all")})})]})};function wI(t){return wI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wI(t)}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xI(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jI(Object(n),!0).forEach((function(e){_I(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _I(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=wI(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wI(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var SI=w_((function(t,e,n){return{asset:(0,vf.E_)(t)(n),chartId:n}}),{addDrawing:Pm},a_)((function(t){var e=t.addDrawing,n=t.asset,r=t.chartId;return(0,Qm.jsx)(Xg,{className:"tab-body",children:(0,Qm.jsx)("div",{className:"all-block tab-body-block",children:(0,Qm.jsx)("div",{className:"all drawings-list",children:Object.keys(jy).map((function(t){var i,o=jy[t].icon;return(0,Qm.jsx)("a",{className:"list-item",onClick:(i=t,function(){u.A.publish(Hn.nS);var t=jy[i],o=parseInt(i,10);e(xI(xI({},t.config),{},{chartId:r,type:o,assetId:n.id,symbol:n.symbol}))}),children:(0,Qm.jsxs)("div",{className:"list-item-block",children:[(0,Qm.jsx)("div",{className:"drawing-icon",children:(0,Qm.jsx)(o,{})}),(0,Qm.jsx)("span",{className:"asset-label",children:jy[t].label})]})},t)}))})})})}));function OI(t){return OI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OI(t)}function kI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TI(r.key),r)}}function TI(t){var e=function(t,e){if("object"!=OI(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=OI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==OI(e)?e:e+""}var AI=function(){return function(t,e,n){return e&&kI(t.prototype,e),n&&kI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.color=t.convertHEXA2RGBA(e),this.hex=parseInt(e.replace(/^#/,"").substr(0,6),16),this.alpha=n}),[{key:"convertRGBA2HEXNUM",value:function(t){var e=t.match(/^(.*?)(rgb|rgba)\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)/i),n=("0"+parseInt(e[3],10).toString(16)).slice(-2)+("0"+parseInt(e[4],10).toString(16)).slice(-2)+("0"+parseInt(e[5],10).toString(16)).slice(-2),r=parseFloat(e[6]);return[parseInt(n,16),r]}},{key:"getHEXNUM",value:function(){return this.hex}},{key:"getVec4Array",value:function(){var t=this.getRGBAComponents();return[t[0]/255,t[1]/255,t[2]/255,t[3]]}},{key:"getAlpha",value:function(){return this.alpha}},{key:"setAlpha",value:function(t){this.alpha=t}},{key:"setRGBA",value:function(t){var e=this.convertRGBA2HEXNUM(t);this.hex=e[0],this.alpha=e[1],this.color=t}},{key:"parseRGBComponent",value:function(t){var e=parseInt(t);return 0<=e&&e<=255?e:255}},{key:"getRGBAComponents",value:function(){var t=this.color.substring(this.color.indexOf("(")+1,this.color.lastIndexOf(")")).split(/,\s*/);return t.length<3?[255,255,255,this.alpha]:[this.parseRGBComponent(t[0]),this.parseRGBComponent(t[1]),this.parseRGBComponent(t[2]),this.alpha]}},{key:"lerp",value:function(t,e,n){return t*(1-n)+e*n}}],[{key:"convertHEXA2RGBA",value:function(t){return"rgba("+parseInt(t.substr(0,2),16)+","+parseInt(t.substr(2,2),16)+","+parseInt(t.substr(4,2),16)+","+this.alpha+")"}},{key:"fromRGBA",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new this("FFFFFFFF");return n.setRGBA(t),null!==e&&e>=0&&e<=1&&n.setAlpha(e),n}}])}();function CI(t){return CI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CI(t)}function PI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EI(r.key),r)}}function EI(t){var e=function(t,e){if("object"!=CI(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=CI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==CI(e)?e:e+""}var II={LIGHT:"light",BLUE:"dark-blue"};function NI(t){return function(t){return t===II.BLUE||t===II.LIGHT}(t)?t:II.BLUE}var DI=function(){return function(t,e,n){return e&&PI(t.prototype,e),n&&PI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.theme=this.getCurrentTheme(),this.initColors(),this.events()}),[{key:"initColors",value:function(){var t=this.theme===II.BLUE;this.candleValues=new AI("7e91a7",1),this.timerTimeColor=new AI("738299",1),this.gridLineColor=new AI("738299",.25),this.gridTextColor=new AI(t?"888A95":"4a76a8",1),this.gridTextColorLight=new AI(t?"a2a4ac":"7294bb",1),this.deadLineColor=new AI("4a76a8",.8),this.expirationLineColor=new AI("4a76a8",.5),this.deadLineTextColor=new AI("86a3c5",1),this.expirationLineTextColor=new AI("86a3c5",1),this.betElementTextColor=new AI("FFFFFF",1),this.betElementTextColorTooltipOff=new AI(t?"FFFFFF":"4a76a8",1),this.loaderBg=new AI("535661",1),this.loaderBg2=new AI("5f616c",1),this.valueLineColor=new AI("4a76a8",.8),this.valuePointCenterColor=new AI("00b6f9",1),this.callLineColor=new AI("49A744",1),this.putLineColor=new AI("FC380A",1),this.expressColor=new AI("4a76a8",1),this.upBgFrom=new AI("1b222f",.1),this.upBgTo=new AI("369245",.1),this.downBgFrom=new AI("f2372e",.1),this.downBgTo=new AI("1b222f",.1),this.dragPointCenterColor=new AI(t?"FFFFFF":"7294bb",1),this.plotLineColor=new AI("4a76a8",1),this.plotLineGradientTopColor=new AI("4a76a8",.4),this.plotLineGradientBottomColor=new AI("4a76a8",.1),this.priceChartTopColor=new AI("4a76a8",.7),this.priceChartBottomColor=new AI("191D2D",.2),this.indicatorBottomBgColor=t?new AI("202432",.8):new AI("ffffff",.075),this.indicatorBottomBorderColor=new AI("4a76a8",.5),this.indicatorBottomNullLineColor=new AI("4a76a8",.15),this.indicatorLevelTextColor=new AI("738299",1),this.minMaxElementBg=t?new AI("32364F",.45):new AI("ECEEF1",1),this.minMaxElementText=new AI(t?"74869F":"A5AFBB",1)}},{key:"getCurrentTheme",value:function(){var t=(0,Q.A)("theme");return Object.values(II).includes(t)?t:II.BLUE}},{key:"events",value:function(){var t=this;u.A.subscribe(y.yi,(function(e,n){t.theme=n.val,t.initColors()}))}},{key:"setTheme",value:function(t){this.theme=t,this.initColors()}}])}(),LI=new DI,MI=n(38006);function RI(t){return RI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RI(t)}function BI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HI(r.key),r)}}function HI(t){var e=function(t,e){if("object"!=RI(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=RI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==RI(e)?e:e+""}var $I=function(){return function(t,e,n){return e&&BI(t.prototype,e),n&&BI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pointsManager=n,this.averageShift=0,this.elementType=rh.Eq.Common,this.maxVal=Ru.Ay.CHART.DBL_MIN,this.minVal=Ru.Ay.CHART.DBL_MAX,this.lastMaxVal=Ru.Ay.CHART.DBL_MIN,this.lastMinVal=Ru.Ay.CHART.DBL_MAX,this.lastFromTime=0,this.lastToTime=0,this.fromTime=0,this.toTime=0,this.yShift=0,this.position=rh.vh.Overlay,this.lastExpirationTime=0,this.expirationTime=0,this.lastToExpTime=0,this.toEndExpTime=0,this.pointerX=0,this.pointerY=0,this.lastPointerX=0,this.lastPointerY=0,this.endTime=0,this.lastEndTime=0,this.width=0,this.worldHeight=0,this.widthLast=0,this.worldHeightLast=0,this.currentTime=0,this.lastCurrentTime=0,this.height=0,this.heightLast=0,this.topMarginPixels=0,this.bottomMarginPixels=0,this.lastBottomMarginPixels=0,this.startTime=0,this.secondWidth=0,this.shift=0,this.pointsInElement=1,this.showCursorPointer=!1,this.pointerInElement=!1,this.pointerInElementValueY=0,this.pointerInElementValueSymbol="",this.period=1,this.points=[],this.hoverCallBtn=!1,this.hoverPutBtn=!1,this.core=e,this.colors=LI,this.options=[],this.expresses=[],this.selectedPlotType=null,this.lastSelectedPlotType=null,this.chartId="chart-1",this.currentDigit=5,this.forceCleared=!1,this.assetId=0,this.symbol=0,this.currency="",this.theme="",this.lastTheme="",this.isMinMaxCalculated=!1,this.isMobile=!1,this.interactiveGraphics=null,this.lastSelectedCandleTime=null,this.prevLastValue=0,this.candleUpHex=Ru.Ay.CHART.CANDLE_COLOR.up,this.lastCandleUpHex=null,this.candleDownHex=Ru.Ay.CHART.CANDLE_COLOR.down,this.lastCandleDownHex=null,this.shadowStyle=rh.QJ.REGULAR,this.hoveredDoubleUp=null,this.hoveredRollover=null,this.candlesCount=0,this.lastCandlesCount=0}),[{key:"needToDraw",value:function(){return!0}},{key:"draw",value:function(){}},{key:"onAfterDraw",value:function(){}},{key:"formatStringPrice",value:function(t){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?(0,hn.yg)(t,this.currentDigit):(0,ru.xr)(t,this.currentDigit,!0)}},{key:"getXFromTime",value:function(t){return this.pointsManager.getXFromTime(t)}},{key:"getYFromValue",value:function(t){var e=(t-this.minVal)/(this.maxVal-this.minVal);return this.yShift+this.height-this.bottomMarginPixels-(this.height-(this.topMarginPixels+this.bottomMarginPixels))*e}},{key:"getValueFrom",value:function(){return this.getValueFromY(this.yShift+this.height)}},{key:"getValueTo",value:function(){return this.getValueFromY(this.yShift)}},{key:"getValueFromY",value:function(t){var e=this.height-(this.topMarginPixels+this.bottomMarginPixels),n=(this.yShift+this.height-this.bottomMarginPixels-t)/e;return this.minVal+(this.maxVal-this.minVal)*n}},{key:"getTimeFromX",value:function(t){return this.pointsManager.getTimeFromX(t)}},{key:"filterPoints",value:function(t){var e=this.pointsManager.getSecondsInCandle(),n=this.getTimeFrom()-e,r=this.getTimeTo()+e,i=[];if(t&&t.length>0)for(var o=0;o<t.length;o++){var a=t[o];n<=a.time&&a.time<=r&&i.push(a)}return i}},{key:"getTimeFrom",value:function(){var t=this.averageShift*this.pointsInElement;return isNaN(t)&&(t=0),this.getTimeFromX(this.shift)-t}},{key:"getTimeTo",value:function(){var t=this.averageShift*this.pointsInElement;return isNaN(t)&&(t=0),this.getTimeFromX(this.shift+this.width)-t}},{key:"isDarkTheme",value:function(){return this.theme===II.BLUE}},{key:"isCurrentTimeChanged",value:function(){return this.currentTime!==this.lastCurrentTime}},{key:"isChangedMinMax",value:function(){return this.lastMinVal!==this.minVal||this.lastMaxVal!==this.maxVal}},{key:"isChangedFromTo",value:function(){return this.lastFromTime!==this.fromTime||this.lastToTime!==this.toTime}},{key:"isChangedExpirationTime",value:function(){return this.expirationTime!==this.lastExpirationTime}},{key:"isChangedToExpTime",value:function(){return this.lastToExpTime!==this.toEndExpTime}},{key:"isPointerChanged",value:function(){return this.lastPointerX!==this.pointerX||this.lastPointerY!==this.pointerY}},{key:"isSizeChanged",value:function(){return this.width!==this.widthLast||this.worldHeight!==this.worldHeightLast}},{key:"isElementHeightChanged",value:function(){return this.height!==this.heightLast}},{key:"isEndTimeChanged",value:function(){return this.endTime!==this.lastEndTime}},{key:"isThemeChanged",value:function(){return this.theme!==this.lastTheme}},{key:"isBottomMarginChanged",value:function(){return this.bottomMarginPixels!==this.lastBottomMarginPixels}},{key:"isLineChart",value:function(){return(0,nh.Mt)(this.selectedPlotType)}},{key:"isPlotTypeChanged",value:function(){return this.selectedPlotType!==this.lastSelectedPlotType}},{key:"isLastValueChanged",value:function(){return this.prevLastValue!==this.pointsManager.getLastValue()}},{key:"isCandlesCountChanged",value:function(){return this.candlesCount!==this.lastCandlesCount}},{key:"isCandleColorChanged",value:function(){return this.candleDownHex!==this.lastCandleDownHex||this.candleUpHex!==this.lastCandleUpHex}},{key:"destroy",value:function(){}},{key:"isClickedOnElement",value:function(t,e){if(!this.interactiveGraphics)return!1;var n=this.core,r=n.renderer,i=n.stage,o=r.plugins.interaction.hitTest(new MI.bRX(t,e),i);return!!o&&(Array.isArray(this.interactiveGraphics)?this.interactiveGraphics.some((function(t){return t===o})):o===this.interactiveGraphics)}},{key:"getSpritePath",value:function(t){return this.core.isIE?Ru.Ay.CHART.EMPTY_1_PX:t}}])}(),FI=$I;function WI(t){return WI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WI(t)}function UI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VI(r.key),r)}}function VI(t){var e=function(t,e){if("object"!=WI(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=WI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==WI(e)?e:e+""}var GI=function(){return function(t,e,n){return e&&UI(t.prototype,e),n&&UI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=e,this.time=n,this.minValue=r,this.maxValue=i,this.exitValue=e}),[{key:"isEqual",value:function(t){return t&&t.time===this.time&&t.value===this.value}}])}(),zI=GI;function YI(t){return YI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YI(t)}function XI(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return qI(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qI(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function qI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function KI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZI(r.key),r)}}function ZI(t){var e=function(t,e){if("object"!=YI(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=YI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==YI(e)?e:e+""}function JI(t,e,n){return e=tN(e),function(t,e){if(e&&("object"==YI(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,QI()?Reflect.construct(e,n||[],tN(t).constructor):e.apply(t,n))}function QI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(QI=function(){return!!t})()}function tN(t){return tN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tN(t)}function eN(t,e){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},eN(t,e)}var nN="dynamic",rN="text",iN=function(t){function e(t,n,r){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=JI(this,e,[t,n]);var o=r.expanded,a=r.id,s=r.type,c=r.visible;return i.color="#ffffff",i.type=null,i.min=Ru.Ay.CHART.DBL_MIN,i.max=-Ru.Ay.CHART.DBL_MIN,i.minValue=Ru.Ay.CHART.DBL_MAX,i.maxValue=Ru.Ay.CHART.DBL_MIN,i.lineWidth=1,i.averageShift=0,i.filteredPoints=[],i.cachedPoints={},i.valueYScaleType=rh.gd.None,i.elementType=rh.Eq.Indicator,i.index=a,i.cacheId=a,i.lastFirstTime=0,i.isDrawing=!1,i.isExpanded=lm(s)&&o,i.drawnGraphics=new Set,i.updated=!1,i.isVisible=c,i.settings={},i._prevCandlesLength=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eN(t,e)}(e,t),function(t,e,n){return e&&KI(t.prototype,e),n&&KI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return 0}},{key:"candles",get:function(){return this.pointsManager.getCandlesForIndicator(this.position)}},{key:"getShowValue",value:function(t){return void 0===t.show||t.show}},{key:"isLine",value:function(t){return void 0!==t.color&&void 0!==t.lineWidth}},{key:"isBottomIndicator",value:function(){return void 0!==sm[this.type]&&!0===sm[this.type].isBottom}},{key:"isCandlesCountChanged",value:function(){return this._prevCandlesLength!==this.candles.length}},{key:"reset",value:function(){this.flush(),this.destroy()}},{key:"flush",value:function(){}},{key:"calculate",value:function(){}},{key:"onAfterDraw",value:function(){this.updated=!1,this._prevCandlesLength=this.candles.length}},{key:"needToDraw",value:function(){return this.isVisible&&(this.updated||this.shouldClearMainGraphLine())}},{key:"update",value:function(t){this.clearAllDynamicGraphics(),this.flush(),this.isVisible=t.visible,this.isExpanded=lm(this.type)&&t.expanded,t.requestId===this.index&&(this.index=t.id),this.updateSettings(t.settings),this.updated=!0}},{key:"updateSettings",value:function(t){this.settings=t,this.flush()}},{key:"addDynamicGraphics",value:function(t,e){return this.addDrawnGraphics(nN,t,e)}},{key:"addTextGraphics",value:function(t,e){return this.addDrawnGraphics(rN,t,e)}},{key:"addDrawnGraphics",value:function(t,e,n){this.drawnGraphics.add({type:t,containerIndex:e,elementIndex:n})}},{key:"clearDynamicGraphics",value:function(t,e){var n,r=XI(this.drawnGraphics.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.containerIndex===t&&i.elementIndex===e)switch(this.drawnGraphics.delete(i),i.type){case nN:this.core.clearDynamicGraphicsNew(e);break;case rN:this.core.clearText(e)}}}catch(o){r.e(o)}finally{r.f()}}},{key:"clearAllDynamicGraphics",value:function(){this.interactiveGraphics=null;var t,e=XI(this.drawnGraphics.values());try{for(e.s();!(t=e.n()).done;){var n=t.value,r=(n.containerIndex,n.elementIndex);switch(this.drawnGraphics.delete(n),n.type){case nN:this.core.clearDynamicGraphicsNew(r);break;case rN:this.core.clearText(r)}}}catch(i){e.e(i)}finally{e.f()}}},{key:"getInteractiveGraphics",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getDynamicGraphics(t,e,n);return this.interactiveGraphics=r.graphics,r}},{key:"getDynamicGraphics",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.core.getDynamicGraphics(t,e,n);return this.addDynamicGraphics(t,e),r}},{key:"getTextGraphics",value:function(t,e){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var a=(n=this.core).getText.apply(n,[t,e].concat(i));return this.addTextGraphics(t,e),a}},{key:"prepareColor",value:function(t){return t instanceof AI?t.getHEXNUM():"#"===t.charAt(0)?parseInt(t.substring(1),16):t}},{key:"prepareAlpha",value:function(t){return t instanceof AI?t.getAlpha():1}},{key:"drawBottomIndicatorBorder",value:function(){var t=this.getDynamicGraphics(rh.Rp.INDICATORS_BOTTOM,"indicatorBorder"+this.index);t.isNew&&(t.graphics.lineStyle(1,this.colors.indicatorBottomBorderColor.getHEXNUM(),this.colors.indicatorBottomBorderColor.getAlpha()),t.graphics.moveTo(0,0),t.graphics.lineTo(this.width,0)),t.graphics.y=this.yShift+.5,t=null}},{key:"getYFromValueIndicator",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.max-t:t-this.min)/(this.max-this.min);return this.yShift+(this.height-2*Ru.Ay.CHART.BOTTOM_PLOT_ELEMENT_VERTICAL_PADDING)*e+Ru.Ay.CHART.BOTTOM_PLOT_ELEMENT_VERTICAL_PADDING}},{key:"drawBottomIndicatorBg",value:function(){var t=this.getDynamicGraphics(rh.Rp.INDICATORS,"indicatorBg"+this.index);(t.isNew||this.isThemeChanged())&&(t.isNew||t.graphics.clear(),t.graphics.beginFill(this.colors.indicatorBottomBgColor.getHEXNUM(),this.colors.indicatorBottomBgColor.getAlpha()),t.graphics.drawRect(0,0,this.width,this.height),t.graphics.endFill()),t.graphics.y=this.yShift+.5}},{key:"drawBottomLevelsBg",value:function(t,e,n){var r=this.getYFromPercent(100-e),i=this.getYFromPercent(100-t),o=this.getDynamicGraphics(rh.Rp.INDICATORS,"indicatorLevelsBg-".concat(this.index));(o.isNew||this.isThemeChanged())&&(o.isNew||o.graphics.clear(),o.graphics.beginFill(n.getHEXNUM(),n.getAlpha()),o.graphics.drawRect(0,0,this.width,i-r),o.graphics.endFill()),o.graphics.y=r}},{key:"getYFromPercent",value:function(t){var e=Ru.Ay.CHART.BOTTOM_PLOT_ELEMENT_VERTICAL_PADDING;return this.yShift+e+(this.height-2*e)*t/100}},{key:"drawMaxLevel",value:function(t){var e=this.colors.indicatorBottomNullLineColor,n=this.pointsManager.digits;this.drawBottomLevel("max",100,e,1,"",(0,ru.xr)(t,n),!0)}},{key:"drawMiddleLevel",value:function(t){var e=this.colors.indicatorBottomNullLineColor,n=this.pointsManager.digits;this.drawBottomLevel("middle",50,e,1,"",(0,ru.xr)(t,n))}},{key:"drawMinLevel",value:function(t){var e=this.colors.indicatorBottomNullLineColor,n=this.pointsManager.digits;this.drawBottomLevel("min",0,e,1,"",(0,ru.xr)(t,n))}},{key:"drawBottomLevel",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=Math.floor(this.getYFromPercent(100-e)),s=this.getDynamicGraphics(rh.Rp.INDICATORS_BOTTOM,"indicatorLevel"+this.index+"_"+t),c=(null===o?e.toString():o)+i,l=0;if(c){var u=this.getTextGraphics(rh.Rp.OVERLAY,"indicatorLevelLabel"+this.index+"_"+t,c,Ru.Ay.CHART.TEXT_STYLE_INDICATOR_BOTTOM_LEVEL,this.colors.indicatorLevelTextColor.getHEXNUM());u.x=this.width-u.width-7,u.y=a-u.height/2,l=u.width+14}else this.clearDynamicGraphics(rh.Rp.OVERLAY,"indicatorLevelLabel"+this.index+"_"+t);s.isNew&&(s.graphics.lineStyle(r,n.getHEXNUM(),n.getAlpha()),s.graphics.moveTo(0,0),s.graphics.lineTo(this.width-l,0)),s.graphics.y=a,s=null}},{key:"drawLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&t.length){var r=n.color||this.color,i=n.lineWidth||this.lineWidth,o=n.opacity?n.opacity/100:1,a={};n.smooth&&(a.smooth=!0),this.drawLineWithParams({points:t,elementId:"indicatorLine-".concat(this.index,"-").concat(e),color:r,lineWidth:i,alpha:o,settings:a})}}},{key:"drawLineWithParams",value:function(t){var e=t.points,n=t.elementId,r=t.color,i=t.lineWidth,o=t.alpha,a=void 0===o?1:o,s=t.shift,c=void 0===s?null:s,l=t.settings,u=void 0===l?{}:l;if(e&&0!==e.length){this.shouldClearMainGraphLine()&&this.clearDynamicGraphics(rh.Rp.INDICATORS,n);var d=this.getDynamicGraphics(rh.Rp.INDICATORS,n,u);d.graphics.lineStyle(i,this.prepareColor(r),a);for(var f=null!=c?c:this.averageShift,h=0;h<e.length;h++)d.graphics[0===h?"moveTo":"lineTo"](this.getXFromTime(e[h].time+f*this.pointsInElement),this.getYFromValue(e[h].value))}}},{key:"drawBottomLine",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t&&t.length){var o=this.getDynamicGraphics(rh.Rp.INDICATORS_BOTTOM,"bottomIndicatorLine"+this.index+"-"+e);o.graphics.lineStyle(n,this.prepareColor(r),1);for(var a=0;a<t.length;a++){var s=t[a],c=this.pointsManager.getXFromTime(s.time+this.averageShift*this.pointsInElement),l=this.getYFromValueIndicator(s.value,i);0===a?o.graphics.moveTo(c,l):o.graphics.lineTo(c,l)}o=null}}},{key:"drawBottomHistogram",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ru.Ay.CHART.HISTOGRAM_COLOR_MODE.DEFAULT,o=this.getDynamicGraphics(rh.Rp.INDICATORS_BOTTOM,"indicatorHisto"+this.index);if(o.isNew)for(var a=100===r?this.yShift+Ru.Ay.CHART.BOTTOM_PLOT_ELEMENT_VERTICAL_PADDING:this.getYFromPercent(100-100*r),s=this.averageShift*this.pointsInElement,c=this.pointsManager.getHistogramCandleWidth(),l=(this.max+this.min)*r,u=0,d=this.pointsManager.getSecondsInCandle(),f=this.getTimeFrom()-d,h=this.getTimeTo()+d,p=0;p<t.length;p++){var m=t[p],y=m.time,v=m.value,b=this.getXFromTime(y+s),g=this.getYFromValueIndicator(v,!0);if(y>=f&&y<=h){var w=null;switch(i){case Ru.Ay.CHART.HISTOGRAM_COLOR_MODE.DEFAULT:w=v>u?e:n;break;case Ru.Ay.CHART.HISTOGRAM_COLOR_MODE.FROM_ZERO_LEVEL:w=v>l?n:e;break;case Ru.Ay.CHART.HISTOGRAM_COLOR_MODE.POSITIVE_NEGATIVE:w=v>0?n:e}o.graphics.beginFill(this.prepareColor(w),this.prepareAlpha(w)),v>0?o.graphics.drawRect(b-c/2,a,c,g-a):v<0?o.graphics.drawRect(b-c/2,g,c,a-g):o.graphics.drawRect(b-c/2,a,c,1),o.graphics.endFill()}u=v}}},{key:"filterIndicatorPoints",value:function(t,e){if(!t||!t.length)return[];for(var n=this.pointsManager.getSecondsInCandle(),r=this.getTimeFrom()-n,i=this.getTimeTo()+n,o=[],a=0;a<t.length;a++){var s=t[a];s.time<r||s.time>i||(o.push(s),e&&(this.position===rh.vh.Overlay?(s.value>this.maxValue&&(this.maxValue=s.value),s.value<this.minValue&&(this.minValue=s.value)):(s.value>this.maxVal&&(this.maxVal=s.value),s.value<this.minVal&&(this.minVal=s.value))))}return o}},{key:"minMaxPush",value:function(t){t>this.max&&(this.max=t),t<this.min&&(this.min=t)}},{key:"minMaxBalance",value:function(){this.max===this.min&&(this.max+=Ru.Ay.CHART.MIN_MAX_MIN_DIFF,this.min-=Ru.Ay.CHART.MIN_MAX_MIN_DIFF)}},{key:"resetMinMax",value:function(){this.min=Ru.Ay.CHART.DBL_MAX,this.max=-Ru.Ay.CHART.DBL_MIN}},{key:"getCachedPoints",value:function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.cacheId,n=this.getKeyForCache();return this.cachedPoints[e]&&this.cachedPoints[e].key===n&&this.cachedPoints[e].data||t}},{key:"saveCachedPoints",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getKeyForCache(),r=e||this.cacheId;this.cachedPoints[r]={key:n,data:t}}},{key:"sma",value:function(t){var e=t.candles,n=void 0===e?[]:e,r=t.cacheId,i=void 0===r?null:r,o=t.source,a=void 0===o?rh.U$.CLOSE:o,s=t.period;return this.getMovingAveragePoints({type:em.SMA,cacheId:i,candles:n,source:a,period:s})}},{key:"getMovingAveragePoints",value:function(t){var e=t.type,n=t.candles,r=void 0===n?[]:n,i=t.cacheId,o=void 0===i?null:i,a=t.source,s=void 0===a?rh.U$.CLOSE:a,c=t.period,l=r.length>0?r:this.candles,u=null===o?"general-".concat(c):o,d=this.getCachedPoints(u);switch(d.length>1&&d.splice(-1,1),e){case em.SMA:for(var f=d.length+c-1;f<l.length;f++)if(!(f<c-1)){for(var h=0,p=0;p<c;p++){var m=f-p;m>=0&&(h+=(0,nh.pR)(l[m],s))}var y=h/c;d.push(new zI(y,l[f].time))}break;case em.WMA:for(var v=d.length+c;v<l.length;v++){for(var b=0,g=0,w=0;w<c;w++){var j=v-w;if(j>=0){var x=l[j];b+=(0,nh.pR)(x,s)*(c-w),g+=w+1}}var _=b/g;d.push(new zI(_,l[v].time))}break;case em.EMA:d=this.getEMA(d,c,l,null,s);break;case em.SMMA:for(var S=d.length+c;S<l.length;S++){var O=0,k=0;if(S===c){O=0;for(var T=0;T<c;T++){var A=S-T;A>=0&&(O+=(0,nh.pR)(l[A],s))}k=O/c}else{var C=S-c-1;if(C>=0){var P=d[C],E=(0,nh.pR)(l[S],s);k=(P.value*(c-1)+E)/c}}d.push(new zI(k,l[S].time))}}return this.saveCachedPoints(d,o),d}},{key:"getEMA",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rh.U$.CLOSE,o=n.length>0?n:this.candles,a=null===r?2/(e+1):r;if(t)for(var s=t.length+e;s<o.length;s++){var c=(0,nh.pR)(o[s],i);0!==t.length&&(c=a*c+(1-a)*t[t.length-1].value),t.push(new zI(c,o[s].time))}return t}},{key:"getKeyForCache",value:function(){return this.pointsManager.getChartCandlesCacheKey(this)}},{key:"recalculateMinMax",value:function(){var t=this;this.resetMinMax();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(e){e.forEach((function(e){t.minMaxPush(e.value)}))})),this.minMaxBalance()}},{key:"checkFlush",value:function(){if(!this.candles.length)return this.flush();var t=this.candles[0].time;t!==this.lastFirstTime&&this.flush(),this.lastFirstTime=t}},{key:"destroy",value:function(){var t=this;this.drawnGraphics.forEach((function(e){var n=e.type,r=e.containerIndex,i=e.elementIndex;switch(n){case nN:t.core.destroyDynamicGraphicsNew(r,i);break;case rN:t.core.clearText(i)}})),this.drawnGraphics.clear()}},{key:"shouldClearMainGraphLine",value:function(){return!!this.updated||(this.isCandlesCountChanged()||this.isChangedMinMax()||this.isChangedFromTo()||this.isChangedExpirationTime()||this.isChangedToExpTime()||this.isSizeChanged()||this.isThemeChanged()||this.isBottomMarginChanged()||this.isLastValueChanged()||this.forceCleared)}},{key:"highest",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rh.U$.CLOSE,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null===r?this.candles:r,o=t-e+1,a=t,s=Number.MIN_VALUE,c=o;c<=a;c++){var l=(0,nh.pR)(i[c],n);l>s&&(s=l)}return s}},{key:"lowest",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rh.U$.CLOSE,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null===r?this.candles:r,o=t-e+1,a=t,s=Number.MAX_VALUE,c=o;c<=a;c++){var l=(0,nh.pR)(i[c],n);l<s&&(s=l)}return s}},{key:"roundValue",value:function(t){return yn(t,this.currentDigit)}}])}(FI),oN=iN;function aN(t){return aN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aN(t)}function sN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cN(r.key),r)}}function cN(t){var e=function(t,e){if("object"!=aN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=aN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==aN(e)?e:e+""}function lN(t,e,n){return e=dN(e),function(t,e){if(e&&("object"==aN(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,uN()?Reflect.construct(e,n||[],dN(t).constructor):e.apply(t,n))}function uN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(uN=function(){return!!t})()}function dN(t){return dN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dN(t)}function fN(t,e){return fN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fN(t,e)}var hN=function(t){function e(t,n,r,i,o,a){var s,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(s=lN(this,e,[t,n])).pointIndex=c,s.drawable=!0,s.index=r,s.x=0,s.y=0,s.isDragging=!1,s.isLocked=!1,s.price=parseFloat(i),s.time=parseFloat(o),s.orientation=a,s.isSelected=!1,s.lastIsSelected=!1,s.cursor="nesw-resize",s.key="".concat(s.index,"-").concat(s.pointIndex),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fN(t,e)}(e,t),function(t,e,n){return e&&sN(t.prototype,e),n&&sN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"graphicElementIndex",get:function(){return"draggablePoint-".concat(this.key)}},{key:"pos",get:function(){return(0,nh.zx)(this.getXFromTime(this.time),this.getYFromValue(this.price))}},{key:"isSelectedChanged",value:function(){return this.isSelected!==this.lastIsSelected}},{key:"isEmpty",value:function(){return 0===this.time||0===this.price}},{key:"move",value:function(t,e,n){switch(this.isDragging=n,this.orientation){case rh.Zo.XY:this.x=t,this.y=e;break;case rh.Zo.X:this.x=t,this.y=this.yShift+this.height/2;break;case rh.Zo.Y:this.x=this.width/2,this.y=e;break;case rh.Zo.FreezeX:this.y=e}this.y<this.yShift&&(this.y=this.yShift),this.y>this.yShift+this.height&&(this.y=this.yShift+this.height),this.setTime(this.getTimeFromX(this.shift+this.x)),this.setPrice(this.getValueFromY(this.y))}},{key:"stop",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isDragging=!1,this.setTime(this.getTimeFromX(this.shift+this.x)),this.setPrice(this.getValueFromY(this.y)),t&&this.saveDrawingPoint()}},{key:"setTime",value:function(t){this.time=this.roundTime(t)}},{key:"setPrice",value:function(t){this.price=this.roundPrice(t)}},{key:"roundTime",value:function(t){return(0,ru.xr)(t,3)}},{key:"roundPrice",value:function(t){return(0,ru.xr)(t,this.currentDigit)}},{key:"setLocked",value:function(t){this.isLocked=t}},{key:"getPointData",value:function(){return{drawingId:this.index,time:this.roundTime(this.time),price:this.roundPrice(this.price),point:this.pointIndex,assetId:this.assetId,symbol:this.symbol,chartId:this.chartId}}},{key:"saveDrawingPoint",value:function(){u.A.publish(y.I,new H.A(this.getPointData()))}},{key:"calculate",value:function(){this.isDragging||this.updateCoordinates()}},{key:"setCursor",value:function(t){this.cursor=t}},{key:"draw",value:function(){if(this.drawable&&this.x>=0&&this.x<=this.width&&this.y>=this.yShift&&this.y<=this.yShift+this.height){var t=this.core.getDynamicGraphics(rh.Rp.BUILDING_POINTS,"draggablePoint-".concat(this.key),{touch:!0});this.interactiveGraphics=t.graphics,(t.isNew||this.isThemeChanged()||this.isSelectedChanged())&&(this.clear(),t.graphics.beginFill(this.colors.dragPointCenterColor.getHEXNUM(),this.colors.dragPointCenterColor.getAlpha()),t.graphics.drawCircle(0,0,3),t.graphics.endFill()),t.graphics.visible=!0,this.lastIsSelected=this.isSelected;var e=this.isDragging?2.5:this.isSelected?2:1.2;t.graphics.setTransform(this.x,this.y,e,e),t.graphics.cursor=this.isLocked?"pointer":this.cursor,this.isLocked||(t.graphics.hitArea=new MI.jlt(0,0,Ru.Ay.CHART.POINT_DRAG_RADIUS))}else this.clear()}},{key:"updateCoordinates",value:function(){switch(this.orientation){case rh.Zo.XY:this.x=this.getXFromTime(this.time),this.y=this.getYFromValue(this.price);break;case rh.Zo.X:this.x=this.getXFromTime(this.time),this.y=this.yShift+this.height/2;break;case rh.Zo.Y:this.x=this.width/2,this.y=this.getYFromValue(this.price);break;case rh.Zo.FreezeX:this.x=this.getXFromTime(this.time),this.y=this.getYFromValue(this.price)}}},{key:"clear",value:function(){this.core.clearDynamicGraphicsNew(this.graphicElementIndex),this.core.clearText("point-index-".concat(this.key))}},{key:"destroy",value:function(){this.core.destroyDynamicGraphicsNew(rh.Rp.BUILDING_POINTS,this.graphicElementIndex),this.core.destroyText("point-index-".concat(this.key))}}])}(FI),pN=hN;function mN(t){return mN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mN(t)}function yN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SN(r.key),r)}}function vN(t,e,n){return e=jN(e),function(t,e){if(e&&("object"==mN(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bN()?Reflect.construct(e,n||[],jN(t).constructor):e.apply(t,n))}function bN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(bN=function(){return!!t})()}function gN(t,e,n,r){var i=wN(jN(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function wN(){return wN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=jN(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},wN.apply(null,arguments)}function jN(t){return jN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jN(t)}function xN(t,e){return xN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xN(t,e)}function _N(t,e,n){return(e=SN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SN(t){var e=function(t,e){if("object"!=mN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mN(e)?e:e+""}var ON=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_N(i=vN(this,e,[t,n,r]),"canBeInitialized",(function(){return!i.isInitiated&&i.isMinMaxCalculated&&i.pointsManager.hasPointsToCalculateDrawings()&&i.startTime>0&&void 0!==i.width&&void 0!==i.shift})),_N(i,"initialize",(function(){i.isInitiated=!0})),_N(i,"isPointVisible",(function(t){var e=i.getTimeFrom(),n=i.getValueFrom(),r=i.getTimeTo(),o=i.getValueTo();return e<t.time&&t.time<r&&n<t.price&&t.price<o})),_N(i,"updatePrevPoints",(function(){for(var t=0;t<i.drawingPoints.length;t++){var e=i.drawingPoints[t],n=e.x,r=e.y,o=e.key;i.prevPoints[o]={x:n,y:r}}})),_N(i,"isPointCoordinatesChange",(function(t){var e=t.x,n=t.y,r=t.key,o=i.prevPoints[r]||{},a=o.x,s=o.y;return e!==a||n!==s})),_N(i,"isPointsCoordinatesChange",(function(){for(var t=0;t<i.drawingPoints.length;t++)if(i.isPointCoordinatesChange(i.drawingPoints[t]))return!0;return!1})),i.isInitiated=!1,i.isDrawing=!0,i.prevPoints=[],i.copySettings=r.copySettings||[],i.hitArea=null,i.isLocked=r.isLocked,i.cleared=!1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xN(t,e)}(e,t),function(t,e,n){return e&&yN(t.prototype,e),n&&yN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"drawingPoints",get:function(){return[]}},{key:"destroy",value:function(){gN(e,"destroy",this,3)([]),this.clearAllDynamicGraphics(),this.prevPoints=[]}},{key:"clearAllDynamicGraphics",value:function(){gN(e,"clearAllDynamicGraphics",this,3)([]),this.hitArea=null,this.cleared=!0}},{key:"createPoint",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.find((function(t){return t.point===n}))||{},i=r.price,o=void 0===i?0:i,a=r.time,s=void 0===a?0:a;return new pN(this.core,this.pointsManager,this.index,o,s,e,n)}},{key:"isDrawingInsideScreen",value:function(){for(var t=0;t<this.drawingPoints.length;t++){var e=this.drawingPoints[t],n=!1;switch(e.orientation){case rh.Zo.X:case rh.Zo.Y:return!0;default:n=this.isPointVisible(e)}if(n)return!0}return!1}},{key:"isLineVisible",value:function(t,e){var n=(t.y-e.y)/(t.x-e.x),r=e.y-e.x*n,i=(0,nh.zx)(0,0),o=(0,nh.zx)(this.width,this.height),a=(i.y-r)/n,s=(o.y-r)/n,c=n*i.x+r,l=n*o.x+r,u=a>=i.x&&a<=o.x,d=s>=i.x&&s<=o.x,f=c>=i.y&&c<=o.y,h=l>=i.y&&l<=o.y;return u||d||f||h}},{key:"needToDraw",value:function(){return!0}},{key:"setIndex",value:function(t){this.index=t,this.drawingPoints.forEach((function(e){return e.index=t}))}},{key:"saveDrawingPoints",value:function(){if(!this.isLocked){var t=[];this.drawingPoints.forEach((function(e){return t.push(e.getPointData())})),t.length&&u.A.publish(y.HI,new H.A(t))}}},{key:"update",value:function(t){t.requestId===this.index&&(this.setIndex(t.id),this.saveDrawingPoints()),this.updateSettings(t),this.isLocked=t.isLocked,this.updated=!0}},{key:"updateSettings",value:function(t){var e=t.isLocked,n=t.settings;this.settings=n,this.drawingPoints.forEach((function(t){return t.setLocked(e)}))}},{key:"getHitzonePoints",value:function(){return this.drawingPoints}},{key:"createHitzonePolygon",value:function(){for(var t=this.getHitzonePoints(),e=[],n=15,r=1;r<t.length;r++){var i=t[r-1],o=t[r],a=this.getPerpOfLine(i,o);e.push(i.x+a[0]*n,i.y+a[1]*n,o.x+a[0]*n,o.y+a[1]*n)}for(var s=t.length-1;s>=1;s--){var c=t[s-1],l=t[s],u=this.getPerpOfLine(c,l);e.push(l.x-u[0]*n,l.y-u[1]*n,c.x-u[0]*n,c.y-u[1]*n)}return new MI.tS(e)}},{key:"drawHitzonePolygon",value:function(t,e){t.hitArea=e,this.hitArea=e}},{key:"makeInterectable",value:function(t){t.interactive=!0,t.buttonMode=!0,t.cursor=this.isLocked?"pointer":"move",this.drawHitzonePolygon(t,this.createHitzonePolygon())}},{key:"getPerpOfLine",value:function(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);return[-(r/=i),n/=i]}},{key:"onSelect",value:function(){this.isSelected=!0,this.drawingPoints.forEach((function(t){return t.isSelected=!0}))}},{key:"onDeselect",value:function(){this.isSelected=!1,this.drawingPoints.forEach((function(t){return t.isSelected=!1}))}},{key:"isInsideHitZone",value:function(t,e){return this.hitArea&&this.hitArea.contains(t,e)&&this.isClickedOnElement(t,e)}},{key:"shouldRedraw",value:function(){return this.isPointsCoordinatesChange()||this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isThemeChanged()||this.isBottomMarginChanged()||this.forceCleared||this.updated}},{key:"onAfterDraw",value:function(){gN(e,"onAfterDraw",this,3)([]),this.cleared&&!this.isMobile&&this.interactiveGraphics&&this.makeInterectable(this.interactiveGraphics),this.cleared=!1}}])}(oN),kN=ON;function TN(t,e){return Math.sqrt(t*t+e*e)}function AN(t,e){var n=e.x-t.x,r=n*n,i=e.y-t.y,o=i*i;return Math.sqrt(r+o)}function CN(t){return CN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CN(t)}function PN(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||IN(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EN(t){return function(t){if(Array.isArray(t))return NN(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||IN(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IN(t,e){if(t){if("string"==typeof t)return NN(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NN(t,e):void 0}}function NN(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function DN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LN(r.key),r)}}function LN(t){var e=function(t,e){if("object"!=CN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=CN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==CN(e)?e:e+""}function MN(t,e,n){return e=BN(e),function(t,e){if(e&&("object"==CN(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,RN()?Reflect.construct(e,n||[],BN(t).constructor):e.apply(t,n))}function RN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(RN=function(){return!!t})()}function BN(t){return BN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},BN(t)}function HN(t,e){return HN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},HN(t,e)}var $N=50,FN=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=MN(this,e,[t,n,r])).point1=i.createPoint(r.pointsData,rh.Zo.XY,0),i.point2=i.createPoint(r.pointsData,rh.Zo.XY,1),i.point3=i.createPoint(r.pointsData,rh.Zo.XY,2),i.key="andrews-pitchfork-".concat(i.index),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HN(t,e)}(e,t),function(t,e,n){return e&&DN(t.prototype,e),n&&DN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"drawingPoints",get:function(){return[this.point1,this.point2,this.point3]}},{key:"midPointPos",get:function(){return(0,nh.zx)((this.point2.pos.x+this.point3.pos.x)/2,(this.point2.pos.y+this.point3.pos.y)/2)}},{key:"calculateInitialPositions",value:function(){if(this.point1.isEmpty()||this.point2.isEmpty()||this.point3.isEmpty()){this.point1.move(.2*this.width,.6*this.worldHeight);var t=this.getXFromTime(this.point1.time)+75,e=this.getYFromValue(this.point1.price)-75,n=(0,nh.zx)(t,e),r=this.getPerpOfLine(this.point1.pos,n),i=(0,nh.zx)(n.x+r[0]*$N,n.y+r[1]*$N),o=(0,nh.zx)(n.x-r[0]*$N,n.y-r[1]*$N);this.point2.move(i.x,i.y),this.point3.move(o.x,o.y)}}},{key:"calculate",value:function(){if(this.canBeInitialized())return this.calculateInitialPositions(),void this.initialize();if(this.isInitiated)if(this.isPointCoordinatesChange(this.point2)){var t=this.midPointPos,e=this.point2.pos,n=(0,nh.zx)(e.x-2*(e.x-t.x),e.y-2*(e.y-t.y));this.point3.move(n.x,n.y)}else if(this.isPointCoordinatesChange(this.point3)){var r=this.midPointPos,i=this.point3.pos,o=(0,nh.zx)(i.x-2*(i.x-r.x),i.y-2*(i.y-r.y));this.point2.move(o.x,o.y)}}},{key:"isDrawingInsideScreen",value:function(){var t=this.settings.lines,e=Object.keys(t).filter((function(e){return void 0!==t[e].level})).map((function(e){return t[e].level})),n=Math.max.apply(Math,EN(e));return this.isLineVisible.apply(this,EN(this.getSidePoints(n,this.point2)))||this.isLineVisible.apply(this,EN(this.getSidePoints(n,this.point3)))}},{key:"draw",value:function(){var t=this;if(this.isInitiated&&this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen())){var e=this.settings.lines.median;this.getShowValue(e)&&this.drawCenterLine(e);var n=this.settings.lines,r=Object.keys(this.settings.lines).filter((function(t){return void 0!==n[t].level})).sort((function(t,e){return n[t].level-n[e].level})),i=null;r.forEach((function(e){var r=n[e];t.getShowValue(r)&&(t.drawSideLevel(r,null!==i?i.level:0),i=r)}))}}},{key:"drawCenterLine",value:function(t){var e=t.color,n=t.lineWidth,r=t.opacity,i=this.midPointPos,o=(0,nh.q9)(this.point1,i,this.width,this.worldHeight),a=this.getInteractiveGraphics(rh.Rp.BUILDINGS,"pitchfork-".concat(this.index,"-center"));a.graphics.visible=!0,a.graphics.lineStyle(n,this.prepareColor(e),r/100),a.graphics.moveTo(this.point1.x,this.point1.y),a.graphics.lineTo(o.x,o.y),a.graphics.moveTo(this.point2.x,this.point2.y),a.graphics.lineTo(this.point3.x,this.point3.y)}},{key:"createHitzonePolygon",value:function(){var t=this.point1.pos,e=this.point2.pos,n=this.point3.pos,r=this.midPointPos,i=e.x-n.x,o=e.y-n.y,a=Math.sqrt(i*i+o*o);i/=a,o/=a;var s=t.x-r.x,c=t.y-r.y,l=Math.sqrt(s*s+c*c);s/=l,c/=l;var u=AN(t,r),d=AN(e,n),f=Ru.Ay.CHART.POINT_DRAG_RADIUS,h=Ru.Ay.CHART.POINT_DRAG_PADDING,p=r.x+(t.x-r.x)*((u-f)/u),m=r.y+(t.y-r.y)*((u-f)/u),y=(0,nh.zx)(p-i*h,m-o*h),v=(0,nh.zx)(p+i*h,m+o*h),b=r.x+(t.x-r.x)*(h/u),g=r.y+(t.y-r.y)*(h/u),w=(0,nh.zx)(b-i*h,g-o*h),j=(0,nh.zx)(b+i*h,g+o*h),x=e.x+(n.x-e.x)*(f/d),_=e.y+(n.y-e.y)*(f/d),S=(0,nh.zx)(x+s*h,_+c*h),O=(0,nh.zx)(x-s*h,_-c*h),k=e.x+(n.x-e.x)*((d-f)/d),T=e.y+(n.y-e.y)*((d-f)/d),A=(0,nh.zx)(k+s*h,T+c*h),C=(0,nh.zx)(k-s*h,T-c*h);return new MI.tS([y.x,y.y,w.x,w.y,A.x,A.y,C.x,C.y,O.x,O.y,S.x,S.y,j.x,j.y,v.x,v.y])}},{key:"getSidePoints",value:function(t,e){var n=this.midPointPos,r=e.pos,i=(0,nh.zx)(n.x-t*(n.x-r.x),n.y-t*(n.y-r.y)),o=n.x-this.point1.pos.x,a=n.y-this.point1.pos.y,s=(0,nh.zx)(o+i.x,a+i.y);return[i,(0,nh.q9)(i,s,this.width,this.worldHeight)]}},{key:"drawSideForPoint",value:function(t,e,n){var r=t.color,i=t.level,o=t.lineWidth,a=t.opacity,s=PN(this.getSidePoints(i,n),2),c=s[0],l=s[1],u=PN(this.getSidePoints(e,n),2),d=u[0],f=[c,l,u[1],d],h="pitchfork-".concat(this.index,"-").concat(i,"-").concat(n.pointIndex),p=this.getDynamicGraphics(rh.Rp.BUILDINGS,h);p.graphics.visible=!0;var m=this.settings.lines.bg;if(this.getShowValue(m)){var y=m.opacity;p.graphics.beginFill(this.prepareColor(r),y/100),f.forEach((function(t,e){return p.graphics[0===e?"moveTo":"lineTo"](t.x,t.y)})),p.graphics.endFill()}p.graphics.lineStyle(o,this.prepareColor(r),a/100),p.graphics.moveTo(c.x,c.y),p.graphics.lineTo(l.x,l.y)}},{key:"drawSideLevel",value:function(t,e){this.drawSideForPoint(t,e,this.point2),this.drawSideForPoint(t,e,this.point3)}}])}(kN);function WN(t){return WN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WN(t)}function UN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VN(r.key),r)}}function VN(t){var e=function(t,e){if("object"!=WN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=WN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==WN(e)?e:e+""}function GN(t,e,n){return e=YN(e),function(t,e){if(e&&("object"==WN(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,zN()?Reflect.construct(e,n||[],YN(t).constructor):e.apply(t,n))}function zN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(zN=function(){return!!t})()}function YN(t){return YN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},YN(t)}function XN(t,e){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},XN(t,e)}var qN=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=GN(this,e,[t,n,r])).point1=i.createPoint(r.pointsData,rh.Zo.XY,0),i.point2=i.createPoint(r.pointsData,rh.Zo.XY,1),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XN(t,e)}(e,t),function(t,e,n){return e&&UN(t.prototype,e),n&&UN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e)}(kN);function KN(t){return KN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KN(t)}function ZN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JN(r.key),r)}}function JN(t){var e=function(t,e){if("object"!=KN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=KN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==KN(e)?e:e+""}function QN(t,e,n){return e=nD(e),function(t,e){if(e&&("object"==KN(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,tD()?Reflect.construct(e,n||[],nD(t).constructor):e.apply(t,n))}function tD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(tD=function(){return!!t})()}function eD(){return eD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=nD(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},eD.apply(null,arguments)}function nD(t){return nD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nD(t)}function rD(t,e){return rD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rD(t,e)}var iD=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=QN(this,e,[t,n,r])).key="rayBuilding-".concat(i.index),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rD(t,e)}(e,t),function(t,e,n){return e&&ZN(t.prototype,e),n&&ZN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"drawingPoints",get:function(){return[this.point1,this.point2]}},{key:"calculateInitialPositions",value:function(){var t=Math.floor(60*Math.random()+10),e=t+30;0===this.point1.time&&this.point1.setTime(this.getTimeFromX(this.shift+this.width/100*20)),0===this.point1.price&&this.point1.setPrice(this.minVal+(this.maxVal-this.minVal)/100*t),0===this.point2.time&&this.point2.setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*20))),0===this.point2.price&&this.point2.setPrice(this.minVal+(this.maxVal-this.minVal)/100*e)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"isDrawingInsideScreen",value:function(){return this.isLineVisible(this.point1.pos,this.point2.pos)}},{key:"shouldRedraw",value:function(){return function(t,e,n,r){var i=eD(nD(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"shouldRedraw",this,3)([])||this.point1.isDragging||this.point2.isDragging}},{key:"draw",value:function(){this.isInitiated&&this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.drawLine())}},{key:"getHitzonePoints",value:function(){var t=(0,nh.q9)(this.point1,this.point2,this.width,this.worldHeight);return[this.point1,t]}},{key:"drawLine",value:function(){var t=300*(this.point2.x-this.point1.x),e=300*(this.point2.y-this.point1.y),n=this.settings.lines.main,r=n.color,i=n.lineWidth,o=n.opacity,a=this.getInteractiveGraphics(rh.Rp.BUILDINGS,this.key);a.isNew&&a.graphics.lineStyle(i,this.prepareColor(r),o/100),a.graphics.visible=!0,a.graphics.moveTo(this.point1.x,this.point1.y),a.graphics.lineTo(this.point2.x,this.point2.y),a.graphics.moveTo(this.point2.x,this.point2.y),a.graphics.lineTo(this.point2.x+t,this.point2.y+e)}}])}(qN),oD=iD;function aD(t){return aD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aD(t)}function sD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cD(r.key),r)}}function cD(t){var e=function(t,e){if("object"!=aD(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=aD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==aD(e)?e:e+""}function lD(t,e,n){return e=dD(e),function(t,e){if(e&&("object"==aD(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,uD()?Reflect.construct(e,n||[],dD(t).constructor):e.apply(t,n))}function uD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(uD=function(){return!!t})()}function dD(t){return dD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dD(t)}function fD(t,e){return fD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fD(t,e)}var hD=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=lD(this,e,[t,n,r])).key="trend-line-".concat(i.index),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fD(t,e)}(e,t),function(t,e,n){return e&&sD(t.prototype,e),n&&sD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"drawingPoints",get:function(){return[this.point1,this.point2]}},{key:"calculateInitialPositions",value:function(){var t=Math.floor(60*Math.random()+10),e=t+30;0===this.point1.time&&this.point1.setTime(this.getTimeFromX(this.shift+this.width/100*20)),0===this.point1.price&&this.point1.setPrice(this.minVal+(this.maxVal-this.minVal)/100*t),0===this.point2.time&&this.point2.setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*20))),0===this.point2.price&&this.point2.setPrice(this.minVal+(this.maxVal-this.minVal)/100*e)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"isDrawingInsideScreen",value:function(){var t=(0,nh.zx)(this.getXFromTime(this.point1.time),this.getYFromValue(this.point1.price)),e=(0,nh.zx)(this.getXFromTime(this.point2.time),this.getYFromValue(this.point2.price));return this.isLineVisible(t,e)}},{key:"draw",value:function(){this.isInitiated&&this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.drawLine())}},{key:"drawLine",value:function(){var t=this.settings.lines.main,e=t.color,n=t.lineWidth,r=t.opacity,i=this.getInteractiveGraphics(rh.Rp.BUILDINGS,this.key);i.graphics.visible=!0,i.graphics.lineStyle(n,this.prepareColor(e),r/100),i.graphics.moveTo(this.point1.x,this.point1.y),i.graphics.lineTo(this.point2.x,this.point2.y)}}])}(qN);function pD(t){return pD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pD(t)}function mD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yD(r.key),r)}}function yD(t){var e=function(t,e){if("object"!=pD(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pD(e)?e:e+""}function vD(t,e,n){return e=gD(e),function(t,e){if(e&&("object"==pD(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bD()?Reflect.construct(e,n||[],gD(t).constructor):e.apply(t,n))}function bD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(bD=function(){return!!t})()}function gD(t){return gD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gD(t)}function wD(t,e){return wD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wD(t,e)}MI.A1g.prototype.dashedLine=function(t,e,n,r){var i=0,o=0,a=e.x-t.x,s=e.y-t.y,c=Math.sqrt(a*a+s*s),l=a/c,u=s/c,d=0;for(this.moveTo(t.x+o*l,t.y+o*u);d<=c;)d+=o,(d+=i>0?i:n)>c?(i=d-c,d=c):i=0,this.lineTo(t.x+d*l,t.y+d*u),(d+=r)>c&&0===i?o=d-c:(o=0,this.moveTo(t.x+d*l,t.y+d*u))};var jD=[0,.236,.382,.5,.618,.786,1,1.236,1.272,1.382,1.5,1.618,1.786,2.618],xD=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=vD(this,e,[t,n,r])).minX=0,i.maxX=0,i.key="fibonacci-retracement-".concat(i.index),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wD(t,e)}(e,t),function(t,e,n){return e&&mD(t.prototype,e),n&&mD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"drawingPoints",get:function(){return[this.point1,this.point2]}},{key:"calculateInitialPositions",value:function(){var t=parseInt(30*Math.random()+50),e=t-30;this.point1.time||this.point1.setTime(this.getTimeFromX(this.shift+this.width/100*20)),this.point1.price||this.point1.setPrice(this.minVal+(this.maxVal-this.minVal)/100*t),this.point2.time||this.point2.setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*20))),this.point2.price||this.point2.setPrice(this.minVal+(this.maxVal-this.minVal)/100*e)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"isDrawingInsideScreen",value:function(){var t=this.getTimeFrom(),e=this.getTimeTo();if(this.point1.time<t&&this.point2.time<t||this.point1.time>e&&this.point2.time>e)return!1;for(var n=this.getValueFrom(),r=this.getValueTo(),i=0;i<jD.length;i++){var o=this.getValueFromY(this.getYForLevel(jD[i]));if(o>n&&o<r)return!0}return!1}},{key:"draw",value:function(){if(this.isDrawingInsideScreen()){if(this.isPointsCoordinatesChange()||this.updated||this.isThemeChanged()){this.clearAllDynamicGraphics(),this.updatePrevPoints();var t=this.settings.lines.main,e=t.color,n=t.lineWidth,r=t.opacity,i=this.prepareColor(e),o=r/100;this.minX=this.point1.x>this.point2.x?this.point2.x:this.point1.x,this.maxX=this.point1.x>this.point2.x?this.point1.x:this.point2.x;var a=this.getInteractiveGraphics(rh.Rp.BUILDINGS,this.key);a.graphics.lineStyle(n,i,o),a.graphics.visible=!0,a.graphics.dashedLine(this.point1,this.point2,5,5);for(var s=this.getValueFrom(),c=this.getValueTo(),l=this.getShowValue(this.settings.lines.level),u=this.getShowValue(this.settings.lines.value),d=0;d<jD.length;d++){var f=jD[d],h=this.getYForLevel(f),p=this.getValueFromY(h);if(!(p>c||p<s)){var m=0===f||1===f?2*n:n;a.graphics.lineStyle(m,i,o),a.graphics.moveTo(this.minX,h),a.graphics.lineTo(this.maxX,h),l&&this.drawLevel(h,f),u&&this.drawValue(h,p,f)}}}}else this.clearAllDynamicGraphics()}},{key:"getHitzonePoints",value:function(){var t=this.getYForLevel(0),e=this.getYForLevel(1);return[(0,nh.zx)(this.minX,t),(0,nh.zx)(this.maxX,t),(0,nh.zx)(this.minX,e),(0,nh.zx)(this.maxX,e)]}},{key:"getYForLevel",value:function(t){var e=Math.abs(this.point1.y-this.point2.y);return this.point1.price>this.point2.price?this.point2.y-t*e:this.point2.y+t*e}},{key:"drawLevel",value:function(t,e){var n=this.getTextGraphics(rh.Rp.BUILDINGS,"fib-retracement-level-".concat(this.index,"-").concat(e),this.settings.levels===wy.VALUES?e:"".concat((0,ru.xr)(100*e,2,!0),"%"),Ru.Ay.CHART.TEXT_STYLE_CURSOR_TIME);n.style.fill=this.settings.lines.level.color,n.visible=!0,n.x=this.minX-n.width-5,n.y=t-n.height/2}},{key:"drawValue",value:function(t,e,n){var r=this.formatStringPrice(e),i=this.getTextGraphics(rh.Rp.BUILDINGS,"fib-retracement-value-".concat(this.index,"-").concat(n),r,Ru.Ay.CHART.TEXT_STYLE_CURSOR_TIME);i.style.fill=this.settings.lines.value.color,i.visible=!0,i.x=this.maxX+7,i.y=t-i.height/2}}])}(qN);function _D(t){return _D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_D(t)}function SD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OD(r.key),r)}}function OD(t){var e=function(t,e){if("object"!=_D(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_D(e)?e:e+""}function kD(t,e,n){return e=AD(e),function(t,e){if(e&&("object"==_D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,TD()?Reflect.construct(e,n||[],AD(t).constructor):e.apply(t,n))}function TD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(TD=function(){return!!t})()}function AD(t){return AD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},AD(t)}function CD(t,e){return CD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},CD(t,e)}var PD=0,ED=1,ID=2,ND=3,DD=4,LD=5,MD=6,RD=7,BD=8,HD=9,$D=10,FD=11,WD=[0,.25,.382,.5,.618,.75,1],UD=20,VD=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=kD(this,e,[t,n,r])).topRightPoint={x:0,y:0},i.bottomRightPoint={x:0,y:0},i.topLeftPoint={x:0,y:0},i.bottomLeftPoint={x:0,y:0},i.key="fibonacci-fan-".concat(i.index),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CD(t,e)}(e,t),function(t,e,n){return e&&SD(t.prototype,e),n&&SD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"drawingPoints",get:function(){return[this.point1,this.point2]}},{key:"calculateInitialPositions",value:function(){var t=Math.floor(0*Math.random()+10),e=t+60;this.point1.time||this.point1.setTime(this.getTimeFromX(this.shift+this.width/100*20)),this.point1.price||this.point1.setPrice(this.minVal+(this.maxVal-this.minVal)/100*t),this.point2.time||this.point2.setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*20))),this.point2.price||this.point2.setPrice(this.minVal+(this.maxVal-this.minVal)/100*e)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"calculateCornerPoints",value:function(){this.topRightPoint={x:this.point1.x>this.point2.x?this.point1.x:this.point2.x,y:this.point1.y<this.point2.y?this.point1.y:this.point2.y},this.bottomRightPoint={x:this.point1.x>this.point2.x?this.point1.x:this.point2.x,y:this.point1.y>this.point2.y?this.point1.y:this.point2.y},this.topLeftPoint={x:this.point1.x<this.point2.x?this.point1.x:this.point2.x,y:this.point1.y<this.point2.y?this.point1.y:this.point2.y},this.bottomLeftPoint={x:this.point1.x<this.point2.x?this.point1.x:this.point2.x,y:this.point1.y>this.point2.y?this.point1.y:this.point2.y}}},{key:"draw",value:function(){if(this.isPointsCoordinatesChange()||this.updated||this.isThemeChanged()){this.clearAllDynamicGraphics(),this.updatePrevPoints();var t=this.getInteractiveGraphics(rh.Rp.BUILDINGS,this.key);t.graphics.visible=!0,this.setPrimaryLineStyle(t.graphics);var e=(this.point2.x-this.point1.x)*UD,n=(this.point2.y-this.point1.y)*UD;t.graphics.moveTo(this.point1.x,this.point1.y),t.graphics.lineTo(this.point2.x+e,this.point2.y+n);var r=this.getShowValue(this.settings.lines.level);r&&this.drawAllCornerPointsLabels();for(var i=Math.abs(this.point2.x-this.point1.x),o=Math.abs(this.point2.y-this.point1.y),a=0;a<WD.length;a++){var s=WD[a],c=this.point1.x>this.point2.x?this.point1.x-s*i:this.point1.x+s*i,l=this.point1.y>this.point2.y?this.point1.y-s*o:this.point1.y+s*o;if(this.setPrimaryLineStyle(t.graphics),t.graphics.moveTo(this.point1.x,this.point1.y),t.graphics.lineTo(this.point2.x+(this.point2.x-this.point1.x)*UD,l+(l-this.point1.y)*UD),t.graphics.moveTo(this.point1.x,this.point1.y),t.graphics.lineTo(c+(c-this.point1.x)*UD,this.point2.y+(this.point2.y-this.point1.y)*UD),this.setPrimaryLineStyle(t.graphics,!1),t.graphics.moveTo(this.point1.x,l),t.graphics.lineTo(this.point2.x,l),r&&0!==s&&1!==s){var u=this.point1.x,d=this.point2.x;this.drawLevel(u<d?ND:ED,s,u,l),this.drawLevel(u>d?ND:ED,s,d,l)}if(t.graphics.moveTo(c,this.point1.y),t.graphics.lineTo(c,this.point2.y),r&&0!==s&&1!==s){var f=this.point1.y,h=this.point2.y;this.drawLevel(f>h?ID:PD,s,c,f),this.drawLevel(f<h?ID:PD,s,c,h)}}}}},{key:"getHitzonePoints",value:function(){var t=this.point1.x<=this.point2.x,e=this.point1.y>=this.point2.y;return[(0,nh.zx)(this.point1.x,e?0:this.point1.height),(0,nh.zx)(this.point1.x,this.point1.y),(0,nh.zx)(t?this.point1.width:0,this.point1.y)]}},{key:"setPrimaryLineStyle",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.settings.lines.main,r=n.color,i=n.lineWidth,o=n.opacity;t.lineStyle(i,this.prepareColor(r),o/(e?100:200))}},{key:"drawAllCornerPointsLabels",value:function(){this.calculateCornerPoints(),this.drawCornerPointLabels(DD),this.drawCornerPointLabels(HD),this.drawCornerPointLabels(LD),this.drawCornerPointLabels(RD),this.drawCornerPointLabels(BD),this.drawCornerPointLabels(MD),this.drawCornerPointLabels(FD),this.drawCornerPointLabels($D)}},{key:"drawCornerPointLabels",value:function(t){var e=0;switch((this.point1.x<this.point2.x&&(t===$D||t===LD)||this.point1.y>this.point2.y&&(t===DD||t===MD)||this.point1.y<this.point2.y&&(t===HD||t===BD)||this.point1.x>this.point2.x&&(t===RD||t===FD))&&(e=1),t){case DD:case $D:this.drawLevel(t,e,this.topRightPoint.x,this.topRightPoint.y);break;case MD:case FD:this.drawLevel(t,e,this.topLeftPoint.x,this.topLeftPoint.y);break;case HD:case LD:this.drawLevel(t,e,this.bottomRightPoint.x,this.bottomRightPoint.y);break;case BD:case RD:this.drawLevel(t,e,this.bottomLeftPoint.x,this.bottomLeftPoint.y)}}},{key:"drawLevel",value:function(t,e,n,r){var i="fib-fan-level-".concat(this.key,"-").concat(t,"-").concat(e),o=Ru.Ay.CHART.TEXT_STYLE_CURSOR_TIME,a=this.getTextGraphics(rh.Rp.OVERLAY,i,e,o);a.style.fill=this.settings.lines.level.color,a.visible=!0;var s=this.getTextCoordinates(t,n,r,a.width,a.height),c=s.x,l=s.y;a.x=c,a.y=l}},{key:"getTextCoordinates",value:function(t,e,n,r,i){var o=e,a=n;switch(t){case PD:o=e-r/2,a=n-i-1;break;case ED:o=e+3,a=n-i/2;break;case ID:o=e-r/2,a=n+1;break;case ND:o=e-r-3,a=n-i/2;break;case $D:o=e-r,a=n-i-1;break;case LD:o=e-r,a=n+1;break;case RD:o=e+2,a=n+1;break;case MD:o=e-r-3,a=n;break;case BD:o=e-r-3,a=n-i-3;break;case FD:o=e+2,a=n-i-1;break;case DD:o=e+3,a=n;break;case HD:o=e+3,a=n-i}return{x:o,y:a}}}])}(qN);function GD(t){return GD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GD(t)}function zD(t){return function(t){if(Array.isArray(t))return YD(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return YD(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YD(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YD(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function XD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qD(r.key),r)}}function qD(t){var e=function(t,e){if("object"!=GD(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=GD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==GD(e)?e:e+""}function KD(t,e,n){return e=JD(e),function(t,e){if(e&&("object"==GD(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ZD()?Reflect.construct(e,n||[],JD(t).constructor):e.apply(t,n))}function ZD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ZD=function(){return!!t})()}function JD(t){return JD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},JD(t)}function QD(t,e){return QD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},QD(t,e)}var tL=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=KD(this,e,[t,n,r])).key="rectangle-".concat(i.index),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QD(t,e)}(e,t),function(t,e,n){return e&&XD(t.prototype,e),n&&XD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"drawingPoints",get:function(){return[this.point1,this.point2]}},{key:"calculateInitialPositions",value:function(){var t=Math.floor(20*Math.random()+20),e=t+40,n=this.copySettings.find((function(t){return 0===t.point})),r=this.copySettings.find((function(t){return 1===t.point}));if(0===this.point1.time&&this.point1.setTime(this.getTimeFromX(this.shift+this.width/100*30)),0===this.point1.price&&this.point1.setPrice(this.minVal+(this.maxVal-this.minVal)/100*t),0===this.point2.time){var i=n&&r?Math.abs(n.time-r.time):0,o=i>0?this.point1.time+i:this.getTimeFromX(this.shift+(this.width-this.width/100*30));this.point2.setTime(o)}if(0===this.point2.price){var a=n&&r?Math.abs(n.price-r.price):0,s=a>0?this.point1.price+a:this.minVal+(this.maxVal-this.minVal)/100*e;this.point2.setPrice(s)}}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"clearGraphics",value:function(){this.clearAllDynamicGraphics()}},{key:"isDrawingInsideScreen",value:function(){var t=this.point1.time<this.point2.time?this.point1.time:this.point2.time,e=this.point1.time<this.point2.time?this.point2.time:this.point1.time,n=this.point1.price<this.point2.price?this.point1.price:this.point2.price,r=this.point1.price<this.point2.price?this.point2.price:this.point1.price,i={time:t,price:n},o={time:e,price:n},a={time:e,price:r},s={time:t,price:r};if(this.isPointVisible(i)||this.isPointVisible(o)||this.isPointVisible(a)||this.isPointVisible(s))return!0;var c={left:t,top:n,right:e,bottom:r},l={left:this.getTimeFrom(),top:this.getValueFrom(),right:this.getTimeTo(),bottom:this.getValueTo()};return(0,nh.Ci)(c,l)}},{key:"getHitzonePoints",value:function(){return[(0,nh.zx)(this.point1.x,this.point1.y),(0,nh.zx)(this.point1.x,this.point2.y),(0,nh.zx)(this.point2.x,this.point2.y),(0,nh.zx)(this.point2.x,this.point1.y),(0,nh.zx)(this.point1.x,this.point1.y)]}},{key:"draw",value:function(){if(this.isDrawingInsideScreen()){if(this.isPointsCoordinatesChange()||this.updated){this.clearGraphics(),this.updatePrevPoints();var t=[[this.point1.x,this.point1.y],[this.point1.x,this.point2.y],[this.point2.x,this.point2.y],[this.point2.x,this.point1.y],[this.point1.x,this.point1.y]],e=this.settings.lines.main,n=e.color,r=e.lineWidth,i=e.opacity,o=this.settings.lines.bg,a=o.color,s=o.opacity,c=this.getInteractiveGraphics(rh.Rp.BUILDINGS,this.key);c.graphics.visible=!0,c.graphics.lineStyle(r,this.prepareColor(n),i/100),c.graphics.beginFill(this.prepareColor(a),s/100),t.forEach((function(t,e){var n;return(n=c.graphics)[0===e?"moveTo":"lineTo"].apply(n,zD(t))})),c.graphics.endFill()}}else this.clearGraphics()}}])}(qN);function eL(t){return eL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eL(t)}function nL(t){return function(t){if(Array.isArray(t))return rL(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return rL(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rL(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rL(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function iL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sL(r.key),r)}}function aL(t,e,n){return e&&oL(t.prototype,e),n&&oL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sL(t){var e=function(t,e){if("object"!=eL(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=eL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eL(e)?e:e+""}function cL(t,e,n){return e=dL(e),function(t,e){if(e&&("object"==eL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,lL()?Reflect.construct(e,n||[],dL(t).constructor):e.apply(t,n))}function lL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(lL=function(){return!!t})()}function uL(){return uL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=dL(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},uL.apply(null,arguments)}function dL(t){return dL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dL(t)}function fL(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hL(t,e)}function hL(t,e){return hL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hL(t,e)}var pL=function(t){function e(){return iL(this,e),cL(this,e,arguments)}return fL(e,t),aL(e,[{key:"setPoints",value:function(t,e){this.point1=t,this.point2=e}},{key:"updateCoordinates",value:function(){!function(t,e,n,r){var i=uL(dL(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"updateCoordinates",this,3)([]),this.x=(this.point1.x+this.point2.x)/2}}])}(pN),mL=function(t){function e(t,n,r){var i;iL(this,e),(i=cL(this,e,[t,n,r])).point1=i.createPoint(r.pointsData,rh.Zo.XY,0),i.point2=i.createPoint(r.pointsData,rh.Zo.XY,1);var o=r.pointsData.find((function(t){return 2===t.point}))||{},a=o.price,s=void 0===a?0:a,c=o.time,l=void 0===c?0:c;return i.point3=new pL(i.core,i.pointsManager,i.index,s,l,rh.Zo.FreezeX,2),i.point3.setPoints(i.point1,i.point2),i.figureHeight=0,i.key="trend-line-".concat(i.index),i}return fL(e,t),aL(e,[{key:"middlePointValue",get:function(){return(this.point1.price+this.point2.price)/2}},{key:"bottomLeftPoint",get:function(){return{time:this.point1.time,price:this.point1.price+this.figureHeight}}},{key:"bottomRightPoint",get:function(){return{time:this.point2.time,price:this.point2.price+this.figureHeight}}},{key:"drawingPoints",get:function(){return[this.point1,this.point2,this.point3]}},{key:"calculateInitialPositions",value:function(){var t=Math.floor(10*Math.random()+50),e=t+20;0===this.point1.time&&this.point1.setTime(this.getTimeFromX(this.shift+this.width/100*20)),0===this.point1.price&&this.point1.setPrice(this.minVal+(this.maxVal-this.minVal)/100*t),0===this.point2.time&&this.point2.setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*20))),0===this.point2.price&&this.point2.setPrice(this.minVal+(this.maxVal-this.minVal)/100*e),0===this.point3.price&&this.point3.setPrice((this.point1.price+this.point2.price)/2-.4*(this.maxVal-this.minVal)),this.point3.time=(this.point1.time+this.point2.time)/2,this.figureHeight=this.point3.price-this.middlePointValue}},{key:"calculate",value:function(){if(this.canBeInitialized())return this.calculateInitialPositions(),void this.initialize();this.isInitiated&&(this.isPointCoordinatesChange(this.point3)&&(this.figureHeight=this.point3.price-this.middlePointValue),this.point3.price=this.middlePointValue+this.figureHeight)}},{key:"isDrawingInsideScreen",value:function(){if(this.isPointVisible(this.point1)||this.isPointVisible(this.point2)||this.isPointVisible(this.bottomRightPoint)||this.isPointVisible(this.bottomLeftPoint))return!0;for(var t=this.point1.time<this.point2.time?this.point1:this.point2,e=this.point1.time<this.point2.time?this.point2:this.point1,n=t.time===this.bottomLeftPoint.time?this.bottomRightPoint:this.bottomLeftPoint,r=e.time===this.bottomRightPoint.time?this.bottomLeftPoint:this.bottomRightPoint,i={time:t.time,value:t.price},o={time:e.time,value:e.price},a={time:n.time,value:n.price},s={time:r.time,value:r.price},c=[[i,o],[o,a],[a,s],[s,i]],l={time:this.getTimeFrom(),value:this.getValueTo()},u={time:this.getTimeTo(),value:this.getValueTo()},d={time:this.getTimeTo(),value:this.getValueFrom()},f={time:this.getTimeFrom(),value:this.getValueFrom()},h=[[l,u],[u,d],[d,f],[f,l]],p=0;p<c.length;p++)for(var m=0;m<h.length;m++){var y=nh.Y5.apply(void 0,nL(c[p]).concat(nL(h[m])));if(!0===y.onLine1&&!0===y.onLine2)return!0}return!1}},{key:"draw",value:function(){if(this.isInitiated&&this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen())){var t=this.settings.lines,e=t.bg,n=t.main;this.getShowValue(n)&&this.drawLines(n),this.getShowValue(e)&&this.drawBgFill(e)}}},{key:"getHitzonePoints",value:function(){return[(0,nh.zx)(this.point1.x,this.point1.y),(0,nh.zx)(this.point2.x,this.point2.y)]}},{key:"drawLines",value:function(t){var e=t.color,n=t.lineWidth,r=t.opacity,i=this.getInteractiveGraphics(rh.Rp.BUILDINGS,"parallel-channel-lines-".concat(this.index));i.graphics.visible=!0,i.graphics.lineStyle(n,this.prepareColor(e),r/100),i.graphics.moveTo(this.point1.x,this.point1.y),i.graphics.lineTo(this.point2.x,this.point2.y),i.graphics.moveTo(this.point1.x,this.getYFromValue(this.bottomLeftPoint.price)),i.graphics.lineTo(this.point2.x,this.getYFromValue(this.bottomRightPoint.price))}},{key:"drawBgFill",value:function(t){var e=t.color,n=t.opacity,r=this.getDynamicGraphics(rh.Rp.BUILDINGS,"parallel-channel-bg-".concat(this.index));r.graphics.beginFill(this.prepareColor(e),n/100),r.graphics.drawPolygon(this.point1.x,this.point1.y,this.point2.x,this.point2.y,this.point2.x,this.getYFromValue(this.bottomRightPoint.price),this.point1.x,this.getYFromValue(this.bottomLeftPoint.price)),r.graphics.endFill()}}])}(kN);function yL(t){return yL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yL(t)}function vL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bL(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vL(Object(n),!0).forEach((function(e){gL(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gL(t,e,n){return(e=jL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jL(r.key),r)}}function jL(t){var e=function(t,e){if("object"!=yL(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=yL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yL(e)?e:e+""}function xL(t,e,n){return e=OL(e),function(t,e){if(e&&("object"==yL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_L()?Reflect.construct(e,n||[],OL(t).constructor):e.apply(t,n))}function _L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_L=function(){return!!t})()}function SL(){return SL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=OL(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},SL.apply(null,arguments)}function OL(t){return OL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},OL(t)}function kL(t,e){return kL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kL(t,e)}var TL=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=xL(this,e,[t,n,r])).point=i.createPoint(r.pointsData,rh.Zo.Y),i.point.setCursor("ns-resize"),i.key="horizontal-line-".concat(i.index),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kL(t,e)}(e,t),function(t,e,n){return e&&wL(t.prototype,e),n&&wL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"updateSettings",value:function(t){!function(t,e,n,r){var i=SL(OL(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"updateSettings",this,3)([t]),this.valueStyle=bL(bL({},Ru.Ay.CHART.TEXT_STYLE_CURSOR_TIME),{},{fill:this.prepareColor(this.settings.lines.main.color)})}},{key:"drawingPoints",get:function(){return[this.point]}},{key:"calculateInitialPositions",value:function(){0===this.point.time&&this.point.setTime(this.pointsManager.endPoint.time),0===this.point.price&&this.point.setPrice(this.minVal+(this.maxVal-this.minVal)/2)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"getHitzonePoints",value:function(){return[(0,nh.zx)(0,this.point.y),(0,nh.zx)(this.width,this.point.y)]}},{key:"draw",value:function(){if(this.isDrawingInsideScreen()){if(this.isPointsCoordinatesChange()||this.updated){this.clearAllDynamicGraphics(),this.point.isDragging||this.updatePrevPoints();var t=this.settings.lines.main,e=t.color,n=t.lineWidth,r=t.opacity,i=this.getInteractiveGraphics(rh.Rp.BUILDINGS,this.key);i.graphics.lineStyle(n,this.prepareColor(e),r/100),i.graphics.moveTo(0,this.point.y),i.graphics.lineTo(this.width,this.point.y),i.graphics.visible=!0,this.isLocked||(i.graphics.cursor="ns-resize");var o=this.formatStringPrice(this.point.price),a=this.getTextGraphics(rh.Rp.BUILDINGS,"valueMarker-".concat(this.key),o,this.valueStyle),s=this.width-a.width-3*Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN;a.x=s+2*Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,a.y=this.point.y-a.height-2,a.visible=!this.point.isDragging}}else this.clearAllDynamicGraphics()}}])}(kN),AL=TL;function CL(t){return CL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CL(t)}function PL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function EL(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?PL(Object(n),!0).forEach((function(e){IL(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function IL(t,e,n){return(e=DL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DL(r.key),r)}}function DL(t){var e=function(t,e){if("object"!=CL(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=CL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==CL(e)?e:e+""}function LL(t,e,n){return e=BL(e),function(t,e){if(e&&("object"==CL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ML()?Reflect.construct(e,n||[],BL(t).constructor):e.apply(t,n))}function ML(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ML=function(){return!!t})()}function RL(){return RL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=BL(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},RL.apply(null,arguments)}function BL(t){return BL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},BL(t)}function HL(t,e){return HL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},HL(t,e)}var $L=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=LL(this,e,[t,n,r])).point=i.createPoint(r.pointsData,rh.Zo.X),i.point.setCursor("ew-resize"),i.key="vertical-line-".concat(i.index),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HL(t,e)}(e,t),function(t,e,n){return e&&NL(t.prototype,e),n&&NL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"updateSettings",value:function(t){!function(t,e,n,r){var i=RL(BL(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"updateSettings",this,3)([t]),this.valueStyle=EL(EL({},Ru.Ay.CHART.TEXT_STYLE_CURSOR_TIME),{},{fill:this.prepareColor(this.settings.lines.main.color)})}},{key:"drawingPoints",get:function(){return[this.point]}},{key:"calculateInitialPositions",value:function(){0===this.point.time&&this.point.setTime(this.getTimeFromX(this.shift+this.width/2)),0===this.point.price&&this.point.setPrice(this.minVal+(this.maxVal-this.minVal)/2)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"clearGraphics",value:function(){this.clearAllDynamicGraphics()}},{key:"getHitzonePoints",value:function(){return[(0,nh.zx)(this.point.x,this.yShift),(0,nh.zx)(this.point.x,this.yShift+this.height)]}},{key:"draw",value:function(){if(this.isDrawingInsideScreen()){if(this.isPointsCoordinatesChange()||this.updated){this.clearGraphics(),this.point.isDragging||this.updatePrevPoints();var t=this.settings.lines.main,e=t.color,n=t.lineWidth,r=t.opacity,i=this.getInteractiveGraphics(rh.Rp.BUILDINGS,"line-vertical-".concat(this.index));i.graphics.lineStyle(n,this.prepareColor(e),r/100),i.graphics.moveTo(this.point.x,this.yShift),i.graphics.lineTo(this.point.x,this.yShift+this.height),i.graphics.visible=!0,this.isLocked||(i.graphics.cursor="ew-resize")}}else this.clearGraphics()}}])}(kN),FL=$L;function WL(t){return WL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WL(t)}function UL(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=WL(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=WL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==WL(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var VL=UL(UL(UL(UL(UL(UL(UL(UL(UL({},Ru.Ay.CHART.DRAWINGS.ANDREWS_PITCHFORK,FN),Ru.Ay.CHART.DRAWINGS.RAY,oD),Ru.Ay.CHART.DRAWINGS.TREND_LINE,hD),Ru.Ay.CHART.DRAWINGS.FIBONACCI_RETRACEMENT,xD),Ru.Ay.CHART.DRAWINGS.FIBONACCI_FAN,VD),Ru.Ay.CHART.DRAWINGS.RECTANGLE,tL),Ru.Ay.CHART.DRAWINGS.PARALLEL_CHANNEL,mL),Ru.Ay.CHART.DRAWINGS.HORIZONTAL_LINE,AL),Ru.Ay.CHART.DRAWINGS.VERTICAL_LINE,FL);function GL(t,e,n){return Object.keys(t).filter((function(n){return void 0!==t[n][e]})).map((function(n){return t[n][e]}))[0]||n}var zL=w_((function(t,e,n){var r=vm(n);return function(t){var e=(0,vf.E_)(t)(n);return{chartId:n,drawings:r(t)(e.id)}}}),{drawingDelete:Tm},a_)((function(t){var e=t.drawingDelete,n=t.drawings,r=t.handleEditClick,i=function(t){return function(){u.A.publish(Hn.nS),e(t)}},o=(0,Lb.d4)((function(t){return t.global.isMt5}));return(0,Qm.jsx)(Xg,{className:"tab-body",children:(0,Qm.jsx)("div",{className:"current-block tab-body-block",children:(0,Qm.jsx)("div",{className:"current drawings-list",children:n.map((function(t){var e=t.id,n=t.settings,a=t.type,s=jy[a].icon,c=GL(n.lines,"color",nm.GREEN),l=GL(n.lines,"lineWidth",rm.W1);return(0,Qm.jsxs)("div",{className:"list-item",children:[(0,Qm.jsxs)("div",{className:"list-item-block",children:[(0,Qm.jsx)("div",{className:"drawing-icon",children:(0,Qm.jsx)(s,{})}),(0,Qm.jsx)("div",{className:"line-color",style:{backgroundColor:c,height:"".concat(l,"px")}})]}),(0,Qm.jsxs)("div",{className:"actions-block",children:[(0,Qm.jsxs)("a",{onClick:r(e),children:[!o&&(0,Qm.jsx)(fP,{className:"icon-wrapper"}),o&&(0,Qm.jsx)(RP,{className:"icon-wrapper"})]}),(0,Qm.jsx)("a",{onClick:i(e),children:(0,Qm.jsx)(AP,{className:"icon-wrapper"})})]})]},e)}))})})})})),YL=["main","bg"],XL=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(oE,{settings:n,onParamChanged:e,hiddenCheckboxLines:YL})},qL=["main"],KL=function(t){var e=t.onParamChanged,n=t.settings;return(0,Qm.jsx)(oE,{settings:n,onParamChanged:e,hiddenCheckboxLines:qL,children:(0,Qm.jsxs)("div",{className:"inputs",children:[(0,Qm.jsx)("div",{className:"labels",children:(0,Qm.jsx)("div",{children:(0,$.tr)("drawings.levels")})}),(0,Qm.jsx)("div",{className:"fields",children:(0,Qm.jsx)("div",{children:(0,Qm.jsx)(dE,{selected:n.levels,options:wy,onChange:function(t){return e("levels",t)()},onItemDisplay:function(t){return(0,$.tr)("drawings.levels_".concat(t))}})})})]})})};function ZL(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return JL(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JL(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JL(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var QL=function(t){var e=t.closeTriggered,n=t.drawingId,r=t.onRequestClose,i=(0,Lb.wA)(),o=(0,Lb.d4)((function(t){return t.global.isMobile})),a=(0,Lb.d4)((function(t){return mm(n)(t)})),s=ZL(OE(a.settings),3),c=s[0],l=s[1],d=s[2],f=ZL((0,Xm.useState)(a.settings),1)[0];(0,Xm.useEffect)((function(){e&&h()}),[e]),(0,Xm.useEffect)((function(){l&&i(km(a.id,c))}),[l,c]);var h=function(){Hl()(f,c)||i(km(a.id,c,!0)),r()},p=(0,Xm.useCallback)(My(jy[a.type],0,d),[c]);return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"m-header",children:[(0,Qm.jsx)("span",{children:jy[a.type].label}),(0,Qm.jsx)("a",{onClick:r,children:(0,Qm.jsx)(eI,{})})]}),a.type===Ru.Ay.CHART.DRAWINGS.FIBONACCI_RETRACEMENT&&(0,Qm.jsx)(KL,{settings:c,onParamChanged:p}),a.type!==Ru.Ay.CHART.DRAWINGS.FIBONACCI_RETRACEMENT&&(0,Qm.jsx)(XL,{settings:c,onParamChanged:p}),(0,Qm.jsx)("div",{className:"m-footer",children:(0,Qm.jsxs)("div",{className:"btn-wrap btn-gap",children:[(0,Qm.jsxs)("a",{onClick:function(){u.A.publish(Hn.nS),i(Tm(a.id)),r()},className:"btn btn-gap__item btn-default-light",children:[!o&&(0,$.tr)("remove"),o&&(0,Qm.jsx)("i",{className:"fa fa-trash-o"})]}),!o&&(0,Qm.jsx)("a",{onClick:function(){i(km(a.id,f)),r()},className:"btn btn-gap__item btn-danger-light",children:(0,$.tr)("cancel")}),(0,Qm.jsx)("a",{onClick:h,className:"btn btn-gap__item btn-green-light",children:(0,$.tr)("save")})]})})]})},tM=Rg((function(t){var e=t.isOpen,n=t.onRequestClose,r=t.drawingId,i=(0,Lb.d4)((function(t){return t.global.isMt5})),o=ZL((0,Xm.useState)(!1),2),a=o[0],s=o[1];return(0,Qm.jsx)(wx(),{isOpen:e,onRequestClose:function(){return s(!0)},ariaHideApp:!1,closeTimeoutMS:1,className:(0,Km.A)(!i&&"EditIndicator",i&&"default-modal edit-indicator-modal"),overlayClassName:(0,Km.A)(!i&&"EditIndicatorOverlay",i&&"default-modal-overlay"),children:r&&(0,Qm.jsx)(QL,{closeTriggered:a,onRequestClose:function(){s(!1),n()},drawingId:r})})}));function eM(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return nM(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nM(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var rM=w_((function(t,e,n){var r=vm(n);return function(t){var e=(0,vf.E_)(t)(n);return{asset:e,chartId:n,drawingsCount:r(t)(e.id).length}}}),{deleteAllDrawings:Em},a_)(Rg((function(t){var e=t.asset,n=t.deleteAllDrawings,r=t.drawingsCount,i=t.onClickOutside,o=t.openerNode,a=t.chartId,s=eM((0,Xm.useState)(bI),2),c=s[0],l=s[1],d=eM((0,Xm.useState)(null),2),f=d[0],h=d[1],p=nS(o),m=(0,Lb.d4)((function(t){return t.global.isMt5}));(0,Xm.useEffect)((function(){0===r&&c===vI&&l(bI)}),[r]);var y=(0,Xm.useRef)(null);return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)($j.A,{component:null,appear:!0,children:(0,Qm.jsx)(Fj.A,{timeout:1,nodeRef:y,classNames:"drop-down-modal-wrap",children:(0,Qm.jsx)("div",{className:"drop-down-modal-wrap",ref:y,children:(0,Qm.jsxs)(sx,{onClickOutside:i,style:p,className:"drop-down-modal drop-down-modal--drawings-list",shouldCapture:null===f,chartId:a,children:[r>0&&(0,Qm.jsx)(gI,{tab:c,setTab:l}),c===bI&&(0,Qm.jsx)(SI,{}),c===vI&&(0,Qm.jsx)(zL,{handleEditClick:function(t){return function(){return h(t)}}}),r>0&&(0,Qm.jsxs)("a",{className:"btn remove-all",onClick:function(){n({chartId:a,assetId:e.id,symbol:e.symbol}),u.A.publish(Hn.nS)},children:[(0,$.tr)("drawings.delete_all"),m&&(0,Qm.jsx)("span",{className:"cnt",children:r}),!m&&" (".concat(r,")")]})]})})})}),(0,Qm.jsx)(tM,{isOpen:null!==f,drawingId:f,onRequestClose:function(){return h(null)}})]})}))),iM=(0,Xm.forwardRef)((function(t,e){var n=t.handleClick,r=t.isOpened;return(0,Qm.jsx)(MS,{className:(0,Km.A)("items__link items__link--chart-type chart-layout-options-btn",r&&"active"),ref:e,onClick:n,TooltipComponent:function(){return(0,Qm.jsx)(nw,{position:"down",children:(0,$.tr)("chart_settings.multi_chart")})},children:(0,Qm.jsx)("div",{className:"svg-wrapper",children:(0,Qm.jsx)("svg",{className:"svg-icon",xmlns:"http://www.w3.org/2000/svg",height:"35",viewBox:"0 0 33 33",children:(0,Qm.jsx)("path",{d:"M15.199 3.287v8.626a3.287 3.287 0 01-3.286 3.286H3.286A3.287 3.287 0 010 11.913V3.287A3.288 3.288 0 013.286 0h8.627a3.286 3.286 0 013.286 3.287zM29.714 0h-8.627a3.288 3.288 0 00-3.286 3.287v8.626a3.287 3.287 0 003.286 3.286h8.627A3.287 3.287 0 0033 11.913V3.287A3.288 3.288 0 0029.714 0zM11.913 17.801H3.286A3.286 3.286 0 000 21.087v8.627A3.288 3.288 0 003.286 33h8.627a3.288 3.288 0 003.286-3.286v-8.627a3.284 3.284 0 00-3.286-3.286zm17.801 0h-8.627a3.287 3.287 0 00-3.286 3.286v8.627A3.288 3.288 0 0021.087 33h8.627A3.288 3.288 0 0033 29.714v-8.627a3.286 3.286 0 00-3.286-3.286z"})})})})})),oM=iM,aM="chart-settings",sM="indicators",cM="drawings",lM="layouts";function uM(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return dM(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dM(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var fM=function(t,e){var n=(0,Lb.d4)((function(e){return e.modals.states[t]})),r=uM((0,Xm.useState)(!1),2),i=r[0],o=r[1];return(0,Xm.useEffect)((function(){o(n&&null!=e.current)}),[n,e.current]),i};function hM(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return pM(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pM(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var mM=w_((function(t,e,n){var r=t.global,i=r.openingFirstDealPanel,o=r.isDemo,a=r.isTournament,s=r.isMobile,c=r.windowLayout;return{chartId:n,isTournament:a,openingFirstDealPanel:i,isDemo:o,isMobile:s,isRightPanel:!(0,Gu.TF)(t),showTradePanelMenu:!s&&!(0,bC.h0)(c),showHideChartButton:c!==bf.rs.FULL}}),null,a_)((function(t){var e=t.isDemo,n=t.isTournament,r=t.openingFirstDealPanel,i=t.showHideChartButton,o=t.isRightPanel,a=t.showTradePanelMenu,s=(0,Lb.wA)(),c=(0,Xm.useContext)(a_),l=hM((0,Xm.useState)(!1),2),d=l[0],f=l[1],h=hM((0,Xm.useState)(null),2),p=h[0],m=h[1],y=(0,Xm.useRef)(),v=(0,Xm.useRef)(),b=(0,Xm.useRef)(),g=(0,Xm.useRef)(),w=(0,Xm.useRef)(),j=(0,Lb.d4)((function(t){return(0,vf.E_)(t)(c)})),x=(0,Lb.d4)((function(t){return ym(c)(t).length})),_=(0,Lb.d4)((function(t){return vm(c)(t)(j.id).length})),S=(0,Lb.d4)((function(t){return t.chartSettings.visibleChartIds.length>1})),O=(0,Lb.d4)(xf),k=fM(qo.lx.CHART_SETTINGS,y),T=fM(qo.lx.INDICATORS_MODAL,v),A=fM(qo.lx.DRAWINGS_MODAL,b),C=function(){return m(null)},P=function(t){return function(){s(cp({modalId:t,value:!0}))}},E=function(t){return function(){u.A.publish(Hn.nS),s(cp({modalId:t,value:!1}))}},I=function(){f(!1),u.A.publish(Hn.nS)},N=nS(w.current);return(0,Qm.jsxs)("div",{className:"items",children:[(0,Qm.jsx)(xC,{isOpened:k,ref:y,handleClick:P(qo.lx.CHART_SETTINGS)}),(0,Qm.jsx)(_C,{isOpened:T,count:x,ref:v,handleClick:P(qo.lx.INDICATORS_MODAL)}),(0,Qm.jsx)(SC,{isOpened:A,count:_,ref:b,handleClick:P(qo.lx.DRAWINGS_MODAL)}),!O&&(0,Qm.jsxs)("div",{ref:w,className:"settings-container",children:[d&&(0,Qm.jsx)(wC,{onClick:I,isOpen:!0}),!d&&(0,Qm.jsx)(wC,{onClick:function(){f(!0),u.A.publish(Hn.nS)},isOpen:!1}),d&&(0,Qm.jsx)(Yj,{timeout:1,classNames:"drop-down-modal-wrap",className:"drop-down-modal-wrap",onClick:I,style:N,children:(0,Qm.jsxs)(sx,{onClickOutside:I,chartId:c,children:[(0,Qm.jsx)(uC,{}),(!e||!r)&&(0,Qm.jsx)(dC,{}),n&&(0,Qm.jsx)(fC,{}),!o&&(0,Qm.jsx)(pC,{position:"down"}),!o&&(0,Qm.jsx)(yC,{position:"down"}),i&&(0,Qm.jsx)(vC,{})]})})]}),!S&&!O&&(0,Qm.jsx)(oM,{isOpened:p===lM,ref:g,handleClick:function(){return m(lM)}}),a&&(0,Qm.jsx)(gC,{}),k&&(0,Qm.jsx)(ZC,{openerNode:y.current,onRequestClose:E(qo.lx.CHART_SETTINGS)}),T&&(0,Qm.jsx)(yI,{onClickOutside:E(qo.lx.INDICATORS_MODAL),openerNode:v.current,indicatorsCount:x}),A&&(0,Qm.jsx)(rM,{onClickOutside:E(qo.lx.DRAWINGS_MODAL),openerNode:b.current,drawingsCount:_}),p===lM&&(0,Qm.jsx)(nC,{onClickOutside:C,openerNode:g.current,onDropdownClose:C})]})})),yM=mM;function vM(t){return vM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vM(t)}function bM(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return gM(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gM(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OM(r.key),r)}}function jM(t,e,n){return e=_M(e),function(t,e){if(e&&("object"==vM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xM()?Reflect.construct(e,n||[],_M(t).constructor):e.apply(t,n))}function xM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(xM=function(){return!!t})()}function _M(t){return _M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_M(t)}function SM(t,e){return SM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},SM(t,e)}function OM(t){var e=function(t,e){if("object"!=vM(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vM(e)?e:e+""}function kM(t){return Bt()(window,"currencyNames."+t.toUpperCase(),t)}var TM=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(t,e,n){(e=OM(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(t=jM(this,e,[].concat(r)),"state",{prevPrice:0}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SM(t,e)}(e,t),function(t,e,n){return e&&wM(t.prototype,e),n&&wM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentDidMount",value:function(){this.setState({prevPrice:this.props.currentPrice})}},{key:"componentDidUpdate",value:function(t){t.currentPrice!==this.state.prevPrice&&this.setState({prevPrice:t.currentPrice})}},{key:"render",value:function(){var t=this.props,e=t.currentPrice,n=t.asset;if(!n)return null;var r=function(t){if(!t)return["EUR","USD"];var e=t.symbol;t.is_otc&&(e=e.replace("_otc",""));var n=[];return["UKBrent","USCrude"].includes(e)?n.push(e,"USD"):6===e.length?n.push(e.substr(0,3),e.substr(3)):n.push(t.label.replace("OTC","").trim(),"USD"),n}(n),i=bM(r,2),o=i[0],a=i[1];if("stock"===n.type?o="".concat((0,$.tr)("assets.share_of")," ").concat(o," (").concat(n.symbol.replace("_otc",""),")"):"index"===n.type&&(o=n.label,a="USD"),!o||!a)return null;var s=kM(o),c=kM(a),l=e>this.state.prevPrice,u=e<this.state.prevPrice,d="current-symbol-price ".concat(l?"price-up":u?"price-down":"");return(0,Qm.jsxs)(nw,{position:"right",children:["index"===n.type&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,$.tr)("assets.index_label")," ",(0,Qm.jsx)("span",{className:"first-symbol symbol-info",children:s})," ="," ",(0,Qm.jsx)("span",{className:d,children:e})]}),"index"!==n.type&&(0,Qm.jsxs)(Qm.Fragment,{children:["1 ",(0,Qm.jsx)("span",{className:"first-symbol symbol-info",children:s})," ="," ",(0,Qm.jsx)("span",{className:d,children:e})," ",(0,Qm.jsx)("span",{className:"two-symbol symbol-info",children:c})]})]})}}])}(Xm.PureComponent),AM=w_((function(t,e,n){return{asset:(0,vf.E_)(t)(n),currentPrice:Cf(t)(n)}}),null,a_)(TM);function CM(t){return CM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CM(t)}function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function EM(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=CM(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=CM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==CM(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IM(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return NM(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NM(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function DM(t){if(t.length>10)return"current-symbol_cropped"}var LM=w_((function(t,e,n){var r=t.global,i=r.isMobile,o=r.enabledTooltipMessage;return{label:(0,vf.E_)(t)(n).label,canShowTooltip:!i&&o}}),null,a_)((function(t){var e=t.canShowTooltip,n=t.label,r=t.onDropdownOpened,i=t.isOpen,o=t.innerRef,a=IM((0,Xm.useState)(!1),2),s=a[0],c=a[1],l=e&&s;return(0,Qm.jsx)("div",{className:"currencies-block",children:(0,Qm.jsx)("div",{className:(0,Km.A)("currencies-block__in",i&&"active"),ref:o,children:(0,Qm.jsxs)("a",{className:(0,Km.A)("pair-number-wrap",l&&"tooltip2"),onClick:function(){return r()},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:[(0,Qm.jsxs)("div",{className:"pair",children:[(0,Qm.jsx)("span",{className:(0,Km.A)("current-symbol",n?DM(n):""),children:n||(0,Qm.jsx)("i",{className:"fa fa-spin fa-spinner"})}),(0,Qm.jsx)("i",{className:"fa fa-caret-down",style:{transform:"rotate(".concat(i?"180deg":0,")")}})]}),l&&(0,Qm.jsx)(AM,{})]})})})})),MM=function(t,e){return(0,Qm.jsx)(LM,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?PM(Object(n),!0).forEach((function(e){EM(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({innerRef:e},t))};MM.displayName="AssetsIcon";var RM=(0,Xm.forwardRef)(MM),BM=function(){return(0,Qm.jsx)("svg",{className:"svg-icon",xmlns:"http://www.w3.org/2000/svg",width:"18px",viewBox:"0 0 512 512",children:(0,Qm.jsx)("path",{d:"M490.6 110.6H333.3c-28.5 0-42.8 34.4-22.6 54.6l43.2 43.2-97.7 97.8-97.7-97.7c-16.7-16.7-43.6-16.7-60.3 0L6.6 299.9c-8.3 8.3-8.3 21.8 0 30.1l30.1 30.1c8.3 8.3 21.8 8.3 30.1 0l61.4-61.4 97.7 97.7c16.7 16.7 43.6 16.7 60.3 0l127.9-127.9 43.2 43.2c20.1 20.1 54.6 5.9 54.6-22.6V132c0-11.8-9.5-21.4-21.3-21.4z"})})},HM=function(t){var e=t.onSearchTermChange,n=t.searchTerm,r=(0,Xm.useRef)(null),i=(0,Xm.useRef)();(0,Xm.useEffect)((function(){var t=function(t){i.current&&i.current.contains(t.target)};return document.body.addEventListener("click",t),function(){document.body.removeEventListener("click",t)}}),[]);return(0,Qm.jsxs)("div",{ref:i,className:"filters__search-block search",children:[(0,Qm.jsx)("input",{className:"search__field",ref:r,type:"text",placeholder:(0,$.tr)("social_trades.search"),value:n,onChange:function(t){return e(t.currentTarget.value)},onClick:function(t){return t.preventDefault()},"aria-autocomplete":"off",autoComplete:"off"}),n.length>0&&(0,Qm.jsx)("i",{className:"search__icon search__icon-clear fa fa-times-circle active",onClick:function(t){t.preventDefault(),t.stopPropagation(),e(""),r.current.focus()}}),0===n.length&&(0,Qm.jsx)("i",{className:"search__icon fa fa-search"})]})},$M=function(t){var e=t.isOpenedSchedule,n=t.onScheduleClick;return(0,Qm.jsxs)("a",{className:(0,Km.A)("assets-block__nav-item","assets-block__nav-item--calendar",e&&"assets-block__nav-item--active"),onClick:n,children:[(0,Qm.jsx)("span",{className:"assets-block__nav-icon-wrap",children:(0,Qm.jsx)("i",{className:"assets-block__nav-icon fa fa-calendar-o"})}),(0,Qm.jsx)("span",{className:"assets-block__nav-item-label",children:(0,$.tr)("schedule")})]})};function FM(t){return FM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FM(t)}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function UM(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?WM(Object(n),!0).forEach((function(e){VM(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function VM(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=FM(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=FM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==FM(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var GM=function(t){var e=t.onTabChange,n=t.activeTab;return(0,Qm.jsxs)("a",{className:(0,Km.A)("assets-block__nav-item","assets-block__nav-item--favorites",n===X_.ip&&"assets-block__nav-item--active"),onClick:function(){return e(X_.ip)},children:[(0,Qm.jsx)("span",{className:"assets-block__nav-icon-wrap",children:(0,Qm.jsx)("i",{className:"assets-block__nav-icon fa fa-star"})}),(0,Qm.jsx)("span",{className:"assets-block__nav-item-label",children:(0,$.tr)("assets.fav")})]})},zM=function(t){var e=t.activeTab,n=t.onTabChange,r=t.groupId,i=t.searchTerm;return(0,Qm.jsxs)("a",{className:(0,Km.A)("assets-block__nav-item","assets-block__nav-item--".concat(r),0===i.length&&e===r&&"assets-block__nav-item--active"),onClick:function(){return n(r)},children:[(0,Qm.jsxs)("span",{className:"assets-block__nav-icon-wrap",children:[r!==X_.Zt&&(0,Qm.jsx)("i",{className:"assets-block__nav-icon fa ".concat(X_.f4[r])}),r===X_.Zt&&(0,Qm.jsx)(BM,{})]}),(0,Qm.jsx)("span",{className:"assets-block__nav-item-label",children:(0,X_.AU)(r)})]})},YM=(0,Lb.Ng)((function(t){return{isTournament:t.global.isTournament}}))((function(t){var e=(0,Lb.d4)((function(t){return t.global.webViewPlatform})),n=(0,Lb.d4)(Xf.R1),r=t.activeTab,i=t.isTournament,o=t.onTabChange,a=i?X_.SQ:X_.Bx;return("ios"===e||n)&&(a=a.filter((function(t){return"cryptocurrency"!==t}))),(0,Xm.useEffect)((function(){a.includes(r)||r===X_.YD||o(X_.ip)}),[r]),(0,Qm.jsxs)(Qm.Fragment,{children:[t.isCompact&&(0,Qm.jsxs)("div",{className:(0,Km.A)("assets-block__nav","assets-block__nav--compact","assets-block__nav--count-".concat(a.length)),children:[(0,Qm.jsx)("div",{className:"assets-block__nav-col",children:a.map((function(e){return(0,Qm.jsx)(zM,UM({groupId:e},t),e)}))}),(0,Qm.jsxs)("div",{className:"assets-block__nav-col",children:[(0,Qm.jsx)(HM,UM({},t)),(0,Qm.jsx)(GM,UM({},t)),(0,Qm.jsx)($M,UM({},t))]})]}),!t.isCompact&&(0,Qm.jsxs)("div",{className:"assets-block__nav",children:[a.map((function(e){return(0,Qm.jsx)(zM,UM({groupId:e},t),e)})),(0,Qm.jsx)(GM,UM({},t))]})]})})),XM=n(38750),qM=n.n(XM),KM=function(t){var e=t.isFullTime,n=t.timeDiff,r=n>0?(0,gk.E$)(n):"";return(0,Qm.jsxs)("span",{className:"alist__schedule-info",children:[(0,Qm.jsx)("svg",{className:"svg-icon icon-play-circle alist__schedule-info-otc-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,Qm.jsx)("path",{d:"M371.7 238l-176-107c-15.8-8.8-35.7 2.5-35.7 21v208c0 18.4 19.8 29.8 35.7 21l176-101c16.4-9.1 16.4-32.8 0-42zM504 256C504 119 393 8 256 8S8 119 8 256s111 248 248 248 248-111 248-248zm-448 0c0-110.5 89.5-200 200-200s200 89.5 200 200-89.5 200-200 200S56 366.5 56 256z"})})," ",(0,Qm.jsx)("span",{className:"alist__schedule-info-text",children:e?(0,$.tr)("assets.full_time"):r})]})},ZM=function(){return(0,Qm.jsxs)("span",{className:"alist__schedule-info",children:[(0,Qm.jsx)("i",{className:"fa fa-minus-circle alist__schedule-info-icon"})," ",(0,Qm.jsx)("span",{className:"alist__schedule-info-text",children:"N/A"})]})},JM=function(t){var e=t.isFullTime,n=t.timeDiff,r=t.isTemporaryAvailable,i=n>0?(0,gk.E$)(n):"";return(0,Qm.jsxs)("span",{className:"alist__schedule-info",children:[(0,Qm.jsx)("svg",{className:"svg-icon alist__schedule-info-otc-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 479.74 430.93",children:(0,Qm.jsx)("path",{d:"M242.36 41.7A173.19 173.19 0 01363.65 91h54.64a215.53 215.53 0 00-351.87 0h54.64a173.2 173.2 0 01121.3-49.3zm0 347.53a173.2 173.2 0 01-121.3-49.33H66.42a215.53 215.53 0 00351.87 0h-54.64a173.19 173.19 0 01-121.29 49.33zM148 288q22-23.79 22-68.11t-21.79-68.12q-21.78-23.67-62.92-23.68T22 151.57Q0 175.08 0 219.63T22 288q22 23.81 63 23.81T148 288zm-97-23.09q-11.36-15.14-11.36-45t11.48-45.11q11.48-15.19 34.06-15.19 45 0 45 60.3T85 280.05q-22.63 0-34-15.14zm224.76 44.44V162.38h48.46v-31.5H189.45v31.5h48.46v146.97h37.85zm106.93-88.75q0-28.68 11.72-44.74t33.08-16.05a60.13 60.13 0 0119.9 3.54 203.08 203.08 0 0120.14 8.3l12.21-30.76q-26.25-12.57-52.25-12.57-25.51 0-44.49 11.17t-29.12 32.1q-10.12 20.94-10.13 48.77 0 44.19 20.63 67.81T424 311.79q27.1 0 49.07-9.16v-31.74q-26.73 9.41-45.53 9.4-44.85 0-44.85-59.69z"})})," ",(0,Qm.jsxs)("span",{className:"alist__schedule-info-text",children:[r&&(0,$.tr)("assets.working_temporary"),!r&&(e?(0,$.tr)("assets.full_time"):i)]})]})},QM=function(){return(0,Qm.jsxs)("div",{className:"assets-block__schedule-desc schedule-desc",children:[(0,Qm.jsxs)("div",{className:"schedule-desc__item",children:[(0,Qm.jsx)("div",{className:"schedule-desc__icon-wrap",children:(0,Qm.jsx)("svg",{className:"svg-icon icon-play-circle schedule-desc__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,Qm.jsx)("path",{d:"M371.7 238l-176-107c-15.8-8.8-35.7 2.5-35.7 21v208c0 18.4 19.8 29.8 35.7 21l176-101c16.4-9.1 16.4-32.8 0-42zM504 256C504 119 393 8 256 8S8 119 8 256s111 248 248 248 248-111 248-248zm-448 0c0-110.5 89.5-200 200-200s200 89.5 200 200-89.5 200-200 200S56 366.5 56 256z"})})}),(0,Qm.jsx)("div",{className:"schedule-desc__item-text",children:(0,$.tr)("assets.available_time")})]}),(0,Qm.jsxs)("div",{className:"schedule-desc__item",children:[(0,Qm.jsx)("div",{className:"schedule-desc__icon-wrap",children:(0,Qm.jsx)("svg",{className:"svg-icon schedule-desc__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 479.74 430.93",children:(0,Qm.jsx)("path",{d:"M242.36 41.7A173.19 173.19 0 01363.65 91h54.64a215.53 215.53 0 00-351.87 0h54.64a173.2 173.2 0 01121.3-49.3zm0 347.53a173.2 173.2 0 01-121.3-49.33H66.42a215.53 215.53 0 00351.87 0h-54.64a173.19 173.19 0 01-121.29 49.33zM148 288q22-23.79 22-68.11t-21.79-68.12q-21.78-23.67-62.92-23.68T22 151.57Q0 175.08 0 219.63T22 288q22 23.81 63 23.81T148 288zm-97-23.09q-11.36-15.14-11.36-45t11.48-45.11q11.48-15.19 34.06-15.19 45 0 45 60.3T85 280.05q-22.63 0-34-15.14zm224.76 44.44V162.38h48.46v-31.5H189.45v31.5h48.46v146.97h37.85zm106.93-88.75q0-28.68 11.72-44.74t33.08-16.05a60.13 60.13 0 0119.9 3.54 203.08 203.08 0 0120.14 8.3l12.21-30.76q-26.25-12.57-52.25-12.57-25.51 0-44.49 11.17t-29.12 32.1q-10.12 20.94-10.13 48.77 0 44.19 20.63 67.81T424 311.79q27.1 0 49.07-9.16v-31.74q-26.73 9.41-45.53 9.4-44.85 0-44.85-59.69z"})})}),(0,Qm.jsx)("div",{className:"schedule-desc__item-text",children:(0,$.tr)("assets.switch_time")})]}),(0,Qm.jsxs)("div",{className:"schedule-desc__item",children:[(0,Qm.jsx)("div",{className:"schedule-desc__icon-wrap",children:(0,Qm.jsx)("i",{className:"fa fa-minus-circle schedule-desc__icon"})}),(0,Qm.jsx)("div",{className:"schedule-desc__item-text",children:(0,$.tr)("assets.unavailable")})]}),(0,Qm.jsxs)("a",{href:(0,tn.hX)("/assets"),className:"schedule-desc__btn",target:"_blank",children:[(0,Qm.jsx)("i",{className:"fa fa-external-link"}),(0,$.tr)("assets.view_schedule")]})]})},tR=function(){return(0,Qm.jsx)("div",{className:"assets-block__otc-desc otc-desc",children:(0,$.tr)("assets.otc_desc")})},eR=function(t){var e=t.timeDiff,n=t.isTemporaryAvailable,r=e>0?(0,gk.E$)(e):"";return(0,Qm.jsxs)("span",{className:"alist__schedule-info",children:[(0,Qm.jsx)("i",{className:"fa fa-minus-circle alist__schedule-info-icon"})," ",(0,Qm.jsx)("span",{className:"alist__schedule-info-text",children:n?(0,$.tr)("assets.working_temporary"):r})]})};function nR(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return rR(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rR(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rR(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var iR=function(t){var e,n;return t=t.replace("_","").replace("-",""),e=t,["usd","btc","eur","gbp","jpy"].map((function(r){var i=t.indexOf(r);-1!==i&&(0===i&&(e=t.substring(0,3),n=t.substring(3)),i>0&&(e=t.substring(0,i),n=r))})),[e,n]},oR=function(t){var e,n;if(!t)return[e,n];var r=function(t){var e,n,r=t.symbol.split("_otc")[0].toLowerCase();if("#"===r[0]&&(r=r.substring(1)),e=r,"v"===r&&(e="visa"),t.type===X_.E4){var i=nR(t.label.toLowerCase().replace("_otc","").replace("otc","").trim().split("/"),2);e=i[0],n=i[1]}else if("oils"===t.type||"cfd"===t.type);else if(t.type===X_.ih){var o=nR(iR(r),2),a=o[0],s=o[1];a&&(e=a),"eur"===s&&(n=s)}else if(t.type===X_.zg){var c=nR(iR(r),2),l=c[0],u=c[1];l&&(e=l),"usd"!==u&&(n=u)}else t.type===X_.Zt&&(e=nR(iR(r),1)[0]);return[e,n]}(t),i=nR(r,2);return[e=i[0],n=i[1]]};function aR(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return sR(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sR(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sR(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var cR=function(){return(0,Qm.jsx)(Rb.k,{className:"svg-icon-wrap",src:"/themes/cabinet/images/modal/assets-block/not-found.svg"})},lR=function(){return(0,Qm.jsx)(Rb.k,{className:"svg-icon-wrap",src:"/themes/cabinet/images/modal/assets-block/payout.svg"})},uR=function(t){var e=aR(oR(t),2),n=e[0],r=e[1];return(0,Qm.jsxs)("span",{className:(0,Km.A)("alist__flag","flag",r?"flag--two":"flag--one"),children:[n&&(0,Qm.jsx)("span",{className:(0,Km.A)("flag-icon","flag-icon--"+n.toLowerCase())}),r&&(0,Qm.jsx)("span",{className:(0,Km.A)("flag-icon","flag-icon--"+r.toLowerCase())})]})},dR=function(t){var e=t.asset,n=(0,Lb.d4)((function(t){return t.global.currentTime})),r=e.active,i=e.is_otc,o=e.scheduledAt,a=e.scheduledUntil,s=a>=0,c=a-n,l=0===a,u=-2===a,d=r?i?"otc":"available":"no-active";return(0,Qm.jsxs)(Qm.Fragment,{children:[s&&(0,Qm.jsxs)(Qm.Fragment,{children:["available"===d&&(0,Qm.jsx)(KM,{timeDiff:c,isFullTime:l}),"otc"===d&&(0,Qm.jsx)(JM,{timeDiff:c,isFullTime:l})]}),u&&(0,Qm.jsx)(JM,{timeDiff:c,isFullTime:l,isTemporaryAvailable:u}),!r&&(0,Qm.jsx)(eR,{timeDiff:o-n,isTemporaryAvailable:o<=0})]})},fR=function(t){var e=t.asset,n=e.payout;return e.active?(0,Qm.jsxs)("span",{children:["+",n,"%"]}):(0,Qm.jsx)(ZM,{})},hR=function(t){var e=t.asset,n=t.currentSymbol,r=t.isFavorite,i=t.onChangeSymbol,o=t.onFavoriteToggled,a=t.isOpenedSchedule,s=t.financeUserLevel,c=e.symbol,l=e.label,d=e.active,f=e.payout,h=e.originPayout,p=d&&!a&&f>h&&(0,ch.$h)(s)>0;return(0,Qm.jsx)("li",{className:(0,Km.A)("alist__item",n===c&&"alist__item--active",!d&&"alist__item--no-active alist__item--no-hover",r&&d&&"alist__item--has-favorites",a&&"alist__item--has-schedule",p&&"alist__item--has-loyalty-program"),children:(0,Qm.jsxs)("a",{className:"alist__link",onClick:function(){u.A.publish(Hn.nS),d&&i(c)},children:[(0,Qm.jsx)("span",{className:"alist__icon-wrap",children:(0,Qm.jsx)("i",{className:(0,Km.A)("alist__icon","fa",r?"fa-star del":"fa-star-o add"),onClick:function(t){t.stopPropagation(),u.A.publish(Hn.nS),o(c)}})}),uR(e),(0,Qm.jsx)("span",{className:"alist__label",children:l}),(0,Qm.jsx)("span",{className:"alist__payout",children:a?(0,Qm.jsx)(dR,{asset:e}):(0,Qm.jsx)(fR,{asset:e})}),p&&(0,Qm.jsx)("span",{className:"alist__payout-bonus",children:(0,Qm.jsx)(lR,{})})]})},c)},pR=(0,Lb.Ng)((function(t){return{assetBySymbol:(0,vf.rC)(t),assetsSymbols:(0,vf.lw)(t),favoriteSymbols:t.favorites.list,financeUserLevel:t.global.financeUserLevel}}))((function(t){var e,n,r=t.assetBySymbol,i=t.assetsSymbols,o=t.searchTerm,a=t.activeTab,s=t.currentSymbol,c=t.onChangeSymbol,l=t.favoriteSymbols,u=t.onFavoriteToggled,d=t.isOpenedSchedule,f=t.isCompact,h=t.showOtcDescription,p=t.financeUserLevel,m=(0,Lb.d4)((function(t){return t.assets.assetSortType})),y=(0,Lb.d4)((function(t){return t.assets.assetSortDirection})),v=(0,Lb.d4)((function(t){return t.global.webViewPlatform})),b=function(t,e,n,r,i){return e.slice().sort((function(e,o){var a=t[e],s=a.payout,c=a.active,l=a.scheduledUntil,u=a.label,d=t[o],f=d.payout,h=d.active,p=d.scheduledUntil,m=d.label;return c&&!h?-1:!c&&h?1:n===X_.jC?i?l===p?0:(2===l&&(l=Number.MAX_VALUE),2===p&&(p=Number.MAX_VALUE),r===X_.Pg.ASC?p-l:l-p):s===f?0:r===X_.Pg.DESC?f-s:s-f:n===X_.WN?u===m?0:r===X_.Pg.ASC?u>m?1:-1:u>m?-1:1:0})).map((function(e){return t[e]}))}(r,i,m,y,d),g=(0,ch.$h)(p);return"ios"===v&&(b=b.filter((function(t){return"cryptocurrency"!==t.type}))),b=o.length>0?b.filter((function(t){var e=t.symbol,n=t.label;return(0,dh.vD)(e,o)||(0,dh.vD)(n,o)})):a===X_.ip?function(t,e){return t.filter((function(t){var n=t.symbol;return e.includes(n)}))}(b,l):(e=qM()(b,(function(t){return t.type})),n={},X_.Bx.forEach((function(t){e[t]&&(n[t]=e[t])})),n)[a]||[],(0,Qm.jsxs)(Qm.Fragment,{children:[o.length>0&&0===b.length&&(0,Qm.jsxs)("div",{className:"assets-block__not-found",children:[(0,Qm.jsx)(cR,{}),(0,$.tr)("assets.not_found")]}),b.length>0&&(0,Qm.jsx)(Xg,{children:(0,Qm.jsxs)("div",{className:(0,Km.A)("assets-block__body-".concat(a)),children:[(0,Qm.jsx)("ul",{className:(0,Km.A)("assets-block__alist","alist","alist-".concat(a),g&&"alist--has-loyalty-program"),children:b.map((function(t){var e=l.includes(t.symbol);return(0,Qm.jsx)(hR,{activeTab:a,asset:t,currentSymbol:s,isFavorite:e,onChangeSymbol:c,onFavoriteToggled:u,isOpenedSchedule:d,financeUserLevel:p},t.symbol)}))}),f&&d&&(0,Qm.jsx)(QM,{}),f&&h&&(0,Qm.jsx)(tR,{})]})}),0===b.length&&a===X_.ip&&(0,Qm.jsx)("div",{className:"no-items",children:(0,Qm.jsx)("div",{className:"message message-info",children:(0,$.tr)("assets.favorites_no_items")})})]})}));var mR=function(t){var e=t.onTabSort,n=t.isOpenedSchedule,r=(0,Lb.d4)((function(t){return t.assets.assetSortType})),i=(0,Lb.d4)((function(t){return t.assets.assetSortDirection})),o=(0,Lb.d4)(Gu.KY),a=r===X_.jC;return(0,Qm.jsxs)("a",{className:(0,Km.A)("sort-block__item","sort-block__item--sort-profit",a&&"sort-block__item--active"),onClick:function(){e(X_.jC,a?i===X_.Pg.DESC?X_.Pg.ASC:X_.Pg.DESC:i)},children:[n&&(0,$.tr)("deals.availability"),!n&&!o&&(0,$.tr)("deals.payout"),!n&&o&&(0,$.tr)("revenue"),a&&(0,Qm.jsx)("i",{className:(0,Km.A)("sort-block__icon fa",i===X_.Pg.DESC?"fa-caret-down":"fa-caret-up")})]})},yR=function(t){var e=t.onTabSort,n=t.categoryName,r=void 0===n?null:n,i=(0,Lb.d4)((function(t){return t.assets.assetSortType})),o=(0,Lb.d4)((function(t){return t.assets.assetSortDirection})),a=i===X_.WN;return(0,Qm.jsxs)("a",{className:(0,Km.A)("sort-block__item","sort-block__item--sort-alphabet",a&&"sort-block__item--active"),onClick:function(){e(X_.WN,a?o===X_.Pg.DESC?X_.Pg.ASC:X_.Pg.DESC:o)},children:[r&&r,!r&&(0,$.tr)("deals.asset"),a&&(0,Qm.jsx)("i",{className:(0,Km.A)("sort-block__icon fa",o===X_.Pg.DESC?"fa-caret-down":"fa-caret-up")})]})};function vR(t){var e=t.payout;return(0,Qm.jsxs)("div",{className:"assets-block__payout-desc payout-desc",children:[(0,Qm.jsx)("div",{className:"payout-desc__icon",children:(0,Qm.jsx)(lR,{})}),(0,Qm.jsx)("div",{className:"payout-desc__text",children:(0,$.tr)("assets.payout-desc","".concat(e,"%"))})]})}function bR(t){return bR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bR(t)}function gR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OR(r.key),r)}}function wR(t,e,n){return e=xR(e),function(t,e){if(e&&("object"==bR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,jR()?Reflect.construct(e,n||[],xR(t).constructor):e.apply(t,n))}function jR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jR=function(){return!!t})()}function xR(t){return xR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xR(t)}function _R(t,e){return _R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_R(t,e)}function SR(t,e,n){return(e=OR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OR(t){var e=function(t,e){if("object"!=bR(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bR(e)?e:e+""}var kR=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),SR(n=wR(this,e,[t]),"onTabChange",(function(t){return n.setState({activeTab:t})})),SR(n,"onScheduleClick",(function(){return n.setState((function(t){return{isOpenedSchedule:!t.isOpenedSchedule}}))})),SR(n,"onTabSort",(function(t,e){(0,n.props.changeAssetSortType)({sortType:t,sortDirection:e})})),SR(n,"changeSymbol",(function(t){var e=n.props,r=e.chartId,i=e.changeSymbol,o=e.isMultiGraph,a=e.onDropdownClose,s=e.isMobile,c=e.addToFavourites;i({symbol:t,chartId:r}),c&&n.addFavorite(t),(o||s||window.navigator.userAgent.indexOf("Safari")>-1&&window.navigator.userAgent.indexOf("Chrome")<=-1&&!c)&&a()})),SR(n,"onSearchTermChange",(function(t){return n.setState({searchTerm:(e=t,e.replace("/","").toLowerCase().trim())});var e})),SR(n,"onFavoriteToggled",(function(t){n.props.favoriteSymbols.includes(t)?n.removeFavorite(t):n.addFavorite(t)})),SR(n,"addFavorite",(function(t){(0,n.props.addFavoriteSymbol)(t)})),SR(n,"removeFavorite",(function(t){(0,n.props.removeFavoriteSymbol)(t)})),SR(n,"getFavoriteAssets",(function(){var t=n.props,e=t.assetBySymbol,r=t.symbols;return t.favoriteSymbols.filter((function(t){return r.includes(t)})).map((function(t){return e[t]}))})),SR(n,"getCurrentTabAssets",(function(){var t=n.state.activeTab,e=n.props,r=e.symbols,i=e.assetBySymbol;return r.map((function(t){return i[t]})).filter((function(e){return e.type===t}))})),SR(n,"hasOtcInCurrentTab",(function(){var t,e=n.state.activeTab;return(t=e===X_.ip?n.getFavoriteAssets():n.getCurrentTabAssets(),t.filter((function(t){return t.active}))).some((function(t){return t.is_otc}))})),SR(n,"onClickOutside",(function(t){u.A.publish(Hn.nS),(0,n.props.onDropdownClose)(t)})),n.state={activeTab:t.activeTab,searchTerm:"",isOpenedSchedule:!1,styles:nS(t.openerNode)},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_R(t,e)}(e,t),function(t,e,n){return e&&gR(t.prototype,e),n&&gR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentDidUpdate",value:function(t){var e=this,n=this.props,r=n.showFavPanel,i=n.openerNode;t.showFavPanel!==r&&setTimeout((function(){e.setState({styles:nS(i)})}),0)}},{key:"render",value:function(){var t=this.props,e=t.currentSymbol,n=t.chartId,r=t.isMultiGraph,i=t.isMobile,o=t.enabledTooltipMessage,a=t.financeUserLevel,s=this.state,c=s.activeTab,l=s.isOpenedSchedule,u=s.styles,d=i,f=o&&this.hasOtcInCurrentTab()&&!l,h=i&&(0,X_.AU)(c),p=(0,ch.$h)(a),m=d&&p>0;return(0,Qm.jsx)(Yj,{timeout:i?1:200,className:"drop-down-modal-wrap",children:(0,Qm.jsx)(sx,{onClickOutside:this.onClickOutside,className:"drop-down-modal drop-down-modal--quotes-list",style:r?null:u,chartId:n,shouldCapture:!0,children:(0,Qm.jsxs)("div",{className:(0,Km.A)("assets-block",d&&"assets-block--compact",r&&"assets-block--multi-graph"),children:[(0,Qm.jsx)("div",{className:"assets-block__col assets-block__col-nav",children:(0,Qm.jsxs)(Xg,{children:[(0,Qm.jsx)(YM,{isCompact:d,activeTab:c,onTabChange:this.onTabChange,onSearchTermChange:this.onSearchTermChange,searchTerm:this.state.searchTerm,isOpenedSchedule:l,onScheduleClick:this.onScheduleClick}),!d&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"assets-block__nav assets-block__nav-bottom",children:(0,Qm.jsx)($M,{isOpenedSchedule:l,onScheduleClick:this.onScheduleClick})}),p>0&&(0,Qm.jsx)(vR,{payout:p}),f&&(0,Qm.jsx)(tR,{}),l&&(0,Qm.jsx)(QM,{})]})]})}),(0,Qm.jsxs)("div",{className:(0,Km.A)("assets-block__col","assets-block__col-body",m&&"has-payout-desc"),children:[(0,Qm.jsxs)("div",{className:"assets-block__filters filters",children:[!d&&(0,Qm.jsx)(HM,{searchTerm:this.state.searchTerm,onSearchTermChange:this.onSearchTermChange,isMobile:i}),m&&(0,Qm.jsx)(vR,{payout:p}),(0,Qm.jsxs)("div",{className:"assets-block__filters-sort-block sort-block",children:[(0,Qm.jsx)(yR,{onTabSort:this.onTabSort,categoryName:h}),(0,Qm.jsx)(mR,{onTabSort:this.onTabSort,isOpenedSchedule:l})]})]}),(0,Qm.jsx)("div",{className:"assets-block__body-wrap",children:(0,Qm.jsx)("div",{className:"assets-block__body",children:(0,Qm.jsx)(pR,{searchTerm:this.state.searchTerm,activeTab:c,currentSymbol:e,onChangeSymbol:this.changeSymbol,onFavoriteToggled:this.onFavoriteToggled,isOpenedSchedule:l,showOtcDescription:f,isMobile:i,isCompact:d})})})]})]})})})}}])}(Xm.Component),TR=w_((function(t,e,n){var r=t.favorites.list,i=t.chartSettings.visibleSymbols.length>1;return{currentSymbol:t.chartSettings.chartById[n].symbol,favoriteSymbols:r,chartId:n,isMultiGraph:i,isMobile:t.global.isMobile,financeUserLevel:t.global.financeUserLevel,enabledTooltipMessage:t.global.enabledTooltipMessage,assetBySymbol:t.assets.assetBySymbol,symbols:t.assets.symbols,showFavPanel:!i&&r.length>0}}),{changeSymbol:Ep,addFavoriteSymbol:Dp,removeFavoriteSymbol:Lp,changeAssetSortType:function(t){var e=t.sortType,n=t.sortDirection;return{type:Rp.EF,payload:{sortType:e,sortDirection:n}}}},a_)(Rg(kR)),AR=function(t){var e,n=(((e=document.documentElement)||(e=document.body.parentNode))&&"number"==typeof e.scrollLeft?e:document.body).scrollLeft,r=(((e=document.documentElement)||(e=document.body.parentNode))&&"number"==typeof e.scrollTop?e:document.body).scrollTop,i=t.getBoundingClientRect();return{top:i.top+r,left:i.left+n}};function CR(t){var e=t.target.nodeName.toLowerCase();return"input"===e||"textarea"===e}function PR(t){return PR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PR(t)}function ER(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RR(r.key),r)}}function IR(t,e,n){return e=DR(e),function(t,e){if(e&&("object"==PR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,NR()?Reflect.construct(e,n||[],DR(t).constructor):e.apply(t,n))}function NR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(NR=function(){return!!t})()}function DR(t){return DR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},DR(t)}function LR(t,e){return LR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},LR(t,e)}function MR(t,e,n){return(e=RR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RR(t){var e=function(t,e){if("object"!=PR(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=PR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==PR(e)?e:e+""}var BR=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return MR(t=IR(this,e,[].concat(r)),"state",{activeTab:X_.E4,addToFavourites:!1}),MR(t,"iconRef",(0,Xm.createRef)()),MR(t,"eventId",null),MR(t,"onDropdownOpened",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t.props,r=n.changeModalState,i=n.chartId;t.setState({activeTab:e},(function(){return r({modalId:qo.lx.ASSETS_LIST,value:i})}))})),MR(t,"onDropdownClosed",(function(){var e=t.props.changeModalState;t.setState({activeTab:null,addToFavourites:!1},(function(){return e({modalId:qo.lx.ASSETS_LIST,value:!1})}))})),MR(t,"onKeyUp",(function(e){var n=t.props,r=n.visibleSymbolsLength,i=n.isOpen;CR(e)||1!==r||!e.shiftKey||"KeyF"!==e.code||i||t.onDropdownOpened(X_.ip),"Escape"===e.code&&i&&t.onDropdownClosed()})),MR(t,"getActiveTab",(function(e){var n=t.props.currentAssetType;return null!==e?e:n||X_.E4})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LR(t,e)}(e,t),function(t,e,n){return e&&ER(t.prototype,e),n&&ER(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentDidMount",value:function(){var t=this;document.addEventListener("keyup",this.onKeyUp),this.eventId=u.A.subscribe(y.Py,(function(){t.setState({addToFavourites:!0},(function(){t.onDropdownOpened()}))}))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyUp),u.A.unsubscribe(this.eventId)}},{key:"render",value:function(){var t=this.getActiveTab(this.state.activeTab),e=this.props.isOpen;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)(RM,{ref:this.iconRef,isOpen:e,onDropdownOpened:this.onDropdownOpened}),e&&(0,Qm.jsx)(TR,{activeTab:t,onDropdownClose:this.onDropdownClosed,openerNode:this.iconRef.current,addToFavourites:this.state.addToFavourites})]})}}])}(Xm.Component),HR=w_((function(t,e,n){return{currentAssetType:(0,vf.E_)(t)(n).type,visibleSymbolsLength:t.chartSettings.visibleSymbols.length,isOpen:t.modals.states[qo.lx.ASSETS_LIST]===n,chartId:n}}),{changeModalState:cp},a_)(BR),$R=function(){var t=(0,Lb.d4)((function(t){return t.global.currentTime})),e=(0,Lb.d4)((function(t){return t.global.isMobile})),n=(0,Lb.d4)(xf);if(!t)return null;var r=(0,ij.vh)(t),i=(0,ij.uy)(),o=(0,ij.Ss)(i);return(0,Qm.jsxs)("div",{className:"current-time",children:[(0,Qm.jsx)("div",{className:"current-time__time",children:r}),(0,Qm.jsxs)("div",{className:"current-time__zone",children:["UTC",i>=0?"+":"",o]}),!e&&!n&&(0,Qm.jsx)("div",{className:"current-time__actions",children:(0,Qm.jsxs)("a",{className:"current-time__action-item flex-centered mfp-ajax-modal tooltip2",href:(0,tn.hX)("cabinet/ajax/modal/settings?oc=7"),children:[(0,Qm.jsx)("i",{className:"current-time__action-icon fa fa-cog"}),(0,Qm.jsx)(nw,{position:"right",children:(0,$.tr)("timezone")})]})})]})};function FR(t){return FR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FR(t)}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function UR(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?WR(Object(n),!0).forEach((function(e){VR(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function VR(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=FR(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=FR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==FR(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var GR=function(t){return(0,Qm.jsx)("div",UR(UR({},t),{},{children:(0,Qm.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 448 512",children:(0,Qm.jsx)("path",{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"})})}))},zR=function(t){var e=t.isOpen,n=t.onRequestClose,r=t.onOkClick;return(0,Qm.jsxs)(wx(),{isOpen:e,onRequestClose:n,ariaHideApp:!1,closeTimeoutMS:200,className:"ConfirmModal",overlayClassName:"ConfirmModalOverlay",shouldCloseOnOverlayClick:!0,children:[(0,Qm.jsx)("div",{className:"icon",children:(0,Qm.jsx)(GR,{})}),(0,Qm.jsxs)("div",{className:"content",children:[(0,Qm.jsx)("p",{children:(0,$.tr)("indicators.remove_all")}),(0,Qm.jsxs)("div",{className:"buttons",children:[(0,Qm.jsx)("button",{className:"btn btn-default",onClick:n,children:(0,$.tr)("deals.cancel")}),(0,Qm.jsx)("button",{className:"btn btn-green",onClick:r,children:"OK"})]})]})]})};function YR(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return XR(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XR(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XR(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var qR=function(t){var e=t.count,n=YR((0,Xm.useState)(!1),2),r=n[0],i=n[1],o=(0,Lb.wA)(),a=(0,Xm.useContext)(a_),s=(0,Lb.d4)((function(t){return(0,vf.E_)(t)(a)})).id;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("a",{className:(0,Km.A)("items__link"),onClick:function(t){t.stopPropagation(),u.A.publish(Hn.nS),i(!0)},children:[(0,Qm.jsx)("i",{className:"items__fa fa fa-trash"}),(0,Qm.jsx)(yx,{count:e})]}),(0,Qm.jsx)(zR,{onRequestClose:function(){u.A.publish(Hn.nS),i(!1)},isOpen:r,onOkClick:function(){var t;u.A.publish(Hn.nS),o((t={chartId:a,assetId:s},function(e){var n=t.assetId,r=t.chartId;e(Jp.o1.removeAll({assetId:n,chartId:r})),e(Zp.o1.removeAll({chartId:r}))}))}})]})};qR.propTypes={count:Jm().number.isRequired};var KR=qR;function ZR(t){return ZR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZR(t)}var JR=["children","Container"];function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?QR(Object(n),!0).forEach((function(e){eB(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eB(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=ZR(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ZR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ZR(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nB=function(t){var e=t.children,n=t.Container,r=void 0===n?"span":n,i=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,JR);return(0,Qm.jsx)(r,tB(tB({},i),{},{onAnimationEnd:function(t){return t.currentTarget.classList.remove("blinking")},onClick:function(t){void 0!==i.onClick&&i.onClick(),t.currentTarget.classList.add("blinking")},children:e}))};function rB(t){return rB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rB(t)}function iB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iB(Object(n),!0).forEach((function(e){aB(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function aB(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=rB(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rB(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sB=w_((function(t,e,n){return{chartId:n,favoriteIndicators:t.indicators.favorites}}),{indicatorAdd:Im,indicatorFavorite:Mm,indicatorUnfavorite:Rm},a_)((function(t){var e=t.indicatorAdd,n=t.chartId,r=t.favoriteIndicators,i=t.indicatorFavorite,o=t.indicatorUnfavorite,a=t.tab===QC?Object.keys(sm):r,s=function(t){return function(){u.A.publish(Hn.nS),i(t)}},c=function(t){return function(){u.A.publish(Hn.nS),o(t)}},l=function(t){return function(){u.A.publish(Hn.nS),e(oB(oB({},sm[t].config),{},{chartId:n,type:t}))}};return(0,Qm.jsx)(Qm.Fragment,{children:a.map((function(t){var e=r.includes(t);return(0,Qm.jsxs)(nB,{Container:"div",className:(0,Km.A)("indicator",e&&"has-favorites"),children:[e&&(0,Qm.jsx)("a",{className:"indicator--icon",onClick:c(t),children:(0,Qm.jsx)("i",{className:"fa fa-star del"})}),!e&&(0,Qm.jsx)("a",{className:"indicator--icon",onClick:s(t),children:(0,Qm.jsx)("i",{className:"fa fa-star-o add"})}),(0,Qm.jsx)("span",{onClick:l(t),className:"indicator--label",children:(0,$.tr)("indicators.".concat(t))})]},t)}))})})),cB=w_((function(t,e,n){var r=ym(n);return function(t){return{chartId:n,indicators:r(t)}}}),null,a_)((function(t){var e=t.handleEditClick,n=t.indicators;return(0,Qm.jsx)(Qm.Fragment,{children:n.map((function(t){var n=t.id,r=t.type;return(0,Qm.jsx)("div",{className:"indicator",children:(0,Qm.jsxs)("div",{className:"indicator--label",onClick:e(n),children:[(0,Qm.jsxs)("div",{children:[(0,$.tr)("indicators.".concat(r))," ",(0,Qm.jsx)(EP,{indicator:t})]}),(0,Qm.jsx)("div",{className:"actions",children:(0,Qm.jsx)(fP,{className:"icon-wrapper",width:18,height:18})})]},n)},r)}))})}));function lB(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return uB(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uB(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var dB=w_((function(t,e,n){var r=ym(n);return function(t){return{chartId:n,favoritesCount:t.indicators.favorites.length,indicators:r(t)}}}),null,a_)((function(t){var e=t.isOpen,n=t.chartId,r=t.favoritesCount,i=t.indicators,o=t.onRequestClose,a=(0,Lb.wA)(),s=lB((0,Xm.useState)(QC),2),c=s[0],l=s[1],d=lB((0,Xm.useState)(null),2),f=d[0],h=d[1],p=i.length;(0,Xm.useEffect)((function(){(0===r&&c===JC||0===p&&c===tP)&&l(QC)}),[r,p]);var m=function(t){return function(){return l(t)}},y=i.find((function(t){return t.id===f}));return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)(wx(),{isOpen:e&&null==f,onRequestClose:o,ariaHideApp:!1,closeTimeoutMS:1,className:"IndicatorsList",overlayClassName:"IndicatorsListOverlay",shouldCloseOnOverlayClick:!0,children:[(0,Qm.jsxs)("div",{className:"m-header",children:[(0,Qm.jsx)("span",{children:(0,$.tr)("chart_settings.indicators")}),(0,Qm.jsx)("a",{onClick:o,children:(0,Qm.jsx)(eI,{})})]}),(r>0||p>0)&&(0,Qm.jsxs)("ul",{className:"tab-nav tab-nav--v2",children:[r>0&&(0,Qm.jsx)("li",{className:(0,Km.A)("fav",c===JC&&"active"),children:(0,Qm.jsx)("a",{onClick:m(JC),children:(0,$.tr)("assets.fav")})}),p>0&&(0,Qm.jsx)("li",{className:(0,Km.A)(c===tP&&"active"),children:(0,Qm.jsxs)("a",{onClick:m(tP),children:[(0,$.tr)("indicators.current")," (",p,")"]})}),(0,Qm.jsx)("li",{className:(0,Km.A)(c===QC&&"active"),children:(0,Qm.jsx)("a",{onClick:m(QC),children:(0,$.tr)("indicators.all_ind")})})]}),(0,Qm.jsxs)(Xg,{className:"m-content",children:[c!==tP&&(0,Qm.jsx)(sB,{tab:c}),c===tP&&(0,Qm.jsx)(cB,{indicators:i,handleEditClick:function(t){return function(){u.A.publish(Hn.nS),h(t)}},handleDeleteClick:function(t){return function(){u.A.publish(Hn.nS),a(Dm(t))}}})]}),p>0&&c!==JC&&(0,Qm.jsx)("a",{className:"remove-all",onClick:function(){u.A.publish(Hn.nS),a(Bm(n))},children:"".concat((0,$.tr)("drawings.delete_all")," (").concat(p,")")})]}),(0,Qm.jsx)(fI,{isOpen:null!=y,indicator:y,onRequestClose:function(){u.A.publish(Hn.nS),h(null)}})]})}));function fB(t){return fB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fB(t)}function hB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hB(Object(n),!0).forEach((function(e){mB(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mB(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=fB(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fB(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yB=w_((function(t,e,n){var r=vm(n);return function(t){var e=(0,vf.E_)(t)(n);return{asset:e,chartId:n,drawings:r(t)(e.id)}}}),{addDrawing:Pm},a_)((function(t){var e=t.addDrawing,n=t.asset,r=t.chartId;return(0,Qm.jsx)(Qm.Fragment,{children:Object.keys(jy).map((function(t){var i,o=jy[t],a=o.icon,s=o.label;return(0,Qm.jsx)(nB,{Container:"div",className:"drawings-modal__item",onClick:(i=t,function(){var t=jy[i],o=parseInt(i,10);e(pB(pB({},t.config),{},{chartId:r,type:o,assetId:n.id,symbol:n.symbol}))}),children:(0,Qm.jsxs)("div",{className:"drawings-modal__item-info",children:[(0,Qm.jsx)("div",{className:"drawing-icon",children:(0,Qm.jsx)(a,{})}),(0,Qm.jsx)("span",{className:"drawing-label",children:s})]})},t)}))})})),vB=function(t){var e=t.drawings,n=t.handleEditClick;return(0,Qm.jsx)(Qm.Fragment,{children:e.map((function(t){var e=t.id,r=t.type,i=jy[r],o=i.icon,a=i.label;return(0,Qm.jsxs)("div",{className:"drawings-modal__item",onClick:n(e),children:[(0,Qm.jsxs)("div",{className:"drawings-modal__item-info",children:[(0,Qm.jsx)("div",{className:"drawing-icon",children:(0,Qm.jsx)(o,{})}),(0,Qm.jsx)("span",{className:"drawing-label",children:a})]}),(0,Qm.jsx)("div",{className:"actions",children:(0,Qm.jsx)(fP,{className:"icon-wrapper",width:18,height:18})})]},e)}))})};function bB(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return gB(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gB(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var wB="all",jB="current",xB=function(t){var e=t.isOpen,n=t.asset,r=t.chartId,i=t.drawings,o=t.onRequestClose,a=(0,Lb.wA)(),s=bB((0,Xm.useState)(wB),2),c=s[0],l=s[1],d=function(t){return function(){return l(t)}},f=bB((0,Xm.useState)(null),2),h=f[0],p=f[1],m=i.length;(0,Xm.useEffect)((function(){0===m&&c===jB&&l(wB)}),[m]);return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)(wx(),{isOpen:e&&null==h,onRequestClose:o,ariaHideApp:!1,closeTimeoutMS:1,className:"DrawingsList",overlayClassName:"DrawingsListOverlay",shouldCloseOnOverlayClick:!0,children:[(0,Qm.jsxs)("div",{className:"m-header",children:[(0,Qm.jsx)("span",{children:(0,$.tr)("chart_settings.drawings")}),(0,Qm.jsx)("a",{onClick:o,children:(0,Qm.jsx)(eI,{})})]}),m>0&&(0,Qm.jsxs)("ul",{className:"tab-nav tab-nav--v2",children:[(0,Qm.jsx)("li",{className:(0,Km.A)(c===jB&&"active"),children:(0,Qm.jsxs)("a",{onClick:d(jB),children:[(0,$.tr)("drawings.current")," (",m,")"]})}),(0,Qm.jsx)("li",{className:(0,Km.A)(c===wB&&"active"),children:(0,Qm.jsx)("a",{onClick:d(wB),children:(0,$.tr)("drawings.all")})})]}),(0,Qm.jsxs)(Xg,{className:(0,Km.A)("m-content","tab-".concat(c)),children:[c===wB&&(0,Qm.jsx)(yB,{}),c===jB&&(0,Qm.jsx)(vB,{drawings:i,handleEditClick:function(t){return function(){return p(t)}}})]}),m>0&&(0,Qm.jsx)("a",{className:"remove-all",onClick:function(){a(Em({chartId:r,assetId:n.id,symbol:n.symbol})),u.A.publish(Hn.nS)},children:"".concat((0,$.tr)("drawings.delete_all")," (").concat(m,")")})]}),(0,Qm.jsx)(tM,{isOpen:null!==h,drawingId:h,onRequestClose:function(){return p(null)}})]})};xB.propTypes={onRequestClose:Jm().func.isRequired};var _B=w_((function(t,e,n){var r=vm(n);return function(t){var e=(0,vf.E_)(t)(n);return{asset:e,chartId:n,drawings:r(t)(e.id)}}}),null,a_)(xB);function SB(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return OB(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OB(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var kB=function(){var t=SB((0,Xm.useState)(),2),e=t[0],n=t[1],r=(0,Lb.wA)(),i=(0,Xm.useContext)(a_),o=(0,Lb.d4)((function(t){return t.chartSettings.chartById[i].candlesTimer})),a=(0,Lb.d4)((function(t){return t.chartSettings.chartById[i].showArea})),s=(0,Lb.d4)((function(t){return t.chartSettings.chartById[i].enabledAutoscroll})),c=(0,Lb.d4)((function(t){return t.chartSettings.chartById[i].enabledGridSnap})),l=(0,Lb.d4)((function(t){return t.chartSettings.chartById[i].chartType})),u=(0,Lb.d4)((function(t){return t.global.isMobile})),d=function(t){return function(){return r(Tp({chartType:t,chartId:i}))}},f=!(0,nh.Mt)(l);return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("ul",{className:"chart-settings-modal__types-list types-list",children:Object.keys(rh.dV).map((function(t){return(0,Qm.jsx)("li",{className:(0,Km.A)("types-list__item",rh.dV[t]===l&&"active"),children:(0,Qm.jsxs)("a",{onClick:d(rh.dV[t]),className:"types-list__link",children:[(0,Qm.jsx)(Rb.k,{src:(e=rh.ab[rh.dV[t]],"/themes/cabinet/svg/icons/chart-types/".concat(e,".svg")),className:"svg-icon-wrapper"}),(0,Qm.jsx)("span",{className:"types-list__label",children:rh.U6[rh.M[t]]})]})},rh.dV[t]);var e}))}),(0,Qm.jsxs)("div",{className:"chart-settings-modal__settings",children:[!f&&(0,Qm.jsx)(WC,{isEnabled:a,handleChange:function(t){return r(zh(i,!!t.target.checked))}}),f&&(0,Qm.jsx)(kC,{isEnabled:o,handleChange:function(t){return r(Cp(i,!!t.target.checked))}}),(0,Qm.jsx)(AC,{isEnabled:s,handleChange:function(t){return r(Fh(i,!!t.target.checked))}}),f&&!u&&(0,Qm.jsx)(PC,{isEnabled:c,handleChange:function(t){return r(Gh(i,!!t.target.checked))}})]}),f&&(0,Qm.jsx)("div",{className:"chart-settings-modal__change-color change-color",children:(0,Qm.jsx)("a",{onClick:function(){return n(!0)},className:"change-color__title",children:(0,$.tr)("chart_settings.candle_colors")})}),(0,Qm.jsx)($C,{isOpen:e,onRequestClose:function(){return n(!1)}})]})},TB=function(){var t=(0,Lb.wA)(),e=(0,Xm.useContext)(a_),n=Object.values(oh()(rh.YE,["S1"])),r=function(n){return function(){return t(Ap({chartPeriod:n,chartId:e}))}},i=(0,Lb.d4)((function(t){return t.chartSettings.chartById[e].chartPeriod}));return(0,Qm.jsx)("ul",{className:"interval-list",children:n.map((function(t){return(0,Qm.jsx)("li",{className:(0,Km.A)("interval-list__item",t===i&&"active"),children:(0,Qm.jsx)("a",{onClick:r(t),className:"interval-list__link",children:(0,Qm.jsx)("span",{className:"interval-list__label",children:rh.$t[t]})})},t)}))})};function AB(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return CB(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CB(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var PB="chart_types",EB="time_frames",IB=[PB],NB=[PB,EB],DB=function(t){var e=t.isOpen,n=t.onRequestClose,r=AB((0,Xm.useState)(PB),2),i=r[0],o=r[1],a=(0,Xm.useContext)(a_),s=(0,Lb.d4)((function(t){return t.chartSettings.chartById[a].chartType})),c=(0,Lb.d4)((function(t){return t.chartSettings.chartById[a].chartPeriod})),l=(0,Xm.useRef)(null),u=AB((0,Xm.useState)(null),2),d=u[0],f=u[1],h=function(t){return function(){t===EB&&(0,nh.Mt)(s)||i===t||(t===EB&&l.current?f({height:l.current.offsetHeight}):f(null),o(t))}},p=(0,nh.Mt)(s)?IB:NB;return(0,Qm.jsx)(wx(),{isOpen:e,onRequestClose:n,ariaHideApp:!1,closeTimeoutMS:1,className:"ChartSettingsModal",overlayClassName:"ChartSettingsModalOverlay",shouldCloseOnOverlayClick:!0,contentRef:function(t){l.current=t},children:(0,Qm.jsxs)("div",{className:"chart-settings-modal",ref:l,style:d,children:[(0,Qm.jsx)("div",{className:"chart-settings-modal__nav",children:p.map((function(t){var e=(0,$.tr)("chart_settings.".concat(t));return t===EB&&function(t,e){return!(0,nh.Mt)(t)&&rh.$t[e]}(s,c)&&(e+=" (".concat(rh.$t[c],")")),t===i?(0,Qm.jsx)("a",{className:"chart-settings-modal__nav-link active",children:e},t):(0,Qm.jsx)("a",{onClick:h(t),className:"chart-settings-modal__nav-link",children:e},t)}))}),i===PB&&(0,Qm.jsx)(kB,{}),i===EB&&(0,Qm.jsx)(TB,{})]})})},LB=DB;function MB(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return RB(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RB(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var BB=function(){var t=(0,Lb.wA)(),e=(0,Xm.useContext)(a_),n=MB((0,Xm.useState)(!1),2),r=n[0],i=n[1],o=(0,Lb.d4)((function(t){return(0,vf.E_)(t)(e)})),a=(0,Lb.d4)((function(t){return ym(e)(t).length})),s=(0,Lb.d4)((function(t){return vm(e)(t)(o.id).length})),c=(0,Lb.d4)((function(t){return t.global.openingFirstDealPanel})),l=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.INDICATORS_MODAL]})),d=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.CHART_SETTINGS]})),f=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.DRAWINGS_MODAL]})),h=(0,Lb.d4)(xf),p=(0,Lb.d4)(Gu.AP),m=(0,Lb.d4)(Xf.X4),y=function(){u.A.publish(Hn.nS),i(!1)},v=function(e){return function(){u.A.publish(Hn.nS),t(cp({modalId:e,value:!0}))}},b=function(e){return function(){u.A.publish(Hn.nS),t(cp({modalId:e,value:!1}))}},g=a+s;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"items",children:[!r&&(0,Qm.jsx)("div",{className:"settings-container",children:(0,Qm.jsx)(wC,{onClick:function(){u.A.publish(Hn.nS),i(!0)},isOpen:r})}),r&&(0,Qm.jsxs)("div",{className:"settings-container",children:[(0,Qm.jsx)(wC,{onClick:y,isOpen:r}),(0,Qm.jsxs)(sx,{className:(0,Km.A)("two-columns",r&&"open",!r&&"hide"),onClick:y,onClickOutside:y,shouldCapture:!0,chartId:e,children:[(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)(xC,{isOpened:d,handleClick:v(qo.lx.CHART_SETTINGS)}),(0,Qm.jsx)(_C,{isOpened:l,count:a,handleClick:v(qo.lx.INDICATORS_MODAL)}),(0,Qm.jsx)(SC,{count:s,handleClick:v(qo.lx.DRAWINGS_MODAL)})]}),!m&&(0,Qm.jsxs)("div",{children:[!h&&(0,Qm.jsx)(uC,{}),(!p||!c)&&(0,Qm.jsx)(dC,{})]})]})]}),g>0&&(0,Qm.jsx)(KR,{count:g})]}),(0,Qm.jsx)(LB,{isOpen:d,onRequestClose:b(qo.lx.CHART_SETTINGS)}),(0,Qm.jsx)(dB,{isOpen:l,onRequestClose:b(qo.lx.INDICATORS_MODAL)}),(0,Qm.jsx)(_B,{isOpen:f,onRequestClose:b(qo.lx.DRAWINGS_MODAL)})]})},HB=function(t){var e=t.editIndicatorHandler,n=t.indicator,r=(0,Lb.wA)(),i=(0,Lb.d4)((function(t){return t.global.isMobile}));return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("span",{className:"chart-indicator-info",title:"".concat((0,$.tr)("indicators.".concat(n.type))," ").concat(CP(n)),children:[(0,$.tr)("indicators.".concat(n.type))," ",(0,Qm.jsx)(EP,{indicator:n})]}),(0,Qm.jsxs)("div",{className:"current-indicators__controls",children:[!i&&(0,Qm.jsx)("a",{onClick:function(){return r(Lm(n.id,!n.visible))},children:(0,Qm.jsx)("i",{className:(0,Km.A)("fa",n.visible?"fa-eye":"fa-eye-slash")})}),(0,Qm.jsx)("a",{onClick:e,children:(0,Qm.jsx)("i",{className:"fa fa-pencil"})}),!i&&(0,Qm.jsx)("a",{onClick:function(){return r(Dm(n.id))},children:(0,Qm.jsx)("i",{className:"fa fa-times"})})]})]})};function $B(t){return{type:Rp.FE,payload:t}}function FB(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return WB(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WB(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var UB=w_((function(t,e,n){var r,i=(r=n,(0,hf.Mz)([um,fm],(function(t,e){return e.filter((function(e){var n=t[e],i=n.chartId,o=n.type;return i===r&&!lm(o)})).map((function(e){return t[e]}))})));return function(t){return{indicators:i(t),collapseIndicatorsInfo:t.global.collapseIndicatorsInfo}}}),{changeCollapseIndicatorsInfo:$B},a_)((function(t){var e=t.collapseIndicatorsInfo,n=t.changeCollapseIndicatorsInfo,r=t.indicators,i=FB((0,Xm.useState)(null),2),o=i[0],a=i[1],s=function(t){return function(){return a(t.id)}};if(!r.length)return null;var c=r.find((function(t){return t.id===o}));return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:(0,Km.A)("current-indicators",!e&&"open"),children:[(0,Qm.jsxs)("a",{className:"current-indicators-collapse",onClick:function(){return n(!e)},children:[(0,Qm.jsx)("i",{className:"fa fa-caret-right"}),e&&(0,Qm.jsx)("span",{className:"cnt",children:r.length})]}),!e&&(0,Qm.jsx)("ul",{children:r.map((function(t){return(0,Qm.jsx)("li",{className:(0,Km.A)(!t.visible&&"muted"),children:(0,Qm.jsx)(HB,{indicator:t,editIndicatorHandler:s(t)})},t.id)}))})]}),(0,Qm.jsx)(fI,{isOpen:null!=c,indicator:c,onRequestClose:function(){return a(null)}})]})})),VB=function(t){var e=t.handleCloseMenu,n=t.openMenu,r=t.openedMenu,i=t.openerRef,o=(0,Xm.useRef)(),a=(0,Xm.useRef)(),s=(0,Xm.useRef)(),c=(0,Xm.useContext)(a_),l=(0,Lb.d4)((function(t){return(0,vf.E_)(t)(c)})),u=(0,Lb.d4)((function(t){return ym(c)(t).length})),d=(0,Lb.d4)((function(t){return vm(c)(t)(l.id).length})),f=(0,Lb.d4)((function(t){return t.global.openingFirstDealPanel})),h=(0,Lb.d4)((function(t){return t.global.isMobile})),p=(0,Lb.d4)((function(t){return t.global.windowLayout})),m=(0,Lb.d4)((function(t){return t.global.isDemo})),y=(0,Lb.d4)((function(t){return t.global.isTournament})),v=(0,Lb.d4)(Gu.TF),b=nS(i.current),g=!h&&!(0,bC.h0)(p),w=p!==bf.rs.FULL;return(0,Qm.jsx)(Yj,{timeout:200,classNames:"drop-down-modal-wrap",className:"drop-down-modal-wrap",onClick:e,style:b,children:(0,Qm.jsxs)(sx,{className:"two-columns",onClickOutside:e,chartId:c,children:[(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)(xC,{isOpened:r===aM,ref:o,handleClick:function(){return n(aM)}}),(0,Qm.jsx)(_C,{count:u,ref:a,isOpened:r===sM,handleClick:function(){return n(sM)}}),(0,Qm.jsx)(SC,{count:d,ref:s,isOpened:r===cM,handleClick:function(){return n(cM)}}),g&&(0,Qm.jsx)(gC,{})]}),(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)(uC,{}),(!m||!f)&&(0,Qm.jsx)(dC,{}),y&&(0,Qm.jsx)(fC,{}),v&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)(pC,{position:"down"}),(0,Qm.jsx)(yC,{position:"down"})]}),w&&(0,Qm.jsx)(vC,{})]})]})})};function GB(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return zB(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zB(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var YB=function(){var t=GB((0,Xm.useState)(!1),2),e=t[0],n=t[1],r=GB((0,Xm.useState)(null),2),i=r[0],o=r[1],a=(0,Xm.useRef)(),s=function(){return n(!1)},c=function(){u.A.publish(Hn.nS),o(null)},l=(0,Lb.d4)((function(t){return t.chartSettings.visibleChartIds.length>1})),d=(0,Xm.useRef)();return(0,Qm.jsxs)("div",{className:"items",children:[(0,Qm.jsxs)("div",{ref:d,className:"settings-container",children:[e&&(0,Qm.jsx)(wC,{onClick:s,isOpen:!0}),!e&&(0,Qm.jsx)(wC,{onClick:function(){u.A.publish(Hn.nS),n(!0)},isOpen:!1}),e&&(0,Qm.jsx)(VB,{openerRef:d,handleCloseMenu:s,openMenu:o,openedMenu:i})]}),!l&&(0,Qm.jsx)(oM,{ref:a,isOpened:i===lM,handleClick:function(){return o(lM)}}),(0,Qm.jsx)(LB,{isOpen:i===aM,onRequestClose:c}),(0,Qm.jsx)(dB,{isOpen:i===sM,onRequestClose:c}),(0,Qm.jsx)(_B,{isOpen:i===cM,onRequestClose:c}),i===lM&&(0,Qm.jsx)(nC,{onClickOutside:c,openerNode:a.current,onDropdownClose:c})]})},XB=(0,Lb.Ng)((function(t){var e=t.global,n=e.enabledTooltipMessage;return{showTooltip:!e.isMobile&&n}}))((function(t){var e=t.showTooltip;return(0,Qm.jsx)(Xm.Fragment,{children:(0,Qm.jsx)("div",{className:"info-icons--gift info-icons__item info-icons--active",children:(0,Qm.jsxs)("a",{className:(0,Km.A)("mfp-ajax-modal info-icons__link",e&&"tooltip2"),href:(0,tn.hX)("cabinet/ajax/modal/bonus-info"),children:[(0,Qm.jsx)("span",{className:"info-icons__icon",children:(0,Qm.jsx)("i",{className:"fa fa-gift"})}),e&&(0,Qm.jsx)(nw,{position:"right",text:"right_panel.on_bonus"})]})})})})),qB=n(66429);function KB(t,e){return t.day===e.day&&t.month===e.month&&t.year===e.year}var ZB=function(t){for(var e=t.calendarItem.priority,n=[],r=0;r<e;r++)n.push((0,Qm.jsx)("li",{},r));return(0,Qm.jsx)("ul",{className:(0,Km.A)("priority-items","priority-items--count-".concat(e)),children:n})},JB=function(t){var e=t.calendarItem,n=e.country_code,r=e.country_name;return(0,Qm.jsx)("div",{className:"flag-wrap",children:(0,Qm.jsx)("img",{src:"".concat((0,tn.pc)("images/flag/24"),"/").concat(n.toUpperCase(),".png"),alt:r,title:r})})},QB=function(t){var e=t.item,n=t.openedItem,r=t.handleOpenItem,i=e.country_name,o=e.event,a=e.previous,s=e.forecast,c=e.actual,l=e.time,u=e.event_description,d=e.priority_,f=(0,ij.Pw)(l),h=function(t){if(t<0)return"";var e=Math.floor(t/60/60),n=Math.floor(t/60)-60*e;return"".concat((0,dh.wl)(e),"h. ").concat((0,dh.wl)(n),"m.")}(f.timestamp-(0,ij.v6)().timestamp),p=n===e.id;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("tr",{onClick:r(e.id),className:(0,Km.A)(p&&"opened"),children:[(0,Qm.jsx)("td",{children:"".concat(f.hour,":").concat(f.min)}),(0,Qm.jsxs)("td",{children:[(0,Qm.jsx)(ZB,{calendarItem:e})," ",(0,Qm.jsx)("div",{className:"priority-text",children:e.priority_})]}),(0,Qm.jsx)("td",{children:h}),(0,Qm.jsx)("td",{children:(0,Qm.jsxs)("div",{className:"event-wrap",children:[(0,Qm.jsx)(JB,{calendarItem:e}),o]})}),(0,Qm.jsx)("td",{children:a}),(0,Qm.jsx)("td",{children:(0,Qm.jsx)("span",{className:"forecast-text",children:s})}),(0,Qm.jsx)("td",{children:(0,Qm.jsx)("span",{className:"actual-text",children:c})})]}),p&&(0,Qm.jsx)("tr",{className:"calendar-item-info-block",children:(0,Qm.jsx)("td",{colSpan:"7",children:(0,Qm.jsxs)("table",{children:[(0,Qm.jsxs)("colgroup",{children:[(0,Qm.jsx)("col",{style:{width:"15%"}}),(0,Qm.jsx)("col",{style:{width:"85%"}})]}),(0,Qm.jsxs)("tbody",{children:[(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,Qm.jsx)("span",{children:(0,$.tr)("analytics-modal.desc")})}),(0,Qm.jsx)("td",{children:u})]}),(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,Qm.jsx)("span",{children:(0,$.tr)("analytics-modal.priority")})}),(0,Qm.jsx)("td",{children:(0,Qm.jsxs)("div",{className:"wrap",style:{display:"flex"},children:[d,(0,Qm.jsx)(ZB,{calendarItem:e})]})})]}),(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,Qm.jsx)("span",{children:(0,$.tr)("analytics-modal.country")})}),(0,Qm.jsx)("td",{children:(0,Qm.jsxs)("div",{className:"event-wrap",children:[(0,Qm.jsx)(JB,{calendarItem:e}),i]})})]})]})]})})})]})};function tH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return eH(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eH(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function nH(){var t,e=tH((0,Xm.useState)(bH.TODAY),2),n=e[0],r=e[1],i=tH((0,Xm.useState)(!0),2),o=i[0],a=i[1],s=tH((0,Xm.useState)(null),2),c=s[0],l=s[1],u=qB.y.endpoints.getAnalyticsData.useQuery(),d=u.data,f=void 0===d?{calendar:[],analytics:[]}:d,h=u.isLoading,p=function(t){return function(){return l((function(e){return e===t?null:t}))}},m=(0,ij.v6)(),y=(0,ij.hx)(m.timestamp+86400),v=(0,ij.Z2)(),b="UTC".concat(v>=0?"+":"").concat(v),g=f.calendar.filter((function(t){var e=(0,ij.Pw)(t.time),r=e.timestamp-m.timestamp,i=KB(m,e)&&n===bH.TODAY,a=KB(y,e)&&n===bH.TOMORROW;return(i||a)&&(!o||r>0)}));return(0,Qm.jsxs)("div",{className:"tabs__content tab-calendar active",children:[(0,Qm.jsxs)("div",{className:"filter",children:[(0,Qm.jsxs)("div",{className:"current-date",children:[(0,$.tr)("analytics-modal.current_date"),":"," ",(0,Qm.jsx)("span",{children:(t=n===bH.TODAY?m:y,"".concat(t.day,".").concat(t.month,".").concat(t.year))})," (",b,")"]}),Object.values(bH).map((function(t){return(0,Qm.jsx)("div",{className:(0,Km.A)("btn_",n===t&&"active"),onClick:(e=t,function(){return r(e)}),children:(0,$.tr)("analytics-modal.".concat(t))},t);var e})),(0,Qm.jsx)("div",{className:"filter__switcher",children:(0,Qm.jsx)(Ij,{checked:o,onChange:function(t){return a(Boolean(t.target.checked))},children:(0,$.tr)("analytics-modal.show_actual")})})]}),(0,Qm.jsx)(Xg,{className:"calendar-block",children:(0,Qm.jsxs)("table",{className:"table table-calendar",children:[(0,Qm.jsxs)("colgroup",{children:[(0,Qm.jsx)("col",{style:{width:"10%"}}),(0,Qm.jsx)("col",{style:{width:"10%"}}),(0,Qm.jsx)("col",{style:{width:"10%"}}),(0,Qm.jsx)("col",{style:{width:"40%"}}),(0,Qm.jsx)("col",{style:{width:"10%"}}),(0,Qm.jsx)("col",{style:{width:"10%"}}),(0,Qm.jsx)("col",{style:{width:"10%"}})]}),(0,Qm.jsx)("thead",{children:(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("th",{children:(0,$.tr)("analytics-modal.time")}),(0,Qm.jsx)("th",{children:(0,$.tr)("analytics-modal.priority")}),(0,Qm.jsx)("th",{children:(0,$.tr)("analytics-modal.time_left")}),(0,Qm.jsx)("th",{children:(0,$.tr)("analytics-modal.event")}),(0,Qm.jsx)("th",{children:(0,$.tr)("analytics-modal.prev")}),(0,Qm.jsx)("th",{children:(0,Qm.jsx)("span",{className:"forecast-text",children:(0,$.tr)("analytics-modal.forecast")})}),(0,Qm.jsx)("th",{children:(0,Qm.jsx)("span",{className:"actual-text",children:(0,$.tr)("analytics-modal.actual")})})]})}),(0,Qm.jsxs)("tbody",{children:[h&&(0,Qm.jsx)("tr",{children:(0,Qm.jsx)("td",{colSpan:"7",className:"loading",children:(0,Qm.jsx)(Aw,{})})}),!h&&0===g.length&&(0,Qm.jsx)("tr",{children:(0,Qm.jsx)("td",{colSpan:"7",children:(0,Qm.jsx)("div",{className:"message message-info notification-message",children:(0,$.tr)("analytics-modal.no-events")})})}),!h&&g.length>0&&g.map((function(t){return(0,Qm.jsx)(QB,{item:t,openedItem:c,handleOpenItem:p},t.id)}))]})]})})]})}var rH=function(t){var e=t.item,n=t.handleOpenItem,r=e.direction,i=e.created_at,o=e.pair_,a=e.title,s=e.type_,c=e.strategy_text,l=(0,ij.Pw)(i),u="".concat(l.day,"-").concat(l.month,"-").concat(l.year," ").concat(l.hour,":").concat(l.min);return(0,Qm.jsxs)("tr",{className:"direction-".concat(r),onClick:n(e.id),children:[(0,Qm.jsx)("td",{children:u}),(0,Qm.jsx)("td",{children:o}),(0,Qm.jsx)("td",{children:(0,Qm.jsx)("span",{className:"a-title",children:a})}),(0,Qm.jsx)("td",{children:(0,Qm.jsx)("span",{className:"type",title:s,style:{textTransform:"uppercase"},children:s.substring(0,4)})}),(0,Qm.jsx)("td",{children:c})]})},iH=function(t){var e=t.item,n=t.handleCloseInfo,r=e.created_at,i=e.pair_,o=e.title,a=e.strategy_text,s=e.recommendation_,c=e.in_points,l=e.take_profit,u=e.stop_loss,d=e.key_levels,f=e.alt_recommendation_,h=e.alt_in_points,p=e.alt_take_profit,m=e.alt_stop_loss,y=e.alt_key_levels,v=e.text,b="string"==typeof a&&"empty"!==a.toLowerCase()&&s&&c&&l&&u&&d,g=f&&h&&p&&m&&y,w=(0,ij.Pw)(r);return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("a",{onClick:n,className:"arrow-back",children:(0,Qm.jsx)("i",{className:"fa fa-chevron-left"})}),(0,Qm.jsxs)("div",{className:"cnt",children:[(0,Qm.jsx)("h2",{children:o}),(0,Qm.jsxs)("p",{className:"date",children:["".concat(w.day,"-").concat(w.month,"-").concat(w.year," ").concat(w.hour,":").concat(w.min,":").concat(w.sec)," ",i]}),(0,Qm.jsx)("div",{className:"text",dangerouslySetInnerHTML:{__html:v}}),(0,Qm.jsx)("div",{className:"scenarion-block",children:b&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("h3",{children:(0,$.tr)("analytics-modal.scenario")}),(0,Qm.jsxs)("table",{className:"table",children:[(0,Qm.jsxs)("colgroup",{children:[(0,Qm.jsx)("col",{style:{width:"30%"}}),(0,Qm.jsx)("col",{style:{width:"70%"}})]}),(0,Qm.jsxs)("tbody",{children:[a&&(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("analytics-modal.tf")}),(0,Qm.jsx)("td",{children:a})]}),s&&(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("analytics-modal.recommend")}),(0,Qm.jsx)("td",{children:s})]}),c&&(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("analytics-modal.entry_point")}),(0,Qm.jsx)("td",{children:c})]}),l&&(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("analytics-modal.tp")}),(0,Qm.jsx)("td",{children:l})]}),u&&(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("analytics-modal.sl")}),(0,Qm.jsx)("td",{children:u})]}),d&&(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("analytics-modal.kl")}),(0,Qm.jsx)("td",{children:d})]})]})]})]})}),(0,Qm.jsx)("div",{className:"scenarion-block",children:g&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("h3",{children:(0,$.tr)("analytics-modal.alt_scenario")}),(0,Qm.jsxs)("table",{className:"table",children:[(0,Qm.jsxs)("colgroup",{children:[(0,Qm.jsx)("col",{style:{width:"30%"}}),(0,Qm.jsx)("col",{style:{width:"70%"}})]}),(0,Qm.jsxs)("tbody",{children:[f&&(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("analytics-modal.recommend")}),(0,Qm.jsx)("td",{children:f})]}),h&&(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("analytics-modal.entry_point")}),(0,Qm.jsx)("td",{children:h})]}),p&&(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("analytics-modal.tp")}),(0,Qm.jsx)("td",{children:p})]}),m&&(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("analytics-modal.sl")}),(0,Qm.jsx)("td",{children:m})]}),y&&(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("td",{children:(0,$.tr)("analytics-modal.kl")}),(0,Qm.jsx)("td",{children:y})]})]})]})]})})]})]})};function oH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return aH(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aH(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var sH=function(){var t=qB.y.endpoints.getAnalyticsData.useQuery(),e=t.data,n=void 0===e?{analytics:[]}:e,r=t.isLoading,i=oH((0,Xm.useState)(null),2),o=i[0],a=i[1],s=function(t){return function(){return a((function(e){return e===t?null:t}))}},c=null!=o?n.analytics.find((function(t){return t.id===o})):null;return(0,Qm.jsx)("div",{className:"tabs__content tab-analytics active",children:(0,Qm.jsxs)("div",{className:(0,Km.A)("analytics-block",null!==o&&"show-item-info"),children:[(0,Qm.jsx)(Xg,{className:"items",children:(0,Qm.jsxs)("table",{className:"table table-analytics",children:[(0,Qm.jsxs)("colgroup",{children:[(0,Qm.jsx)("col",{style:{width:"23%"}}),(0,Qm.jsx)("col",{style:{width:"15%"}}),(0,Qm.jsx)("col",{style:{width:"42%"}}),(0,Qm.jsx)("col",{style:{width:"10%"}}),(0,Qm.jsx)("col",{style:{width:"10%"}})]}),(0,Qm.jsx)("thead",{children:(0,Qm.jsxs)("tr",{children:[(0,Qm.jsx)("th",{children:(0,$.tr)("analytics-modal.date")}),(0,Qm.jsx)("th",{children:(0,$.tr)("analytics-modal.asset")}),(0,Qm.jsx)("th",{children:(0,$.tr)("analytics-modal.event")}),(0,Qm.jsx)("th",{children:(0,$.tr)("analytics-modal.type")}),(0,Qm.jsx)("th",{children:(0,$.tr)("analytics-modal.tf")})]})}),(0,Qm.jsxs)("tbody",{children:[r&&(0,Qm.jsx)("tr",{children:(0,Qm.jsx)("td",{colSpan:5,className:"loading",children:(0,Qm.jsx)(Aw,{})})}),!r&&0===n.analytics.length&&(0,Qm.jsx)("tr",{children:(0,Qm.jsx)("td",{colSpan:5,children:(0,Qm.jsx)("div",{className:"message message-info notification-message",children:(0,$.tr)("analytics-modal.no-events")})})}),!r&&n.analytics.length>0&&n.analytics.map((function(t){return(0,Qm.jsx)(rH,{item:t,openedItem:o,handleOpenItem:s},t.id)}))]})]})}),(0,Qm.jsx)(Xg,{className:"item-info-block",style:{overflow:"visible"},children:null!=c&&(0,Qm.jsx)(iH,{item:c,handleCloseInfo:function(){return a(null)}})})]})})},cH=(0,Qm.jsx)(Tx.A,{src:"/themes/cabinet/images/pages/applications/google-play.svg"}),lH=[{img:"analytics.png",title:(0,$.tr)("analytics-modal.analytics"),description:(0,$.tr)("analytics-modal.analys_desc"),iosLink:"https://itunes.apple.com/app/id6444283150",androidLink:"//play.google.com/store/apps/details?id=com.pocketoption.analyticsplatform",androidLinkApk:"/apk/po_trade_analytics-release.apk"},{img:"sygnals.png",title:(0,$.tr)("analytics-modal.signals_title"),description:(0,$.tr)("analytics-modal.signals_desc"),iosLink:"https://itunes.apple.com/app/id6444282927",androidLink:"//play.google.com/store/apps/details?id=com.pocketoption.signalsplatform",androidLinkApk:"/apk/po_trade_signals-release.apk"},{img:"strategies.png",title:(0,$.tr)("analytics-modal.strateg_title"),description:(0,$.tr)("analytics-modal.strateg_desc"),iosLink:"https://itunes.apple.com/app/id6444283093",androidLink:"//play.google.com/store/apps/details?id=com.pocketoption.strategiesplatform",androidLinkApk:"/apk/po_trade_strategies-release.apk"}],uH=function(){return(0,Qm.jsx)("div",{className:"tabs__content tab-apps active",children:(0,Qm.jsx)(Xg,{className:"applications",children:lH.map((function(t){return(0,Qm.jsxs)("div",{className:"applications__item",children:[(0,Qm.jsxs)("div",{className:"applications__left",children:[(0,Qm.jsx)("div",{className:"applications__img-wrap",children:(0,Qm.jsx)("img",{src:"/images/mt5/modals/clawshorns-analytics-modal/".concat(t.img),alt:t.title,className:"applications__img"})}),(0,Qm.jsxs)("div",{className:"applications__text-wrap",children:[(0,Qm.jsx)("h2",{className:"applications__title",children:t.title}),(0,Qm.jsx)("div",{className:"applications__text",children:t.description})]})]}),(0,Qm.jsxs)("div",{className:"applications__buttons",children:[t.androidLinkApk&&(0,Qm.jsxs)("a",{href:t.androidLinkApk,target:"_blank",className:"applications__btn applications__btn--android-apk",children:[(0,Qm.jsx)("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Qm.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.46037 7.7237C10.1241 8.48406 10.094 9.63774 9.37151 10.3602C8.32601 11.4057 7.03479 12.697 5.98929 13.7425C5.62688 14.1049 5.13542 14.3089 4.62311 14.3089C4.11079 14.3089 3.61933 14.1049 3.25692 13.7425C2.50274 12.9883 2.50274 11.7651 3.25692 11.0109C3.88128 10.3873 4.41601 9.85179 4.41601 9.85179C4.71815 9.55042 4.71815 9.06051 4.41601 8.75915C4.11465 8.45701 3.62474 8.45701 3.32338 8.75915C3.32338 8.75915 2.78788 9.29388 2.16429 9.91824C0.806606 11.2759 0.806606 13.4774 2.16429 14.8359C2.81647 15.4873 3.70124 15.8543 4.62311 15.8543C5.54574 15.8543 6.42974 15.4873 7.08192 14.8359C8.12742 13.7904 9.41865 12.4992 10.4642 11.4537C11.8218 10.0952 11.8218 7.8937 10.4642 6.53602C9.79111 5.86297 9.1451 6.65579 9.1451 7.08233C9.1451 7.39451 9.42019 7.69047 9.46037 7.7237ZM7.08192 10.691L7.13293 10.6616C7.35702 10.5287 8.21706 9.95997 7.62824 9.37115C6.87406 8.61697 6.87406 7.39374 7.62824 6.63956C8.67374 5.59406 9.96497 4.30283 11.0105 3.25733C11.3729 2.89492 11.8643 2.69169 12.3766 2.69169C12.889 2.69169 13.3804 2.89492 13.7428 3.25733C14.497 4.01151 14.497 5.23474 13.7428 5.9897C13.1185 6.61329 12.5837 7.14879 12.5837 7.14879C12.2816 7.45015 12.2816 7.93929 12.5837 8.24142C12.8851 8.54279 13.375 8.54279 13.6764 8.24142C13.6764 8.24142 14.2119 7.70592 14.8355 7.08233C16.1931 5.72388 16.1931 3.52238 14.8355 2.1647C14.1833 1.51251 13.2985 1.14624 12.3766 1.14624C11.454 1.14624 10.57 1.51251 9.91783 2.1647C8.87233 3.2102 7.58111 4.50142 6.5356 5.54692C5.17792 6.9046 5.17792 9.10611 6.5356 10.4646C6.81456 10.7427 7.08192 10.691 7.08192 10.691ZM9.46037 7.7237C9.47506 7.73606 9.45806 7.71288 9.38543 7.64179C9.41093 7.66883 9.43642 7.69588 9.46037 7.7237Z",fill:"currentColor"})}),(0,Qm.jsx)("div",{children:(0,$.tr)("analytics-modal.download_apk")})]}),t.androidLink&&(0,Qm.jsxs)("a",{href:t.androidLink,target:"_blank",className:"applications__btn applications__btn--android",children:[cH,(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)("p",{children:(0,$.tr)("analytics-modal.available_at")}),"Google Play"]})]})]})]},t.androidLink)}))})})};function dH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return fH(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fH(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var hH=function(t){var e=dH((0,Xm.useState)(t),2),n=e[0],r=e[1];return[n,function(){return r((function(t){return!t}))},function(t){return r(t)}]},pH=function(){return-1!==window.location.href.indexOf("trade.study")};function mH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return yH(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yH(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var vH={CALENDAR:"calendar",ANALYTICS:"analytics",APPS:"apps"},bH={TODAY:"today",TOMORROW:"tomorrow"},gH=function(t){var e=t.onRequestClose,n=(0,Lb.wA)(),r=mH((0,Xm.useState)(vH.CALENDAR),2),i=r[0],o=r[1],a=mH(hH(!1),2),s=a[0],c=a[1],l=qB.y.endpoints.getAnalyticsData.useQuery().data,u=(void 0===l?{calendar:[]}:l).calendar.some((function(t){var e=(0,ij.Pw)(t.time),n=(0,ij.v6)(),r=e.timestamp-n.timestamp;return r>0&&r<1800}));pH()&&delete vH.APPS;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"title crop-text",children:(0,$.tr)("left-icon.analytics-tooltip")}),(0,Qm.jsx)("div",{className:(0,Km.A)("hseow",s&&"hseow--active-w2"),children:(0,Qm.jsxs)("div",{className:"hseow__in",children:[(0,Qm.jsx)("div",{className:"hseow__body",children:(0,Qm.jsxs)("div",{className:"tabs page-tabs",children:[(0,Qm.jsx)("ul",{className:"tabs__caption",children:Object.values(vH).map((function(t){return(0,Qm.jsx)("li",{className:(0,Km.A)(i===t&&"active"),children:(0,Qm.jsxs)("a",{onClick:(e=t,function(){return o(e)}),children:[(0,$.tr)("analytics-modal.".concat(t)),t===vH.CALENDAR&&u&&(0,Qm.jsx)("i",{className:"fa fa-exclamation warning"})]})},t);var e}))}),i===vH.CALENDAR&&(0,Qm.jsx)(nH,{}),i===vH.ANALYTICS&&(0,Qm.jsx)(sH,{}),i===vH.APPS&&(0,Qm.jsx)(uH,{})]})}),(0,Qm.jsxs)("div",{className:"hseow__body vertical",children:[(0,Qm.jsx)("div",{className:"message message-info notification-message",children:(0,$.tr)("left-icon.on_off_indicator")}),(0,Qm.jsxs)("div",{className:"turn-off-buttons",children:[s&&(0,Qm.jsx)("a",{className:"show-turn-off-block-btn",onClick:c,children:(0,$.tr)("left-icon.back")}),(0,Qm.jsx)("a",{className:"btn btn-danger-transparent",onClick:function(){n(Bp("top_left_info_icons_clawshorns_analytics",!1)),e()},children:(0,$.tr)("left-icon.turn_off")})]})]})]})}),(0,Qm.jsx)("a",{className:"toggle-icon",onClick:c,children:(0,Qm.jsx)("i",{className:"fa fa-eye-slash"})})]})},wH=Rg((function(){var t=(0,Lb.wA)(),e=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.ANALYTICS_MODAL]})),n=function(){return t(cp({modalId:qo.lx.ANALYTICS_MODAL,value:!1}))};return(0,Qm.jsx)(kx,{isOpen:e,onRequestClose:n,className:"clawshorns-analytics-modal  modal-has-turn-off-block",children:(0,Qm.jsx)(gH,{onRequestClose:n})})}));function jH(){var t=(0,Lb.wA)(),e=(0,Lb.d4)(Gu.WN);return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"info-icons__item info-icons--analytics",children:(0,Qm.jsxs)("a",{className:(0,Km.A)("info-icons__link",e?"tooltip2":null),onClick:function(){return t(cp({modalId:qo.lx.ANALYTICS_MODAL,value:!0}))},children:[(0,Qm.jsx)("div",{className:"info-icons__icon",children:"A"}),(0,Qm.jsx)(nw,{position:"right",children:(0,$.tr)("left-icon.analytics-tooltip")})]})}),(0,Qm.jsx)(wH,{})]})}var xH=function(t){switch(t.type){case"sell":return(0,Qm.jsx)("i",{className:"fa fa-long-arrow-down"});case"active-sell":return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("i",{className:"fa fa-long-arrow-down"}),(0,Qm.jsx)("i",{className:"fa fa-long-arrow-down"})]});case"buy":return(0,Qm.jsx)("i",{className:"fa fa-long-arrow-up"});case"active-buy":return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("i",{className:"fa fa-long-arrow-up"}),(0,Qm.jsx)("i",{className:"fa fa-long-arrow-up"})]});case"neutral":return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("i",{className:"fa fa-long-arrow-down"}),(0,Qm.jsx)("i",{className:"fa fa-long-arrow-up"})]})}return(0,Qm.jsx)("span",{children:"--"})};function _H(t){return _H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_H(t)}var SH=["time"];function OH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kH(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?OH(Object(n),!0).forEach((function(e){TH(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OH(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function TH(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=_H(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_H(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var AH=function(t){var e,n,r=t.time,i=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,SH),o=(0,Lb.d4)((function(t){return t.global.currentTime})),a=o-r<=5?(0,$.tr)("signals.just_now"):"".concat((e=o-r,n=(0,gk.eH)(e),n.hours>0?(0,$.tr)("time.short_h","".concat(n.hours," ")):n.minutes>0?(0,$.tr)("time.short_min","".concat(n.minutes," ")):n.seconds>0?(0,$.tr)("time.short_sec","".concat(n.seconds," ")):"")," ").concat((0,$.tr)("ago"));return(0,Qm.jsx)("div",kH(kH({},i),{},{children:a}))},CH=function(t){var e=t.animation,n=t.duration,r=void 0===n?"600ms":n,i=(0,Xm.useRef)();function o(){i.current.classList.remove("animated",e)}return[i,o,function(){o(),i.current.style.setProperty("--animate-duration",r),i.current.classList.add("animated",e)}]};function PH(t){return PH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PH(t)}var EH=["symbol","timeframe","time"];function IH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function NH(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?IH(Object(n),!0).forEach((function(e){DH(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IH(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function DH(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=PH(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=PH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==PH(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var LH=function(t){var e=t.symbol,n=t.timeframe,r=t.time,i=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,EH),o=n+r-(0,Lb.d4)((function(t){return t.global.currentTime})),a=100-o/n*100,s=(0,Mf.Sx)({symbol:e,time:r,timeframe:n}),c=(0,Lb.d4)((function(t){return Vf(t)(s)}));return(0,Qm.jsx)("div",NH(NH({},i),{},{children:c?(0,Qm.jsxs)("div",{className:"trade-opened",children:[(0,$.tr)("signals.trade_opened")," ",(0,Qm.jsx)("i",{className:"fa fa-check price-up"})]}):(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"progress-info",children:(0,Qm.jsx)("div",{className:"progress",children:(0,Qm.jsx)("div",{className:"progress-bar",style:{width:"".concat(a,"%")}})})}),(0,Qm.jsx)("div",{children:(0,ij.Rt)(o)})]})}))};function MH(t){return MH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MH(t)}var RH=["isOpen","onRequestClose"];function BH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return HH(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HH(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function FH(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$H(Object(n),!0).forEach((function(e){WH(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function WH(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=MH(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=MH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==MH(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var UH=function(t){var e=t.assetLabel,n=t.handleIndicatorHide,r=t.signal,i=(0,Lb.wA)(),o=BH(hH(!1),2),a=o[0],s=o[1],c=r||Mf.UI[df.PO],l=c.signal,u=c.symbol,d=c.time,f=c.timeframe,h=(0,Xm.useContext)(a_),p=(0,Lb.d4)(Xf.Oi),m=(0,Lb.d4)((function(t){return(0,Gu.Jt)(t)(h)})),y=BH(CH({animation:"bounceIn",duration:"600ms"}),3),v=y[0],b=y[1],g=y[2],w=BH(CH({animation:"flipInX",duration:"400ms"}),3),j=w[0],x=w[1],_=w[2];(0,Xm.useEffect)((function(){j.current&&_()}),[l]);var S=l===df.PO,O=Mf.UI[l];return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"title crop-text",children:(0,$.tr)("left-icon.signals-for",e)}),(0,Qm.jsx)("div",{className:(0,Km.A)("hseow",a&&"hseow--active-w2"),children:(0,Qm.jsxs)("div",{className:"hseow__in",children:[(0,Qm.jsx)("div",{className:"hseow__body",children:(0,Qm.jsxs)("div",{className:"content-wrap",children:[(0,Qm.jsxs)("div",{className:"fh",children:[(0,Qm.jsxs)("div",{className:"fw signal-info",children:[(0,Qm.jsx)("div",{className:(0,Km.A)("icon-wrapper",O.class),ref:j,onAnimationEnd:x,children:(0,Qm.jsx)(xH,{type:O.type})}),(0,Qm.jsx)("div",{className:O.class,children:O.label}),(0,Qm.jsx)("div",{className:"amount",children:(0,hn.ej)(m,p)}),!S&&(0,Qm.jsx)(AH,{className:"time-ago",time:d})]}),(0,Qm.jsxs)("div",{className:"signal-desc",children:[(0,Qm.jsx)("div",{children:(0,$.tr)("signals.signal_copy_desc",(0,hn.ej)(m,p),(0,$.tr)("signals.copy"))}),!S&&(0,Qm.jsx)(LH,{symbol:u,time:d,timeframe:f,className:"signal-progress-wrapper"})]})]}),(0,Qm.jsx)("div",{children:(0,Qm.jsx)("a",{ref:v,className:(0,Km.A)("btn btn-green-solid",S&&"disabled"),onClick:function(){S||(g(),i(eh({symbol:u,action:"up1"===l||"up2"===l?"call":"put",amount:m,time:d,timeframe:f})))},onAnimationEnd:b,children:(0,$.tr)("signals.copy")})})]})}),(0,Qm.jsxs)("div",{className:"hseow__body vertical",children:[(0,Qm.jsx)("div",{className:"message message-info notification-message",children:(0,$.tr)("left-icon.on_off_indicator")}),(0,Qm.jsxs)("div",{className:"turn-off-buttons",children:[a&&(0,Qm.jsx)("a",{className:"show-turn-off-block-btn",onClick:s,children:(0,$.tr)("left-icon.back")}),(0,Qm.jsx)("a",{className:"btn btn-danger-transparent",onClick:n,children:(0,$.tr)("left-icon.turn_off")})]})]})]})}),(0,Qm.jsx)("a",{className:"toggle-icon",onClick:s,children:(0,Qm.jsx)("i",{className:"fa fa-eye-slash"})})]})},VH=function(t){var e=t.isOpen,n=t.onRequestClose,r=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,RH);return(0,Qm.jsx)(kx,{isOpen:e,onRequestClose:n,className:"left-top-info-signals-confirm-modal modal-has-turn-off-block",captureClickOutside:!0,children:(0,Qm.jsx)(UH,FH(FH({},r),{},{onRequestClose:n}))})};function GH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return zH(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zH(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var YH=function(){var t=GH((0,Xm.useState)(!1),2),e=t[0],n=t[1],r=(0,Lb.wA)(),i=(0,Xm.useContext)(a_),o=(0,Lb.d4)(Gu.WN),a=(0,Lb.d4)((function(t){return t.chartSettings.chartById[i].symbol})),s=(0,Lb.d4)((function(t){return Yf(t)(a)})),c=(0,Lb.d4)((function(t){return(0,vf.P7)(t)(a)})),l=function(){return n(!1)},u=s?Mf.UI[s.signal]:Mf.UI[df.PO];return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"info-icons__item info-icons--signal",children:(0,Qm.jsxs)("a",{className:(0,Km.A)("info-icons__link",o&&"tooltip2"),onClick:function(){return n(!0)},children:[(0,Qm.jsx)("div",{className:(0,Km.A)("info-icons__icon",u.class),children:(0,Qm.jsx)(xH,{type:u.type})}),o&&(0,Qm.jsxs)(nw,{position:"right",children:[(0,$.tr)("left-icon.signals-for",c),":"," ",(0,Qm.jsx)("i",{className:u.class,children:u.label})]})]})}),(0,Qm.jsx)(VH,{isOpen:e,onRequestClose:l,assetLabel:c,signal:s,handleIndicatorHide:function(){r(Bp("top_left_info_icons_signals",!1)),l()}})]})};function XH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return qH(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qH(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var KH=function(t){var e=t.onRequestClose,n=(0,Lb.wA)(),r=(0,Lb.d4)((function(t){return t.global.liveBalance})),i=(0,Lb.d4)((function(t){return t.global.isStartedGemsLottery})),o=(0,Lb.d4)((function(t){return t.global.currentTime})),a=(0,Lb.d4)(Xf.PK),s=(0,ch.p3)(a),c=XH(hH(!1),2),l=c[0],u=c[1],d=XH((0,Xm.useState)(0),2),f=d[0],h=d[1],p=XH((0,Xm.useState)(0),2),m=p[0],y=p[1];(0,Xm.useEffect)((function(){var t=o-7200;h(w-t),y(j-t),(!i&&f<0||i&&m<0)&&window.location.reload()}),[o]);var v=+(0,Q.A)("gems-lotto-min-balance"),b=(0,Q.A)("gems-lotto-start-date"),g=(0,Q.A)("gems-lotto-end-date"),w=+(0,Q.A)("gems-lotto-start-time"),j=+(0,Q.A)("gems-lotto-end-time");return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("p",{className:"title",children:(0,$.tr)("left-icon.gems_lotto_title")}),(0,Qm.jsx)("div",{className:(0,Km.A)("hseow",l&&"hseow--active-w2"),children:(0,Qm.jsxs)("div",{className:"hseow__in",children:[(0,Qm.jsx)("div",{className:"hseow__body",children:s?(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{children:(0,Qm.jsx)("img",{className:"vip-image",src:"/images/cabinet/modals/gems-lottery/gem-lottery.png",alt:"VIP"})}),(0,Qm.jsx)("div",{className:"text",children:(0,$.tr)("left-icon.gems_lotto_message")})]}):(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"text",children:(0,$.tr)("left-icon.gems_lotto_message")}),(0,Qm.jsxs)("div",{className:"message message-info notification-message",children:[(0,Qm.jsxs)("p",{children:[" ",(0,$.tr)("left-icon.gems_lotto_conditions"),":"]}),(0,Qm.jsxs)("ul",{children:[(0,Qm.jsxs)("li",{children:[(0,Qm.jsx)("i",{style:{color:r>=v?"green":"red"},className:"fa ".concat(r>=v?"fa-check":"fa-times")})," ",(0,$.tr)("left-icon.gems_lotto_cond1",{amount:(0,hn.ej)(v,(0,hn.L9)())})," ","(",(0,$.tr)("left-icon.gems_lotto_cond3",{amount:(0,hn.ej)(r,(0,hn.L9)())}).toLowerCase(),")"]}),(0,Qm.jsxs)("li",{children:[(0,Qm.jsx)("i",{style:{color:i?"green":"red"},className:"fa ".concat(i?"fa-check":"fa-times")})," ",(0,$.tr)("left-icon.gems_lotto_cond2",b,g)]})]}),i&&(0,Qm.jsxs)("span",{style:{color:"orange"},children:[(0,$.tr)("left-icon.gems_lotto_started"),":"," ",(0,Qm.jsx)("span",{children:(0,As.ny)((0,As.Dp)(m))})]}),!i&&(0,Qm.jsxs)("span",{style:{color:"#8fa5bf"},children:[(0,$.tr)("left-icon.gems_lotto_upcoming"),":"," ",(0,Qm.jsx)("span",{children:(0,As.ny)((0,As.Dp)(f))})]})]})]})}),(0,Qm.jsxs)("div",{className:"hseow__body vertical",children:[(0,Qm.jsx)("div",{className:"message message-info notification-message",children:(0,$.tr)("left-icon.on_off_indicator")}),(0,Qm.jsxs)("div",{className:"turn-off-buttons",children:[(0,Qm.jsx)("a",{className:"show-turn-off-block-btn",onClick:u,children:(0,$.tr)("left-icon.back")}),(0,Qm.jsx)("a",{className:"btn btn-danger-transparent",onClick:function(){n(Bp("top_left_info_icons_gems_lottery",!1)),e()},children:(0,$.tr)("left-icon.turn_off")})]})]})]})}),(0,Qm.jsx)("div",{className:"add-info",children:(0,Qm.jsx)("a",{href:"".concat((0,tn.hX)("cabinet/gems-lotto/")),children:(0,$.tr)("additional_info")})}),r<v&&(0,Qm.jsx)("div",{className:"buttons",children:(0,Qm.jsx)("a",{className:"btn btn-green-light",href:"".concat((0,tn.hX)("cabinet/deposit-step-1/")),children:(0,$.tr)("dep_acc")})}),(0,Qm.jsx)("a",{className:"toggle-icon",onClick:u,children:(0,Qm.jsx)("i",{className:"fa fa-eye-slash"})})]})},ZH=function(t){var e=t.isOpen,n=t.onRequestClose;return(0,Qm.jsx)(kx,{isOpen:e,onRequestClose:n,className:"left-top-info-gems-lottery-confirm-modal modal-has-turn-off-block",children:(0,Qm.jsx)(KH,{onRequestClose:n})})};function JH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return QH(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QH(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function t$(){var t=JH((0,Xm.useState)(!1),2),e=t[0],n=t[1],r=(0,Lb.d4)((function(t){return t.global.isStartedGemsLottery})),i=(0,Lb.d4)(Xf.PK),o=(0,ch.p3)(i)||r;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:(0,Km.A)("info-icons__item info-icons--gems-lottery",o&&"info-icons--active"),children:(0,Qm.jsxs)("a",{className:"info-icons__link tooltip2",onClick:function(){return n(!0)},children:[(0,Qm.jsx)("div",{className:"info-icons__icon",children:"G"}),(0,Qm.jsx)(nw,{position:"right",children:(0,$.tr)("left-icon.gems-lottery-tooltip")})]})}),(0,Qm.jsx)(ZH,{isOpen:e,onRequestClose:function(){return n(!1)}})]})}var e$=w_((function(t){var e=t.chartSettings,n=t.global,r=t.isDemo,i=n.isChart,o=n.isTournament,a=n.infoIcons,s=n.isExistsActiveBonus,c=n.isMobile,l=e.visibleSymbols.length>1;return{showAnalyticsIcon:!c&&!l&&a.analytics,showBonusIcon:!c&&!l&&!o&&a.bonus&&s,showSignals:a.signal&&i,showGemsLottery:!c&&!l&&!r&&!o&&a.gemsLotto}}),null,a_)((function(t){var e=t.showSignals,n=t.showAnalyticsIcon,r=t.showBonusIcon,i=t.showGemsLottery,o=(0,Lb.d4)(Xf.X4);return(0,Qm.jsxs)("div",{className:"info-icons",children:[r&&(0,Qm.jsx)(XB,{}),e&&!o&&(0,Qm.jsx)(YH,{}),i&&(0,Qm.jsx)(t$,{}),n&&(0,Qm.jsx)(jH,{})]})})),n$=function(){var t=(0,Lb.d4)((function(t){return t.global.isMobile})),e=(0,Lb.d4)((function(t){return t.global.isTournament})),n=(0,Lb.d4)((function(t){return t.global.tournamentFinishAt})),r=(0,Lb.d4)((function(t){return t.chartSettings.visibleChartIds})).length>1,i=!e||n>0;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"top-left-block__block1",children:[(0,Qm.jsx)(HR,{}),t&&(0,Qm.jsx)(BB,{}),!t&&!r&&(0,Qm.jsx)(yM,{}),!t&&r&&(0,Qm.jsx)(YB,{})]}),(0,Qm.jsxs)("div",{className:"top-left-block__block2",children:[(0,Qm.jsx)($R,{}),(0,Qm.jsx)(UB,{}),i&&(0,Qm.jsx)(e$,{})]})]})},r$=(0,Qm.jsx)(Rb.k,{className:"svg-icon-wrap",src:"/themes/cabinet/svg/icons/btn-buy.svg?v=1"}),i$=(0,Qm.jsx)(Rb.k,{className:"svg-icon-wrap",src:"/themes/cabinet/svg/icons/btn-sell.svg?v=1"}),o$={transform:"translateY(-46px)"},a$=function(t){var e=t.type,n=t.amount,r=t.payout,i=t.currencyCode,o=t.isMobile,a=t.currentDealAmount,s=t.handleOpenDeal,c=t.isHideBoFeatures,l=(0,hn.MU)(n-a,i),u=(0,Qm.jsxs)("span",{className:"payout",children:[(0,Qm.jsxs)("span",{className:"payout__text payout__text-p",children:["+",r,"%"]}),(0,Qm.jsx)("span",{className:"payout__profit",children:l})]}),d="call"===e?r$:i$,f=(0,Lb.d4)(Pf),h="put"===e?(0,$.tr)("control_panel.sell"):(0,$.tr)("control_panel.buy");return(0,Qm.jsx)("div",{className:(0,Km.A)("action-high-low","button-".concat(e,"-wrap")),children:(0,Qm.jsxs)("a",{className:(0,Km.A)("btn btn-".concat(e),(0,hn.Ip)(l)),onClick:s("call"===e?Gp.Jq:Gp.MY),children:[o&&(0,Qm.jsx)("span",{className:"no-animate switch-state-block",children:(0,Qm.jsxs)("span",{className:"switch-state-block__in",style:o$,children:[(0,Qm.jsxs)("span",{className:"switch-state-block__item",children:[d,u]}),c?(0,Qm.jsxs)("span",{className:"switch-state-block__item",children:[d,(0,Qm.jsxs)("span",{className:"payout",children:[(0,Qm.jsx)("span",{className:"payout__higher-text",children:h}),(0,Qm.jsxs)("span",{className:"payout__profit",children:[r,"%"]})]})]}):(0,Qm.jsxs)("span",{className:"switch-state-block__item",children:[d,(0,Qm.jsx)("span",{className:"payout",children:(0,Qm.jsx)("span",{className:(0,Km.A)(h.length>=10&&"more-than-10-characters",h.length>=12&&"more-than-12-characters","payout__higher-text"),children:h})})]})]})}),!o&&(0,Qm.jsx)("span",{className:(0,Km.A)(f&&"no-animate","switch-state-block"),children:(0,Qm.jsxs)("span",{className:"switch-state-block__in",children:[(0,Qm.jsxs)("span",{className:"switch-state-block__item",children:[d,f?(0,Qm.jsx)("span",{className:"payout",children:(0,Qm.jsx)("span",{className:"payout__text payout__text-lh",children:h})}):u]}),!f&&(0,Qm.jsxs)("span",{className:"switch-state-block__item",children:[d,(0,Qm.jsx)("span",{className:"payout",children:(0,Qm.jsx)("span",{className:"payout__text payout__text-lh",children:h})})]})]})})]})})};a$.propTypes={type:Jm().oneOf(["call","put"]),handleOpenDeal:Jm().func.isRequired};var s$=w_((function(t,e,n){var r=t.global,i=r.currencyCode,o=r.isMobile,a=kf(t)(n),s=(0,Gu.Jt)(t)(n);return{currencyCode:i,isMobile:o,payout:a,amount:(s+s*a/100).toFixed(2),currentDealAmount:s,isHideBoFeatures:(0,Gu.KY)(t)}}),null,a_)(a$),c$=function(t){var e=t.type,n=(0,Xm.useContext)(a_),r=(0,Lb.wA)();return(0,Qm.jsx)(s$,{type:e,handleOpenDeal:function(t){return function(e){r(Yp({action:t,chartId:n,requestId:(0,iu.PP)(e)}))}}})};c$.propTypes={type:Jm().oneOf(["call","put"])};var l$=(0,Xm.memo)(c$),u$=function(t){var e=t.type,n=t.chartId,r=t.openDeal,i=t.tournamentFinishAt,o=t.fastTimeframe,a=t.currentTime,s=(0,Xm.useRef)(new F.A({position:Hr.k3,time:3e3}));return(0,Qm.jsx)(s$,{type:e,handleOpenDeal:function(t){return function(e){i<a+o?s.current.red((0,$.tr)("errors.incorrect_exp_time")):r({action:t,chartId:n,requestId:(0,iu.PP)(e)})}}})};u$.propTypes={type:Jm().oneOf(["call","put"])};var d$=w_((function(t,e,n){var r=t.chartSettings.chartById[n].fastTimeframe,i=t.global,o=i.currentTime;return{chartId:n,tournamentFinishAt:i.tournamentFinishAt,fastTimeframe:r,currentTime:o}}),{openDeal:Yp},a_)(u$);d$.displayName="TournamentBtn";var f$=(0,Xm.memo)(d$),h$=function(){return(0,Lb.d4)((function(t){return t.global.isTournament}))?(0,Qm.jsx)(f$,{type:"call"}):(0,Qm.jsx)(l$,{type:"call"})},p$=function(){return(0,Lb.d4)((function(t){return t.global.isTournament}))?(0,Qm.jsx)(f$,{type:"put"}):(0,Qm.jsx)(l$,{type:"put"})},m$=function(t){var e=(0,Xm.useRef)(null);return(0,Xm.useEffect)((function(){e.current=t}),[t]),e};function y$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return v$(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v$(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var b$=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/trading-panel/amount-list-modal/umnozenie.svg"}),g$=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/trading-panel/amount-list-modal/delenie.svg"});function w$(t){return String(t)}function j$(t){var e=t.changeAmountHandler,n=(0,Lb.wA)(),r=c_(),i=(0,Lb.d4)((function(t){return Nf(t)(r)})),o=(0,Lb.d4)((function(t){return(0,Gu.u)(t)(r)})),a=(0,Lb.d4)((function(t){return(0,Gu.Jt)(t)(r)})),s=(0,Lb.d4)(Xf.s9),c=(0,Lb.d4)((function(t){return Lf(t)(r)})),l=y$((0,Xm.useState)(w$(c)),2),u=l[0],d=l[1],f=m$(u);(0,Xm.useEffect)((function(){return function(){null!==f.current&&m(f.current,!0)}}),[]);var h=i===cf.yf.PERCENT,p=parseFloat(h?o:a),m=function(t,e){var i=String(t);"0"!==u||e||2!==i.length||"0"!==i.substring(1)||(i=i.substring(0,1)),i.includes(".")||(i=i.replace(/^0+/,""));var o=Ly({value:i,min:.1,max:99,fixValue:e,defaultValue:2,precision:1});(Dy(o)||isNaN(o))&&(o=0),d(w$(o)),e&&n(function(t){var e=t.chartId,n=t.value;return{type:cf._8,payload:{chartId:e,value:n}}}({chartId:r,value:o}))},y=h?2:s;return(0,Qm.jsxs)("div",{className:"multiply",children:[(0,Qm.jsxs)("div",{className:"multiply__btn-wrap",children:[(0,Qm.jsx)("div",{className:"multiply__btn",onClick:function(){return e((0,ru.xr)(p*c,y),!0)},children:b$}),(0,Qm.jsx)("div",{className:"multiply__btn",onClick:function(){return e((0,ru.xr)(p/c,y),!0)},children:g$})]}),(0,Qm.jsx)("div",{className:"multiply__col",children:(0,Qm.jsx)("input",{type:"text",className:"multiply-field",value:u,onChange:function(t){return m(t.target.value,!1)},onBlur:function(t){return m(t.target.value,!0)}})})]})}function x$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return _$(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_$(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var S$=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/virtual-keyboards/back.svg"}),O$=[7,8,9,4,5,6,1,2,3,".",0,"←"],k$=function(t){var e=t.inputVal,n=t.changeAmountHandler,r=t.disabledButtons,i=void 0===r?[]:r,o=x$((0,Xm.useState)(!0),2),a=o[0],s=o[1],c=function(t){return function(r){switch(r.preventDefault(),r.stopPropagation(),u.A.publish(Hn.nS),t){case".":n("".concat(e).concat(t),!1);break;case"←":n(e.length>1?e.slice(0,-1):"",!1);break;default:n(a?"".concat(t):"".concat(e).concat(t),!1)}s(!1)}},l=O$.filter((function(t){return!i.includes(t)}));return(0,Qm.jsx)("div",{className:"virtual-keyboard",children:(0,Qm.jsx)("div",{className:"virtual-keyboard__keys",children:l.map((function(t){return(0,Qm.jsx)("div",{className:"virtual-keyboard__col",children:(0,Qm.jsxs)("div",{className:"virtual-keyboard__input",onClick:c(t),children:["←"!==t&&t,"←"===t&&S$]})},t)}))})})};k$.propTypes={inputVal:Jm().string.isRequired,changeAmountHandler:Jm().func.isRequired,disabledButtons:Jm().array};var T$=k$;function A$(t){return A$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A$(t)}function C$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return P$(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P$(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function E$(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=A$(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=A$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==A$(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I$=function(t){var e=t.children,n=t.openerNode,r=t.onClickOutside,i=t.cssTransitionClassNames,o=void 0===i?{}:i,a=t.wrapperClassName,s=t.innerWrapperClassName,c=t.chartId,l=t.verticalAnchor,u=void 0===l?"top":l,d=t.shouldCapture,f=void 0===d||d,h=t.skipSubscribeToResize,p=void 0!==h&&h,m=(0,Xm.useRef)(),y=C$((0,Xm.useState)(E$(E$({},u,"-9999px"),"left","-9999px")),2),v=y[0],b=y[1];return(0,Xm.useEffect)((function(){if(m.current&&n){var t={dropdownNode:m.current,openerNode:n,verticalAnchor:u,marginFromBorder:20};b(function(t){var e=t.dropdownNode,n=t.openerNode,r=t.verticalAnchor,i=t.marginFromBorder,o=void 0===i?0:i,a=e.offsetWidth,s=e.offsetHeight,c=n.offsetHeight,l=nS(n),u=window.innerHeight-l.rectTop;if(document.body.classList.contains("portrait"))return E$({},r,{top:"".concat(Math.max(0,l.top-s-c),"px"),bottom:"".concat(Math.max(0,u),"px")}[r]);var d=l.top+s;d>window.innerHeight&&(d=window.innerHeight-s-o);var f=u+s;f>window.innerHeight&&(f=window.innerHeight-s-o);var h={top:"".concat(Math.min(l.top-c,d),"px"),bottom:"".concat(Math.min(u,f),"px")};return E$({left:"".concat(l.left-a,"px")},r,h[r])}(t))}}),[]),(0,Xm.useEffect)((function(){var t=Fl()(r,100,{leading:!0});return p||window.addEventListener("resize",t),window.addEventListener("orientationchange",t),function(){window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}}),[]),(0,Qm.jsx)(Yj,{classNames:o,className:(0,Km.A)("drop-down-modal-wrap no-outside",a),children:(0,Qm.jsx)(sx,{onClickOutside:r,className:(0,Km.A)("drop-down-modal",s),style:v,shouldCapture:f,setRef:function(t){return m.current=t.current},chartId:c,children:e})})};I$.propTypes={verticalPosition:Jm().oneOf(["top","bottom"])};var N$=Rg(I$);function D$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return L$(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L$(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var M$=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/trading-panel/expiration-inputs-list-modal/plus.svg"}),R$=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/trading-panel/expiration-inputs-list-modal/minus.svg"});function B$(t){var e=t.VirtualKeyboardComponent,n=void 0===e?null:e,r=(0,Lb.wA)(),i=(0,Lb.d4)(Gu.Ny),o=(0,Lb.d4)(Xf.cO),a=(0,Lb.d4)(Xf.A4),s=(0,Lb.d4)(Xf.Oi),c=(0,Lb.d4)(Xf.s9),l=(0,Lb.d4)(Xf.OY),u=(0,Lb.d4)(Gu.WN),d=(0,Xm.useRef)({isEnabled:o,value:a}),f=D$((0,Xm.useState)(gn(a)),2),h=f[0],p=f[1],m=m$(h);(0,Xm.useEffect)((function(){return function(){var t;null!==m.current&&(y(m.current,!0),r((t=d.current,function(e,n){if(t){var r=n(),i=(0,Xf.cO)(r),o=(0,Xf.A4)(r),a=[];t.isEnabled!==i&&a.push({field:"limit_order_amount_enabled",value:i?1:0}),t.value!==o&&a.push({field:"limit_order_amount_value",value:o}),a.length>0&&e(Up(a))}})))}}),[]);var y=function(t,e){var n=String(t);"0"!==h||e||2!==n.length||"0"!==n.substring(1)||(n=n.substring(0,1)),n.includes(".")||(n=n.replace(/^0+/,""));var i=Ly({value:n,min:1,max:l,fixValue:e,defaultValue:1,replaceCommasToDots:!1,currencyDigit:c});(Dy(i)||isNaN(i))&&(i=0),p(gn(i)),e&&r(Wp([{field:"limitOrderAmountValue",value:i}]))},v=function(t){var e=a+(t>0?10:-10);e<1||e>l||(p(gn(e)),r(Wp([{field:"limitOrderAmountValue",value:e}])))},b=uT(),g=i||b||!o;return(0,Qm.jsxs)(Qm.Fragment,{children:[null!==n&&o&&(0,Qm.jsx)(n,{inputVal:h,changeAmountHandler:function(t){return y(t,!1)}}),(0,Qm.jsxs)("div",{className:"order-amount-limit",children:[(0,Qm.jsxs)("div",{className:"order-amount-limit__title",children:[(0,Qm.jsxs)("div",{className:"order-amount-limit__title-start",children:[(0,$.tr)("amount_limit.title"),u&&(0,Qm.jsx)(MS,{TooltipComponent:function(){return(0,Qm.jsx)(nw,{position:"top",text:"amount_limit.tooltip"})},children:(0,Qm.jsx)("i",{className:"icon-question fa fa-question-circle-o"})})]}),(0,Qm.jsx)("div",{className:"order-amount-limit__title-end",children:(0,Qm.jsx)(Ij,{className:"small-switch",checked:o,onChange:function(t){var e=Boolean(t.target.checked);r(Wp([{field:"isLimitOrderAmountEnabled",value:e}]))}})})]}),o&&(0,Qm.jsxs)("div",{className:(0,Km.A)("order-amount-limit__controls"),children:[(0,Qm.jsx)("div",{className:"order-amount-limit__btn",onClick:function(){return v(-1)},children:R$}),(0,Qm.jsxs)("div",{className:"input-group",children:[(0,Qm.jsx)("input",{type:"text",value:h,onChange:function(t){return y(t.target.value,!1)},onBlur:function(t){return y(t.target.value,!0)},autoComplete:"off",readOnly:g}),(0,Qm.jsx)("span",{className:"input-group-addon",children:(0,hn.AR)(s)})]}),(0,Qm.jsx)("div",{className:"order-amount-limit__btn",onClick:function(){return v(1)},children:M$})]})]})]})}function H$(){return(0,Qm.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"12",height:"12",viewBox:"0 0 12 12",children:(0,Qm.jsx)("path",{fill:"currentColor",d:"M10.583.99a.6.6 0 0 0-.504-.12A4.801 4.801 0 0 1 6.346.106a.6.6 0 0 0-.684 0 4.802 4.802 0 0 1-3.734.762.6.6 0 0 0-.726.588V5.93a5.402 5.402 0 0 0 2.263 4.4l2.19 1.56a.6.6 0 0 0 .697 0l2.19-1.56a5.4 5.4 0 0 0 2.263-4.4V1.457a.6.6 0 0 0-.222-.468Z"})})}function $$(){return(0,Qm.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"12",height:"12",viewBox:"0 0 12 12",children:[(0,Qm.jsx)("g",{clipPath:"url(#a98e198h1iuo)",children:(0,Qm.jsx)("path",{fill:"currentColor",d:"M10.59.99a.6.6 0 0 0-.504-.12A4.802 4.802 0 0 1 6.353.106a.6.6 0 0 0-.684 0 4.801 4.801 0 0 1-3.733.762.6.6 0 0 0-.727.588V5.93a5.402 5.402 0 0 0 2.263 4.4l2.19 1.56a.6.6 0 0 0 .697 0l2.19-1.56a5.402 5.402 0 0 0 2.264-4.4V1.457A.6.6 0 0 0 10.59.99Zm-.978 4.939a4.201 4.201 0 0 1-1.758 3.42L6.01 10.665 4.168 9.35A4.201 4.201 0 0 1 2.41 5.929V2.148a6.002 6.002 0 0 0 3.601-.835 6.002 6.002 0 0 0 3.601.835v3.78Z"})}),(0,Qm.jsx)("defs",{children:(0,Qm.jsx)("clipPath",{id:"a98e198h1iuo",children:(0,Qm.jsx)("path",{fill:"currentColor",d:"M0 0h12v12H0z"})})})]})}function F$(t){var e=t.showSettings,n=t.setShowSettings,r=t.handleClose,i=(0,Lb.d4)(Xf.cO),o=(0,Lb.d4)(Xf.A4),a=(0,Lb.d4)(Xf.Oi);return(0,Qm.jsx)(Qm.Fragment,{children:e?(0,Qm.jsxs)("div",{className:"order-amount-limit-settings",children:[(0,Qm.jsxs)("div",{className:"order-amount-limit-settings__title",children:[(0,Qm.jsx)("button",{onClick:function(){return n(!1)},children:(0,Qm.jsx)("i",{className:"fa fa-chevron-left"})}),(0,$.tr)("amount_limit.settings_title")]}),(0,Qm.jsx)(B$,{VirtualKeyboardComponent:T$})]}):(0,Qm.jsxs)("div",{className:"order-amount-limit-button-container",children:[(0,Qm.jsxs)("button",{className:"order-amount-limit-button order-amount-limit-button_open",onClick:function(){return n(!0)},children:[(0,$.tr)("amount_limit.settings_btn")+(i?" (".concat((0,hn.vv)(o,a),")"):"")," ",i?(0,Qm.jsx)(H$,{}):(0,Qm.jsx)($$,{})]}),(0,Qm.jsx)("button",{className:"order-amount-limit-button order-amount-limit-button_close",onClick:r,children:(0,Qm.jsx)("i",{className:"fa fa-angle-down"})})]})})}function W$(t){return function(t){if(Array.isArray(t))return U$(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return U$(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U$(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function V$(){var t,e=(0,Lb.wA)(),n=c_(),r=(0,Lb.d4)((function(t){return(0,Gu.Jt)(t)(n)})),i=(0,Lb.d4)((function(t){return t.deals.closedIds})),o=(0,Lb.d4)((function(t){return t.deals.closedById})),a=(0,Lb.d4)(Xf.OY),s=(0,Lb.d4)(Oh),c=(0,Lb.d4)(Xf.Oi),l=(0,ru.jp)({amount:s,currency:c}),u=(0,ru.D3)(c),d=(0,ru.xr)(((t=r/u)<=4?5:t<=7?10:t<=12?15:t<=20?25:t<=30?40:t<=40?50:t<=50?75:t<=75?100:t<=100?150:100*Math.ceil(2*t/100))*u,(0,hn.aZ)(c));d>l&&(d=l);var f=i.filter((function(t){return o[t].currency===c})).map((function(t){return o[t].amount})).filter((function(t){return t!==l&&t!==d&&t>=1})),h=Bf()(f).slice(0,2);if(h.length<2){var p=Math.round(1.5*d);0===h.length?h=[p,p]:h.unshift(p)}var m=[d].concat(W$(h),[l]),y=m.map((function(t){return String(t).length})).reduce((function(t,e){return t+e}),0);y>24&&(m=[d,h[0],l]);var v=function(t){return function(){var r=(0,ch.Ew)(a,l);e(Mh({chartId:n,amount:Math.min(t,r)}))}};return m.map((function(t,e){var n=e===m.length-1;return(0,Qm.jsx)("div",{className:"item",onClick:v(t),children:(0,Qm.jsx)("div",{className:"item__inner",children:t===l&&n?"MAX":(0,hn.ej)(t,c)})},"".concat(t,"-").concat(e))}))}function G$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return z$(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z$(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Y$=Rg((function(t){var e=t.amountType,n=t.changeAmountHandler,r=t.openerNode,i=t.inputVal,o=t.closeHandler,a=G$((0,Xm.useState)(!1),2),s=a[0],c=a[1],l=(0,Xm.useContext)(a_),u=(0,Lb.d4)((function(t){return(0,Gu.u)(t)(l)})),d=(0,Lb.d4)((function(t){return(0,Gu.Jt)(t)(l)})),f=(0,Lb.d4)(Xf.Oi),h=(0,Lb.d4)(Gu.Ny),p=(0,Lb.d4)(se.Z5),m=(0,Lb.d4)(Gu.vF),y=(0,Lb.d4)(Gu.vF),v=(0,Lb.d4)(Xf.Hz),b=v&&h&&m===Xt.V,g=v&&(!h||uT())&&!p,w=/Android/i.test(window.navigator.userAgent)&&h&&y===Xt.V,j=e===cf.yf.PERCENT?"".concat(u,"%"):(0,hn.ej)(d,f);return(0,Qm.jsx)(N$,{openerNode:r,onClickOutside:o,cssTransitionClassNames:{enterDone:"block__list-wrap--active"},innerWrapperClassName:"trading-panel-modal amount-list-modal",chartId:l,verticalAnchor:h?"bottom":"top",shouldCapture:!0,skipSubscribeToResize:w,children:(0,Qm.jsx)("div",{className:"trading-panel-modal__wrap",children:(0,Qm.jsxs)("div",{className:"trading-panel-modal__column",children:[(0,Qm.jsxs)("div",{className:"trading-panel-modal__in",children:[!s&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"amount-block",children:[(0,Qm.jsxs)("div",{className:"start-block",children:[(0,Qm.jsx)("div",{className:"start-block__col",children:(0,Qm.jsx)("div",{className:(0,Km.A)("amount-field",(0,hn.Ip)(j)),children:j})}),(0,Qm.jsx)("div",{className:"start-block__col",children:(0,Qm.jsx)(j$,{changeAmountHandler:n})})]}),(0,Qm.jsx)("div",{className:"end-block",children:e===cf.yf.CURRENCY&&(0,Qm.jsx)(V$,{})})]}),(0,Qm.jsx)(T$,{inputVal:i,changeAmountHandler:n})]}),b&&!p&&(0,Qm.jsx)(F$,{showSettings:s,setShowSettings:c,handleClose:o})]}),g&&!b&&(0,Qm.jsx)(B$,{})]})})})}));function X$(){var t=(0,Lb.d4)(Xf.cO),e=(0,Lb.d4)(Xf.A4),n=(0,Lb.d4)(Xf.Oi),r=(0,Lb.d4)(jf);return(0,Qm.jsx)(MS,{className:"order-limit-icon",WrapperComponent:r?"div":"a",TooltipComponent:function(){return r?null:(0,Qm.jsx)(nw,{position:"left",textContent:t?(0,$.tr)("amount_limit.enabled",(0,hn.ej)(e,n)):(0,$.tr)("amount_limit.disabled")})},children:t?(0,Qm.jsx)(H$,{}):(0,Qm.jsx)($$,{})})}var q$=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/trading-panel/amount-mode-2.svg"}),K$=(0,Xm.forwardRef)((function(t,e){var n,r=t.changeAmountHandler,i=t.onClickAmountCurrent,o=t.inputVal,a=t.isOpen,s=c_(),c=(0,Lb.wA)(),l=(0,Lb.d4)(xf),d=(0,Lb.d4)(Xf.Oi),f=(0,Lb.d4)(jf),h=(0,Lb.d4)(Sf),p=(0,Lb.d4)((function(t){return Df(t)(s)})),m=(0,Lb.d4)(Xf.Hz),y=f||uT();return n=p?q$:h?"T":(0,Qm.jsx)(Tx.A,{src:(0,hn.fD)(d)}),(0,Qm.jsxs)("div",{className:"block__control control",ref:e,children:[(0,Qm.jsxs)("div",{className:"control__value value value--several-items",onClick:i,"data-toggle-dropdown":a,children:[!l&&m&&(0,Qm.jsx)(X$,{}),y?(0,Qm.jsx)("div",{className:"value__val",children:o}):(0,Qm.jsx)("div",{className:(0,Km.A)("value__val",(0,hn.Ip)(o)),children:(0,Qm.jsx)("input",{type:"text",value:o,autoComplete:"off",onChange:function(t){return e=t.target.value,r(e,!1);var e},onBlur:function(t){return e=t.target.value,r(e,!0);var e}})})]}),(0,Qm.jsx)("div",{className:"control-buttons__wrapper",onClick:function(){c(Wh(s,p?cf.yf.CURRENCY:cf.yf.PERCENT)),u.A.publish(Hn.nS)},children:(0,Qm.jsx)("div",{className:"control__buttons buttons",children:(0,Qm.jsx)("a",{className:"buttons__amount-type",children:n})})})]})}));function Z$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return J$(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J$(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Q$(t){var e=t.isShowTitle,n=(0,Lb.wA)(),r=c_(),i=l_(),o=(0,Lb.d4)(Xf.Oi),a=(0,Lb.d4)(Xf.s9),s=(0,Lb.d4)((function(t){return Nf(t)(r)})),c=(0,Lb.d4)((function(t){return(0,Gu.u)(t)(r)})),l=(0,Lb.d4)((function(t){return(0,Gu.Jt)(t)(r)})),u=(0,Lb.d4)(Gu.TF),d=(0,Lb.d4)(Gu.WN),f=(0,Lb.d4)((function(t){return t.global.windowLayout})),h=s===cf.yf.PERCENT,p=Z$((0,Xm.useState)(!1),2),m=p[0],y=p[1],v=Z$((0,Xm.useState)(gn(h?c:l)),2),b=v[0],g=v[1],w=(0,Lb.d4)(Oh),j=(0,Lb.d4)(Xf.OY),x=(0,Lb.d4)(Xf.My),_=!(0,bC.h0)(f),S=(0,bC.WU)(f,i),O=_&&S>1,k=2!==S&&3!==S;IT((function(){g(gn(h?c:l))}),[s]),(0,Xm.useEffect)((function(){h||g(gn(l))}),[l]),(0,Xm.useEffect)((function(){h&&g(gn(c))}),[c]),(0,Xm.useEffect)((function(){h&&E(b,!0)}),[x,j]);var T=(0,ru.He)(o),A=sh()(j,T,(0,ru.jp)({amount:w,currency:o})),C=(0,ru.H3)(j,T),P=(0,ru.Vt)(j,A,T),E=function(t,e){var i=String(t);"0"!==b||e||2!==i.length||"0"!==i.substring(1)||(i=i.substring(0,1)),i.includes(".")||(i=i.replace(/^0+/,""));var o=h?C:T,s=Ly({value:i,min:o,max:h?P:A,fixValue:e,defaultValue:o,replaceCommasToDots:!1,precision:h?2:a});(Dy(s)||isNaN(s))&&(s=0);var c=gn(s);g(c),n(h?Uh({chartId:r,amount:s,fixValue:e}):Mh({chartId:r,amount:s}))},I=function(t){y(t),t||E(b,!0)},N=(0,Xm.useRef)();return(0,Qm.jsxs)("div",{className:(0,Km.A)("block block--bet-amount",m&&"opened"),children:[k&&e&&(0,Qm.jsxs)("div",{className:"block__title",children:[h?(0,Qm.jsxs)(Qm.Fragment,{children:[(0,$.tr)("control_panel.trade"),(0,Qm.jsx)("div",{className:"block__title-total",children:(0,hn.ej)(l,o)})]}):(0,$.tr)("control_panel.bid_amount"),d&&(0,Qm.jsxs)("div",{className:"tooltip2",children:[(0,Qm.jsx)("i",{className:"fa fa-question-circle-o"}),(0,Qm.jsx)(nw,{position:u?"":"left",text:h?"chart_settings.amount_type_%":"chart_settings.amount_type_$"})]})]}),(0,Qm.jsx)(K$,{onClickAmountCurrent:function(){return I((function(t){return!t}))},changeAmountHandler:E,inputVal:b,maxCurrencyAmount:A,maxPercentAmount:P,isCompactMulti:O,ref:N,isOpen:m}),m&&(0,Qm.jsx)(Y$,{amountType:s,changeAmountHandler:E,maxCurrencyAmount:A,maxPercentAmount:P,inputVal:b,openerNode:N.current,closeHandler:function(){return I(!1)}})]})}function tF(t){return function(t){if(Array.isArray(t))return eF(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return eF(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eF(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var nF=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/trading-panel/expiration-inputs-list-modal/plus.svg"}),rF=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/trading-panel/expiration-inputs-list-modal/minus.svg"}),iF={S5:5,S15:15,S30:30,M1:60,M3:180,M5:300,M30:1800,H1:3600,H4:14400};function oF(t){return Object.values(cT).reduce((function(e,n){return e+parseInt(t[n],10)*n}),0)}function aF(t){var e=t.fastTimeframe,n=t.closeHandler,r=t.openerNode,i=(0,Lb.wA)(),o=c_(),a=(0,Lb.d4)((function(t){return(0,vf.E_)(t)(o)})),s=a.timeframes,c=(0,Hf.Sp)({asset:a}),l=lT(e),u=l.hms,d=l.setHMS;(0,Xm.useEffect)((function(){return d(e)}),[e]);var f=dT(),h=Math.max.apply(Math,tF(s.map((function(t){return t.time})))),p=function(t,n){var r=parseInt(function(t){return hT()("".concat(t),"0").replace(/[^-0-9]/g,"")}(n),10);if(r=Number.isNaN(r)?0:sh()(r,0,59),0!==s.length){var a=Object.values(cT).reduce((function(e,n){return e+(n===t?r:parseInt(u[n],10))*n}),0);i(Hh({chartId:o,amount:sh()(a,c,h)})),d(e)}},m=function(t){i(Hh({chartId:o,amount:sh()(t,c,h)})),d(e)},y=function(t){return function(){return m(e+1*t)}},v=function(t){return function(){return m(e-1*t)}},b=function(t){return function(e){return p(t,e.currentTarget.value)}},g=function(t){return function(e){return p(t,e.currentTarget.value)}},w=Object.keys(iF).filter((function(t){var e=iF[t];return e>=c&&e<=h})),j=h===oF(u),x=c===oF(u);return(0,Qm.jsx)(N$,{openerNode:r,onClickOutside:n,innerWrapperClassName:"trading-panel-modal expiration-inputs-list-modal",chartId:o,shouldCapture:!0,children:(0,Qm.jsxs)("div",{className:"trading-panel-modal__wrap",children:[(0,Qm.jsx)("div",{className:"trading-panel-modal__in",children:Object.values(cT).map((function(t){return(0,Qm.jsxs)("div",{className:"rw",children:[(0,Qm.jsx)("a",{className:(0,Km.A)("btn-plus",j&&"disabled"),onClick:y(t),children:nF}),(0,Qm.jsx)("div",{className:"input-field-wrapper",children:(0,Qm.jsx)("input",{type:"text",autoComplete:"off",value:(0,dh.wl)(u[t]),onBlur:b(t),onChange:g(t),readOnly:f})}),(0,Qm.jsx)("a",{className:(0,Km.A)("btn-minus",x&&"disabled"),onClick:v(t),children:rF})]},"keys-".concat(t))}))}),(0,Qm.jsx)("div",{className:"trading-panel-modal__dops dops",children:(0,Qm.jsx)("div",{className:"dops__timeframes",children:w.map((function(t){return(0,Qm.jsx)("div",{className:"dops__timeframes-item",onClick:(e=iF[t],function(){i(Hh({chartId:o,amount:sh()(e,c,h)}))}),children:t},t);var e}))})})]})})}function sF(t){return function(t){if(Array.isArray(t))return cF(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return cF(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cF(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var lF=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/trading-panel/expiration-inputs-list-modal/plus.svg"}),uF=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/trading-panel/expiration-inputs-list-modal/minus.svg"});var dF=function(t){var e=t.fastCloseAtInLocalTime,n=t.closeHandler,r=t.openerNode,i=(0,Lb.wA)(),o=(0,Xm.useContext)(a_),a=(0,Lb.d4)((function(t){return(0,vf.E_)(t)(o)})),s=(0,Lb.d4)((function(t){return t.global.currentTime})),c=dT(),l=(0,Lb.d4)((function(t){return t.chartSettings.chartById[o].enableQuickAutoOffset})),u=(0,Lb.d4)((function(t){return t.chartSettings.chartById[o].quickAutoOffsetValue})),d=(0,Lb.d4)(Gu.WN),f=(0,Lb.d4)(Gu.TF),h=(0,ij.eD)(e),p=lT(h),m=p.hms,y=p.setHMS;(0,Xm.useEffect)((function(){return y((0,ij.eD)(e))}),[e]);var v=(0,Hf.Sp)({asset:a}),b=Math.max.apply(Math,sF(a.timeframes.map((function(t){return t.time})))),g=function(t,n){if(0!==a.timeframes.length){var r=parseInt(function(t){return hT()(String(t),"0").replace(/[^-\d]/g,"")}(n),10);r=Number.isNaN(r)?0:sh()(r,-1,60);var c=Object.values(cT).reduce((function(e,n){return e+(n===t?r:parseInt(m[n],10))*n}),0),l=e-h+c;l=sh()(l,(0,ij.cR)(s+v),(0,ij.cR)(s+b)),i($h({chartId:o,value:(0,ij.Im)(l)})),y((0,ij.eD)(l))}},w=function(t){return function(){return g(t,parseInt(m[t],10)+1)}},j=function(t){return function(){return g(t,parseInt(m[t],10)-1)}},x=function(t){return function(e){return g(t,e.currentTarget.value)}},_=function(t){return function(e){return g(t,e.currentTarget.value)}},S=(0,Lb.d4)((function(t){return t.global.windowLayout})),O=!(0,bC.h0)(S),k=Object.keys(cf.zQ).filter((function(t){var e=cf.zQ[t];return e>v&&e<=b}));return(0,Qm.jsx)(N$,{openerNode:r,onClickOutside:n,innerWrapperClassName:"trading-panel-modal expiration-inputs-list-modal",chartId:o,verticalAnchor:f?"bottom":"top",children:(0,Qm.jsxs)("div",{className:"trading-panel-modal__wrap",children:[(0,Qm.jsx)("div",{className:"trading-panel-modal__in",children:Object.values(cT).map((function(t){return(0,Qm.jsxs)("div",{className:"rw",children:[(0,Qm.jsx)("a",{className:"btn-plus",onClick:w(t),children:lF}),(0,Qm.jsx)("div",{className:"input-field-wrapper",children:(0,Qm.jsx)("input",{type:"text",autoComplete:"off",value:(0,dh.wl)(m[t]),onBlur:x(t),onChange:_(t),readOnly:c})}),(0,Qm.jsx)("a",{className:"btn-minus",onClick:j(t),children:uF})]},"keys-".concat(t))}))}),(0,Qm.jsxs)("div",{className:(0,Km.A)("trading-panel-modal__dops dops dops-with-timeframes",l&&"opened"),children:[(0,Qm.jsxs)("div",{className:"dops__radio-wrap radio-wrap",children:[(0,Qm.jsxs)("div",{className:"radio-wrap__text",children:[(0,$.tr)("control_panel.auto_offset"),d&&!O&&(0,Qm.jsxs)("div",{className:"tooltip2",children:[(0,Qm.jsx)("i",{className:"fa fa-question-circle-o"}),(0,Qm.jsx)(nw,{position:f?"":"left",children:(0,$.tr)("control_panel.auto_offset_tooltip")})]})]}),(0,Qm.jsx)(Ij,{checked:l,onChange:function(){return i(function(t,e){return function(n,r){n({type:cf.tw,payload:{chartId:t,value:e}}),e&&Ip(n,r())}}(o,!l))}})]}),l&&(0,Qm.jsx)("div",{className:"dops__timeframes",children:k.map((function(t){var e,n=cf.zQ[t];return(0,Qm.jsx)("div",{className:(0,Km.A)("dops__timeframes-item",n===u&&"dops__timeframes-item--active"),onClick:(e=n,function(){return i(Yh({chartId:o,value:e}))}),children:t},t)}))})]})]})})};var fF=function(t){var e,n=t.value;return(0,Qm.jsxs)("div",{className:"min-expiration-time-tooltip",children:[(0,$.tr)("assets.change_min_timeframe")," ",(0,Qm.jsx)("span",{children:(e=n,e<60?(0,$.tr)("time.short_sec","".concat(e," ")):(0,$.tr)("time.short_min","".concat(Math.floor(e/60)," ")))}),".",(0,Qm.jsx)("a",{children:(0,Qm.jsx)("i",{className:"fa fa-times"})})]})};function hF(t){for(var e=0,n=Object.keys(cf.zQ);e<n.length;e++){var r=n[e];if(cf.zQ[r]===t)return r}return""}var pF=function(t){var e=t.value;return(0,Qm.jsxs)("div",{className:"min-expiration-time-tooltip",children:[(0,$.tr)("assets.change_auto_offset")," ",(0,Qm.jsx)("span",{children:hF(e)}),".",(0,Qm.jsx)("a",{children:(0,Qm.jsx)("i",{className:"fa fa-times"})})]})};function mF(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return yF(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yF(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function vF(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return bF(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bF(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function gF(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return wF(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wF(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var jF=function(){var t,e,n,r,i,o,a=gF((t=(0,Xm.useContext)(a_),e=(0,Lb.d4)((function(e){return(0,vf.vZ)(e)(t)})),n=(0,Xm.useRef)(e),r=mF((0,Xm.useState)(!1),2),i=r[0],o=r[1],IT((function(){e!==n.current&&(o(!0),n.current=e)}),[e]),[i,function(){return o(!1)},e]),3),s=a[0],c=a[1],l=a[2],d=function(){var t=(0,Xm.useContext)(a_),e=vF((0,Xm.useState)(!1),2),n=e[0],r=e[1],i=vF((0,Xm.useState)(""),2),o=i[0],a=i[1];return(0,Xm.useEffect)((function(){var e=u.A.subscribe(y.Mt,(function(e,n){n.val.chartId===t&&(r(!0),a(n.val.offsetValue))}));return function(){u.A.unsubscribe(e)}}),[]),[n,function(){return r(!1)},o]}(),f=gF(d,3),h=f[0],p=f[1],m=f[2];return(0,Xm.useEffect)((function(){function t(){c(),p()}return document.body.addEventListener("click",t),function(){document.body.removeEventListener("click",t)}}),[]),(0,Qm.jsxs)("div",{className:"tooltip-streamer",children:[s&&(0,Qm.jsx)(fF,{value:l}),h&&(0,Qm.jsx)(pF,{value:m})]})};function xF(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return _F(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_F(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _F(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var SF=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/trading-panel/exp-mode-1.svg"}),OF=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/trading-panel/exp-mode-2.svg"});function kF(t){var e=(0,gk.eH)(t),n=[];return e.hours>0&&n.push((0,$.tr)("time.short_h",e.hours)),e.minutes>0&&n.push((0,$.tr)("time.short_min",e.minutes)),e.seconds>0&&0===e.hours&&n.push((0,$.tr)("time.short_sec",e.seconds)),n.join(" ")}function TF(t){var e=t.showBlockButtons,n=void 0===e||e,r=t.isShowTitle,i=(0,Lb.wA)(),o=(0,Xm.useContext)(a_),a=(0,Lb.d4)(Gu.WN),s=(0,Lb.d4)(Gu.TF),c=(0,Lb.d4)((function(t){return t.chartSettings.chartById[o].isCalendarMode})),l=(0,Lb.d4)((function(t){return Tf(t)(o)})),u=(0,Lb.d4)((function(t){return Af(t)(o)})),d=xF((0,Xm.useState)(!1),2),f=d[0],h=d[1],p=(0,Xm.useRef)(),m=function(){return h(!1)},y=(0,ij.hx)(u).timestamp,v=c?(0,ij.eD)(y):l,b=(0,ij.Z2)(),g="UTC".concat(b>=0?"+":"").concat(b);return(0,Qm.jsxs)("div",{className:(0,Km.A)("block block--expiration-inputs",f&&"opened"),children:[n&&r&&(0,Qm.jsxs)("div",{className:"block__title",children:["".concat((0,$.tr)("control_panel.time_to_purchase")).concat(c?" ".concat(g):""),a&&(0,Qm.jsxs)("div",{className:"tooltip2",children:[(0,Qm.jsx)("i",{className:"fa fa-question-circle-o"}),(0,Qm.jsx)(nw,{position:s?"":"left",children:c?(0,$.tr)("chart_settings.tooltip_quick_option_calendar",g,(0,gk.GQ)(y,!0)):(0,Qm.jsxs)(Qm.Fragment,{children:[(0,$.tr)("chart_settings.tooltip_quick_option")," ",kF(v),"."]})})]})]}),(0,Qm.jsxs)("div",{className:"block__control control",ref:p,children:[(0,Qm.jsx)("div",{className:"control__value value value--several-items",onClick:function(){return h((function(t){return!t}))},"data-toggle-dropdown":f,children:(0,Qm.jsx)("div",{className:"value__val",children:(0,gk.Xd)(v)})}),(0,Qm.jsx)("div",{className:"control-buttons__wrapper",onClick:function(){return i(function(t){var e=t.chartId,n=t.value;return function(t,r){var i=r(),o=i.chartSettings.chartById[e].fastCloseAt,a=i.global.currentTime;(!o||a>o)&&n&&t($h({chartId:e,value:a+60})),n&&Ip(t,r()),(0,lh.gb)(e,n),t({type:lf.e7,payload:{chartId:e,value:n}})}}({chartId:o,value:!c}))},children:(0,Qm.jsx)("div",{className:"control__buttons buttons",children:(0,Qm.jsx)("a",{className:(0,Km.A)(a&&"tooltip2"),children:c?OF:SF})})})]}),f&&!c&&(0,Qm.jsx)(aF,{fastTimeframe:l,closeHandler:m,openerNode:p.current}),f&&c&&(0,Qm.jsx)(dF,{fastCloseAtInLocalTime:y,closeHandler:m,openerNode:p.current}),(0,Qm.jsx)(jF,{})]})}var AF={h:"time.short_h",m:"time.short_min",s:"time.short_sec",h1:"time.short_h",m1:"time.short_min",s1:"time.short_sec"},CF=w_((function(t,e,n){var r=t.chartSettings.chartById[n],i=r.fastTimeframe,o=r.symbol,a=t.global.currencyCode,s=(0,vf.L5)(t)(o),c=kf(t)(n),l=Cf(t)(n),u=(0,Gu.Jt)(t)(n);return{amount:(0,hn.ej)(u,a),payout:"".concat(c,"%"),current_price:(0,ru.xr)(l,s,!0),time_until_expiration:(0,gk.Pe)(i,!0,AF)}}),null,a_)((function(t){var e=t.amount,n=t.payout,r=t.current_price,i=t.time_until_expiration;return(0,$.tr)("control_panel.estimated-profit-block-tooltip",{amount:e,payout:n,current_price:r,time_until_expiration:i})}));function PF(){var t=(0,Xm.useContext)(a_),e=(0,Lb.d4)((function(e){return(0,Gu.Jt)(e)(t)})),n=(0,Lb.d4)((function(e){return kf(e)(t)})),r=(0,Lb.d4)(Xf.Oi),i=(0,Lb.d4)(Gu.WN),o=(0,Lb.d4)(Gu.KY),a=(0,Lb.d4)(Gu.Ny),s=e*n/100,c=+e+ +s,l=(0,hn.ej)(s,r),u=(0,hn.ej)(c,r);return o?(0,Qm.jsxs)("div",{className:(0,Km.A)("block block--payout",(0,hn.Ip)(u)),children:[(0,Qm.jsx)("div",{className:"block__title",children:(0,$.tr)("take_profit")}),(0,Qm.jsx)("div",{className:"block__control control",children:(0,Qm.jsx)("div",{className:"control__value value",children:(0,Qm.jsx)("div",{className:"value__val",children:(0,Qm.jsxs)("div",{className:"value__val-end",children:["+",l]})})})})]}):(0,Qm.jsxs)("div",{className:(0,Km.A)("block block--payout",(0,hn.Ip)(u)),children:[(0,Qm.jsxs)("div",{className:"block__title",children:[(0,Qm.jsxs)("div",{className:(0,Km.A)("estimated-profit-block__tooltip",i&&"tooltip2"),children:[(0,$.tr)("deals.payout"),i&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("i",{className:"fa fa-question-circle-o"}),(0,Qm.jsx)(nw,{position:"left",children:(0,Qm.jsx)(CF,{})})]})]}),a&&(0,Qm.jsxs)("div",{className:"block__title-end",children:["+",l]})]}),(0,Qm.jsx)("div",{className:"block__control control",children:(0,Qm.jsx)("div",{className:"control__value value",children:(0,Qm.jsxs)("div",{className:"value__val",children:[(0,Qm.jsxs)("div",{className:"value__val-start",children:["+",n,(0,Qm.jsx)("span",{className:"estimated-profit-block__percent",children:"%"})]}),(0,Qm.jsxs)("div",{className:"value__val-end",children:["+",u]})]})})})]})}function EF(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return IF(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?IF(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var NF=(0,Qm.jsx)(Rb.k,{className:"ai-trading-btn__badge",src:"/themes/cabinet/svg/icons/ai-trading/badge.svg"});function DF(){var t=(0,Lb.wA)(),e=c_(),n=EF((0,Xm.useState)(!1),2),r=n[0],i=n[1],o=(0,Lb.d4)(Xf.is);return(0,Xm.useEffect)((function(){if(r){var t=setTimeout((function(){i(!1)}),1e3);return function(){return clearTimeout(t)}}}),[r]),(0,Qm.jsxs)("a",{className:(0,Km.A)("ai-trading-btn",r&&"animated"),onClick:function(){o===zp.F.ENABLED_WITH_APPROVE?t(cp({modalId:qo.lx.AI_MODAL,value:e})):o===zp.F.ENABLED&&t(qp({chartId:e}))},onTouchStart:function(){i(!0)},children:[(0,Qm.jsx)("div",{className:"ai-trading-btn__icon",children:NF}),(0,Qm.jsx)("div",{className:"ai-trading-btn__text",children:"Trading"})]})}function LF(){var t=(0,Xm.useContext)(a_),e=(0,Lb.d4)((function(e){return(0,Gu.Jt)(e)(t)})),n=(0,Lb.d4)((function(e){return kf(e)(t)})),r=(0,Lb.d4)(Xf.Oi),i=e*n/100,o=+e+ +i;return(0,Qm.jsx)("div",{className:"block block--payout",children:(0,Qm.jsx)("div",{className:"block__control control",children:(0,Qm.jsx)("div",{className:"control__value value",children:(0,Qm.jsxs)("div",{className:"value__val",children:[(0,Qm.jsxs)("div",{className:"value__val-start",children:[(0,$.tr)("deals.payout"),(0,Qm.jsx)("span",{children:(0,hn.ej)(o,r)})]}),(0,Qm.jsxs)("div",{className:"value__val-center",children:["+",n,(0,Qm.jsx)("span",{className:"estimated-profit-block__percent",children:"%"})]}),(0,Qm.jsxs)("div",{className:"value__val-end",children:[(0,$.tr)("deals.profit"),(0,Qm.jsxs)("span",{children:["+",(0,hn.ej)(i,r)]})]})]})})})})}function MF(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return RF(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RF(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var BF=function(){var t=c_(),e=l_(),n=(0,Lb.d4)((function(t){return t.global.isMobile})),r=(0,Lb.d4)((function(t){return t.global.windowLayout})),i=(0,Lb.d4)(Pf),o=(0,Lb.d4)(Gu.KY),a=(0,Lb.d4)(Xf.QL),s=(0,Lb.d4)(Xf.X4),c=(0,bC.WU)(r,e),l=2!==c&&3!==c,d=!(0,bC.h0)(r),f=!d,h=MF((0,Xm.useState)(Id.o),2),p=h[0],m=h[1];return(0,Xm.useEffect)((function(){var t=u.A.subscribe(qt.h,(function(t,e){return m(e)}));return function(){return u.A.unsubscribe(t)}}),[]),(0,Qm.jsx)("div",{className:(0,Km.A)("call-put-block control-panel",s&&"call-put-block--has-ai-trading-android"),id:"put-call-buttons-".concat(t),children:(0,Qm.jsxs)("div",{className:(0,Km.A)("call-put-block__in"),children:[(0,Qm.jsxs)("div",{className:"blocks-wrap",children:[!s&&(0,Qm.jsx)(TF,{isShowTitle:f,showBlockButtons:l}),(0,Qm.jsx)(Q$,{isShowTitle:f,showBlockButtons:l})]}),(0,Qm.jsxs)("div",{className:"buttons__wrap",children:[n&&!o&&p===Xt.p&&(0,Qm.jsx)(PF,{}),n&&!o&&p===Xt.V&&(0,Qm.jsx)(LF,{}),!n&&!d&&i&&(0,Qm.jsx)(PF,{}),(0,Qm.jsxs)("div",{className:(0,Km.A)("tour-action-buttons-container",(a||s)&&"has-ai-trading"),children:[!s&&(0,Qm.jsx)(h$,{}),(a||s)&&(0,Qm.jsx)("div",{className:(0,Km.A)("action-high-low button-ai-trading-wrap"),children:(0,Qm.jsx)(DF,{})}),!s&&(0,Qm.jsx)(p$,{})]})]})]})})};function HF(){var t=c_(),e=(0,Lb.d4)(Gu.KY),n=(0,Lb.d4)((function(e){return kf(e)(t)})),r=(0,Lb.d4)((function(e){return(0,Gu.Jt)(e)(t)})),i=(0,Lb.d4)((function(t){return t.global.currency})),o=(r+r*n/100).toFixed(2);return e?(0,Qm.jsx)("div",{className:"payout-expected-profit-text",children:(0,Qm.jsx)("div",{className:"payout-expected-profit-text__in",children:(0,Qm.jsxs)("span",{className:"payout-expected-profit-text__b2",children:[(0,$.tr)("take_profit"),":"," ",(0,Qm.jsxs)("span",{children:["+",i,(0,ru.xr)(o-r)]})]})})}):(0,Qm.jsx)("div",{className:"payout-expected-profit-text",children:(0,Qm.jsxs)("div",{className:"payout-expected-profit-text__in",children:[(0,Qm.jsxs)("span",{className:"payout-expected-profit-text__b1",children:[(0,$.tr)("deals.payout"),":"," ",(0,Qm.jsxs)("span",{children:[i,o]})]}),(0,Qm.jsxs)("span",{className:"payout-expected-profit-text__b2",children:["+",n,"%"]}),(0,Qm.jsxs)("span",{className:"payout-expected-profit-text__b3",children:[(0,$.tr)("deals.profit"),":"," ",(0,Qm.jsxs)("span",{children:["+",i,(0,ru.xr)(o-r)]})]})]})})}function $F(){var t=c_(),e=(0,Lb.d4)(Pf),n=(0,Lb.d4)(Gu.Ny);return(0,Qm.jsx)("div",{className:"call-put-block control-panel",id:"put-call-buttons-".concat(t),children:(0,Qm.jsxs)("div",{className:(0,Km.A)("call-put-block__in"),children:[(0,Qm.jsx)("div",{className:"blocks-wrap",children:(0,Qm.jsx)(Q$,{})}),n&&(0,Qm.jsx)(HF,{}),(0,Qm.jsxs)("div",{className:"buttons__wrap",children:[e&&(0,Qm.jsx)(PF,{}),(0,Qm.jsxs)("div",{className:"tour-action-buttons-container",children:[(0,Qm.jsx)(h$,{}),(0,Qm.jsx)(p$,{})]})]})]})})}var FF=function(){return(0,Lb.d4)((function(t){return t.global.isWebview}))?(0,Qm.jsx)($F,{}):(0,Qm.jsx)(BF,{})},WF=n(56604);function UF(t){return UF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UF(t)}function VF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function GF(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?VF(Object(n),!0).forEach((function(e){zF(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VF(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zF(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=UF(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=UF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==UF(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YF(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return XF(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XF(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var qF={duration:1,decimal:"",separator:"",suffix:"%"};var KF=function(){var t=(0,Lb.wA)(),e=c_(),n=YF((0,Xm.useState)(50),2),r=n[0],i=n[1],o=YF((0,Xm.useState)(50),2),a=o[0],s=o[1],c=YF((0,Xm.useState)(50),2),l=c[0],u=c[1],d=YF((0,Xm.useState)(50),2),f=d[0],h=d[1],p=(0,Lb.d4)((function(t){return(0,vf.E_)(t)(e)})),m=p.symbol,y=p.active,v=void 0!==y&&y,b=(0,Lb.d4)((function(t){return(0,Gu.AI)(t,{chartId:e})})),g=(0,Lb.d4)(Gu.Ny),w=(0,Lb.d4)(Xf.Uk),j=document.body.classList,x=g&&j.contains("portrait");return(0,Xm.useEffect)((function(){return t(function(t){var e=t.forecast,n=t.chartId;return{type:cf.IB,payload:{forecast:e,chartId:n}}}({chartId:e})),function(){t(function(t){var e=t.forecast,n=t.chartId;return{type:cf.V4,payload:{forecast:e,chartId:n}}}({chartId:e}))}}),[m]),(0,Xm.useEffect)((function(){var t=v?b:0,e=v?100-b:0;u(r),h(a),i(t),s(e)}),[v,b]),(0,Xm.useEffect)((function(){j.contains("is-market-watch")||(j.add("is-market-watch"),Yt())}),[]),(0,Qm.jsx)("div",{className:(0,Km.A)("auxiliary-information-panels__item market-watch-panel",0===r&&0===a?"init":""),onClick:function(){w&&t(cp({modalId:qo.lx.MARKET_WATCH,value:!0}))},children:(0,Qm.jsxs)("div",{className:(0,Km.A)("market-watch-panel__content pb",!g&&"tooltip2"),children:[(0,Qm.jsx)(WF.Ay,GF(GF({className:"pb__number-start"},qF),{},{start:l,end:r})),(0,Qm.jsx)(WF.Ay,GF(GF({className:"pb__number-end"},qF),{},{start:f,end:a})),(0,Qm.jsx)("div",{className:"pb__start",style:x?{width:"".concat(r,"%")}:{height:"".concat(r,"%")}}),(0,Qm.jsx)("div",{className:"pb__end",style:x?{width:"".concat(a,"%")}:{height:"".concat(a,"%")}}),!g&&(0,Qm.jsx)(nw,{position:"left",children:(0,$.tr)("control_panel.market_watch.tooltip")})]})})};function ZF(t){return ZF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZF(t)}function JF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iW(r.key),r)}}function QF(t,e,n){return e=eW(e),function(t,e){if(e&&("object"==ZF(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,tW()?Reflect.construct(e,n||[],eW(t).constructor):e.apply(t,n))}function tW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(tW=function(){return!!t})()}function eW(t){return eW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eW(t)}function nW(t,e){return nW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nW(t,e)}function rW(t,e,n){return(e=iW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iW(t){var e=function(t,e){if("object"!=ZF(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ZF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ZF(e)?e:e+""}var oW=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return rW(t=QF(this,e,[].concat(r)),"state",{dateFinish:"",url:"",isRedirecting:!1}),rW(t,"checkTimeLeft",(function(){t.secondsLeft>0||t.state.isRedirecting||t.setState({isRedirecting:!0},(function(){window.location.href=t.state.url}))})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nW(t,e)}(e,t),function(t,e,n){return e&&JF(t.prototype,e),n&&JF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentDidMount",value:function(){this.setState({dateFinish:+(0,Q.A)("tournament-date-finish"),url:(0,Q.A)("tournament-url")})}},{key:"componentDidUpdate",value:function(t){t.currentTime!==this.props.currentTime&&this.checkTimeLeft()}},{key:"secondsLeft",get:function(){return this.state.dateFinish-this.props.currentTime}},{key:"render",value:function(){return null}}])}(Xm.Component),aW=(0,Lb.Ng)((function(t){return{currentTime:t.global.currentTime}}))(oW),sW={marginBottom:"var(--indicator-margin-bottom)"};var cW=function(){var t=c_(),e=l_(),n=(0,Lb.d4)(Xf.CN),r=(0,Lb.d4)((function(e){return e.chartSettings.chartById[t].minimizedTradePanel})),i=(0,Lb.d4)((function(t){return t.global.openingFirstDealPanel})),o=(0,Lb.d4)(Gu.AP),a=(0,Lb.d4)(Sf),s=(0,Lb.d4)(Xf.QZ),c=(0,Lb.d4)(jf),l=(0,Lb.d4)(Xf.X4),u=(0,bC._2)(s,e),d=(!o||!i)&&n,f=(0,bC.h0)(s)||!r;return(0,Qm.jsxs)("div",{className:"js-react-call-put-wrap-".concat(t," chart-row-").concat(u),style:c?sW:null,children:[f&&(0,Qm.jsxs)("div",{className:(0,Km.A)("call-put-wrap trading-panel"),children:[d&&!l&&(0,Qm.jsx)("div",{className:"auxiliary-information-panels",children:(0,Qm.jsx)(KF,{})}),(0,Qm.jsx)(FF,{})]}),a&&(0,Qm.jsx)(aW,{})]})};function lW(t){return function(t){if(Array.isArray(t))return fW(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||dW(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uW(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||dW(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dW(t,e){if(t){if("string"==typeof t)return fW(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fW(t,e):void 0}}function fW(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function hW(t,e){var n=Math.max(1,Math.round(t/e/60));if(n<60)return{label:"M".concat(n),minutes:n};var r=Math.round(n/60);if(r<24)return{label:"H".concat(r),minutes:60*r};var i=Math.round(r/24);return{label:"D".concat(i),minutes:24*i*60}}var pW=function(){var t=(0,Lb.wA)(),e=c_(),n=(0,Lb.d4)((function(t){return t.chartSettings.chartById[e].dateRangeMinutes})),r=(0,Lb.d4)((function(t){return t.chartSettings.chartById[e].chartType})),o=(0,Lb.d4)((function(t){return t.chartSettings.chartById[e].chartSize})),a=(0,Lb.d4)((function(t){return t.chartSettings.chartById[e].zoom})),s=(0,Xm.useRef)(),c=uW((0,Xm.useState)(!1),2),l=c[0],u=c[1],d=hW(o.width,a[r]),f=n!==d.minutes&&d.minutes>0?d.minutes:n,h=rh.o9.some((function(t){return t.minutes===f}))?rh.o9:[d].concat(lW(rh.o9)).sort((function(t,e){return t.minutes===e.minutes?0:t.minutes-e.minutes}));(0,Xm.useEffect)((function(){hW(o.width,a[r]).minutes>0&&(t(function(t){return{type:cf.Jh,payload:{chartId:t}}}(e)),s.current&&i()(s.current).selectpicker("refresh"))}),[o.width,a[r]]),(0,Xm.useEffect)((function(){if(s.current){var t=i()(s.current);t.selectpicker(),t.off("shown.bs.select").on("shown.bs.select",(function(){return u(!0)})).off("hidden.bs.select").on("hidden.bs.select",(function(){return u(!1)}))}}),[]);var p=function(n){var r=parseInt(n.target.value,10);t(function(t,e){return function(n,r){var i=r().chartSettings.chartById[t],o=i.chartType,a=i.chartSize,s=!(0,nh.Mt)(o),c=60*e;if(s){var l=[];Object.values(oh()(rh.YE,"S1")).forEach((function(t){var e=(0,nh.Uh)(o,t);l.push({chartPeriod:t,seconds:a.width/e})}));var u=(0,nh.dJ)(l.map((function(t){return t.seconds})),c);u>=0&&n(Ap({chartPeriod:l[u].chartPeriod,chartId:t}))}n({type:cf.ku,payload:{chartId:t,value:e}})}}(e,r))};return(0,Qm.jsx)(MS,{WrapperComponent:"div",TooltipComponent:function(){return l?null:(0,Qm.jsx)(nw,{position:"top",text:"control_panel.screen_size_tooltip"})},children:(0,Qm.jsx)("select",{ref:s,className:"selectpicker form-control",onChange:function(t){return p(t)},value:f,tabIndex:-1,children:h.map((function(t){return(0,Qm.jsx)("option",{value:t.minutes,children:t.label},t.minutes)}))})})},mW={marginBottom:"var(--indicator-margin-bottom)"},yW=function(){return(0,Qm.jsx)("div",{className:"zoom-controls",style:mW,children:(0,Qm.jsx)(pW,{})})};function vW(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return bW(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bW(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bW(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var gW=Rg((function(t){var e=t.period,n=t.setPeriodHandler,r=t.openerNode,i=t.onDropdownClose,o=vW((0,Xm.useState)(!1),2),a=o[0],s=o[1];return(0,Qm.jsx)(Yj,{timeout:200,className:"drop-down-modal-wrap",classNames:"drop-down-modal-wrap",children:(0,Qm.jsx)(sx,{onClickOutside:function(){i(),s(!1)},className:"drop-down-modal drop-down-modal__choose-period",style:nS(r),children:(0,Qm.jsxs)("div",{className:"drop-down-modal__choose-period--wrapper",children:[!a&&(0,Qm.jsx)(Qm.Fragment,{children:(0,Qm.jsx)("div",{className:"periods-list",children:Object.keys(df.nR).map((function(t){var r=+t;return(0,Qm.jsx)("a",{className:(0,Km.A)(r===e&&"active"),onClick:n(r),children:df.nR[r]},r)}))})}),a&&(0,Qm.jsxs)("div",{className:"s-text",children:[(0,$.tr)("signals.tg_info"),":"," ",(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet/telegram/link"),target:"_blank",children:(0,$.tr)("signals.tg_start")}),"."]})]})})})})),wW=Rg((function(t){var e=t.openerNode,n=t.onDropdownClose,r=(0,Lb.wA)(),i=(0,Lb.d4)((function(t){return t.global.infoIcons.signal}));return(0,Qm.jsx)(Yj,{timeout:200,classNames:"drop-down-modal-wrap",className:"drop-down-modal-wrap",children:(0,Qm.jsx)(sx,{onClickOutside:n,className:"drop-down-modal drop-down-modal__signal-settings",style:nS(e),children:(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)("div",{className:"divider mb-15",children:(0,$.tr)("chart_settings.settings")}),(0,Qm.jsx)(Ij,{className:"mb-10",checked:i,onChange:function(){return r(Bp("top_left_info_icons_signals",!i))},children:(0,$.tr)("signals.systems_signal")}),(0,Qm.jsx)("div",{className:"s-text ct",children:(0,$.tr)("signals.settings.systems_signal_text")})]})})})})),jW=Rg((function(t){var e,n=t.openerNode,r=t.onDropdownClose,i=t.period;return(0,Qm.jsx)(Yj,{timeout:200,classNames:"drop-down-modal-wrap",className:"drop-down-modal-wrap",children:(0,Qm.jsx)(sx,{onClickOutside:r,className:"drop-down-modal drop-down-modal__signal-settings",style:nS(n),children:(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)("div",{className:"divider mb-15",children:(0,$.tr)("signals.information_title")}),(0,Qm.jsx)("div",{className:"s-text mb-10",children:(0,$.tr)("signals.settings.help",{time:"".concat(df.nR[i]," (").concat((0,$.tr)((e=i,e<60?"signals.period_30_second":"signals.period_".concat(e/60,"_min"))),")")})}),(0,Qm.jsx)("div",{className:"s-text ct",children:(0,$.tr)("signals.settings.systems_signal_text")})]})})})})),xW=function(t){var e=t.label;return(0,Qm.jsx)("div",{className:"signal-label flex-centered",children:e})},_W=function(t){var e=t.period,n=t.symbol,r=t.signal,i=(0,Lb.wA)(),o=Mf.UI[r],a=(0,Lb.d4)((function(t){return(0,vf.P7)(t)(n)})),s=(0,Lb.d4)((function(t){return t.chartSettings.visibleSymbols.includes[n]}));return(0,Qm.jsxs)("a",{onClick:function(){return i(function(t){var e=t.symbol,n=t.timeframe;return function(t,r){var i=r(),o=i.chartSettings.visibleChartIds,a=i.assets.assetBySymbol[e];if(o.length&&a&&a.active){var s=o[0];t(Ep({symbol:e,chartId:s})),t({type:cf._H,payload:{chartId:s,asset:a,timeframe:n}})}}}({symbol:n,timeframe:e}))},className:(0,Km.A)("signal-item",s&&"active"),children:[(0,Qm.jsx)("span",{className:"signal-item__label",children:a}),(0,Qm.jsx)("span",{className:"price ".concat(o.class," ").concat(o.type),children:(0,Qm.jsx)(xH,{type:o.type})})]})},SW=function(t){var e=t.period,n=(0,Lb.d4)((function(t){return(0,vf.rC)(t)})),r=(0,Lb.d4)((function(t){return(0,vf.gg)(t)})),i=(0,Lb.d4)((function(t){return t.signals.all})),o=(0,Lb.d4)(vf.lw),a=[];return X_.Bx.forEach((function(t){var s=[];r.filter((function(r){return n[r].active&&n[r].type===t&&i[e]&&i[e][r]&&o.includes(r)})).sort((function(t,e){var n=t.asset,r=e.asset;return n===r?0:n>r?1:-1})).forEach((function(t){return s.push({type:"signal",id:t,symbol:t})})),s.length>0&&a.push.apply(a,[{type:"category",id:t,label:(0,X_.AU)(t)}].concat(s))})),(0,Qm.jsx)("div",{className:"all-wrapper",children:a.map((function(t){var n=t.id,r=t.label,o=t.symbol,a=t.type;if("category"===a)return(0,Qm.jsx)(xW,{label:r},n);if("signal"===a){var s=i[e][o].signal;return(0,Qm.jsx)(_W,{symbol:o,signal:s,period:e},n)}return null}))})};function OW(t){return OW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OW(t)}var kW=["signal","price","symbol"];function TW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function AW(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?TW(Object(n),!0).forEach((function(e){CW(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TW(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function CW(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=OW(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=OW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==OW(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var PW=function(t){var e=t.signal,n=t.price,r=t.symbol,i=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,kW),o=(0,Lb.d4)((function(t){return yf(t)(r,n)})),a=(0,Lb.d4)(Xf.Oi),s=o&&("up1"===e||"up2"===e)||!o&&("down1"===e||"down2"===e);return(0,Qm.jsx)("div",AW(AW({},i),{},{children:(0,Qm.jsxs)("span",{className:(0,Km.A)("price",s&&"price-up",!s&&"price-down"),children:[s?"+":"-",(0,hn.AR)(a)]})}))};function EW(t){return EW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EW(t)}var IW=["signal"];function NW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function DW(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?NW(Object(n),!0).forEach((function(e){LW(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NW(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function LW(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=EW(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=EW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==EW(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var MW=function(t){var e=t.signal,n=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,IW),r=Mf.UI[e],i="price ".concat(r.class," ").concat(r.type);return(0,Qm.jsx)("div",DW(DW({},n),{},{children:(0,Qm.jsx)("div",{className:i,children:(0,Qm.jsx)(xH,{type:r.type})})}))};function RW(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return BW(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BW(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BW(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var HW=function(t){var e=t.updatedSignal,n=t.amount,r=e.signal,i=e.time,o=e.timeframe,a=e.symbol,s=(0,Lb.wA)(),c=RW(CH({animation:"bounceIn",duration:"600ms"}),3),l=c[0],d=c[1],f=c[2];return(0,Qm.jsx)("div",{className:"copy-signal-item__action",children:(0,Qm.jsx)("a",{ref:l,className:"btn js-copy-signal-btn",onClick:function(){u.A.publish(Hn.nS),f(),s(eh({symbol:a,action:"up1"===r||"up2"===r?"call":"put",amount:n,time:i,timeframe:o}))},onAnimationEnd:d,children:(0,$.tr)("signals.copy")})})},$W=function(t){var e=t.updatedSignal,n=e.signal,r=e.price,i=e.time,o=e.timeframe,a=e.symbol,s=e.count,c=(0,Lb.d4)((function(t){return Ef(t)})),l=(0,Lb.d4)((function(t){return(0,Gu.Jt)(t)(c)})),u=(0,Lb.d4)((function(t){return(0,vf.P7)(t)(a)})),d=(0,Lb.d4)(Xf.Oi),f=(0,Km.A)("icons-column",3===(0,hn.AR)(d).length&&"icons-column--three",4===(0,hn.AR)(d).length&&"icons-column--four");return(0,Qm.jsxs)("div",{className:"copy-signal-item",children:[(0,Qm.jsxs)("div",{className:"copy-signal-item__row",children:[(0,Qm.jsx)("div",{className:"copy-signal-item__symbol crop-text",children:u}),(0,Qm.jsx)(MW,{className:f,signal:n}),(0,Qm.jsx)(LH,{className:"copy-signal-item__progress",symbol:a,timeframe:o,time:i})]}),(0,Qm.jsxs)("div",{className:"copy-signal-item__row",children:[(0,Qm.jsx)("div",{className:"copy-signal-item__price",children:(0,hn.ej)(l,d)}),(0,Qm.jsx)(PW,{className:f,signal:n,price:r,symbol:a}),(0,Qm.jsx)(HW,{updatedSignal:e,amount:l})]}),(0,Qm.jsxs)("div",{className:"copy-signal-item__row copy-signal-item__stats",children:[(0,Qm.jsx)("div",{children:(0,$.tr)("signals.copied_times",s)}),(0,Qm.jsx)(AH,{time:i})]})]})},FW=(0,Xm.memo)($W),WW=function(){var t=(0,Lb.d4)(Gf),e=(0,Xm.useRef)(null),n=(0,Lb.wA)();return(0,Xm.useEffect)((function(){return e.current=setInterval((function(){n(th())}),1e4),function(){e.current&&clearInterval(e.current)}}),[]),(0,Qm.jsx)("div",{className:"updates-wrapper",children:t.map((function(t){var e=t.symbol,n=t.timeframe,r=t.signal;return(0,Qm.jsx)(FW,{updatedSignal:t},"".concat(e,"-").concat(n,"-").concat(r))}))})};function UW(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return VW(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VW(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VW(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var GW="updates",zW="all",YW="periods",XW="settings",qW="help",KW=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/svg/icons/help-icon.svg"}),ZW=function(t){var e=t.height,n=UW((0,Xm.useState)(60),2),r=n[0],i=n[1],o=(0,Xm.useRef)(null),a=UW((0,Xm.useState)(GW),2),s=a[0],c=a[1],l=(0,Lb.d4)((function(t){return t.global.isDemoProfile})),u=(0,Lb.wA)(),d=!l&&!pH(),f=UW((0,Xm.useState)(null),2),h=f[0],p=f[1],m=function(){return p(null)},y=(0,Xm.useCallback)((function(t){return function(){return p(t)}}),[]);(0,Xm.useEffect)((function(){return u(Zf()),function(){u(Jf())}}),[]);var v=function(t){return function(){return c(t)}},b={transform:"rotate(".concat(h===YW?"180deg":0,")")};return(0,Qm.jsxs)("div",{className:"widget-slot signals",style:{height:"".concat(e,"%")},children:[(0,Qm.jsxs)("div",{className:"widget-slot__header",children:[(0,Qm.jsxs)("div",{className:"title flex-centered",ref:o,children:[(0,Qm.jsx)("span",{children:(0,$.tr)("right_panel.signals")}),s===zW&&(0,Qm.jsxs)("a",{className:"period",onClick:y(YW),children:[df.nR[r],(0,Qm.jsx)("i",{className:"fa fa-caret-down",style:b})]}),(0,Qm.jsxs)("div",{className:"actions",children:[(0,Qm.jsx)("a",{className:(0,Km.A)(h===qW&&"active"),onClick:y(qW),children:KW}),d&&(0,Qm.jsx)("a",{className:"tg",href:(0,tn.hX)("cabinet/telegram/link"),target:"_blank",children:(0,Qm.jsx)("i",{className:"fa fa-telegram"})}),(0,Qm.jsx)("a",{className:(0,Km.A)(h===XW&&"active"),onClick:y(XW),children:(0,Qm.jsx)("i",{className:"fa fa-cog"})})]})]}),(0,Qm.jsx)("div",{className:"divider",children:(0,Qm.jsxs)("ul",{children:[(0,Qm.jsx)("li",{className:(0,Km.A)(GW===s&&"active"),children:(0,Qm.jsx)("a",{className:"flex-centered",onClick:v(GW),children:(0,$.tr)("signals.tab_updates")})}),(0,Qm.jsx)("li",{className:(0,Km.A)(zW===s&&"active"),children:(0,Qm.jsx)("a",{className:"flex-centered",onClick:v(zW),children:(0,$.tr)("signals.tab_all")})})]})})]}),(0,Qm.jsxs)("div",{className:(0,Km.A)("widget-slot__body",h&&"faded"),children:[h===YW&&(0,Qm.jsx)(gW,{period:r,setPeriodHandler:function(t){return function(){i(t),p(null)}},onDropdownClose:m,openerNode:o.current}),h===XW&&(0,Qm.jsx)(wW,{onDropdownClose:m,openerNode:o.current}),h===qW&&(0,Qm.jsx)(jW,{onDropdownClose:m,openerNode:o.current,period:r}),(0,Qm.jsxs)(Xg,{className:"signals-list",children:[s===GW&&(0,Qm.jsx)(WW,{}),s===zW&&(0,Qm.jsx)(SW,{period:r})]})]})]})},JW=(0,Lb.Ng)((function(t){return{checked:t.global.infoIcons.signal}}),{changeInfoIconState:Bp})((function(t){var e=t.changeInfoIconState,n=t.checked,r=(0,Lb.d4)((function(t){return t.global.isMobile}));return(0,Qm.jsx)("div",{className:"settings-block",children:(0,Qm.jsxs)(Xg,{children:[!r&&(0,Qm.jsx)("div",{className:"title2",children:(0,$.tr)("chart_settings.settings")}),(0,Qm.jsx)("div",{className:"s-text",children:(0,$.tr)("signals.settings.systems_signal_text")}),(0,Qm.jsx)("div",{className:"mdl-wrap",children:(0,Qm.jsx)(Ij,{checked:n,onChange:function(){return e("top_left_info_icons_signals",!n)},children:(0,$.tr)("signals.systems_signal")})})]})})})),QW=function(){var t=(0,Lb.d4)((function(t){return t.global.isMobile}));return(0,Qm.jsxs)("div",{className:"settings-block",children:[!t&&(0,Qm.jsx)("div",{className:"title2",children:"Telegram Bot"}),(0,Qm.jsxs)("div",{className:"s-text",children:[(0,$.tr)("signals.tg_info"),"."]}),(0,Qm.jsx)("div",{className:"tg-link",children:(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet/telegram/link"),target:"_blank",children:"Telegram Bot"})})]})},tU=0,eU=1,nU=2,rU=[{label:"M1",value:60},{label:"M2",value:120},{label:"M3",value:180},{label:"M5",value:300},{label:"M10",value:600},{label:"M15",value:900},{label:"M30",value:1800},{label:"M45",value:2700},{label:"H1",value:3600},{label:"H2",value:7200},{label:"H3",value:10800},{label:"H4",value:14400}];function iU(t){return iU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iU(t)}function oU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function aU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oU(Object(n),!0).forEach((function(e){sU(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sU(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=iU(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=iU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==iU(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cU(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return lU(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lU(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var uU=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/images/mobile/right-nav/signals.svg"}),dU={},fU=Rg((function(t){var e=t.onClickOutside,n=cU((0,Xm.useState)(GW),2),r=n[0],i=n[1],o=cU((0,Xm.useState)(Id.o),2),a=o[0],s=o[1],c=cU((0,Xm.useState)(!1),2),l=c[0],d=c[1],f=(0,Xm.useRef)(null),h=cU((0,Xm.useState)(tU),2),p=h[0],m=h[1],y=cU((0,Xm.useState)(60),2),v=y[0],b=y[1],g=(0,Lb.d4)((function(t){return!t.global.isDemoProfile})),w=(0,Lb.wA)();(0,Xm.useEffect)((function(){var t=u.A.subscribe(qt.h,(function(t,e){s(e)}));return function(){u.A.unsubscribe(t)}}),[]),(0,Xm.useEffect)((function(){return w(Zf()),document.addEventListener("click",j),function(){w(Jf()),document.removeEventListener("click",j)}}),[]);var j=function(t){f.current&&!f.current.contains(t.target)&&d(!1)},x=function(t){return function(){m(t)}},_=function(t){switch(t){case tU:return(0,Qm.jsx)("i",{className:"fa fa-heartbeat"});case eU:return(0,Qm.jsx)("i",{className:"fa fa-cog"});case nU:return(0,Qm.jsx)("i",{className:"fa fa-telegram"})}return""},S=(0,Qm.jsxs)("div",{ref:f,className:(0,Km.A)("mobile-drop-down-list",l&&"open"),children:[(0,Qm.jsxs)("div",{className:"mobile-drop-down-list__title",onClick:function(){return d(!l)},children:[(0,Qm.jsx)("span",{className:"mobile-drop-down-list__icon",children:uU}),(0,Qm.jsx)("span",{className:"mobile-drop-down-list__label",children:rU.find((function(t){return t.value===v})).label}),(0,Qm.jsx)("span",{className:"mobile-drop-down-list__arrow",children:(0,Qm.jsx)("i",{className:"fa fa-angle-down"})})]}),(0,Qm.jsx)("ul",{className:"mobile-drop-down-list__list",children:rU.map((function(t){var e,n=t.label,r=t.value;return(0,Qm.jsx)("li",{className:(0,Km.A)("mobile-drop-down-list__item",v===r&&p===tU&&"active"),children:(0,Qm.jsxs)("a",{className:"mobile-drop-down-list__link",onClick:(e=r,function(){b(e),m(tU),d(!1)}),children:[(0,Qm.jsx)("span",{className:"mobile-drop-down-list__icon",children:uU}),(0,Qm.jsx)("span",{className:"mobile-drop-down-list__label",children:n})]})},r)}))})]}),O=p===tU&&r===zW,k=r===GW&&p===tU,T=r===zW&&p===tU,A=a===Xt.V,C=A?sx:"div",P=A?{onClickOutside:e(qo.lx.SIGNALS)}:dU;return(0,Qm.jsx)(Yj,{className:"right-sidebar-modal__overlay",children:(0,Qm.jsx)(C,aU(aU({className:"right-sidebar-modal signals-modal"},P),{},{children:(0,Qm.jsx)("div",{className:"tab-wrap",children:(0,Qm.jsxs)("div",{className:"flex-vertical-block",children:[(0,Qm.jsxs)("div",{className:"flex-vertical-block__header",children:[(0,Qm.jsx)(sw,{text:(0,$.tr)("right_panel.signals")}),(0,Qm.jsxs)("ul",{className:"tab-nav-mobile-sidebar",children:[(0,Qm.jsx)("li",{className:(0,Km.A)(p===tU&&r===GW&&"active"),children:(0,Qm.jsx)("a",{onClick:function(){i(GW),m(tU)},children:(0,Qm.jsx)("span",{children:(0,$.tr)("signals.tab_updates")})})}),(0,Qm.jsx)("li",{className:(0,Km.A)(O&&"active"),children:(0,Qm.jsx)("a",{onClick:function(){i(zW),m(tU)},children:(0,Qm.jsx)("span",{children:(0,$.tr)("signals.tab_all")})})}),(0,Qm.jsx)("li",{className:(0,Km.A)("small",p===eU&&"active"),children:(0,Qm.jsx)("a",{onClick:x(eU),children:(0,Qm.jsx)("span",{className:"tab-nav-mobile-sidebar__icon",children:_(eU)})})}),g&&(0,Qm.jsx)("li",{className:(0,Km.A)("small",p===nU&&"active"),children:(0,Qm.jsx)("a",{onClick:x(nU),children:(0,Qm.jsx)("span",{className:"tab-nav-mobile-sidebar__icon",children:_(nU)})})})]}),O&&S]}),(0,Qm.jsxs)("div",{className:(0,Km.A)("flex-vertical-block__body",(k||T)&&"full"),children:[k&&(0,Qm.jsx)(Xg,{className:"signals-list",children:(0,Qm.jsx)(WW,{})}),T&&(0,Qm.jsx)(Xg,{className:"signals-list",children:(0,Qm.jsx)(SW,{period:v})}),p===eU&&(0,Qm.jsx)(JW,{}),p===nU&&(0,Qm.jsx)(QW,{})]})]})})}))})})),hU=(0,Lb.Ng)((function(t){return{pendingOrdersCount:t.pendingOrders.ids.length}}))((function(t){var e=t.pendingOrdersCount,n=t.className,r=t.tab,i=t.handleTabChange;return(0,Qm.jsxs)("div",{className:n,children:[(0,Qm.jsx)(sw,{text:(0,$.tr)("pending.title")}),(0,Qm.jsxs)("ul",{className:"tab-nav-mobile-sidebar",children:[(0,Qm.jsx)("li",{className:(0,Km.A)(r===uk&&"active"),children:(0,Qm.jsx)("a",{onClick:i(uk),id:"pending-trades_by-time-tab",children:(0,Qm.jsx)("span",{children:(0,$.tr)("pending.tab_by_time")})})}),(0,Qm.jsx)("li",{className:(0,Km.A)(r===dk&&"active"),children:(0,Qm.jsx)("a",{onClick:i(dk),id:"pending-trades_by-price-tab",children:(0,Qm.jsx)("span",{children:(0,$.tr)("pending.tab_by_price_short")})})}),(0,Qm.jsxs)("li",{className:(0,Km.A)(r===fk&&"active"),children:[(0,Qm.jsx)("a",{onClick:i(fk),id:"pending-trades_current-tab",children:(0,Qm.jsx)("span",{children:(0,$.tr)("pending.tab_current")})}),e>0&&(0,Qm.jsx)("div",{className:"counter-wrap",children:(0,Qm.jsx)(yx,{count:e,type:cw.$9})})]})]}),(0,Qm.jsxs)("div",{children:[r===uk&&(0,$.tr)("pending.tab_by_time_desc"),r===dk&&(0,$.tr)("pending.tab_by_price_desc"),r===fk&&(0,$.tr)("pending.tab_current_desc")]})]})}));function pU(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return mU(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mU(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var yU=Rg((function(t){var e=t.onClickOutside,n=pU((0,Xm.useState)(uk),2),r=n[0],i=n[1];return(0,Qm.jsx)(Yj,{className:"right-sidebar-modal__overlay",children:(0,Qm.jsx)(sx,{onClickOutside:e(qo.lx.PENDING_ORDERS),className:"right-sidebar-modal active pending-order-modal",children:(0,Qm.jsxs)("div",{className:"flex-vertical-block",children:[(0,Qm.jsx)(hU,{className:"flex-vertical-block__header",tab:r,handleTabChange:function(t){return function(){return i(t)}}}),(0,Qm.jsx)(Xg,{children:(0,Qm.jsxs)("div",{className:"flex-vertical-block__body",children:[(r===uk||r===dk)&&(0,Qm.jsx)(TT,{tab:r}),r===fk&&(0,Qm.jsx)(VT,{})]})})]})})})})),vU=Rg((function(t){var e=t.onClickOutside;return(0,Qm.jsx)(Yj,{className:"right-sidebar-modal__overlay",children:(0,Qm.jsx)(sx,{onClickOutside:e(qo.lx.TOURNAMENTS),className:"right-sidebar-modal tournaments-modal",children:(0,Qm.jsx)(jO,{})})})}));function bU(t){var e=t.wrapperClass,n=t.itemClass,r=t.divider,i=t.deal,o=t.price,a=i.amount,s=i.command,c=i.openPrice,l=i.percentProfit,u=i.currency,d=(0,iu.Jw)({amount:a,price:o,openPrice:c,isCall:(0,iu.nT)(s),percentProfit:l}),f=(0,iu.dm)({amount:a,price:o,openPrice:c,isCall:(0,iu.nT)(s),percentProfit:l});return(0,Qm.jsxs)("div",{className:(0,Km.A)(e||null),children:[(0,Qm.jsxs)("div",{className:(0,Km.A)(n||null),children:[(0,$.tr)("deals.your_forecast"),":",r,(0,Qm.jsx)("span",{className:(0,Km.A)("act",(0,iu.nT)(s)?"call":"put"),children:(0,iu.nT)(s)?(0,$.tr)("hotkeys.higher"):(0,$.tr)("hotkeys.lower")})]}),(0,Qm.jsxs)("div",{className:(0,Km.A)(n||null),children:[(0,$.tr)("deals.payout"),":",r,(0,Qm.jsx)("span",{className:(0,Km.A)(f>0&&"price-up"),children:(0,hn.ej)(a,u)})]}),(0,Qm.jsxs)("div",{className:(0,Km.A)(n||null),children:[(0,$.tr)("deals.profit"),":",r,(0,Qm.jsx)("span",{className:(0,Km.A)(d>0&&"price-up"),children:(0,hn.MU)(Math.max(0,d),u)})]})]})}function gU(t){var e=t.deal,n=e.copyUid,r=void 0===n?"":n,i=e.copyProfileName,o=void 0===i?"":i;return(0,Qm.jsxs)("div",{className:"price-info__copy-info",children:[(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)("span",{className:"fa fa-copy"})," ",(0,$.tr)("deals.success_copy_order")]}),(0,Qm.jsxs)("div",{children:[(0,$.tr)("tournaments.trader_id"),":"," ",(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet/ajax/modal/trader-information/".concat(r,"?t=copying-stats")),className:"mfp-ajax-modal",children:"".concat(r).concat(o?" (".concat(o,")"):"")})]})]})}function wU(t){var e=t.className,n=t.digits,r=t.openPrice;return(0,Qm.jsxs)("div",{className:e,children:[(0,$.tr)("deals.open_price"),":",(0,Qm.jsx)("br",{}),(0,ru.xr)(r,n,!0)]})}function jU(t){var e=t.className,n=t.digits,r=t.price;return(0,Qm.jsxs)("div",{className:e,children:[(0,$.tr)("deals.current_price"),":",(0,Qm.jsx)("br",{}),(0,ru.xr)(r,n,!0)]})}function xU(t){var e=t.pips;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,$.tr)("deals.diff"),":",(0,Qm.jsx)("br",{}),"(",(0,Qm.jsx)("span",{className:(0,Km.A)(e>0?"price-up":e<0?"price-down":""),children:e>0?"+".concat(e):e})," ",1===e?(0,$.tr)("deals.pip"):(0,$.tr)("deals.pips"),")"]})}function _U(t){var e=t.deal,n=t.price,r=(0,Lb.d4)((function(t){return(0,vf.L5)(t)(e.asset)})),i=(0,Lb.d4)((function(t){return t.global.isMobile})),o=e.openPrice,a=e.copyTicket,s=(0,iu.Co)(o,n,r);return i?(0,Qm.jsxs)("div",{className:"forecast-mobile",children:[(0,Qm.jsx)(bU,{wrapperClass:"forecast-mobile__row",itemClass:"forecast-mobile__col",divider:(0,Qm.jsx)("br",{}),deal:e,price:n}),(0,Qm.jsxs)("div",{className:"forecast-mobile__row",children:[(0,Qm.jsx)(wU,{className:"forecast-mobile__col",openPrice:o,digits:r}),(0,Qm.jsx)("div",{className:"forecast-mobile__col",children:n>0&&(0,Qm.jsx)(xU,{pips:s})}),(0,Qm.jsx)(jU,{className:"forecast-mobile__col",price:n,digits:r})]}),a&&(0,Qm.jsx)(gU,{deal:e})]}):(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"forecast",children:(0,Qm.jsx)(bU,{divider:" ",deal:e,price:n})}),(0,Qm.jsxs)("div",{className:"price-info",children:[(0,Qm.jsxs)("div",{className:"price-info__prices",children:[(0,Qm.jsx)(wU,{className:"price-info__prices-item",openPrice:o,digits:r}),(0,Qm.jsx)(jU,{className:"price-info__prices-item",price:n,digits:r}),n>0&&(0,Qm.jsx)("div",{className:"price-info__prices-item difference",children:(0,Qm.jsx)(xU,{pips:s})})]}),a&&(0,Qm.jsx)(gU,{deal:e})]})]})}var SU=n(27034);var OU=function(t){var e=t.currentTime,n=t.deal,r=t.price,i=(0,Lb.wA)(),o=n.amount,a=n.isFast,s=n.isHedged,c=n.openTimestamp,l=n.closeTimestamp,u=n.copyTicket,d=n.currency,f=l-e,h=(0,ij.lQ)(n),p=h.prefix,m=h.period,y=(0,ru.xr)((e-c)/(l-c)*100,2);(0,Xm.useEffect)((function(){u&&bt.A.instance.getSocialOpenDealInfo(u)}),[]);var v=function(t,e){var n=e.openTimestamp,r=e.closeTimestamp,i=e.percentProfit,o=i>100?100:i,a=Ru.Ay.CANCEL_PERCENT_LIST.find((function(t){return t.timeFrame===(0,SU.F)(n,r)})),s=void 0===a?1:a.value,c=Math.ceil((t-n)/s);return o-Ru.Ay.CANCEL_PERCENT_DIFF-c}(e,n),b=l-e>=(a?Ru.Ay.CANCEL_HIDE_BTN_TIME_FAST:Ru.Ay.CANCEL_HIDE_BTN_TIME),g=!s&&e&&b&&v>=0?(v/100*o).toFixed(2):0;return(0,Qm.jsxs)("div",{className:"deals-list__item-full",children:[(0,Qm.jsxs)("div",{className:"time-info",children:[(0,Qm.jsxs)("div",{className:"timer",children:[(0,$.tr)("expresses.open_time"),":",(0,Qm.jsx)("br",{}),(0,ij.vh)(c)]}),(0,Qm.jsx)("div",{className:"timeframe",children:"".concat(p).concat(m)}),(0,Qm.jsxs)("div",{className:"timer",children:[(0,$.tr)("deals.close_time"),":",(0,Qm.jsx)("br",{}),(0,ij.vh)(l)]})]}),f>0&&(0,Qm.jsxs)("div",{className:"progress-info",children:[(0,Qm.jsx)("div",{className:"progress",children:(0,Qm.jsx)("div",{className:"progress-bar",style:{width:"".concat(y,"%")}})}),(0,Qm.jsxs)("div",{children:[(0,$.tr)("deals.time_left"),": ",(0,gk.TO)(f)]})]}),(0,Qm.jsx)(_U,{deal:n,price:r}),g>0&&(0,Qm.jsx)("div",{className:"cancel",children:(0,Qm.jsxs)("a",{className:"btn flex-centered flex-1 btn-cancel",onClick:function(t){var e;t.stopPropagation(),i((e=n.id,{type:Gp.ib,payload:{ticket:e}}))},children:[(0,Qm.jsx)("i",{className:"fa fa-times"})," ",(0,$.tr)("deals.get")," ",(0,Qm.jsx)("span",{className:"currency",children:(0,hn.AR)(d)}),(0,Qm.jsx)("span",{className:"number",children:(0,hn.Fl)(g,d)})]})})]})};OU.propTypes={deal:Jm().object.isRequired,currentTime:Jm().number.isRequired,price:Jm().number.isRequired};var kU=OU,TU=function(t){var e,n,r=t.deal,i=t.handleSubmitRollover,o=(0,Lb.wA)(),a=(0,Lb.d4)(Xf.Oi),s=(0,ru.xr)(2*r.amount,2),c=r.closeTimestamp-r.openTimestamp,l=r.closeTimestamp+c,d=(0,ij.hx)(r.closeTimestamp),f=(0,ij.hx)(l);return d.day!==f.day?(e=(0,ij.Ux)(f),n=(0,ij.Ux)(d)):(e=(0,ij.yd)(f),n=(0,ij.yd)(d)),(0,Qm.jsx)("div",{className:"rollover-form",children:(0,Qm.jsxs)("div",{className:"vertical",children:[(0,Qm.jsxs)("div",{className:"rollover-info-block",children:[(0,Qm.jsxs)("div",{className:"rollover-info-block--text",children:[(0,Qm.jsx)("div",{className:"rollover-info-block__label",children:(0,$.tr)("deals.amount")}),(0,Qm.jsxs)("div",{className:"horizontal flex-centered",children:[(0,Qm.jsx)("div",{className:"rollover-info-block__value rollover-info-block--no-wrap",children:(0,hn.ej)(r.amount,a)}),(0,Qm.jsx)("div",{className:"rollover-info-block__value ",children:"→"}),(0,Qm.jsx)("div",{className:"rollover-info-block__value rollover-info-block__value--up rollover-info-block--no-wrap",children:(0,hn.ej)(s,a)})]})]}),(0,Qm.jsxs)("div",{className:"rollover-info-block--text",children:[(0,Qm.jsx)("div",{className:"rollover-info-block__label",children:(0,$.tr)("deals.close_time")}),(0,Qm.jsxs)("div",{className:"horizontal flex-centered",children:[(0,Qm.jsx)("div",{className:"rollover-info-block__value",children:n}),(0,Qm.jsx)("div",{className:"rollover-info-block__value",children:"→"}),(0,Qm.jsx)("div",{className:"rollover-info-block__value rollover-info-block__value--up",children:e})]})]})]}),(0,Qm.jsx)("div",{className:"action-buttons",children:(0,Qm.jsx)("a",{className:"btn btn-green-light flex-centered",onClick:function(){var t,e,n;o((t={ticket:r.id,amount:s},e=t.ticket,n=t.amount,function(t,r){var i=r();if((0,Xf.Hf)(i))return u.A.publish(y.FI);i.deals.openedIds.includes(e)&&bt.A.instance.rolloverOrder({ticket:e,amount:n})})),i()},children:(0,$.tr)("expresses.confirm")})})]})})},AU=(0,Xm.memo)(TU);function CU(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return PU(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PU(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var EU="ui/hover_double_up",IU="ui/leave_double_up",NU="ui/hover_rollover",DU="ui/leave_rollover";function LU(){return(0,Qm.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 305.002 305.002",children:[(0,Qm.jsx)("path",{d:"M152.502.001C68.412.001 0 68.412 0 152.501s68.412 152.5 152.502 152.5c84.089 0 152.5-68.411 152.5-152.5S236.591.001 152.502.001zm0 280C82.197 280.001 25 222.806 25 152.501c0-70.304 57.197-127.5 127.502-127.5 70.304 0 127.5 57.196 127.5 127.5 0 70.305-57.196 127.5-127.5 127.5z"}),(0,Qm.jsx)("path",{d:"m218.473 93.97-90.546 90.547-41.398-41.398c-4.882-4.881-12.796-4.881-17.678 0-4.881 4.882-4.881 12.796 0 17.678l50.237 50.237a12.465 12.465 0 0 0 8.839 3.661c3.199 0 6.398-1.221 8.839-3.661l99.385-99.385c4.881-4.882 4.881-12.796 0-17.678-4.882-4.882-12.797-4.882-17.678-.001z"})]})}var MU=function(t){var e=t.dealId,n=t.isMuted,r=t.handleExpandDeal,i=t.expandedDeal,o=t.isFirst,a=t.isLast,s=CU(hH(!1),3),c=s[0],l=s[1],d=s[2],f=CU((0,Xm.useState)(!1),2),h=f[0],p=f[1],m=CU((0,Xm.useState)(!1),2),v=m[0],b=m[1],g=CU(hH(!1),3),w=g[0],j=g[1],x=g[2],_=CU((0,Xm.useState)(!1),2),S=_[0],O=_[1],k=CU((0,Xm.useState)(!1),2),T=k[0],A=k[1],C=(0,Xm.useRef)(null),P=(0,Lb.wA)(),E=(0,Lb.d4)((function(t){return t.global.currentTime})),I=(0,Lb.d4)((function(t){return t.favorites.list})),N=(0,Lb.d4)((function(t){return Th(t)(e)})),D=(0,Lb.d4)((function(t){return(0,vf.P7)(t)(N.asset)})),L=(0,Lb.d4)((function(t){return mf(t)(N.asset)})),M=(0,Lb.d4)((function(t){return t.deals.openedIds.length})),R=(0,Lb.d4)((function(t){return Ph(t)(N.id)})),B=(0,Lb.d4)((function(t){return Ih(t)(N.id)})),H=(0,Lb.d4)((function(t){return Ch(t)(N.id)})),F=(0,Lb.d4)((function(t){return Eh(t)(N.id)})),W=B&&!T,U=N.amount,V=N.openPrice,G=N.percentProfit,z=N.closeTimestamp,Y=N.command,X=N.isNew,q=N.isClosed,K=N.copyTicket,Z=N.isRollover,J=N.isCopySignal,Q=N.currency,tt=N.isAI,et=z-E,nt=I.includes(N.asset),rt=(0,iu.dm)({amount:U,price:L,openPrice:V,isCall:uh(Y),percentProfit:G}),it=(0,iu.Jw)({amount:U,price:L,openPrice:V,isCall:uh(Y),percentProfit:G}),ot=R||W;(0,Xm.useEffect)((function(){return!R&&h&&u.A.publish(IU,N.id),function(){h&&u.A.publish(IU,N.id)}}),[R]),(0,Xm.useEffect)((function(){return!W&&w&&x(!1),!W&&v&&u.A.publish(DU,N.id),function(){W&&u.A.publish(DU,N.id)}}),[W]),(0,Xm.useEffect)((function(){c||w?r(N.id):i===N.id&&r(0)}),[c,w]),(0,Xm.useEffect)((function(){(c||w)&&i!==N.id&&(x(!1),d(!1))}),[i]),(0,Xm.useEffect)((function(){at(!1),st(!1)}),[M]),(0,Xm.useEffect)((function(){if(S)return C.current=setTimeout((function(){O(!1)}),800),function(){clearTimeout(C.current)}}),[S]),IT((function(){N.isRollover&&O(!0)}),[N.isRollover]);var at=function(t){return function(){p(t),u.A.publish(t?EU:IU,N.id)}},st=function(t){return function(){b(t),u.A.publish(t?NU:DU,N.id)}},ct=0;R&&((ct=H-E)>5||ct<0)&&(ct=0);var lt,ut=0;return W&&((ut=F-E)>5||ut<0)&&(ut=0),(0,Qm.jsxs)("div",{className:(0,Km.A)("deals-list__item",n&&"deals-list__muted"),onClick:function(t){if(!S){if(w){var e=t.target.tagName.toLowerCase();if("input"===e||"a"===e)return;x(!1)}l()}},children:[(0,Qm.jsxs)("div",{className:(0,Km.A)("animated",X&&!q&&"fadeInDown",q&&"fadeOutUp",o&&"deals-list__item-first",a&&"deals-list__item-last",c&&"open-full-info"),children:[(0,Qm.jsxs)("div",{className:"item-row",children:[(0,Qm.jsxs)("div",{children:[(0,Qm.jsxs)("span",{className:(0,Km.A)("favorites",nt&&"has-favorites"),children:[nt&&(0,Qm.jsx)("a",{onClick:(lt=N.asset,function(t){t.stopPropagation(),P(Lp(lt))}),children:(0,Qm.jsx)("i",{className:"fa fa-star"})}),!nt&&(0,Qm.jsx)("a",{onClick:function(t){return function(e){e.stopPropagation(),P(Dp(t))}}(N.asset),children:(0,Qm.jsx)("i",{className:"fa fa-star-o"})})]}),(0,Qm.jsx)("a",{onClick:function(t){t.stopPropagation(),P(Bh(N.asset))},children:D})," ",(0,Qm.jsxs)("span",{className:"price-up",children:["+",G,"%"]}),K&&(0,Qm.jsxs)(Qm.Fragment,{children:[" ",(0,Qm.jsx)("span",{className:"copied fa fa-copy"})]}),Z&&(0,Qm.jsxs)(Qm.Fragment,{children:[" ",(0,Qm.jsx)("span",{className:"fa fa-angle-double-right"})]}),J&&(0,Qm.jsxs)(Qm.Fragment,{children:[" ",(0,Qm.jsx)(Tx.A,{src:"/themes/cabinet/svg/icons/sidebar/signals.svg",className:"copySignal"})]}),tt&&(0,Qm.jsxs)(Qm.Fragment,{children:[" ",(0,Qm.jsx)(Tx.A,{src:"/themes/cabinet/svg/icons/sidebar/ai_trade.svg",className:"aiTrade"})]})]}),(0,Qm.jsx)("div",{children:(0,ij.Rt)(et)})]}),(0,Qm.jsxs)("div",{className:"item-row",children:[(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)("i",{className:(0,Km.A)("fa",uh(Y)?"fa-arrow-up":"fa-arrow-down")}),(0,hn.ej)(U,Q)]}),(0,Qm.jsx)("div",{className:(0,Km.A)("centered",rt>0&&"price-up"),children:(0,hn.ej)(rt,Q)}),(0,Qm.jsx)("div",{className:(0,Km.A)(it>0&&"price-up"),children:(0,hn.MU)(Math.max(0,it),Q)})]}),ot&&(0,Qm.jsxs)("div",{className:"cancel",children:[R&&(0,Qm.jsxs)("a",{className:(0,Km.A)("btn flex-1 flex-centered btn-green-light btn-double-up crop-text",h&&"hovered"),onClick:function(t){var e,n;t.stopPropagation(),P((e={ticket:N.id,requestId:(0,iu.PP)(t)},n=e.ticket,function(t,e){var r=e();if((0,Xf.Hf)(r))return u.A.publish(y.FI);r.deals.openedIds.includes(n)&&bt.A.instance.doubleUpOrder(n)}))},onMouseEnter:at(!0),onMouseLeave:at(!1),children:[(0,Qm.jsx)("i",{className:"fa fa-angle-double-up"}),(0,$.tr)("deals.double_up"),ct>0&&(0,Qm.jsxs)("span",{className:"timer",children:[ct,(0,$.tr)("s")]})]}),W&&(0,Qm.jsxs)("a",{className:(0,Km.A)("btn flex-1 flex-centered btn-green-light btn-rollover crop-text",(v||w)&&"hovered"),onClick:function(t){t.stopPropagation(),c&&d(!1),j()},onMouseEnter:st(!0),onMouseLeave:st(!1),children:[(0,Qm.jsx)("i",{className:"fa fa-angle-double-right"})," ",(0,$.tr)("deals.rollover"),ut>0&&(0,Qm.jsxs)("span",{className:"timer",children:[ut,(0,$.tr)("s")]})]})]}),w&&(0,Qm.jsx)(AU,{deal:N,handleSubmitRollover:function(){x(!1),A(!0)}}),c&&(0,Qm.jsx)(kU,{deal:N,currentTime:E,price:L})]}),S&&(0,Qm.jsx)("div",{className:"rollover-overlay",children:(0,Qm.jsx)(LU,{})})]})},RU=function(t){var e=t.children;return(0,Qm.jsx)("div",{className:"no-deals",children:e})};function BU(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return HU(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HU(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var $U=function(){var t=BU((0,Xm.useState)(0),2),e=t[0],n=t[1],r=(0,Lb.d4)(kh);(0,Xm.useEffect)((function(){r.includes(e)||n(0)}),[r]);var i=function(t){return n(t)};return(0,Qm.jsxs)(Qm.Fragment,{children:[0===r.length&&(0,Qm.jsx)(RU,{children:(0,$.tr)("deals.no_opened_trades")}),r.length>0&&r.map((function(t,n){return(0,Qm.jsx)(MU,{isFirst:0===n,isLast:n===r.length-1,dealId:t,handleExpandDeal:i,isMuted:0!==e&&e!==t,expandedDeal:e},t)}))]})},FU=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||1!=+Pe.A.cookies.get("dpr")?Math.min(window.devicePixelRatio||1,2):1};var WU=n(11442);function UU(t){return UU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UU(t)}function VU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function GU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?VU(Object(n),!0).forEach((function(e){zU(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zU(t,e,n){return(e=XU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XU(r.key),r)}}function XU(t){var e=function(t,e){if("object"!=UU(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=UU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==UU(e)?e:e+""}var qU=function(){return function(t,e,n){return e&&YU(t.prototype,e),n&&YU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.view=e,this.resolution=FU(),this.width=n,this.height=r;var i={view:e,backgroundAlpha:0,antialias:!0,autoResize:!0,sharedTicker:!1,sharedLoader:!1,resolution:this.resolution};MI.W0u.MIPMAP_TEXTURES=MI.E8U.OFF,this.renderer=MI.q5F(i),this.stage=new MI.mcf,this.stage.filterArea=this.renderer.screen,this.isPerformanceLines=Boolean((0,Q.A)("optimized_chart"))&&this.isWebGLRenderer(),MI.RvI.shared.autoStart=!1,MI.RvI.shared.stop(),this.setSize(n,r),this.initContainers()}),[{key:"initContainers",value:function(){var t=this;this.containers={},this.containers[rh.Rp.CHART]=new MI.mcf,this.containers[rh.Rp.GRID]=new MI.mcf,this.containers[rh.Rp.DEALS]=new MI.mcf,this.containers[rh.Rp.DEALS_TEXT]=new MI.mcf,this.dynamicGraphicsIndex={},this.textIndex={},Object.keys(this.containers).forEach((function(e){t.stage.addChild(t.containers[e])}))}},{key:"isWebGLRenderer",value:function(){return this.renderer&&this.renderer.type===MI.h3I.WEBGL}},{key:"setSize",value:function(t,e){this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.view.style.width="".concat(t,"px"),this.view.style.height="".concat(e,"px"),this.resize(t,e)}},{key:"resize",value:function(t,e){this.renderer.resize(t,e)}},{key:"getDynamicGraphics",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=GU(GU({},{touch:!1,parent:null,smooth:!1}),n);var r={graphics:null,isNew:!1,cleared:!1};return this.dynamicGraphicsIndex[e]?(r.graphics=this.dynamicGraphicsIndex[e].graphics,r.graphics.visible=!0,this.dynamicGraphicsIndex[e].cleared&&(r.isNew=!0,this.dynamicGraphicsIndex[e].cleared=!1)):(r.graphics=n.smooth&&this.isPerformanceLines?new WU.q1:new MI.A1g,n.touch&&(r.graphics.buttonMode=!0,r.graphics.interactive=!0),r.isNew=!0,null===n.parent?this.containers[t].addChild(r.graphics):n.parent.addChild(r.graphics),this.dynamicGraphicsIndex[e]=r),r}},{key:"getText",value:function(t,e,n,r,i,o){var a,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return this.textIndex[e]?((a=this.textIndex[e]).text=n,i&&(a.style.fill=i),o&&(a.style.align=o),this.textIndex[e].visible=!0):((a=new MI.EYj(n)).style=r,a.text=n,i&&(a.style.fill=i),o&&(a.style.align=o),null===s?this.containers[t].addChild(a):s.addChild(a),this.textIndex[e]=a),a}},{key:"clearDynamicGraphic",value:function(t){void 0!==this.dynamicGraphicsIndex[t]&&(this.dynamicGraphicsIndex[t].cleared=!0,this.dynamicGraphicsIndex[t].graphics.clear())}},{key:"destroyDynamicGraphicsNew",value:function(t,e){void 0!==this.dynamicGraphicsIndex[e]&&(this.dynamicGraphicsIndex[e].graphics.clear(),this.containers[t].removeChild(this.dynamicGraphicsIndex[e]),this.dynamicGraphicsIndex[e].graphics.destroy(),this.dynamicGraphicsIndex[e]=null,delete this.dynamicGraphicsIndex[e])}},{key:"destroyText",value:function(t,e){var n=this;this.textIndex[e]&&(this.textIndex[e].destroy(),this.containers.forEach((function(t){return t.removeChild(n.textIndex[e])})),this.textIndex[e]=null,delete this.textIndex[e])}},{key:"clear",value:function(){var t=this;Object.keys(this.dynamicGraphicsIndex).forEach((function(e){t.clearDynamicGraphic(e)}))}},{key:"destroy",value:function(){this.containers={},this.dynamicGraphicsIndex={},this.textIndex={},this.stage.destroy(!0),this.renderer.destroy(!0),this.stage=null,this.renderer=null,this.view=null}},{key:"render",value:function(){this.renderer.render(this.stage)}}])}();function KU(t){return KU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KU(t)}function ZU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JU(r.key),r)}}function JU(t){var e=function(t,e){if("object"!=KU(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=KU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==KU(e)?e:e+""}var QU=function(){return function(t,e,n){return e&&ZU(t.prototype,e),n&&ZU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,n){(e=JU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"fragShader","\nprecision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform mat3 mappedMatrix;\nuniform sampler2D uSampler;\nuniform vec4 fromColor;\nuniform vec4 toColor;\nuniform float direction;\nuniform float flip;\nuniform float alpha;\n\nvoid main(void) {\n    vec4 result = texture2D(uSampler, vTextureCoord);\n    vec3 mapCoord = vec3(vTextureCoord, 1.0) * mappedMatrix;\n    vec4 mixCol;\n    vec4 colorA;\n    vec4 colorB;\n    \n    if (result.a > 0.0) {\n        if(flip == 1.0) {\n            colorA = toColor;\n            colorB = fromColor;\n        } else {\n            colorA = fromColor;\n            colorB = toColor;\n        }\n        if(direction == 1.0) {\n            mixCol = mix(colorA, colorB, mapCoord.x);\n        } else {\n            mixCol = mix(colorA, colorB, mapCoord.y);\n        }\n        gl_FragColor = mix(result, mixCol, alpha);\n    } else {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n}\n"),this.filter=new MI.dJT(null,this.fragShader,{mappedMatrix:new MI.uqu,fromColor:new Float32Array(e.getVec4Array()),toColor:new Float32Array(n.getVec4Array()),alpha:o,direction:r?1:0,flip:i?1:0});var a=this.calculateNormalizedScreenSpaceMatrix.bind(this.filter);this.filter.apply=function(t,e,n,r,i){a(this.uniforms.mappedMatrix,i),t.applyFilter(this,e,n,r,i)}}),[{key:"calculateNormalizedScreenSpaceMatrix",value:function(t,e){var n=e.sourceFrame,r=e.destinationFrame,i=t.identity();i.translate(n.x/r.width,n.y/r.height);var o=r.width/n.width,a=r.height/n.height;return i.scale(o,a),i}}])}(),tV=n(36479),eV=n.n(tV);function nV(t){return nV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nV(t)}function rV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iV(r.key),r)}}function iV(t){var e=function(t,e){if("object"!=nV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nV(e)?e:e+""}var oV=function(){return function(t,e,n){return e&&rV(t.prototype,e),n&&rV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.chart=e,this.core=e.renderer,this.secondWidth=e.secondWidth,this.maxVal=e.maxValue,this.minVal=e.minValue,this.width=e.width,this.height=e.height,this.topMarginPixels=10,this.bottomMarginPixels=10,this.startTime=e.startPoint.time,this.endTime=e.endPoint.time}),[{key:"getXFromTime",value:function(t){return(t-this.startTime)*this.secondWidth}},{key:"getYFromValue",value:function(t){var e=(t-this.minVal)/(this.maxVal-this.minVal);return this.height-this.bottomMarginPixels-(this.height-(this.topMarginPixels+this.bottomMarginPixels))*e}},{key:"getTimeFromX",value:function(t){return this.startTime+t/this.secondWidth}},{key:"getValueFromY",value:function(t){var e=this.height-(this.topMarginPixels+this.bottomMarginPixels),n=(this.height-this.bottomMarginPixels-t)/e;return this.minVal+(this.maxVal-this.minVal)*n}},{key:"getDealOpenPoint",value:function(){var t=this.chart.deal.openPrice;return new zI(t,this.chart.getDealOpenTimestampMs())}},{key:"getDealClosePoint",value:function(){var t=this.chart.deal.closePrice;return new zI(t,this.chart.getDealCloseTimestampMs())}},{key:"simplifyPoints",value:function(t){var e=this;if(t.length<=60)return(0,iu.L5)(this.chart.deal)&&!(0,iu.u8)(this.chart.deal)?t.slice().concat([this.getDealOpenPoint(),this.getDealClosePoint()]).sort((function(t,e){return t.time-e.time})):t;var n=t.map((function(t){return{x:e.getXFromTime(t.time),y:e.getYFromValue(t.value)}})),r=eV()(n,4,!0).map((function(t){return new zI(e.getValueFromY(t.y),e.getTimeFromX(t.x))}));return(0,iu.L5)(this.chart.deal)&&!(0,iu.u8)(this.chart.deal)&&(r=r.concat([this.getDealOpenPoint(),this.getDealClosePoint()]).sort((function(t,e){return t.time-e.time}))),r}},{key:"draw",value:function(){}}])}();function aV(t){return aV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aV(t)}function sV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cV(r.key),r)}}function cV(t){var e=function(t,e){if("object"!=aV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=aV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==aV(e)?e:e+""}function lV(t,e,n){return e=dV(e),function(t,e){if(e&&("object"==aV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,uV()?Reflect.construct(e,n||[],dV(t).constructor):e.apply(t,n))}function uV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(uV=function(){return!!t})()}function dV(t){return dV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dV(t)}function fV(t,e){return fV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fV(t,e)}var hV=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=lV(this,e,[t])).areaAlpha=0,n.areaShaderFilter=null,n.deal=t.deal,n.core.isWebGLRenderer()?(n.areaAlpha=.01,n.initWebGLFilters()):n.areaAlpha=.15,n.points=n.simplifyPoints(n.chart.points),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fV(t,e)}(e,t),function(t,e,n){return e&&sV(t.prototype,e),n&&sV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"normalizeY",value:function(t){return t<0?0:t>this.height?this.height:t}},{key:"initWebGLFilters",value:function(){var t=this.chart.colors,e=t.priceChartTopColor,n=t.priceChartBottomColor;this.areaShaderFilter=new QU(e,n,!1,!1,.3)}},{key:"draw",value:function(){for(var t=this.points.length,e=[],n=[],r=0,i=0;i<t;i++){var o=this.getXFromTime(this.points[i].time);if(i+1<t){var a=this.getXFromTime(this.points[i+1].time);if(o<0&&a<0)continue}e[r]=this.getXFromTime(this.points[i].time),n[r]=this.getYFromValue(this.points[i].value),r++}var s=this.core.getDynamicGraphics(rh.Rp.CHART,"area-gradient-".concat(this.deal.id)).graphics;s.beginFill(this.chart.colors.plotLineGradientTopColor.getHEXNUM(),this.areaAlpha),s.moveTo(e[0],this.height),s.lineTo(e[0],this.normalizeY(n[0]));for(var c=e.length,l=0;l<c;l++)s[0===l?"moveTo":"lineTo"](e[l],this.normalizeY(n[l]));s.lineTo(e[c-1],this.height),s.lineTo(e[0],this.height),s.endFill(),this.core.isWebGLRenderer()&&(s.filters=[this.areaShaderFilter.filter]);var u=this.core.getDynamicGraphics(rh.Rp.CHART,"line-".concat(this.deal.id),{smooth:!0}).graphics;u.lineStyle({width:2,scaleMode:WU.sb.VERTICAL,color:this.chart.colors.plotLineColor.getHEXNUM(),alpha:1,join:MI.u2q.ROUND});for(var d=0;d<c;d++)0===d?u.moveTo(e[d],n[d]):u.lineTo(e[d],n[d])}}])}(oV);function pV(t){return pV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pV(t)}function mV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yV(r.key),r)}}function yV(t){var e=function(t,e){if("object"!=pV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pV(e)?e:e+""}function vV(t,e,n){return e=gV(e),function(t,e){if(e&&("object"==pV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bV()?Reflect.construct(e,n||[],gV(t).constructor):e.apply(t,n))}function bV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(bV=function(){return!!t})()}function gV(t){return gV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gV(t)}function wV(t,e){return wV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wV(t,e)}var jV=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=vV(this,e,[t])).deal=t.deal,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wV(t,e)}(e,t),function(t,e,n){return e&&mV(t.prototype,e),n&&mV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"setGridLineStyles",value:function(t){t.lineStyle({width:.5,color:this.chart.colors.gridLineColor.getHEXNUM(),alpha:this.chart.colors.gridLineColor.getAlpha()})}},{key:"getTimelineStep",value:function(t){return t<=10?1:t<=60?5:t>60&&t<=600?60:t>600&&t<=3600?300:1800}},{key:"drawTimeline",value:function(){for(var t=this.endTime-this.startTime,e=this.getTimelineStep(t);e*this.secondWidth<5;)e+=e;var n=Math.floor(this.startTime/e)*e,r=(Math.ceil(this.endTime/e)+1)*e,i=this.core.getDynamicGraphics(rh.Rp.GRID,"grid-".concat(this.deal.id),{smooth:!0}).graphics;this.setGridLineStyles(i);for(var o=n;o<=r;o+=e){var a=Math.floor(this.getXFromTime(o));i.moveTo(a,0),i.lineTo(a,this.height)}}},{key:"draw",value:function(){this.drawTimeline()}}])}(oV);function xV(t){return xV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xV(t)}function _V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SV(r.key),r)}}function SV(t){var e=function(t,e){if("object"!=xV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xV(e)?e:e+""}function OV(t,e,n){return e=TV(e),function(t,e){if(e&&("object"==xV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,kV()?Reflect.construct(e,n||[],TV(t).constructor):e.apply(t,n))}function kV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(kV=function(){return!!t})()}function TV(t){return TV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},TV(t)}function AV(t,e){return AV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},AV(t,e)}var CV=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=OV(this,e,[t])).deal=t.deal,n.color=(0,iu.nT)(n.deal.command)?n.chart.colors.callLineColor.getHEXNUM():n.chart.colors.putLineColor.getHEXNUM(),n.lineShader=new WU.sM({dash:3,gap:3}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AV(t,e)}(e,t),function(t,e,n){return e&&_V(t.prototype,e),n&&_V(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"drawLine",value:function(t,e){var n=this.core.getDynamicGraphics(rh.Rp.DEALS,"lineGraphics-".concat(this.deal.id));if(n.isNew){n.graphics.lineStyle(2,this.color);var r=this.getXFromTime(this.chart.getDealCloseTimestampMs())-t;n.graphics.moveTo(0,0),n.graphics.lineTo(r,0)}n.graphics.setTransform(t,e)}},{key:"drawVerticalLine",value:function(t,e){var n=this,r=this.core.getDynamicGraphics(rh.Rp.DEALS,"verticalLineGraphics-".concat(this.deal.id),{smooth:!0});if(r.isNew){r.graphics.lineStyle({width:1,color:this.chart.colors.plotLineColor.getHEXNUM(),alpha:.8,shader:this.lineShader});var i=this.getXFromTime(this.chart.getDealCloseTimestampMs())-t,o=this.simplifyPoints(this.chart.points).find((function(t){return t.time===n.chart.getDealCloseTimestampMs()}));o&&(r.graphics.moveTo(i,0),r.graphics.lineTo(i,this.getYFromValue(o.value)-e))}r.graphics.setTransform(t,e)}},{key:"drawDot",value:function(t,e){var n=this.core.getDynamicGraphics(rh.Rp.DEALS,"dotGraphics-".concat(this.deal.id));n.isNew&&(n.graphics.beginFill(this.color,1,!0),n.graphics.lineStyle(0,this.color,0),n.graphics.drawCircle(0,0,3),n.graphics.endFill()),n.graphics.setTransform(t,e)}},{key:"draw",value:function(){var t=this.getXFromTime(this.chart.getDealOpenTimestampMs()),e=this.getYFromValue(this.deal.openPrice);this.drawLine(t,e),this.drawDot(t,e),this.drawVerticalLine(t,e)}}])}(oV);function PV(t){return PV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PV(t)}function EV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function IV(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?EV(Object(n),!0).forEach((function(e){NV(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EV(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function NV(t,e,n){return(e=LV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LV(r.key),r)}}function LV(t){var e=function(t,e){if("object"!=PV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=PV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==PV(e)?e:e+""}function MV(t,e,n){return e=BV(e),function(t,e){if(e&&("object"==PV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,RV()?Reflect.construct(e,n||[],BV(t).constructor):e.apply(t,n))}function RV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(RV=function(){return!!t})()}function BV(t){return BV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},BV(t)}function HV(t,e){return HV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},HV(t,e)}var $V=6,FV=4,WV=2,UV=3,VV=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=MV(this,e,[t])).deal=t.deal,n.color=(0,iu.nT)(n.deal.command)?n.chart.colors.callLineColor.getHEXNUM():n.chart.colors.putLineColor.getHEXNUM(),n.textStyles=IV(IV({},Ru.Ay.CHART.TEXT_STYLE_BET),{},{fontSize:10}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HV(t,e)}(e,t),function(t,e,n){return e&&DV(t.prototype,e),n&&DV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"roundedRect",value:function(t,e){var n=this.core.getText(rh.Rp.DEALS_TEXT,"rectangleGraphics-".concat(this.id),(0,hn.ej)(this.deal.amount,this.deal.currency),this.textStyles,this.chart.colors.betElementTextColor.getHEXNUM()),r=n.width+2*FV,i=n.height+2*WV,o=this.chart.renderer.height/2>e?$V:-(i+$V),a=this.core.getDynamicGraphics(rh.Rp.DEALS,"rectangleGraphics-".concat(this.id));a.isNew&&(a.graphics.beginFill(this.color,.5,!0),a.graphics.drawRoundedRect(0,o,r,i,3),a.graphics.endFill()),a.graphics.setTransform(t-UV,e,1,1),n.setTransform(t+FV-UV,e+o+WV,1,1)}},{key:"draw",value:function(){var t=this.getXFromTime(this.chart.getDealOpenTimestampMs()),e=this.getYFromValue(this.deal.openPrice);this.roundedRect(t,e)}}])}(oV);function GV(t){return GV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GV(t)}function zV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YV(r.key),r)}}function YV(t){var e=function(t,e){if("object"!=GV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=GV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==GV(e)?e:e+""}var XV=function(){return function(t,e,n){return e&&zV(t.prototype,e),n&&zV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.points=[],this.secondWidth=0,this.width=this.renderer.width,this.height=this.renderer.height,this.startPoint=new zI(0,0),this.endPoint=new zI(0,0),this.minValue=0,this.maxValue=0,this.deal=null,this.digits=5,this.currency=n.currency?n.currency:"$",this.colors=LI}),[{key:"setPoints",value:function(t){this.points=t.sort((function(t,e){return t.time-e.time})),this.startPoint=t.length?t[0]:new zI(0,0),this.endPoint=t.length?t[t.length-1]:new zI(0,0);var e=this.endPoint.time-this.startPoint.time;this.secondWidth=this.width/e}},{key:"findFirstTimeBefore",value:function(t){if(!this.points.length)return t;for(var e=this.points[0].time,n=1;n<this.points.length&&!(this.points[n].time>=t);n++)e=this.points[n].time;return e}},{key:"setDeal",value:function(t,e){this.deal=t,this.digits=e}},{key:"getDealOpenTimestampMs",value:function(){var t=this.deal,e=t.openTimestamp,n=t.openMs;return parseFloat("".concat(e,".").concat((0,dh.pJ)(n)))}},{key:"getDealCloseTimestampMs",value:function(){var t=this.deal.closeMs,e=(0,iu.tY)(this.deal),n=parseFloat("".concat(e,".").concat((0,dh.pJ)(t)));if(0===t&&!(0,iu.u8)(this.deal)){var r=this.findFirstTimeBefore(n);if(Math.abs(r-e)<2)return r}return n}},{key:"getTimeFromX",value:function(t){return this.startPoint.time+t/this.secondWidth}},{key:"calculateMinMax",value:function(){for(var t=Ru.Ay.CHART.FLT_MIN,e=Ru.Ay.CHART.FLT_MAX,n=this.points.length,r=0;r<n;r++){var i=this.points[r].value;i<e&&(e=i),i>t&&(t=i)}if(this.deal){var o=this.deal.openPrice;o>t&&(t=o),o<e&&(e=o)}e===t&&(t+=.1*t,e-=.1*e),this.minValue=e,this.maxValue=t}},{key:"render",value:function(){this.renderer.clear(),this.calculateMinMax(),this.drawElements(),this.renderer.render()}},{key:"drawElements",value:function(){this.points.length&&[new hV(this),new jV(this),new CV(this),new VV(this)].forEach((function(t){return t.draw()}))}}])}();function qV(t){return qV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qV(t)}var KV=["width","height"],ZV=["deal","asset"];function JV(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return QV(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QV(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QV(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function eG(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tG(Object(n),!0).forEach((function(e){nG(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tG(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nG(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=qV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qV(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rG(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var iG=function(t){var e=t.width,n=void 0===e?40:e,r=t.height,i=void 0===r?40:r,o=rG(t,KV);return(0,Qm.jsx)("div",eG(eG({},o),{},{children:(0,Qm.jsx)("svg",{width:n,height:i,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"",children:(0,Qm.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,Qm.jsxs)("g",{transform:"translate(1 1)",strokeWidth:"2",children:[(0,Qm.jsx)("circle",{strokeOpacity:".25",cx:"18",cy:"18",r:"18"}),(0,Qm.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18"})]})})})}))},oG=function(){return(0,Qm.jsx)("div",{className:"no-data",children:(0,$.tr)("deals.no_data")})},aG=function(t){var e=t.deal,n=t.asset,r=rG(t,ZV),i=(0,Xm.useRef)(),o=(0,Xm.useRef)(),a=(0,Xm.useRef)(null),s=(0,Xm.useRef)(null),c=JV((0,Xm.useState)(!0),2),l=c[0],u=c[1],d=JV((0,Xm.useState)([]),2),f=d[0],h=d[1],p=JV((0,Xm.useState)(!1),2),m=p[0],y=p[1],v=(0,Lb.d4)((function(t){return t.global.currency}));IT((function(){if(f.length&&!a.current){var t=i.current,r=t.clientWidth,c=t.clientHeight;a.current=new qU(o.current,r,c),s.current=new XV(a.current,{currency:v}),s.current.setPoints(f),s.current.setDeal(e,n.digits),s.current.render()}}),[f]);var b=(0,Xm.useRef)();return(0,Xm.useEffect)((function(){return bt.A.instance.loadOrderChart(eG(eG({},e),{},{symbolId:n.id,digits:n.digits})),b.current=bt.A.instance.addEventListener("".concat(An.Bf).concat(gt.Qz),(function(t){if(t.id===e.id)if(u(!1),t.points.length){var n=t.points.map((function(t){var e=t.price,n=t.time,r=t.open;return new zI(void 0!==r?r:e,n)}));h(n)}else y(!0)})),function(){bt.A.instance.removeEventListener("".concat(An.Bf).concat(gt.Qz),b.current),a.current&&a.current.destroy()}}),[]),(0,Qm.jsxs)("div",eG(eG({},r),{},{ref:i,children:[l&&(0,Qm.jsx)(iG,{className:"price-chart-loader"}),!l&&m&&(0,Qm.jsx)(oG,{}),!l&&(0,Qm.jsx)("canvas",{ref:o})]}))},sG=function(t,e){var n=t.amount,r=t.percentProfit,i=t.profit,o=t.openPrice,a=t.closePrice,s=t.digits,c=t.currency,l=(0,iu.Co)(o,a,s),u=(0,iu.u8)(t),d=l>0?(0,$.tr)("deals.up"):(0,$.tr)("deals.down"),f=(l+"").replace("-","").replace("+",""),h=(0,$.tr)("deals.tooltip_text_win",e,(0,hn.ej)(n,c),"".concat(r,"%"),(0,hn.ej)(Math.max(0,i),c),d,f),p=(0,$.tr)("deals.tooltip_text_lose",e,(0,hn.ej)(n,c),d,f),m=(0,$.tr)("deals.tooltip_text_return",e,(0,hn.ej)(n+i,c)),y=(0,$.tr)("deals.tooltip_text_cancel",(0,hn.ej)(n+i,c)),v=h,b=i<=0;return u?v=y:(0,iu.ZN)(t)===n?v=m:b&&(v=p),v},cG=function(t){var e=t.deal,n=t.digits,r=e.command,i=e.openTimestamp,o=e.openPrice,a=e.openMs,s=e.closeMs,c=e.profit,l=e.copyTicket,u=e.copyUid,d=void 0===u?"":u,f=e.copyProfileName,h=void 0===f?"":f,p=e.id,m=e.currency,y=(0,Lb.d4)((function(t){return(0,vf.rZ)(t)(e.asset)})),v=(0,iu.tY)(e),b=(0,iu.eY)(e);b||(b=o);var g=(0,ij.lQ)(e),w=g.prefix,j=g.period,x=(0,iu.Co)(o,b,n),_=(0,Lb.d4)(Gu.WN),S=(0,Lb.d4)(jf),O=(0,Lb.d4)(xf),k=(0,Lb.d4)(_f),T=(0,iu.u8)(e),A=!O&&!T&&y&&!k,C=((0,iu.nT)(r)?(0,$.tr)("hotkeys.higher"):(0,$.tr)("hotkeys.lower")).toUpperCase(),P=sG(e,C);return(0,Xm.useEffect)((function(){l&&bt.A.instance.getSocialCloseDealInfo(l)}),[]),(0,Qm.jsxs)("div",{className:"deals-list__item-full",children:[(0,Qm.jsxs)("div",{className:"time-info",children:[(0,Qm.jsxs)("div",{className:"timer",children:[(0,$.tr)("expresses.open_time"),":",(0,Qm.jsx)("br",{}),(0,ij.vh)(i),null!=a&&".".concat((0,dh.pJ)(a))]}),(0,Qm.jsx)("div",{className:"timeframe",children:"".concat(w).concat(j)}),(0,Qm.jsxs)("div",{className:"timer",children:[(0,$.tr)("deals.close_time"),":",(0,Qm.jsx)("br",{}),(0,ij.vh)(v),null!=s&&".".concat((0,dh.pJ)(s))]})]}),(0,Qm.jsx)("div",{className:(0,Km.A)("forecast",A&&"type-closed"),children:(0,Qm.jsxs)("div",{children:[(0,Qm.jsxs)("div",{children:[(0,$.tr)("deals.your_forecast"),":"," ",(0,Qm.jsx)("span",{className:(0,Km.A)("act",(0,iu.nT)(r)?"call":"put"),children:C})]}),(0,Qm.jsxs)("div",{className:"payout-profit",children:[(0,Qm.jsxs)("div",{children:[(0,$.tr)("deals.payout"),":"," ",(0,Qm.jsx)("span",{className:(0,Km.A)(e.amount+e.profit>0&&"price-up"),children:(0,hn.ej)(e.amount+e.profit,m)})]}),(0,Qm.jsxs)("div",{className:(0,Km.A)(S?"deal-with-tooltip":"profit-tooltip-container"),children:[(0,$.tr)("deals.profit"),":"," ",(0,Qm.jsx)("span",{className:(0,Km.A)(e.profit>0&&"price-up"),children:(0,hn.MU)(Math.max(0,c),m)}),_&&(0,Qm.jsxs)("div",{className:"tooltip2 tooltip2-close-deal-full-info",children:[(0,Qm.jsx)("i",{className:"fa fa-question-circle-o"}),(0,Qm.jsx)(nw,{children:P})]})]})]})]})}),A&&(0,Qm.jsx)(aG,{className:"price-chart",deal:e,asset:y}),T&&(0,Qm.jsx)("div",{className:"refund-info message message-warning notification-message",children:(0,$.tr)("deals.refunded")}),(0,Qm.jsxs)("div",{className:"price-info",children:[(0,Qm.jsx)("div",{className:"price-info__order",children:(0,Qm.jsxs)("div",{children:[(0,$.tr)("deals.order"),": ",p]})}),(0,Qm.jsxs)("div",{className:"price-info__prices",children:[(0,Qm.jsxs)("div",{className:"price-info__prices-item",children:[(0,$.tr)("deals.open_price"),":",(0,Qm.jsx)("br",{}),(0,ru.xr)(o,n,!0)]}),(0,Qm.jsxs)("div",{className:"price-info__prices-item",children:[(0,$.tr)("deals.close_price"),":",(0,Qm.jsx)("br",{}),(0,ru.xr)(b,n,!0)]}),(0,Qm.jsxs)("div",{className:"price-info__prices-item difference",children:[(0,$.tr)("deals.diff"),":",(0,Qm.jsx)("br",{}),"(",(0,Qm.jsx)("span",{className:(0,Km.A)(x>0?"up":x<0?"down":""),children:x>0?"+".concat(x):x})," ",1===x?(0,$.tr)("deals.pip"):(0,$.tr)("deals.pips"),")"]})]}),l&&(0,Qm.jsxs)("div",{className:"price-info__copy-info",children:[(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)("span",{className:"fa fa-copy"})," ",(0,$.tr)("deals.success_copy_order")]}),(0,Qm.jsxs)("div",{children:[(0,$.tr)("tournaments.trader_id"),":"," ",(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet/ajax/modal/trader-information/".concat(d,"?t=copying-stats")),className:"mfp-ajax-modal",children:"".concat(d).concat(h?" (".concat(h,")"):"")})]})]})]})]})};cG.propTypes={deal:Jm().object.isRequired,digits:Jm().number.isRequired};var lG=cG,uG=(0,Lb.Ng)((function(t,e){var n=t.assets,r=t.favorites,i=e.deal,o=n.assetBySymbol,a=n.symbols,s=a.includes(i.asset)?o[i.asset].digits:3;return{favorites:r.list,label:a.includes(i.asset)?o[i.asset].label:i.asset,digits:s}}),{addFavoriteSymbol:Dp,removeFavoriteSymbol:Lp,changeSymbolOnFirstChart:Bh})((function(t){var e=t.deal,n=t.digits,r=t.label,i=t.favorites,o=t.addFavoriteSymbol,a=t.removeFavoriteSymbol,s=t.changeSymbolOnFirstChart,c=t.isFirst,l=t.isLast,u=t.handleExpandDeal,d=t.isMuted,f=t.isOpened,h=e.amount,p=e.asset,m=e.command,y=e.percentProfit,v=e.currency,b=i.includes(p),g=(0,iu.tY)(e),w=e.amount+e.profit,j=(0,Km.A)(c&&"deals-list__item-first",l&&"deals-list__item-last",f&&"open-full-info");return(0,Qm.jsx)("div",{className:(0,Km.A)("deals-list__item",d&&"deals-list__muted"),onClick:u(e.id),children:(0,Qm.jsxs)("div",{className:j,children:[(0,Qm.jsxs)("div",{className:"deals-list__item-short",children:[(0,Qm.jsxs)("div",{className:"item-row",children:[(0,Qm.jsxs)("div",{children:[(0,Qm.jsxs)("span",{className:(0,Km.A)("favorites",b&&"has-favorites"),children:[b&&(0,Qm.jsx)("a",{onClick:function(t){t.stopPropagation(),a(p)},children:(0,Qm.jsx)("i",{className:"fa fa-star"})}),!b&&(0,Qm.jsx)("a",{onClick:function(t){t.stopPropagation(),o(p)},children:(0,Qm.jsx)("i",{className:"fa fa-star-o"})})]}),(0,Qm.jsx)("a",{onClick:function(t){t.stopPropagation(),s(p)},children:r})," ",(0,Qm.jsxs)("span",{className:"price-up",children:["+",y,"%"]})," ",e.copyTicket&&(0,Qm.jsx)("span",{className:"copied fa fa-copy"}),e.isRollover&&(0,Qm.jsxs)(Qm.Fragment,{children:[" ",(0,Qm.jsx)("span",{className:"fa fa-angle-double-right"})]}),e.isCopySignal&&(0,Qm.jsxs)(Qm.Fragment,{children:[" ",(0,Qm.jsx)(Tx.A,{src:"/themes/cabinet/svg/icons/sidebar/signals.svg",className:"copySignal"})]}),e.isAI&&(0,Qm.jsxs)(Qm.Fragment,{children:[" ",(0,Qm.jsx)(Tx.A,{src:"/themes/cabinet/svg/icons/sidebar/ai_trade.svg",className:"aiTrade"})]})]}),(0,Qm.jsx)("div",{children:(0,ij.GJ)(g)})]}),(0,Qm.jsxs)("div",{className:"item-row",children:[(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)("i",{className:(0,Km.A)("fa",uh(m)?"fa-arrow-up":"fa-arrow-down")}),(0,hn.ej)(h,v)]}),(0,Qm.jsx)("div",{className:(0,Km.A)("centered",w>0&&"price-up"),children:(0,hn.ej)(w,v)}),(0,Qm.jsx)("div",{className:(0,Km.A)(e.profit>0&&"price-up"),children:(0,hn.MU)(Math.max(0,e.profit),v)})]})]}),f&&(0,Qm.jsx)(lG,{deal:e,digits:n})]})})})),dG=function(t){var e=t.date,n=(0,Lb.d4)((function(t){return t.global.isMobile}));return(0,Qm.jsxs)("div",{className:"deals-list__group-label flex-centered",children:[n&&(0,Qm.jsx)("span",{children:e}),!n&&e]})};function fG(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return hG(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hG(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var pG=function(){for(var t=fG((0,Xm.useState)(0),2),e=t[0],n=t[1],r=(0,Lb.d4)((function(t){return t.deals.closedIds})),i=(0,Lb.d4)((function(t){return t.deals.closedById})),o=qM()(r,(function(t){var e=i[t],n=e.closeTime,r=e.refundTime;return(0,ij.CO)((0,ij.Pw)(r||n)).substring(0,10)})),a=function(t){return function(e){e.target&&e.target.classList.contains("mfp-ajax-modal")||n((function(e){return t===e?0:t}))}},s=[],c=Object.keys(o),l=function(){var t=c[u],n=o[t].length;s.push((0,Qm.jsx)(dG,{date:t},t)),o[t].forEach((function(t,r){s.push((0,Qm.jsx)(uG,{isFirst:0===r,isLast:r===n-1,deal:i[t],handleExpandDeal:a,isOpened:e===t,isMuted:0!==e&&e!==t},t))}))},u=0;u<c.length;u++)l();return(0,Qm.jsxs)(Qm.Fragment,{children:[0===r.length&&(0,Qm.jsx)(RU,{children:(0,$.tr)("deals.no_closed_trades")}),s.length>0&&s]})};function mG(t){return mG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mG(t)}function yG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vG(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yG(Object(n),!0).forEach((function(e){bG(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yG(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bG(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=mG(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mG(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gG(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return wG(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wG(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var jG={},xG=function(){var t=(0,Lb.d4)(xf);return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)(pG,{}),!t&&(0,Qm.jsx)("div",{className:"more-btn",children:(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet/trading-history/"),className:"btn btn-primary",children:(0,$.tr)("more")})})]})},_G="opened",SG="closed",OG=Rg((function(t){var e=t.onClickOutside,n=gG((0,Xm.useState)(Id.o),2),r=n[0],i=n[1],o=(0,Lb.d4)(wh),a=(0,Lb.d4)(_h),s=gG((0,Xm.useState)(0===o&&a>0?SG:_G),2),c=s[0],l=s[1],d=(0,Lb.wA)();(0,Xm.useEffect)((function(){d(Xp())}),[c]);var f=function(t){return function(){return l(t)}};(0,Xm.useEffect)((function(){var t=u.A.subscribe(qt.h,(function(t,e){return i(e)}));return function(){return u.A.unsubscribe(t)}}),[]);var h=r===Xt.V,p=h?sx:"div",m=h?{onClickOutside:e(qo.lx.DEALS)}:jG;return(0,Qm.jsx)(Yj,{className:"right-sidebar-modal__overlay",children:(0,Qm.jsx)(p,vG(vG({className:"right-sidebar-modal trades-modal"},m),{},{children:(0,Qm.jsx)("div",{className:"tab-wrap",children:(0,Qm.jsxs)("div",{className:"flex-vertical-block",children:[(0,Qm.jsxs)("div",{className:"flex-vertical-block__header",children:[(0,Qm.jsx)(sw,{text:(0,$.tr)("deals.trades")}),(0,Qm.jsxs)("ul",{className:"tab-nav-mobile-sidebar",children:[(0,Qm.jsx)("li",{className:(0,Km.A)(c===_G&&"active"),children:(0,Qm.jsx)("a",{onClick:f(_G),children:(0,Qm.jsx)("span",{children:(0,$.tr)("deals.opened_trades")})})}),(0,Qm.jsx)("li",{className:(0,Km.A)(c===SG&&"active"),children:(0,Qm.jsx)("a",{onClick:f(SG),children:(0,Qm.jsx)("span",{children:(0,$.tr)("deals.closed_trades")})})})]})]}),(0,Qm.jsx)("div",{className:"flex-vertical-block__body",children:(0,Qm.jsx)(Xg,{className:"tab-body",children:(0,Qm.jsxs)("div",{className:"deals-list",style:{display:"block"},children:[c===_G?(0,Qm.jsx)($U,{}):null,c===SG?(0,Qm.jsx)(xG,{}):null]})})})]})})}))})})),kG=function(t){return(0,Qm.jsx)(Rb.k,{className:"right-nav__svg-icon",src:"/themes/cabinet/images/mobile/right-nav/".concat(t,".svg")})},TG=(0,Lb.Ng)((function(t){var e=t.deals,n=t.expresses,r=t.counters,i=t.global,o=t.pendingOrders;return{openOrdersCount:e.openedIds.length,openExpressesCount:n.opened.expressIds.length,pendingOrdersCount:o.ids.length,socialTradingListOfCopiedCount:r[cw.pt],activeTournamentsCount:r[cw.jV],isTournament:i.isTournament}}))((function(t){var e=t.openOrdersCount,n=t.openExpressesCount,r=t.pendingOrdersCount,i=t.socialTradingListOfCopiedCount,o=t.activeTournamentsCount,a=t.isTournament,s=(0,Lb.wA)(),c=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.DEALS]})),l=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.SIGNALS]})),d=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.SOCIAL_TRADING]})),f=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.EXPRESSES]})),h=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.TOURNAMENTS]})),p=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.TOURNAMENT_HISTORY]})),m=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.TOURNAMENT_DETAILS]})),y=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.PENDING_ORDERS]})),v=(0,Lb.d4)((function(t){return t.global.hideTournament})),b=(0,Lb.d4)(xf),g=(0,Lb.d4)(_f),w=(0,Lb.d4)(Xf.X4),j=(0,Lb.d4)((function(t){return t.modals.states}));(0,Xm.useEffect)((function(){var t=document.body;if(t){var e=!1;for(var n in j){var r="open-".concat(n);j[n]&&!t.classList.contains(r)&&(t.classList.add(r),e=!0),!j[n]&&t.classList.contains(r)&&(t.classList.remove(r),e=!0)}e&&Yt()}}),[j]);var x=function(t){return function(){!b||t!==qo.lx.EXPRESSES&&t!==qo.lx.TOURNAMENTS&&t!==qo.lx.PENDING_ORDERS?g&&t===qo.lx.EXPRESSES?s(cp({modalId:qo.lx.ONLY_REAL_TRADING,value:!0})):j[t]?(s(cp({modalId:t,value:!1})),Ix(t,!1)):(s(up(t)),s(cp({modalId:t,value:!0})),Ix(t,!0)):s(cp({modalId:qo.lx.ONLY_REGISTERED,value:!0}))}},_=function(t){return function(e){!j[t]||e.target.closest(".right-nav")||e.target.closest(".ReactModalPortal")||e.target.closest(".mfp-wrap")||e.target.closest(".right-sidebar-modal2")||e.target.closest(".js-mobile-nav.clone")||s(dp())}};return(0,Xm.useEffect)((function(){var t=u.A.subscribe(ee,(function(t,e){"right"===e&&s(up(qo.lx.DEALS))}));return function(){u.A.unsubscribe(t)}}),[]),(0,Qm.jsxs)("div",{className:"right-nav",children:[(0,Qm.jsxs)("a",{onClick:x(qo.lx.DEALS),className:(0,Km.A)("right-nav__link",c&&"right-nav__link--active"),id:"right-nav_deals",children:[(0,Qm.jsx)("div",{className:"counter-wrap",children:(0,Qm.jsx)(yx,{count:e,type:cw.AI})}),kG("trades"),(0,Qm.jsx)("span",{className:"right-nav__label",children:(0,$.tr)("mobile_right_nav.trades")})]}),!w&&(0,Qm.jsxs)("a",{onClick:x(qo.lx.SIGNALS),className:(0,Km.A)("right-nav__link",l&&"right-nav__link--active"),id:"right-nav_signals",children:[kG("signals"),(0,Qm.jsx)("span",{className:"right-nav__label",children:(0,$.tr)("mobile_right_nav.signals")})]}),!w&&(0,Qm.jsxs)("a",{onClick:x(qo.lx.SOCIAL_TRADING),className:(0,Km.A)("right-nav__link js-social-trading-btn",d&&"right-nav__link--active"),id:"right-nav_social-trading",children:[(0,Qm.jsx)("div",{className:"counter-wrap",children:(0,Qm.jsx)(yx,{count:i,type:cw.pt})}),kG("social-trading"),(0,Qm.jsx)("span",{className:"right-nav__label",children:(0,$.tr)("mobile_right_nav.social")})]}),!a&&!w&&(0,Qm.jsxs)("a",{onClick:x(qo.lx.EXPRESSES),className:(0,Km.A)("right-nav__link",f&&"right-nav__link--active"),id:"right-nav_expresses",children:[(0,Qm.jsx)("div",{className:"counter-wrap",children:(0,Qm.jsx)(yx,{count:n,type:cw.Si})}),kG("express-trades"),(0,Qm.jsx)("span",{className:"right-nav__label",children:(0,$.tr)("mobile_right_nav.expresses")})]}),!v&&(0,Qm.jsxs)("a",{onClick:x(qo.lx.TOURNAMENTS),className:(0,Km.A)("right-nav__link",h&&"right-nav__link--active"),id:"right-nav_tournaments",children:[(0,Qm.jsx)("div",{className:"counter-wrap",children:(0,Qm.jsx)(yx,{count:o,type:cw.jV})}),kG("tournaments"),(0,Qm.jsx)("span",{className:"right-nav__label",children:(0,$.tr)("mobile_right_nav.tournaments")})]}),!w&&(0,Qm.jsxs)("a",{onClick:x(qo.lx.PENDING_ORDERS),className:(0,Km.A)("right-nav__link",y&&"right-nav__link--active"),id:"right-nav_pending-orders",children:[(0,Qm.jsx)("div",{className:"counter-wrap",children:(0,Qm.jsx)(yx,{count:r,type:cw.$9})}),kG("pending-trades"),(0,Qm.jsx)("span",{className:"right-nav__label",children:(0,$.tr)("mobile_right_nav.pending")})]}),c&&(0,Qm.jsx)(OG,{onClickOutside:_}),l&&(0,Qm.jsx)(fU,{onClickOutside:_}),d&&(0,Qm.jsx)(px,{onClickOutside:_}),!a&&f&&(0,Qm.jsx)(fS,{onClickOutside:_(qo.lx.EXPRESSES)}),h&&(0,Qm.jsx)(vU,{onClickOutside:_}),(0,Qm.jsx)(PO,{isOpen:h&&p}),(0,Qm.jsx)(sk,{isOpen:m}),y&&(0,Qm.jsx)(yU,{onClickOutside:_})]})})),AG=TG,CG=function(t){return 0!==t?t>0?"+":"-":null},PG=function(){var t=(0,Lb.wA)(),e=(0,Lb.d4)((function(t){return t.tournaments.currentTournament.id})),n=(0,Lb.d4)((function(t){return t.tournaments.currentTournament.title})),r=(0,Lb.d4)((function(t){return t.tournaments.currentTournament.dateFinish})),i=(0,Lb.d4)((function(t){return t.tournaments.currentTournament.rank})),o=(0,Lb.d4)((function(t){return t.tournaments.currentTournament.changed})),a=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.TOURNAMENT_RATINGS]})),s=(0,Lb.d4)(Gu.Ln),c=(0,Lb.d4)((function(t){return t.tournaments.detailsModal})).isLoading,l=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.TOURNAMENT_RATINGS]})),u=(0,gk._d)(r-s);BA.S.endpoints.getPosition.useQuery(null,{pollingInterval:6e4,skip:a});var d;return(0,Qm.jsxs)("div",{className:"auxiliary-information-panels__item ranking-monitoring-panel",children:[(0,Qm.jsxs)("div",{className:"ranking-monitoring-panel__title",onClick:function(){c||t(bv(e))},children:[(0,Qm.jsxs)("div",{className:"ranking-monitoring-panel__label",children:[(0,$.tr)("control_panel.tournament"),":"]}),(0,Qm.jsx)("div",{className:"ranking-monitoring-panel__value",children:n})]}),(0,Qm.jsxs)("div",{className:"ranking-monitoring-panel__position",onClick:function(){t(cp({modalId:qo.lx.TOURNAMENT_RATINGS,value:!l}))},children:[(0,Qm.jsxs)("div",{className:"ranking-monitoring-panel__label",children:[(0,$.tr)("control_panel.your_position"),":"]}),(0,Qm.jsxs)("div",{className:"ranking-monitoring-panel__value",children:[i,0!==o&&(0,Qm.jsxs)("span",{className:(d=o,0!==d?"changed changed--".concat(d>0?"up":"down"):null),children:[CG(o),Math.abs(o)]})]})]}),(0,Qm.jsxs)("div",{className:"ranking-monitoring-panel__time-finish",children:[(0,Qm.jsxs)("div",{className:"ranking-monitoring-panel__label",children:[(0,$.tr)("control_panel.time_until_end"),":"]}),(0,Qm.jsx)("div",{className:"ranking-monitoring-panel__value",children:u})]}),(0,Qm.jsx)("a",{className:"auxiliary-information-panels__close",onClick:function(){return t(xv(!1))},children:(0,Qm.jsx)("i",{className:"fa fa-times"})})]})},EG={marginBottom:"var(--indicator-margin-bottom)"},IG=function(){var t=(0,Lb.d4)(tO);return(0,Qm.jsx)("div",{className:"auxiliary-information-panels auxiliary-information-panels--absolute",style:EG,children:t&&(0,Qm.jsx)(PG,{})})};function NG(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return DG(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DG(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var LG=(0,Lb.Ng)((function(t,e){var n=e.chartId,r=e.current,i=(0,Gu.d8)(n);return function(t){var e=t.global,o=t.chartSettings.chartById[n].minimizedTradePanel,a=e.windowLayout,s=e.isMobile,c=!(0,bC.h0)(a),l=(0,bC.WU)(a,r),u=c&&l>1;return{isRightPanel:i(t),isCompactMulti:u,isMobile:s,minimizedTradePanel:o}}}))((function(t){var e=t.current,n=t.chartId,r=t.isMobile,i=t.isCompactMulti,o=t.minimizedTradePanel,a=t.ChartComponent,s=(0,Lb.d4)(Gu.oi),c=NG((0,Xm.useState)(0),2),l=c[0],u=c[1],d=(0,Xm.useMemo)((function(){return{"--indicator-margin-bottom":"".concat(l,"px")}}),[l]);return(0,Qm.jsx)(a_.Provider,{value:n,children:(0,Qm.jsx)(s_.Provider,{value:e,children:(0,Qm.jsxs)("div",{className:(0,Km.A)("chart-item is-quick",i&&"is-compact-multi",o&&"hide-trading-panel"),style:d,children:[(0,Qm.jsx)("div",{className:"top-left-block",children:s&&(0,Qm.jsx)(n$,{})}),(0,Qm.jsx)(a,{chartSlotIndex:e,onTotalBottomMarginChange:u}),s&&!r&&(0,Qm.jsx)(yW,{}),s&&(0,Qm.jsx)(IG,{}),s&&(0,Qm.jsxs)("div",{className:"control-wrap",children:[(0,Qm.jsx)(cW,{chartSlotIndex:e}),r&&(0,Qm.jsx)(AG,{})]})]})})})}));function MG(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return RG(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RG(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var BG="opened",HG="closed",$G=(0,Qm.jsx)(Rb.k,{src:"/themes/cabinet/images/mobile/right-nav/title-icon1.svg"}),FG=function(t){var e=t.height,n=(0,Lb.wA)(),r=(0,Lb.d4)(wh),i=(0,Lb.d4)(_h),o=MG((0,Xm.useState)(0===r&&i>0?HG:BG),2),a=o[0],s=o[1],c=(0,Lb.d4)(xf);(0,Xm.useEffect)((function(){n(Xp())}),[a]);var l=function(t){return function(){return s(t)}};return(0,Qm.jsxs)("div",{className:"widget-slot deals",style:{height:"".concat(e,"%")},children:[(0,Qm.jsxs)("div",{className:"widget-slot__header",children:[(0,Qm.jsxs)("div",{className:"title flex-centered",children:[(0,Qm.jsx)("span",{children:(0,$.tr)("deals.trades")}),!c&&(0,Qm.jsx)("a",{className:"list",href:(0,tn.hX)("cabinet/trading-history"),children:$G})]}),(0,Qm.jsx)("div",{className:"divider",children:(0,Qm.jsxs)("ul",{children:[(0,Qm.jsx)("li",{className:(0,Km.A)(BG===a&&"active"),children:(0,Qm.jsx)("a",{className:"flex-centered",onClick:l(BG),children:(0,$.tr)("deals.opened_trades")})}),(0,Qm.jsx)("li",{className:(0,Km.A)(HG===a&&"active"),children:(0,Qm.jsx)("a",{className:"flex-centered",onClick:l(HG),children:(0,$.tr)("deals.closed_trades")})})]})})]}),(0,Qm.jsx)("div",{className:"widget-slot__body",children:(0,Qm.jsxs)(Xg,{className:"deals-list",children:[a===BG&&(0,Qm.jsx)($U,{}),a===HG&&(0,Qm.jsx)(pG,{})]})})]})},WG=ZW;function UG(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return VG(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VG(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var GG=function(t){var e=t.container,n=t.setTopPercent,r=UG((0,Xm.useState)(!1),2),i=r[0],o=r[1],a=UG((0,Xm.useState)(0),2),s=a[0],c=a[1],l=(0,Xm.useRef)(null);(0,Xm.useEffect)((function(){return document.addEventListener("mousedown",d),document.addEventListener("mousemove",f),document.addEventListener("mouseup",h),function(){document.removeEventListener("mousedown",d),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",h)}}),[i]);var u=function(t){if(t){var n=AR(e).top;c(n)}o(t)},d=function(t){l.current.contains(t.target)&&u(!0)},f=function(t){if(i){var r=(t.pageY-s)/e.offsetHeight*100;r<10||r>90||n(r)}},h=function(){i&&u(!1)};return(0,Qm.jsx)("div",{ref:l,className:"widget-slots-divider",children:(0,Qm.jsx)("hr",{})})};function zG(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return YG(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YG(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var XG,qG=(0,Lb.Ng)((function(t){return{isOpenDeals:t.modals.states[qo.lx.DEALS_WIDGET],isOpenSignals:t.modals.states[qo.lx.SIGNALS_WIDGET]}}))((function(t){var e=t.isOpenDeals,n=t.isOpenSignals,r=zG((0,Xm.useState)(null),2),i=r[0],o=r[1],a=zG((0,Xm.useState)(50),2),s=a[0],c=a[1];return(0,Qm.jsxs)("div",{ref:function(t){null!==t&&o(t)},className:(0,Km.A)("right-widget-container"),children:[e&&(0,Qm.jsx)(FG,{height:s-1}),e&&n&&i&&(0,Qm.jsx)(GG,{container:i,setTopPercent:c}),n&&(0,Qm.jsx)(WG,{height:100-s-1})]})}));function KG(t){return KG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KG(t)}function ZG(t){return function(t){if(Array.isArray(t))return JG(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return JG(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JG(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function QG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oz(r.key),r)}}function tz(t,e,n){return e=nz(e),function(t,e){if(e&&("object"==KG(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ez()?Reflect.construct(e,n||[],nz(t).constructor):e.apply(t,n))}function ez(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ez=function(){return!!t})()}function nz(t){return nz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nz(t)}function rz(t,e){return rz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rz(t,e)}function iz(t,e,n){return(e=oz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oz(t){var e=function(t,e){if("object"!=KG(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=KG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==KG(e)?e:e+""}var az=(iz(iz(iz(iz(iz(iz(iz(iz(iz(iz(XG={},bf.rs.FULL,"layout-full"),bf.rs.H2,"layout-horizontal-2"),bf.rs.V2,"layout-vertical-2"),bf.rs.T2B1,"layout-top-2-bottom-1"),bf.rs.T1B2,"layout-top-1-bottom-2"),bf.rs.T2B2,"layout-top-2-bottom-2"),bf.rs.L2R1,"layout-left-2-right-1"),bf.rs.L1R2,"layout-left-1-right-2"),bf.rs.V3,"layout-vertical-3"),bf.rs.T3B1,"layout-top-3-bottom-1"),iz(iz(iz(XG,bf.rs.T1B3,"layout-top-1-bottom-3"),bf.rs.L1R3,"layout-left-1-right-3"),bf.rs.L3R1,"layout-left-3-right-1")),sz=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return iz(t=tz(this,e,[].concat(r)),"setWindowLayoutClass",(function(e){var n;(n=document.body.classList).remove.apply(n,ZG(Object.values(az))),document.body.classList.add(function(t){return az[void 0!==az[t]?t:bf.rs.FULL]}(e)),e!==bf.rs.FULL?!document.body.classList.contains("is-multigraph")&&document.body.classList.add("is-multigraph"):document.body.classList.contains("is-multigraph")&&document.body.classList.remove("is-multigraph"),t.props.windowLayoutBodyClassChanged({windowLayout:e})})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rz(t,e)}(e,t),function(t,e,n){return e&&QG(t.prototype,e),n&&QG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentDidMount",value:function(){this.setWindowLayoutClass(this.props.windowLayout)}},{key:"componentDidUpdate",value:function(t){t.windowLayout!==this.props.windowLayout&&this.setWindowLayoutClass(this.props.windowLayout)}},{key:"render",value:function(){var t=this.props,e=t.visibleChartIds,n=t.isRightWidgetContainerOpened,r=t.isReady,i=t.ChartComponent,o=0,a={};return cf.Cj.forEach((function(t){return a[t]=e.includes(t)})),(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"layout-container",style:{marginRight:n?"var(--po-ui-kit-right-modals-width)":0},children:cf.Cj.map((function(t){return a[t]?(o++,(0,Qm.jsx)(LG,{ChartComponent:i,chartId:t,current:o},t)):null}))}),r&&n&&(0,Qm.jsx)(qG,{})]})}}])}(Xm.Component),cz=(0,Lb.Ng)((function(t){var e=t.chartSettings;return{windowLayout:t.global.windowLayout,visibleChartIds:e.visibleChartIds,isRightWidgetContainerOpened:e_(t),isReady:(0,Gu.oi)(t)}}),{windowLayoutBodyClassChanged:function(t){var e=t.windowLayout;return{type:Rp.zF,payload:{windowLayout:e}}}})(sz),lz=function(t){var e=t.ChartComponent,n=(0,Lb.d4)((function(t){return t.chartSettings.visibleChartIds}));return(0,Qm.jsx)("div",{className:"page traderoom",children:(0,Qm.jsx)("div",{className:"charts single",children:n.length>0&&(0,Qm.jsx)(cz,{ChartComponent:e})})})},uz=function(){function t(){}return t.isEventSupported=function(t){var e;return e={reset:"form",error:"img",change:"input",submit:"form",select:"input",abort:"img",load:"img"},function(n,r){var i;return r=r||document.createElement(e[n]||"div"),(i=(n="on"+n)in r)||(r.setAttribute||(r=document.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(n,""),i="function"==typeof r[n],void 0!==r[n]&&(r[n]=t),r.removeAttribute(n))),r=null,i}},t}(),dz=function(){function t(){this.bindObj=window.addEventListener?"addEventListener":"attachEvent",this.unbindObj=window.removeEventListener?"removeEventListener":"detachEvent",this.prefixObj="addEventListener"!==this.bindObj?"on":""}return t.prototype.bind=function(t,e,n,r){return t[this.bindObj](this.prefixObj+e,n,r||!1),n},t.prototype.unbind=function(t,e,n,r){return t[this.unbindObj](this.prefixObj+e,n,r||!1),n},t}(),fz=function(){function t(){var t;t=this,this.support="",this.callbacks={},["wheel","mousewheel","DOMMouseScroll"].forEach((function(e){uz.isEventSupported(e)&&0===t.support.length&&(t.support=e)}))}return t.prototype.bind=function(t,e,n){var r,i;r=new dz,i=function(t){var n;t||(t=window.event),(n={}).deltaMode="MozMousePixelScroll"===t.type?0:1,n.target=t.target||t.srcElement,n.originalEvent=t,n.type="wheel",n.deltaX=0,n.deltaZ=0,n.preventDefault=function(){t.preventDefault?t.preventDefault():t.returnValue=!1},"mousewheel"===this.support?(t.wheelDeltaX&&(n.deltaX=-.2*t.wheelDeltaX),t.wheelDelta&&(n.deltaY=t.wheelDelta>0?-5:5),t.wheelDeltaY&&(n.deltaY=-.2*t.wheelDeltaY)):n.deltaY=t.detail,e(n)},"DOMMouseScroll"===this.support&&r.bind(t,"MozMousePixelScroll",e,n||!1),r.bind(t,this.support,"wheel"===this.support?e:i,n||!1),this.callbacks[e]=i},t.prototype.unbind=function(t,e,n){var r;r=new dz,this.callbacks[e]&&("DOMMouseScroll"===this.support&&r.unbind(t,"MozMousePixelScroll",e,n),r.unbind(t,this.support,"wheel"===this.support?e:this.callbacks[e],n),delete this.callbacks[e])},t}();function hz(t){return hz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hz(t)}function pz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yz(r.key),r)}}function mz(t,e,n){return(e=yz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yz(t){var e=function(t,e){if("object"!=hz(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hz(e)?e:e+""}var vz="event_scroll",bz="event_pan",gz="event_touch_start",wz="event_touch_end",jz="event_stop",xz="event_mouse_move",_z="event_pinch_moved",Sz="event_pinch_ended",Oz="event_mouse_down",kz="event_mouse_up",Tz=function(){return function(t,e,n){return e&&pz(t.prototype,e),n&&pz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),mz(this,"onMouseDownHandler",(function(t){if(2!==t.button&&3!==t.which){var e=n.getMousePosition(t),r=e.x,i=e.y;n.canvas===t.target&&(n.startPosX=r,n.startPosY=i,n.mousePressed=!0,n.listeners[Oz].forEach((function(e){return e(r,i,t.ctrlKey||t.metaKey)})))}})),mz(this,"onMouseUpHandler",(function(t){n.mousePressed=!1;var e=n.getMousePosition(t),r=e.x,i=e.y,o=Math.abs(n.startPosX-r),a=Math.abs(n.startPosY-i);(o<=3||a<=3)&&n.listeners[kz].forEach((function(e){return e(r,i,t.ctrlKey||t.metaKey)})),n.listeners[jz].forEach((function(t){return t(r,i)}))})),mz(this,"onMouseMoveHandler",(function(t){if(n.canvas===t.target||!n.mousePressed){var e=n.getMousePosition(t),r=e.x,i=e.y;n.x===r&&n.y===i||(n.x=r,n.y=i,n.mousePressed&&n.listeners[bz].forEach((function(t){return t(n.x,n.y)})),n.listeners[xz].forEach((function(t){return t(n.x,n.y)})))}})),mz(this,"onMouseLeaveHandler",(function(t){var e=n.getMousePosition(t),r=e.x,i=e.y;n.x=r,n.y=i,n.mousePressed&&(n.listeners[jz].forEach((function(t){return t(n.x,n.y)})),n.mousePressed=!1),n.listeners[xz].forEach((function(t){return t(-1,-1)}))})),mz(this,"onTouchStartHandler",(function(t){if(n.addTouches(t.changedTouches||[]),n.touches.length)if(1===n.touches.length){n.mousePressed=!0;var e=n.getTouchPosition(n.touches[0]),r=e.x,i=e.y;n.startPosX=r,n.startPosY=i,n.listeners[gz].forEach((function(e){return e(r,i,t.ctrlKey||t.metaKey)}))}else{var o=n.getTouchPosition(n.touches[0]),a=o.x,s=o.y,c=n.getTouchPosition(n.touches[1]),l=c.x,u=c.y;n.listeners[_z].forEach((function(t){return t(a,s,l,u)}))}})),mz(this,"onTouchEndHandler",(function(t){n.removeTouches(t.changedTouches),n.mousePressed=!1;var e=t.changedTouches;if(e.length)if(1===e.length){var r=n.getTouchPosition(e[0]),i=r.x,o=r.y,a=Math.abs(n.startPosX-i),s=Math.abs(n.startPosY-o);(a>3||s>3)&&n.listeners[jz].forEach((function(t){return t(i,o)})),n.listeners[wz].forEach((function(t){return t(i,o)}))}else{var c=n.getTouchPosition(e[0]),l=c.x,u=c.y,d=n.getTouchPosition(e[1]),f=d.x,h=d.y;n.listeners[Sz].forEach((function(t){return t(l,u,f,h)}))}})),mz(this,"onTouchMoveHandler",(function(t){if(t.stopPropagation(),t.preventDefault(),n.updateTouches(t.changedTouches||{}),n.touches.length)if(1===n.touches.length){var e=n.getTouchPosition(n.touches[0]),r=e.x,i=e.y;n.x=r,n.y=i,n.mousePressed&&n.listeners[bz].forEach((function(t){return t(r,i)}))}else{var o=n.getTouchPosition(n.touches[0]),a=o.x,s=o.y,c=n.getTouchPosition(n.touches[1]),l=c.x,u=c.y;n.listeners[_z].forEach((function(t){return t(a,s,l,u)}))}})),mz(this,"onTouchCancelHandler",(function(t){t.stopPropagation(),t.preventDefault();var e=t.changedTouches;if(1===e.length){var r=n.getTouchPosition(e[0]),i=r.x,o=r.y;n.x=i,n.y=o,n.mousePressed&&(n.listeners[jz].forEach((function(t){return t(i,o)})),n.mousePressed=!1),n.listeners[xz].forEach((function(t){return t(-1,-1)}))}})),mz(this,"onWheel",(function(t){t.defaultPrevented||(n.listeners[vz].forEach((function(e){return e(-t.deltaY/n.deltaDivider,t.offsetX,t.offsetY)})),t.preventDefault())})),this.isIE=!1,this.mousePressed=!1,this.deltaDivider=1e3,this.x=0,this.y=0,this.width=0,this.height=0,this.touches=[],this.startPosX=0,this.startPosY=0,this.listeners=this.prepareInputEventsListeners(),this.wheelEvent=function(t){t||(t=window.event),n.listeners[vz].forEach((function(e){e(t.deltaY/-n.deltaDivider,t.offsetX,t.offsetY)})),t.preventDefault()},"undefined"!=typeof navigator&&(this.isIE=-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0),this.container=document.getElementById(e),this.canvas=document.querySelector("#".concat(e," canvas")),this.wheel=new fz,this.containerOffset={left:0,top:0},this.setControls()}),[{key:"addEventListener",value:function(t,e){var n=(0,Et.A)();return this.listeners[t].set(n,e),n}},{key:"addEventListeners",value:function(t,e){var n=this,r=[];return t.forEach((function(t){return r.push(n.addEventListener(t,e))})),r}},{key:"removeEventListener",value:function(t,e){this.listeners[t].delete(e)}},{key:"removeAllListeners",value:function(){this.listeners=this.prepareInputEventsListeners()}},{key:"prepareInputEventsListeners",value:function(){var t={};return[vz,bz,gz,wz,jz,xz,_z,Sz,kz,Oz].forEach((function(e){t[e]=new Map})),t}},{key:"setSize",value:function(t,e){var n=FU();this.width=t,this.height=e,this.canvas.height=e*n,this.canvas.width=t*n,this.canvas.style.width="".concat(t,"px"),this.canvas.style.height="".concat(e,"px"),this.canvas.style.setProperty("position","absolute"),this.containerOffset=AR(this.container)}},{key:"addTouches",value:function(t){var e=this;Array.from(t).forEach((function(t){e.canvas===t.target&&e.touches.push(t)}))}},{key:"updateTouches",value:function(t){var e=this;Array.from(t).forEach((function(t){if(e.canvas===t.target){var n=e.touches.findIndex((function(e){return e.identifier===t.identifier}));-1!==n&&(e.touches[n]=t)}}))}},{key:"removeTouches",value:function(t){var e=this;Array.from(t).forEach((function(t){var n=e.touches.findIndex((function(e){return e.identifier===t.identifier}));-1!==n&&e.touches.splice(n,1)}))}},{key:"getMousePosition",value:function(t){var e=this.containerOffset;return{x:t.pageX-e.left,y:t.pageY-e.top}}},{key:"getTouchPosition",value:function(t){var e=this.containerOffset;return{x:t.clientX-e.left,y:t.clientY-e.top}}},{key:"setControls",value:function(){this.isIE?this.wheel.bind(this.container,this.wheelEvent,!0):this.container.addEventListener("wheel",this.onWheel),this.container.addEventListener("mousedown",this.onMouseDownHandler),this.container.addEventListener("mouseup",this.onMouseUpHandler),this.container.addEventListener("mousemove",this.onMouseMoveHandler),this.container.addEventListener("mouseleave",this.onMouseLeaveHandler),this.container.addEventListener("touchstart",this.onTouchStartHandler),this.container.addEventListener("touchend",this.onTouchEndHandler),this.container.addEventListener("touchmove",this.onTouchMoveHandler),this.container.addEventListener("touchcancel",this.onTouchCancelHandler)}},{key:"unsetControls",value:function(){this.isIE?this.wheel.unbind(this.container,this.wheelEvent,!0):this.container.removeEventListener("wheel",this.onWheel),this.container.removeEventListener("mousedown",this.onMouseDownHandler),this.container.removeEventListener("mouseup",this.onMouseUpHandler),this.container.removeEventListener("mousemove",this.onMouseMoveHandler),this.container.removeEventListener("mouseleave",this.onMouseLeaveHandler),this.container.removeEventListener("touchstart",this.onTouchStartHandler),this.container.removeEventListener("touchend",this.onTouchEndHandler),this.container.removeEventListener("touchmove",this.onTouchMoveHandler),this.container.removeEventListener("touchcancel",this.onTouchCancelHandler)}},{key:"getCanvas",value:function(){return this.canvas}}])}();function Az(t){return Az="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Az(t)}function Cz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pz(r.key),r)}}function Pz(t){var e=function(t,e){if("object"!=Az(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Az(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Az(e)?e:e+""}var Ez=function(){return function(t,e,n){return e&&Cz(t.prototype,e),n&&Cz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rh.EK.Linear;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.curveType=n,this.time=0,this.startTime=0,this.fromValue=0,this.toValue=0,this.currentValue=0,this.duration=e,this.timeout=0,this.enabled=!0,this.circular=!1,this.circularTo=!1,this.calculated=!1,this.calculateToOne=!1}),[{key:"setTime",value:function(t){0===this.startTime&&(this.startTime=t,this.calculated=!1),this.time!==t&&(this.calculated=!1),this.time=t}},{key:"setEnabled",value:function(t){this.enabled!==t&&(this.enabled=t,this.calculated=!1)}},{key:"setToValue",value:function(t){this.toValue!==t&&(this.toValue=t,this.startTime=this.time,this.calculated=!1)}},{key:"getValue",value:function(){return this.calculateValue()}},{key:"calculateValue",value:function(){if(0===this.fromValue&&0===this.toValue)return 0;if(this.fromValue===this.toValue||!this.enabled)return this.toValue;var t=0,e=0,n=0;if(this.circular){var r=Math.floor(this.time/this.duration)*this.duration,i=r%2==0;t=this.time-r,n=i?this.toValue-this.fromValue:this.fromValue-this.toValue,e=i?this.fromValue:this.toValue}else t=this.time-(this.startTime+this.timeout),n=this.toValue-this.fromValue,e=this.fromValue;if(t>this.duration&&(t=this.duration),t<=0)return e;if(this.calculated)return this.currentValue;switch(this.curveType){case rh.EK.Linear:this.currentValue=this.linear(t,e,n,this.duration);break;case rh.EK.EaseOutQuad:this.currentValue=this.easeOutQuad(t,e,n,this.duration);break;case rh.EK.EaseInOutQuad:this.currentValue=this.easeInOutQuad(t,e,n,this.duration);break;case rh.EK.EaseOutQuart:this.currentValue=this.easeOutQuart(t,e,n,this.duration);break;case rh.EK.EaseOutQuint:this.currentValue=this.easeOutQuint(t,e,n,this.duration)}return this.currentValue===this.toValue&&(this.circular||this.circularTo?this.circularTo&&this.resetStartTime():this.fromValue=this.toValue),this.calculated=!0,this.currentValue}},{key:"resetStartTime",value:function(){this.startTime=0}},{key:"reset",value:function(){this.fromValue=0,this.startTime=0,this.calculated=!1,this.toValue=0}},{key:"linear",value:function(t,e,n,r){return n*t/r+e}},{key:"easeOutQuad",value:function(t,e,n,r){return-n*(t/=r)*(t-2)+e}},{key:"easeInOutQuad",value:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}},{key:"easeInQuart",value:function(t,e,n,r){return n*(t/=r)*t*t*t+e}},{key:"easeOutQuart",value:function(t,e,n,r){return t/=r,-n*(--t*t*t*t-1)+e}},{key:"easeOutQuint",value:function(t,e,n,r){return t/=r,n*(--t*t*t*t*t+1)+e}},{key:"easeInOutSine",value:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e}}])}(),Iz=Ez;function Nz(t){return Nz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nz(t)}function Dz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lz(r.key),r)}}function Lz(t){var e=function(t,e){if("object"!=Nz(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Nz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nz(e)?e:e+""}function Mz(t,e,n){return e=$z(e),function(t,e){if(e&&("object"==Nz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Rz()?Reflect.construct(e,n||[],$z(t).constructor):e.apply(t,n))}function Rz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Rz=function(){return!!t})()}function Bz(t,e,n,r){var i=Hz($z(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function Hz(){return Hz="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=$z(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Hz.apply(null,arguments)}function $z(t){return $z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$z(t)}function Fz(t,e){return Fz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fz(t,e)}var Wz=function(t){function e(t,n,r,i){var o,a=i.showArea;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=Mz(this,e,[t,n])).showArea=a,o.minMaxElement=r,o.firstPointTimeMainLine=0,o.lastPointTimeMainLine=0,o.firstPointTimeTailLine=0,o.lastPointTimeTailLine=0,o.dividerCount=0,o.changedShowArea=!1,o.init(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fz(t,e)}(e,t),function(t,e,n){return e&&Dz(t.prototype,e),n&&Dz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"init",value:function(){this.mainLineChartId="main-line",this.tailLineChartId="tail-line",this.areaGradientId="area-gradient",this.areaAlpha=0,this.areaShaderFilter=null,this.core.isWebGLRenderer()?(this.areaAlpha=.01,this.initColors()):this.areaAlpha=.15}},{key:"normalizeY",value:function(t){return t<0?0:t>this.height?this.height:t}},{key:"updateShowArea",value:function(t){this.showArea=t,this.changedShowArea=!0,this.showArea||this.destroyArea()}},{key:"initColors",value:function(){this.core.isWebGLRenderer()&&(this.areaShaderFilter=new QU(new AI("4a76a8",.8),new AI("4a76a8",.4),!1,!1,.2))}},{key:"drawMinMaxElements",value:function(t){for(var e={value:Number.MIN_VALUE,time:0},n={value:Number.MAX_VALUE,time:0},r=this.getTimeFrom(),i=this.getTimeTo(),o=0;o<t.length;o++){var a=t[o];r<=a.time&&a.time<=i&&(a.value>e.value&&(e={value:a.value,time:a.time}),a.value<n.value&&(n={value:a.value,time:a.time}))}this.minMaxElement.drawMaxValue(e),this.minMaxElement.drawMinValue(n)}},{key:"drawArea",value:function(t,e){var n=this.core.getDynamicGraphics(rh.Rp.CANDLES,e,{smooth:!0}).graphics,r=this.yShift+this.height;n.beginFill(this.colors.plotLineGradientTopColor.getHEXNUM(),this.areaAlpha),n.moveTo(t[0].x,r),n.lineTo(t[0].x,this.normalizeY(t[0].y));for(var i=0;i<t.length;i++){var o=t[i],a=o.x,s=o.y;n.lineTo(a,this.normalizeY(s))}n.lineTo(t[t.length-1].x,r),n.lineTo(t[0].x,r),n.endFill(),this.core.isWebGLRenderer()&&(n.filters=[this.areaShaderFilter.filter])}},{key:"drawLine",value:function(t,e){var n=this.core.getDynamicGraphics(rh.Rp.CANDLES,e,{smooth:!0}).graphics;n.lineStyle({width:2,scaleMode:WU.sb.VERTICAL,color:this.colors.plotLineColor.getHEXNUM(),alpha:.8,join:MI.u2q.ROUND});for(var r=0;r<t.length;r++){var i=t[r],o=i.x,a=i.y;0===r?n.moveTo(o,a+1):n.lineTo(o,a+1)}}},{key:"draw",value:function(){this.isThemeChanged()&&this.initColors();for(var t=this.filterPoints(this.pointsManager.getReducedAndAnimatedPoints()),e=t.length,n=[],r=0;r<e;r++){var i=this.getXFromTime(t[r].time);if(r+1<e){var o=this.getXFromTime(t[r+1].time);if(i<0&&o<0)continue}n.push({x:this.getXFromTime(t[r].time),y:this.getYFromValue(t[r].value)})}if(!(n.length<3)){(!this.dividerCount||this.dividerCount>n.length-2)&&(this.dividerCount=n.length-2);var a=n.slice(0,this.dividerCount),s=n.slice(this.dividerCount-1);s.length>100&&(this.dividerCount=0);var c=this.shouldRedrawMainPart(a[0],a[a.length-1]),l=this.shouldRedrawTailPart(s[0],s[s.length-1]);c&&(this.firstPointTimeMainLine=a[0].x,this.lastPointTimeMainLine=a[a.length-1].x,this.core.clearDynamicGraphicsNew(this.mainLineChartId),this.drawLine(a,this.mainLineChartId)),l&&(this.firstPointTimeTailLine=s[0].x,this.lastPointTimeTailLine=s[s.length-1].x,this.core.clearDynamicGraphicsNew(this.tailLineChartId),this.drawLine(s,this.tailLineChartId)),(c||l)&&(this.core.clearDynamicGraphicsNew(this.areaGradientId),this.showArea&&this.drawArea(n,this.areaGradientId)),this.drawMinMaxElements(t)}}},{key:"onAfterDraw",value:function(){Bz(e,"onAfterDraw",this,3)([]),this.changedShowArea=!1}},{key:"baseShouldRedraw",value:function(){return this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isThemeChanged()||this.isBottomMarginChanged()||this.isElementHeightChanged()||this.forceCleared||this.changedShowArea}},{key:"shouldRedrawMainPart",value:function(t,e){return this.baseShouldRedraw()||t.x!==this.firstPointTimeMainLine||e.x!==this.lastPointTimeMainLine}},{key:"shouldRedrawTailPart",value:function(t,e){return this.baseShouldRedraw()||t.x!==this.firstPointTimeTailLine||e.x!==this.lastPointTimeTailLine}},{key:"clear",value:function(){this.minMaxElement.clear(),this.core.clearDynamicGraphicsNew(this.mainLineChartId),this.core.clearDynamicGraphicsNew(this.tailLineChartId),this.core.clearDynamicGraphicsNew(this.areaGradientId)}},{key:"destroy",value:function(){Bz(e,"destroy",this,3)([]),this.destroyArea(),this.minMaxElement.destroy(),this.core.destroyDynamicGraphicsNew(rh.Rp.CANDLES,this.mainLineChartId),this.core.destroyDynamicGraphicsNew(rh.Rp.CANDLES,this.tailLineChartId),this.core.destroyDynamicGraphicsNew(rh.Rp.CANDLES,this.areaGradientId)}},{key:"destroyArea",value:function(){this.core.isWebGLRenderer()&&(this.core.getDynamicGraphics(rh.Rp.CANDLES,this.areaGradientId).graphics.filters=[])}}])}(FI),Uz=Wz;function Vz(t){return Vz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vz(t)}function Gz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zz(r.key),r)}}function zz(t){var e=function(t,e){if("object"!=Vz(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vz(e)?e:e+""}function Yz(t,e,n){return e=qz(e),function(t,e){if(e&&("object"==Vz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Xz()?Reflect.construct(e,n||[],qz(t).constructor):e.apply(t,n))}function Xz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Xz=function(){return!!t})()}function qz(t){return qz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qz(t)}function Kz(t,e){return Kz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kz(t,e)}var Zz="highText",Jz="lowText",Qz="openText",tY="closeText",eY=(0,$.tr)("chart_settings.high_label"),nY=(0,$.tr)("chart_settings.low_label"),rY=(0,$.tr)("chart_settings.open_label"),iY=(0,$.tr)("chart_settings.close_label"),oY=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Yz(this,e,[t,n])).renderedCandleValues=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kz(t,e)}(e,t),function(t,e,n){return e&&Gz(t.prototype,e),n&&Gz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"candleUpColor",get:function(){return new AI(this.candleUpHex,1)}},{key:"candleDownColor",get:function(){return new AI(this.candleDownHex,1)}},{key:"drawCandleValues",value:function(t){var e=this.pointsManager.plot.globalSettings,n=e.enabledTooltipMessage;if(!e.isMobile&&!this.isLineChart()&&n&&t){this.renderedCandleValues=!0;var r=this.height-Ru.Ay.CHART.TIMELINE_HEIGHT-35,i=this.getText(Qz,rY+(t?" "+this.formatStringPrice(t.enterValue):""));i.x=22,i.y=r-60;var o=this.getText(tY,iY+(t?" "+this.formatStringPrice(t.exitValue):""));o.x=22,o.y=r-42;var a=this.getText(Zz,eY+(t?" "+this.formatStringPrice(t.maxValue):""));a.x=22,a.y=r-24;var s=this.getText(Jz,nY+(t?" "+this.formatStringPrice(t.minValue):""));s.x=22,s.y=r-6}else this.renderedCandleValues&&(this.destroyCandleValues(),this.renderedCandleValues=!1)}},{key:"getText",value:function(t,e){var n=this.colors.candleValues.getHEXNUM();return this.core.getText(rh.Rp.GRID,t,e,Ru.Ay.CHART.TEXT_STYLE_CANDLE_VALUES,n)}},{key:"destroyCandleValues",value:function(){this.core.destroyText(Zz),this.core.destroyText(Jz),this.core.destroyText(Qz),this.core.destroyText(tY)}},{key:"clear",value:function(){this.core.clearText(Zz),this.core.clearText(Jz),this.core.clearText(Qz),this.core.clearText(tY)}},{key:"destroy",value:function(){this.destroyCandleValues()}}])}(FI);function aY(t){return aY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aY(t)}function sY(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return cY(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cY(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function cY(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function lY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uY(r.key),r)}}function uY(t){var e=function(t,e){if("object"!=aY(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=aY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==aY(e)?e:e+""}function dY(t,e,n){return e=mY(e),function(t,e){if(e&&("object"==aY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,fY()?Reflect.construct(e,n||[],mY(t).constructor):e.apply(t,n))}function fY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(fY=function(){return!!t})()}function hY(t,e,n,r){var i=pY(mY(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function pY(){return pY="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=mY(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},pY.apply(null,arguments)}function mY(t){return mY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mY(t)}function yY(t,e){return yY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yY(t,e)}var vY=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=dY(this,e,[t,n])).mainCandlesGraphId="candles-main-".concat(i.chartId),i.tailCandlesGraphId="candles-tail-".concat(i.chartId),i.prevRenderedMainCandles=0,i.prevRenderedTailCandle=null,i.minMaxElement=r,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yY(t,e)}(e,t),function(t,e,n){return e&&lY(t.prototype,e),n&&lY(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"getCandleHash",value:function(t){return"".concat(t.time,":").concat(t.enterValue,":").concat(t.maxValue,":").concat(t.minValue,":").concat(t.exitValue)}},{key:"drawCandlesPart",value:function(t,e){for(var n=this.core.getDynamicGraphics(rh.Rp.CANDLES,e,{smooth:!0}).graphics,r=this.pointsManager.candleWidth,i=this.shadowStyle===rh.QJ.THICK?2:1,o=r/i<3?Math.min(1,i/2):i,a=0;a<t.length;a++){var s=t[a],c=Math.min(this.getYFromValue(s.maxValue),this.getYFromValue(s.minValue)),l=Math.max(this.getYFromValue(s.maxValue),this.getYFromValue(s.minValue)),u=this.getXFromTime(s.time)-r/2,d=Math.min(this.getYFromValue(s.enterValue),this.getYFromValue(s.exitValue)),f=Math.max(this.getYFromValue(s.enterValue),this.getYFromValue(s.exitValue))-d;f<=0&&(f=1);var h=s.exitValue>s.enterValue?this.candleUpColor:this.candleDownColor;n.lineStyle(o,h.getHEXNUM(),1),c<d&&(n.moveTo(u+this.pointsManager.candleWidth/2,c),n.lineTo(u+this.pointsManager.candleWidth/2,d)),d+f<l&&(n.moveTo(u+this.pointsManager.candleWidth/2,d+f),n.lineTo(u+this.pointsManager.candleWidth/2,l)),n.lineStyle(1,h.getHEXNUM(),1),n.beginFill(h.getHEXNUM(),this.isDarkTheme()?1:.7,!0),n.drawRect(u,d,r,f),n.endFill()}}},{key:"drawMinMaxElements",value:function(t){var e,n={value:Number.MIN_VALUE,time:0},r={value:Number.MAX_VALUE,time:0},i=sY(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;o.maxValue>n.value&&(n={value:o.maxValue,time:o.time}),o.minValue<r.value&&(r={value:o.minValue,time:o.time})}}catch(a){i.e(a)}finally{i.f()}this.minMaxElement.drawMaxValue(n),this.minMaxElement.drawMinValue(r)}},{key:"draw",value:function(){var t=this.pointsManager.candles;if(0!==t.length){for(var e=[],n=this.pointsManager.candleWidth,r=null,i=0;i<t.length;i++){var o=t[i];if(!(o.time<this.fromTime||o.time>this.toTime)){e.push(o);var a=this.getXFromTime(o.time)-n/2;this.pointerX>0&&this.pointerX>=a&&this.pointerX<=a+n&&(r=o)}}this.drawCandleValues(r),this.drawMinMaxElements(e);var s=e.slice(0,e.length-1),c=e.length>0?e[e.length-1]:null;this.shouldRedrawMainPart(s)&&(this.prevRenderedMainCandles=s.length,this.core.clearDynamicGraphicsNew(this.mainCandlesGraphId),this.drawCandlesPart(s,this.mainCandlesGraphId)),this.shouldRedrawTailPart(c)&&(this.prevRenderedTailCandle=this.getCandleHash(c),this.core.clearDynamicGraphicsNew(this.tailCandlesGraphId),this.drawCandlesPart([c],this.tailCandlesGraphId))}}},{key:"baseShouldRedraw",value:function(){return this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isThemeChanged()||this.isBottomMarginChanged()||this.isElementHeightChanged()||this.isCandleColorChanged()||this.forceCleared}},{key:"shouldRedrawMainPart",value:function(t){return this.baseShouldRedraw()||t.length!==this.prevRenderedMainCandles}},{key:"shouldRedrawTailPart",value:function(t){return!!t&&(this.baseShouldRedraw()||this.prevRenderedTailCandle!==this.getCandleHash(t))}},{key:"clear",value:function(){hY(e,"clear",this,3)([]),this.core.clearDynamicGraphic(this.mainCandlesGraphId),this.core.clearDynamicGraphic(this.tailCandlesGraphId),this.minMaxElement.clear()}},{key:"destroy",value:function(){hY(e,"destroy",this,3)([]),this.core.destroyDynamicGraphicsNew(rh.Rp.CANDLES,this.mainCandlesGraphId),this.core.destroyDynamicGraphicsNew(rh.Rp.CANDLES,this.tailCandlesGraphId),this.minMaxElement.destroy()}}])}(oY);function bY(t){return bY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bY(t)}function gY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wY(r.key),r)}}function wY(t){var e=function(t,e){if("object"!=bY(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bY(e)?e:e+""}function jY(t,e,n){return e=_Y(e),function(t,e){if(e&&("object"==bY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xY()?Reflect.construct(e,n||[],_Y(t).constructor):e.apply(t,n))}function xY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(xY=function(){return!!t})()}function _Y(t){return _Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_Y(t)}function SY(t,e){return SY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},SY(t,e)}var OY=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),jY(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SY(t,e)}(e,t),function(t,e,n){return e&&gY(t.prototype,e),n&&gY(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"drawCandlesPart",value:function(t,e){var n=this.pointsManager.candleWidth,r=n/3,i=this.width/100*Ru.Ay.CHART.BAR_MAX_WIDTH_IN_PERCENTS_OF_SCREEN;r>i&&(r=i);for(var o=r/2,a=this.core.getDynamicGraphics(rh.Rp.CANDLES,e,{smooth:!0}).graphics,s=0;s<t.length;s++){var c=t[s],l=Math.min(this.getYFromValue(c.maxValue),this.getYFromValue(c.minValue)),u=Math.max(this.getYFromValue(c.maxValue),this.getYFromValue(c.minValue)),d=this.getXFromTime(c.time)-n/2,f=this.getYFromValue(c.enterValue),h=this.getYFromValue(c.exitValue),p=c.exitValue>c.enterValue?this.candleUpColor:this.candleDownColor;a.lineStyle(1,p.getHEXNUM(),1);var m=f-o<l?f-o:l;h-o<l&&(m=h-o);var y=f+o>u?f+o:u;h+o>u&&(y=h+o);var v=m<f-o?f-o:m,b=y>f+o?f+o:y,g=m<h-o?h-o:m,w=y>h+o?h+o:y,j=[d,v,d,b];b!==y&&j.push(d+r,b,d+r,y),y!==w&&j.push(d+2*r,y,d+2*r,w),j.push(d+3*r,w,d+3*r,g),g!==m&&j.push(d+2*r,g,d+2*r,m),v!==m&&j.push(d+r,m,d+r,v),j.push(d,v),a.beginFill(p.getHEXNUM(),this.isDarkTheme()?1:.7),a.drawPolygon(j),a.endFill()}}}])}(vY);function kY(t){return kY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kY(t)}function TY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AY(r.key),r)}}function AY(t){var e=function(t,e){if("object"!=kY(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kY(e)?e:e+""}function CY(t,e,n){return e=EY(e),function(t,e){if(e&&("object"==kY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,PY()?Reflect.construct(e,n||[],EY(t).constructor):e.apply(t,n))}function PY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(PY=function(){return!!t})()}function EY(t){return EY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},EY(t)}function IY(t,e){return IY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},IY(t,e)}var NY=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=CY(this,e,[t,n])).animator=new Iz(1.5,rh.EK.EaseOutQuart),r.animator.setToValue(1),r.animator.circularTo=!0,r.graphicsGlow=r.core.getGraphics(rh.my.POINT_GLOW),r.graphicsDot=r.core.getGraphics(rh.my.POINT_DOT),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IY(t,e)}(e,t),function(t,e,n){return e&&TY(t.prototype,e),n&&TY(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"isVisible",value:function(){return this.pointsManager.points.length>0&&this.getTimeFrom()<=this.pointsManager.currentTime&&this.pointsManager.currentTime<=this.getTimeTo()}},{key:"draw",value:function(){if(this.isVisible()&&(this.animator.setTime(this.ts),this.pointsManager.points.length>0)){var t=this.getXFromTime(this.pointsManager.currentTime),e=this.getYFromValue(this.pointsManager.currentValue),n=this.animator.getValue(),r=20*n;r<.1&&(r=.1);var i=1-n;this.graphicsGlow.beginFill(39673,i,!0),this.graphicsGlow.lineStyle(0,39673,i),this.graphicsGlow.drawCircle(0,0,r),this.graphicsGlow.endFill(),this.graphicsGlow.position.x=t,this.graphicsGlow.position.y=e,this.graphicsDot.beginFill(this.colors.valuePointCenterColor.getHEXNUM(),this.colors.valuePointCenterColor.getAlpha(),!0),this.graphicsDot.lineStyle(0,16777215,0),this.graphicsDot.drawCircle(0,0,4),this.graphicsDot.endFill(),this.graphicsDot.position.x=t,this.graphicsDot.position.y=e}}}])}(FI),DY=NY;function LY(t){return LY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LY(t)}function MY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RY(r.key),r)}}function RY(t){var e=function(t,e){if("object"!=LY(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=LY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==LY(e)?e:e+""}function BY(t,e,n){return e=WY(e),function(t,e){if(e&&("object"==LY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,HY()?Reflect.construct(e,n||[],WY(t).constructor):e.apply(t,n))}function HY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(HY=function(){return!!t})()}function $Y(t,e,n,r){var i=FY(WY(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function FY(){return FY="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=WY(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},FY.apply(null,arguments)}function WY(t){return WY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},WY(t)}function UY(t,e){return UY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},UY(t,e)}var VY=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=BY(this,e,[t,n])).showTooltip=!0,r.textDestroyed=!1,r.changedShowTooltip=!1,r.eventTokens=[],r.handleEvent(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UY(t,e)}(e,t),function(t,e,n){return e&&MY(t.prototype,e),n&&MY(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"handleEvent",value:function(){var t=this,e=u.A.subscribe("CORE/TEXT_DESTROYED",(function(){t.textDestroyed=!0}));this.eventTokens.push(e)}},{key:"getCoords",value:function(){return{x:this.getXFromTime(this.isLineChart()?this.time:Math.floor(this.time/this.pointsInElement)*this.pointsInElement),y:this.getYFromValue(this.value)}}},{key:"shouldRerender",value:function(){return this.isChangedFromTo()||this.isChangedMinMax()||this.isSizeChanged()||this.isElementHeightChanged()||this.textDestroyed||this.changedShowTooltip}},{key:"changeShowTooltip",value:function(t){this.changedShowTooltip=!0,this.showTooltip=t}},{key:"onAfterDraw",value:function(){$Y(e,"onAfterDraw",this,3)([]),this.changedShowTooltip=!1,this.textDestroyed=!1}},{key:"destroy",value:function(){$Y(e,"destroy",this,3)([]),this.eventTokens.forEach((function(t){u.A.unsubscribe(t)}))}}])}(FI),GY=VY;function zY(t){return zY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zY(t)}function YY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XY(r.key),r)}}function XY(t){var e=function(t,e){if("object"!=zY(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zY(e)?e:e+""}function qY(t,e,n){return e=QY(e),function(t,e){if(e&&("object"==zY(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,KY()?Reflect.construct(e,n||[],QY(t).constructor):e.apply(t,n))}function KY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(KY=function(){return!!t})()}function ZY(t,e,n,r){var i=JY(QY(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function JY(){return JY="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=QY(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},JY.apply(null,arguments)}function QY(t){return QY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},QY(t)}function tX(t,e){return tX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tX(t,e)}var eX=function(t){function e(t,n,r){var i,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=qY(this,e,[t,n])).id=r.id,i.isCall=r.isCall,i.orderId=0,i.setChangeableData(r),i.hoveredDoubleUp=null,i.hoveredRollover=null,i.showTooltip=o,i.rect=null,i.fadedOpacity=.2,i.changedData=!1,i.dashedLineShader=new WU.sM({dash:5,gap:5}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tX(t,e)}(e,t),function(t,e,n){return e&&YY(t.prototype,e),n&&YY(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"setChangeableData",value:function(t){this.closeTime=t.closeTime,this.value=t.value,this.time=t.time,this.text=t.text,this.data=t,this.changedData=!0}},{key:"setHoveredDoubleUp",value:function(t){this.hoveredDoubleUp=t}},{key:"setHoveredRollover",value:function(t){this.hoveredRollover=t}},{key:"checkClickOpen",value:function(t,e){return this.rect&&this.rect.containsPoint({x:t,y:e})}},{key:"changeShowTooltip",value:function(t){ZY(e,"changeShowTooltip",this,3)([t]),this.rendered=!1,this.clearAll()}},{key:"changeOrderId",value:function(t){this.orderId!==t&&(this.rendered=!1,this.clearAll()),this.orderId=t}},{key:"getRectColor",value:function(){return this.isCall?this.colors.callLineColor:this.colors.putLineColor}},{key:"getRectAlpha",value:function(){return this.showTooltip?this.isFadedColor()?this.fadedOpacity:.85:.01}},{key:"isFadedColor",value:function(){var t=null!==this.hoveredDoubleUp&&this.hoveredDoubleUp!==this.id,e=null!==this.hoveredRollover&&this.hoveredRollover!==this.id;return!this.isMobile&&(t||e)}},{key:"getTextColor",value:function(){return this.showTooltip?this.colors.betElementTextColor.getHEXNUM():this.colors.betElementTextColorTooltipOff.getHEXNUM()}},{key:"isRolloverDoubleUpChanged",value:function(){return this.oldHoverDoubleUp!==this.hoveredDoubleUp||this.oldHoverRollover!==this.hoveredRollover}},{key:"shouldRerender",value:function(){return this.changedData||this.oldOrderId!==this.orderId||this.isRolloverDoubleUpChanged()||this.isChangedFromTo()||this.isChangedMinMax()||this.isSizeChanged()||this.isElementHeightChanged()||this.isThemeChanged()||this.isCurrentTimeChanged()}},{key:"drawRollover",value:function(t){var e=this,n=t.y;if(this.clearRolloverLine(),this.hoveredRollover){var r=this.pointsManager.plot.options.find((function(t){return t.id===e.hoveredRollover}));if(r){var i=r.data,o=i.openTimestamp,a=i.closeTimestamp,s=a-o+a,c=this.getXFromTime(a),l=this.getXFromTime(s);if(c&&c<this.width){var u=this.core.getDynamicGraphics(rh.Rp.DEALS,"lineGraphics-rollover-".concat(this.id),{smooth:!0}),d=r.isCall?this.colors.callLineColor.getHEXNUM():this.colors.putLineColor.getHEXNUM();u.graphics.lineStyle({width:1,color:d,alpha:.8,shader:this.dashedLineShader}),u.graphics.moveTo(c,n),u.graphics.lineTo(l,n)}}}}},{key:"onAfterDraw",value:function(){ZY(e,"onAfterDraw",this,3)([]),this.changedData=!1,this.oldOrderId=this.orderId,this.oldHoverDoubleUp=this.hoveredDoubleUp,this.oldHoverRollover=this.hoveredRollover}},{key:"clearRolloverLine",value:function(){this.core.clearDynamicGraphicsNew("lineGraphics-rollover-".concat(this.id))}},{key:"clearAll",value:function(){this.clearRolloverLine()}},{key:"destroy",value:function(){ZY(e,"destroy",this,3)([]),this.core.destroyDynamicGraphicsNew(rh.Rp.DEALS,"lineGraphics-rollover-".concat(this.id))}}])}(GY);function nX(t){return nX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nX(t)}function rX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iX(r.key),r)}}function iX(t){var e=function(t,e){if("object"!=nX(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nX(e)?e:e+""}function oX(t,e,n){return e=cX(e),function(t,e){if(e&&("object"==nX(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,aX()?Reflect.construct(e,n||[],cX(t).constructor):e.apply(t,n))}function aX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(aX=function(){return!!t})()}function sX(){return sX="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=cX(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},sX.apply(null,arguments)}function cX(t){return cX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cX(t)}function lX(t,e){return lX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lX(t,e)}var uX=function(t){function e(t,n,r){var i,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=oX(this,e,[t,n,r,o])).rippleAnimator=new Iz(.4,rh.EK.EaseOutQuint),i.rippleAnimator.calculateToOne=!0,i.rippleAnimator.setToValue(1),i.rippleAnimator.enabled=!1,i.animator=new Iz(.4,rh.EK.EaseOutQuint),i.animator.calculateToOne=!0,i.animator.timeout=.15,i.animator.setToValue(1),i.animator.enabled=!1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lX(t,e)}(e,t),function(t,e,n){return e&&rX(t.prototype,e),n&&rX(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"reanimate",value:function(){this.rippleAnimator.reset(),this.rippleAnimator.setToValue(1),this.rippleAnimator.enabled=!0,this.animator.reset(),this.animator.setToValue(1),this.animator.enabled=!0}},{key:"drawRipples",value:function(t,e,n,r){if(t<1){var i=this.core.getDynamicGraphics(rh.Rp.DEALS,"rippleGraphics-".concat(this.id));i.isNew&&(i.graphics.lineStyle(1,r.getHEXNUM(),1),i.graphics.beginFill(16777215,0,!0),i.graphics.drawCircle(0,0,5),i.graphics.endFill()),i.graphics.alpha=1-t,i.graphics.setTransform(e,n,5*t,5*t),i=null}else this.core.clearDynamicGraphicsNew("rippleGraphics-".concat(this.id))}},{key:"roundedRect",value:function(t,e,n,r){var i=this.isFadedColor()?this.fadedOpacity:1,o=10,a=this.core.getText(rh.Rp.DEALS_TEXT,"rectangleGraphics-".concat(this.id),this.text,Ru.Ay.CHART.TEXT_STYLE_BET,this.getTextColor());a.alpha=i;var s=a.width+20,c=a.height+7,l=this.isCall?-(c+o):o,u=this.showTooltip?0:8,d=this.core.getDynamicGraphics(rh.Rp.DEALS,"rectangleGraphics-".concat(this.id),{touch:!0});if(d.isNew||this.changedShowTooltip){var f=this.getRectAlpha();d.graphics.beginFill(r.getHEXNUM(),f,!0),d.graphics.drawRoundedRect(0-s/2,l,s,c,3),d.graphics.moveTo(0,this.isCall?-5:5),d.graphics.lineTo(-5,this.isCall?-10:o),d.graphics.lineTo(5,this.isCall?-10:o),d.graphics.closePath(),d.graphics.endFill(),this.rect=d.graphics}d.graphics.setTransform(e,n,t,t),d.graphics.alpha=t;var h=this.core.getDynamicGraphics(rh.Rp.DEALS_TEXT,"triangleIconGraphics-".concat(this.id));if(h.isNew){var p=this.getTextColor();h.graphics.beginFill(p,1,!0),h.graphics.lineStyle(1,p,i),this.isCall?(h.graphics.moveTo(0,5),h.graphics.lineTo(-3,o),h.graphics.lineTo(3,o)):(h.graphics.moveTo(0,-5),h.graphics.lineTo(-3,-10),h.graphics.lineTo(3,-10)),h.graphics.closePath(),h.graphics.endFill()}this.isCall?h.graphics.setTransform(e-1-(a.width+6)/2+3,n-o-c+3+u,t,t):h.graphics.setTransform(e-1-(a.width+6)/2+3,n+o+c-3-u,t,t),h.graphics.alpha=this.isFadedColor()?this.fadedOpacity:t,a.setTransform(e-(a.width+6)/2+6+2,n-1+l+4+(this.isCall?u:-u),t,t),a.alpha=this.isFadedColor()?this.fadedOpacity:t}},{key:"drawLine",value:function(t,e,n){var r=this.isFadedColor()?this.fadedOpacity:1;if(this.value>0){this.core.clearDynamicGraphicsNew("lineGraphics-".concat(this.id));var i=this.core.getDynamicGraphics(rh.Rp.DEALS,"lineGraphics-".concat(this.id)),o=this.getXFromTime(this.closeTime)-t;i.graphics.lineStyle(1,n.getHEXNUM(),r),i.graphics.moveTo(0,0),i.graphics.lineTo(o,0),i.graphics.setTransform(t,e,1,1),this.valueLine=i}var a=this.core.getDynamicGraphics(rh.Rp.DEALS,"dotGraphics-".concat(this.id));a.isNew&&(a.graphics.beginFill(n.getHEXNUM(),1,!0),a.graphics.lineStyle(0,n.getHEXNUM(),0),a.graphics.drawCircle(0,0,3),a.graphics.endFill()),a.graphics.setTransform(t,e,1,1),a.graphics.alpha=r}},{key:"draw",value:function(){this.rippleAnimator.setTime(this.ts),this.animator.setTime(this.ts);var t=this.animator.getValue(),e=this.rippleAnimator.getValue();if(!(t>=1&&e>=1)||this.shouldRerender()){this.isRolloverDoubleUpChanged()&&this.clearAll();var n=this.getCoords(),r=n.x,i=n.y,o=this.getRectColor();this.drawLine(r,i,o),this.roundedRect(t,r,i,o),this.drawRipples(e,r,i,o),this.id===this.hoveredRollover&&this.drawRollover({y:i})}}},{key:"clearAll",value:function(){!function(t,e,n,r){var i=sX(cX(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"clearAll",this,3)([]),this.core.clearDynamicGraphicsNew("rippleGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("rectangleGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("triangleIconGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("dotGraphics-".concat(this.id))}},{key:"destroy",value:function(){this.core.destroyDynamicGraphicsNew(rh.Rp.DEALS,"lineGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(rh.Rp.DEALS,"dotGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(rh.Rp.DEALS,"rippleGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(rh.Rp.DEALS_TEXT,"triangleIconGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(rh.Rp.DEALS,"rectangleGraphics-".concat(this.id)),this.core.destroyText("rectangleGraphics-".concat(this.id))}}])}(eX),dX=uX;function fX(t){return fX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fX(t)}function hX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jX(r.key),r)}}function pX(t,e,n){return e=bX(e),function(t,e){if(e&&("object"==fX(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,mX()?Reflect.construct(e,n||[],bX(t).constructor):e.apply(t,n))}function mX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(mX=function(){return!!t})()}function yX(t,e,n,r){var i=vX(bX(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function vX(){return vX="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=bX(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},vX.apply(null,arguments)}function bX(t){return bX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bX(t)}function gX(t,e){return gX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gX(t,e)}function wX(t,e,n){return(e=jX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jX(t){var e=function(t,e){if("object"!=fX(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fX(e)?e:e+""}var xX=wX(wX({},II.BLUE,MI.WpD.string2hex("#222639")),II.LIGHT,MI.WpD.string2hex("#ffffff")),_X=wX(wX({},II.BLUE,MI.WpD.string2hex("#464A58")),II.LIGHT,MI.WpD.string2hex("#DCE1E5")),SX=wX(wX({},II.BLUE,MI.WpD.string2hex("#8EA5C0")),II.LIGHT,MI.WpD.string2hex("#314E70")),OX=wX(wX({},II.BLUE,MI.WpD.string2hex("#ffffff")),II.LIGHT,MI.WpD.string2hex("#314E70")),kX=wX(wX({},II.BLUE,MI.WpD.string2hex("#1e2229")),II.LIGHT,MI.WpD.string2hex("#ffffff")),TX=wX(wX({},II.BLUE,MI.WpD.string2hex("#2D3142")),II.LIGHT,MI.WpD.string2hex("#ffffff")),AX=function(t){function e(t,n,r,i){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=pX(this,e,[t,n,r])).infoOpened=!1,o.setData(r),o.radius=16,o.offsetY=10,o.PADDING_X=7,o.MAX_ELEMENT_SIZE=150,o.COPY_BTN_MARGIN_X=10,o.LINE_PADDING=3,o.PADDING_Y=10,o.PADDING_Y_FROM_LABEL=5,o.COPY_BTN_TEXT_PADDING=3,o.isStartedRendering=!1,o.isFullyRendered=!1,o.avatarRect=null,o.copyBtn=null,o.infoRect=null,o.theme=NI(i),o.image=r.imageSrc?r.imageSrc:Ru.Ay.CHART.DEFAULT_AVATAR_SRC,o.createElements(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gX(t,e)}(e,t),function(t,e,n){return e&&hX(t.prototype,e),n&&hX(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"getAvatarTextKey",value:function(t){return"c-avatar-text-".concat(t?"opened":"closed","-").concat(this.id)}},{key:"getAvatarRectangleKey",value:function(t){return"c-avatar-rect-".concat(t?"opened":"closed","-").concat(this.id)}},{key:"getAvatarInnerRectKey",value:function(t){return"c-avatar-rect-inner-".concat(t?"opened":"closed","-").concat(this.id)}},{key:"getAvatarTriangleKey",value:function(t){return"c-avatar-triangle-".concat(t?"opened":"closed","-").concat(this.id)}},{key:"isShowCopyBtn",get:function(){var t=this.calculateCopyPayout(),e=this.option.closeTimestamp-30;return t>0&&this.serverTime<e}},{key:"setData",value:function(t){this.option=t,this.clearAll()}},{key:"createElements",value:function(){var t=Math.ceil(1e3*this.option.time);this.container=this.core.getDynamicContainer(rh.Rp.SOCIAL_DEALS,"sd-container-".concat(this.id),{sortableChildren:!0,zIndex:t+1e3}),this.containerExpanded=this.core.getDynamicContainer(rh.Rp.SOCIAL_DEALS_CONTAINER_UP,"sd-container-expanded-".concat(this.id),{sortableChildren:!0,zIndex:t})}},{key:"reanimate",value:function(){this.avatarRect=null,this.rippleAnimator.enabled=!0,this.animator.enabled=!0,this.isStartedRendering=!1,this.isFullyRendered=!1}},{key:"closeInfo",value:function(){this.infoOpened=!1,this.clearExtendedInfo(),this.draw()}},{key:"openInfo",value:function(){this.infoOpened=!0,this.clearCollapsedInfo(),this.draw()}},{key:"checkClickOutside",value:function(t,e){return!this.checkClickOpen(t,e)&&!this.checkClickCopy(t,e)&&!this.checkClickInfo(t,e)}},{key:"checkClickOpen",value:function(t,e){return null!=this.avatarRect&&this.avatarRect.containsPoint({x:t,y:e})}},{key:"checkClickCopy",value:function(t,e){return!(!this.isShowCopyBtn||!this.copyBtn)&&this.copyBtn.containsPoint({x:t,y:e})}},{key:"checkClickInfo",value:function(t,e){return!(!this.infoOpened||!this.infoRect)&&this.infoRect.containsPoint({x:t,y:e})}},{key:"isVisible",value:function(){var t=this.getTimeFrom()<=this.time&&this.time<=this.getTimeTo(),e=this.getValueFrom()<=this.value&&this.value<=this.getValueTo();return t&&e}},{key:"getProfitableLabel",value:function(){var t=this.core.getText(rh.Rp.SOCIAL_DEALS,"profitableDealsTextLabel"+this.id,"".concat((0,$.tr)("chart_settings.profitable_deals"),": "),Ru.Ay.CHART.TEXT_STYLE_SOCIAL_BET_LABEL,SX[this.theme],!1,this.containerExpanded);return t.zIndex=10,t}},{key:"getProfitableValue",value:function(){var t=this.core.getText(rh.Rp.SOCIAL_DEALS,"profitableDealsText"+this.id,"".concat(this.option.percentProfitable,"%"),Ru.Ay.CHART.TEXT_STYLE_BET,OX[this.theme],!1,this.containerExpanded);return t.zIndex=10,t}},{key:"calculateCopyPayout",value:function(){var t=(this.serverTime-Math.floor(this.time))*Ru.Ay.PAYOUT_REDUCE,e=this.option.percentProfit-t;return e<10&&(e=0),e}},{key:"getCopyPayoutLabel",value:function(){var t=this.core.getText(rh.Rp.SOCIAL_DEALS,"payoutTextLabel"+this.id,"".concat((0,$.tr)("deals.copy_payout"),": "),Ru.Ay.CHART.TEXT_STYLE_SOCIAL_BET_LABEL,SX[this.theme],!1,this.containerExpanded);return t.zIndex=10,t}},{key:"getCopyPayoutValue",value:function(){var t=this.calculateCopyPayout(),e=this.core.getText(rh.Rp.SOCIAL_DEALS,"payoutText"+this.id,"".concat(t,"%"),Ru.Ay.CHART.TEXT_STYLE_BET,OX[this.theme],!1,this.containerExpanded);return e.zIndex=10,e}},{key:"drawDot",value:function(t,e,n,r){var i=this.isFadedColor()?this.fadedOpacity:n,o=this.core.getDynamicGraphics(rh.Rp.SOCIAL_DEALS_BG_LAYER,"sd-dot-".concat(this.id));o.isNew&&(this.option.isClosed?(o.graphics.lineStyle(0,0,0),o.graphics.beginFill(r.getHEXNUM(),1)):(o.graphics.lineStyle(1,r.getHEXNUM(),1),o.graphics.beginFill(kX[this.theme],1)),o.graphics.drawCircle(0,0,3),o.graphics.endFill()),o.graphics.setTransform(t,e,n,n),o.graphics.alpha=i}},{key:"drawCollapsedInfo",value:function(t,e,n){var r=this.animator.getValue(),i=n,o=e,a=this.isFadedColor()?this.fadedOpacity:r,s=this.core.getText(rh.Rp.SOCIAL_DEALS,this.getAvatarTextKey(this.infoOpened),this.getString(),Ru.Ay.CHART.TEXT_STYLE_BET,this.option.isClosed?OX[this.theme]:this.colors.betElementTextColor.getHEXNUM(),!1,this.infoOpened?this.containerExpanded:this.container);s.visible=!0,s.zIndex=10,s.alpha=a;var c=s.width,l=s.height,u=c+2*this.PADDING_X,d=l+4;this.isOpenTop()?i+=this.offsetY:i-=d+this.offsetY;var f=o-c/2,h=this.core.getDynamicGraphics(rh.Rp.SOCIAL_DEALS,this.getAvatarRectangleKey(this.infoOpened),{touch:!0,parent:this.infoOpened?this.containerExpanded:this.container});if(h.graphics.zIndex=2,this.avatarRect=h.graphics,h.isNew&&(h.graphics.beginFill(t.getHEXNUM(),1),h.graphics.drawRoundedRect(0,0,u,d,9),h.graphics.endFill()),h.graphics.setTransform(o-u/2,i),h.graphics.alpha=a,this.option.isClosed){var p=this.core.getDynamicGraphics(rh.Rp.SOCIAL_DEALS,this.getAvatarInnerRectKey(this.infoOpened),{touch:!0,parent:this.infoOpened?this.containerExpanded:this.container});p.zIndex=19,p.isNew&&(p.graphics.beginFill(TX[this.theme],1),p.graphics.drawRoundedRect(0,0,c-2+2*this.PADDING_X,d-2,9),p.graphics.endFill()),p.graphics.setTransform(o+1-c/2-this.PADDING_X,i+1),p.graphics.alpha=a}var m=this.core.getDynamicGraphics(rh.Rp.SOCIAL_DEALS,this.getAvatarTriangleKey(this.infoOpened),{parent:this.infoOpened?this.containerExpanded:this.container});m.zIndex=20,m.isNew&&(m.graphics.beginFill(t.getHEXNUM(),1),this.isOpenTop()?(m.graphics.moveTo(0,5),m.graphics.lineTo(-5,this.offsetY),m.graphics.lineTo(5,this.offsetY)):(m.graphics.moveTo(0,-5),m.graphics.lineTo(-5,-this.offsetY),m.graphics.lineTo(5,-this.offsetY)),m.graphics.endFill()),m.graphics.setTransform(e,n,r,r),m.graphics.alpha=a;var y=i+2;s.setTransform(1+f,y,r,r),s.alpha=a}},{key:"drawExpandedInfo",value:function(t,e,n){var r,i,o=this.animator.getValue(),a=n,s=e,c=this.isFadedColor()?this.fadedOpacity:o,l=this.getProfitableLabel(),u=this.getProfitableValue(),d=0,f=0;this.calculateCopyPayout()?(r=this.getCopyPayoutLabel(),i=this.getCopyPayoutValue(),d=r.width+i.width,f=i.height):(this.clearPayoutLabels(),this.clearRectangle());var h=this.core.getDynamicGraphics(rh.Rp.SOCIAL_DEALS,"drawUserInfoUserInfoRectangle".concat(this.id),{parent:this.containerExpanded,touch:!0});h.graphics.interactive=!0,h.graphics.cursor="pointer",h.graphics.zIndex=1,this.infoRect=h.graphics;var p=this.core.getText(rh.Rp.SOCIAL_DEALS,"drawUserInfoUserInfoName"+this.id,this.option.socialName,Ru.Ay.CHART.TEXT_STYLE_BET_BOLD,OX[this.theme],!1,this.containerExpanded);p.zIndex=4;var m=this.core.getDynamicGraphics(rh.Rp.SOCIAL_DEALS,"drawUserInfoUserCopyBtn"+this.id,{touch:!0,parent:this.containerExpanded});m.graphics.zIndex=4,this.copyBtn=m.graphics,m.graphics.cursor=this.isShowCopyBtn?"pointer":"default";var y=this.core.getText(rh.Rp.SOCIAL_DEALS,"drawUserInfoUserCopyBtnText".concat(this.id),(0,$.tr)("deals.copy"),Ru.Ay.CHART.TEXT_STYLE_SOCIAL_BET_LABEL,this.colors.betElementTextColor.getHEXNUM(),!1,this.containerExpanded);y.zIndex=5;var v,b,g=y.width,w=y.height,j=l.width+u.width,x=Math.max(p.width,j,d)+20,_=this.avatarRect.height,S=w+2*this.COPY_BTN_TEXT_PADDING,O=_/2+this.PADDING_Y_FROM_LABEL+this.PADDING_Y+p.height+this.LINE_PADDING+u.height;f&&(O+=this.LINE_PADDING+f,O+=2*this.LINE_PADDING+S),this.isOpenTop()?(v=(a+=this.offsetY)+_/2,b=a+_+this.PADDING_Y_FROM_LABEL):b=(v=(a-=_+this.offsetY)+_/2-O)+this.PADDING_Y;var k=b+p.height+this.LINE_PADDING,T=k,A=k;f&&(A=(T+=f+this.LINE_PADDING)+r.height+2*this.LINE_PADDING),h.isNew&&(h.graphics.lineStyle(1,_X[this.theme]),h.graphics.beginFill(xX[this.theme],1),h.graphics.drawRoundedRect(0,0,x,O,3),h.graphics.endFill()),h.graphics.setTransform(s-x/2,v),h.graphics.alpha=c,p.setTransform(s-p.width/2,b),p.alpha=c,l.setTransform(s-j/2,k),l.alpha=c,u.setTransform(s-j/2+l.width,k-1),u.alpha=c,r&&i&&(r.setTransform(s-d/2,T),r.alpha=c,i.setTransform(s-d/2+r.width,T-1),i.alpha=c);var C=h.graphics.width-2*this.COPY_BTN_MARGIN_X;m.isNew&&(m.graphics.beginFill(t.getHEXNUM(),1),m.graphics.drawRoundedRect(0,0,C,S,4),m.graphics.endFill()),m.graphics.setTransform(s-C/2,A),m.graphics.alpha=this.isShowCopyBtn?c:0,y.setTransform(s-g/2,A+this.COPY_BTN_TEXT_PADDING),y.alpha=this.isShowCopyBtn?c:0}},{key:"getString",value:function(){if(!this.option.isClosed)return this.text;var t=this.option.profit+this.option.amount;return(0,hn.MU)(t,this.option.currency)}},{key:"shouldRerender",value:function(){return!!yX(e,"shouldRerender",this,3)([])||(!this.isFullyRendered||this.calculateCopyPayout()>0&&this.infoOpened||this.infoOpened!==this.oldInfoOpened||this.oldOpenSide!==this.getOpenSide()||this.oldIsShowCopyBtn!==this.isShowCopyBtn&&this.infoOpened)}},{key:"getOpenSide",value:function(){return this.getYFromValue(this.option.openPrice)<this.worldHeight-this.MAX_ELEMENT_SIZE-this.bottomMarginPixels?1:-1}},{key:"isOpenTop",value:function(){return 1===this.getOpenSide()}},{key:"draw",value:function(){if(this.isVisible()){if(this.shouldRerender()){(this.oldOpenSide!==this.getOpenSide()||this.isThemeChanged())&&this.clearAll(),this.isStartedRendering=!0,this.rippleAnimator.setTime(this.ts),this.animator.setTime(this.ts);var t=this.animator.getValue(),e=this.rippleAnimator.getValue();!this.isFullyRendered&&t>=1&&e>=1&&(this.isFullyRendered=!0);var n=this.isCall?this.colors.callLineColor:this.colors.putLineColor,r=this.getCoords(),i=r.x,o=r.y;this.drawDot(i,o,t,n),this.drawRipples(e,i,o,n),this.drawCollapsedInfo(n,i,o),this.infoOpened&&this.drawExpandedInfo(n,i,o)}}else this.isStartedRendering&&(this.isFullyRendered=!1,this.isStartedRendering=!1,this.clearAll())}},{key:"onAfterDraw",value:function(){yX(e,"onAfterDraw",this,3)([]),this.oldInfoOpened=this.infoOpened,this.oldIsShowCopyBtn=this.isShowCopyBtn,this.oldOpenSide=this.getOpenSide()}},{key:"clearPointer",value:function(){this.core.clearDynamicGraphicsNew("sd-dot-".concat(this.id))}},{key:"clearTriangle",value:function(){this.core.clearDynamicGraphicsNew(this.getAvatarTriangleKey(!1)),this.core.clearDynamicGraphicsNew(this.getAvatarTriangleKey(!0))}},{key:"clearAll",value:function(){yX(e,"clearAll",this,3)([]),this.clearPointer(),this.clearTriangle(),this.clearCollapsedInfo(),this.clearExtendedInfo()}},{key:"clearCollapsedInfo",value:function(){this.core.clearDynamicGraphicsNew(this.getAvatarRectangleKey(!1)),this.core.clearDynamicGraphicsNew(this.getAvatarInnerRectKey(!1)),this.core.clearText(this.getAvatarTextKey(!1)),this.clearTriangle()}},{key:"clearPayoutLabels",value:function(){this.core.clearText("payoutTextLabel".concat(this.id)),this.core.clearText("payoutText".concat(this.id))}},{key:"clearRectangle",value:function(){this.core.clearDynamicGraphicsNew("drawUserInfoUserInfoRectangle".concat(this.id))}},{key:"clearExtendedInfo",value:function(){this.core.clearDynamicGraphicsNew(this.getAvatarRectangleKey(!0)),this.core.clearDynamicGraphicsNew(this.getAvatarInnerRectKey(!0)),this.core.clearDynamicGraphicsNew(this.getAvatarTriangleKey(!0)),this.core.clearText(this.getAvatarTextKey(!0)),this.core.clearDynamicGraphicsNew("drawUserInfoUserCopyBtn"+this.id),this.core.clearText("drawUserInfoUserCopyBtnText"+this.id),this.core.clearText("drawUserInfoUserInfoName"+this.id),this.core.clearText("profitableDealsTextLabel"+this.id),this.core.clearText("profitableDealsText"+this.id),this.core.clearSprite("sprite-avatar-"+this.id),this.clearPayoutLabels(),this.clearRectangle()}},{key:"destroyPointer",value:function(){this.core.destroyDynamicGraphicsNew(rh.Rp.SOCIAL_DEALS_BG_LAYER,"sd-dot-".concat(this.id))}},{key:"destroyCollapsedInfo",value:function(){this.core.destroyDynamicGraphicsNew(rh.Rp.SOCIAL_DEALS,this.getAvatarRectangleKey(!1)),this.core.destroyDynamicGraphicsNew(rh.Rp.SOCIAL_DEALS,this.getAvatarInnerRectKey(!1)),this.core.destroyDynamicGraphicsNew(rh.Rp.SOCIAL_DEALS,this.getAvatarTriangleKey(!1)),this.core.destroyText(this.getAvatarTextKey(!1))}},{key:"destroyExtendedInfo",value:function(){this.core.destroyDynamicGraphicsNew(rh.Rp.SOCIAL_DEALS,this.getAvatarRectangleKey(!0)),this.core.destroyDynamicGraphicsNew(rh.Rp.SOCIAL_DEALS,this.getAvatarInnerRectKey(!0)),this.core.destroyDynamicGraphicsNew(rh.Rp.SOCIAL_DEALS,this.getAvatarTriangleKey(!0)),this.core.destroyText(this.getAvatarTextKey(!0)),this.core.destroyDynamicGraphicsNew(rh.Rp.SOCIAL_DEALS,"drawUserInfoUserInfoRectangle"+this.id),this.core.destroyDynamicGraphicsNew(rh.Rp.SOCIAL_DEALS,"drawUserInfoUserInfoRectangle"+this.id),this.core.destroyDynamicGraphicsNew(rh.Rp.SOCIAL_DEALS,"drawUserInfoUserCopyBtn"+this.id),this.core.destroyText("drawUserInfoUserInfoName"+this.id),this.core.destroyText("payoutTextLabel"+this.id),this.core.destroyText("payoutText"+this.id),this.core.destroyText("profitableDealsTextLabel"+this.id),this.core.destroyText("profitableDealsText"+this.id),this.core.destroyText("drawUserInfoUserCopyBtnText"+this.id)}},{key:"destroyRipples",value:function(){this.core.destroyDynamicGraphicsNew(rh.Rp.DEALS,"rippleGraphics-".concat(this.id))}},{key:"destroy",value:function(){yX(e,"destroy",this,3)([]),this.destroyPointer(),this.destroyRipples(),this.destroyCollapsedInfo(),this.destroyExtendedInfo(),this.core.destroyDynamicContainer(rh.Rp.SOCIAL_DEALS,"sd-container-".concat(this.id)),this.core.destroyDynamicContainer(rh.Rp.SOCIAL_DEALS_CONTAINER_UP,"sd-container-expanded-".concat(this.id)),this.container=null,this.avatarRect=null}}])}(dX);function CX(t,e){var n=e.fontFamily,r=e.fontSize,i=new MI.xJt({fontFamily:n,fontSize:r}),o=MI.Z1e.measureText(t,i);return{width:Math.round(o.maxLineWidth),height:Math.round(o.height)}}function PX(t){return PX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PX(t)}function EX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FX(r.key),r)}}function IX(t,e,n){return e=MX(e),function(t,e){if(e&&("object"==PX(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,NX()?Reflect.construct(e,n||[],MX(t).constructor):e.apply(t,n))}function NX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(NX=function(){return!!t})()}function DX(t,e,n,r){var i=LX(MX(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function LX(){return LX="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=MX(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},LX.apply(null,arguments)}function MX(t){return MX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},MX(t)}function RX(t,e){return RX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},RX(t,e)}function BX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function HX(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?BX(Object(n),!0).forEach((function(e){$X(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BX(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $X(t,e,n){return(e=FX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FX(t){var e=function(t,e){if("object"!=PX(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=PX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==PX(e)?e:e+""}var WX={WIDTH:5,HEIGHT:5},UX={X:20,Y:7},VX={LEFT:2,RIGHT:2,TOP:2,BOTTOM:2},GX=5,zX=3,YX=HX(HX({},Ru.Ay.CHART.TEXT_STYLE_BET),{},{fontSize:10}),XX=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),IX(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RX(t,e)}(e,t),function(t,e,n){return e&&EX(t.prototype,e),n&&EX(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"timeToCloseText",get:function(){var t=eT(Math.ceil(this.closeTime-this.currentTime));return t.hour>0?"".concat((0,dh.wl)(t.hour),":").concat((0,dh.wl)(t.min),":").concat((0,dh.wl)(t.sec)):"".concat((0,dh.wl)(t.min),":").concat((0,dh.wl)(t.sec))}},{key:"roundedRect",value:function(t){var e=t.y,n=t.rightBorderX,r=t.color,i=this.isFadedColor()?this.fadedOpacity:1,o=this.core.getText(rh.Rp.DEALS_TEXT,"rectangleGraphics-".concat(this.id),this.text,Ru.Ay.CHART.TEXT_STYLE_BET,this.getTextColor());o.alpha=i;var a=this.core.getText(rh.Rp.DEALS_TEXT,"text-exp-".concat(this.id),this.timeToCloseText,YX,this.getTextColor());a.alpha=i>.5?.5:i;var s=Math.max(o.width,a.width)+UX.X,c=o.height+UX.Y+a.height,l=this.core.getDynamicGraphics(rh.Rp.DEALS,"rectangleGraphics-".concat(this.id),{touch:!0});if(l.isNew||this.changedShowTooltip){var u=this.getRectAlpha();l.graphics.beginFill(r.getHEXNUM(),u,!0),l.graphics.drawRoundedRect(-s/2,-UX.Y/2,s,c,3),l.graphics.endFill(),this.rect=l.graphics}l.graphics.setTransform(n-s/2,e-(c-zX)/2,1,1);var d=this.core.getDynamicGraphics(rh.Rp.DEALS_TEXT,"triangleIconGraphics-".concat(this.id));if(d.isNew){var f=this.getTextColor();d.graphics.beginFill(f,1,!0),d.graphics.lineStyle(1,f,i),d.graphics.moveTo(0,this.isCall?-WX.HEIGHT:WX.HEIGHT),d.graphics.lineTo(-3,0),d.graphics.lineTo(3,0),d.graphics.closePath(),d.graphics.endFill()}return d.graphics.alpha=i,d.graphics.setTransform(n-s/2-1-(o.width+WX.WIDTH)/2+WX.WIDTH/2,this.isCall?e-c/2-WX.HEIGHT+UX.Y/2+o.height:e-c/2-WX.HEIGHT+o.height-1,1,1),o.setTransform(n-s/2-(o.width+WX.WIDTH)/2+WX.WIDTH+2,e-c/2+UX.Y/2,1,1),a.setTransform(n-s/2-a.width/2,o.y+14,1,1),l.graphics.width}},{key:"drawLine",value:function(t){var e=t.color,n=t.x,r=t.y,i=t.rightBorderX;this.core.clearDynamicGraphicsNew("lineGraphics-full-".concat(this.id));var o=this.core.getDynamicGraphics(rh.Rp.DEALS,"lineGraphics-full-".concat(this.id)),a=this.isFadedColor()?this.fadedOpacity:.8,s=this.getXFromTime(this.closeTime)-n;o.graphics.lineStyle({width:1,color:e.getHEXNUM(),alpha:a}),o.graphics.moveTo(0,0),o.graphics.lineTo(s,0),o.graphics.setTransform(n,r,1,1),this.core.clearDynamicGraphicsNew("lineGraphics-short-".concat(this.id));var c=this.core.getDynamicGraphics(rh.Rp.DEALS,"lineGraphics-short-".concat(this.id)),l=this.isFadedColor()?(0,ru.xr)(this.fadedOpacity/2,2):.3,u=n-i;c.graphics.lineStyle({width:1,color:e.getHEXNUM(),alpha:l}),c.graphics.moveTo(0,0),c.graphics.lineTo(u,0),c.graphics.setTransform(i,r,1,1)}},{key:"drawDot",value:function(t){var e=t.color,n=t.x,r=t.y,i=this.core.getDynamicGraphics(rh.Rp.DEALS,"dotGraphics-".concat(this.id));i.isNew&&(i.graphics.beginFill(this.colors.betElementTextColor.getHEXNUM(),1,!0),i.graphics.lineStyle(1,e.getHEXNUM()),i.graphics.drawCircle(0,0,zX),i.graphics.endFill()),i.graphics.alpha=this.isFadedColor()?this.fadedOpacity:1,i.graphics.setTransform(n,r,1,1)}},{key:"drawLineAndDot",value:function(t){var e=t.x,n=t.y,r=t.rightBorderX,i=t.color;this.value<=0||(this.drawLine({color:i,x:e,rightBorderX:r,y:n}),this.drawDot({color:i,x:e,y:n}),this.id===this.hoveredRollover&&this.drawRollover({y:n}))}},{key:"getFullBlockSize",value:function(){var t=CX(this.text,Ru.Ay.CHART.TEXT_STYLE_BET),e=CX(this.timeToCloseText,Ru.Ay.CHART.TEXT_STYLE_BET);return{width:Math.ceil(Math.max(t.width,e.width)+UX.X),height:Math.ceil(t.height+UX.Y+e.height)}}},{key:"getElementBound",value:function(t,e){void 0===e&&(e=this.getCoords().y);var n=this.getFullBlockSize(),r=n.width,i=n.height,o=e-i/2;return{left:t-r-(VX.LEFT+VX.RIGHT),right:t,top:o-VX.TOP,bottom:o+i+VX.BOTTOM,width:r+VX.LEFT+VX.RIGHT,height:i+VX.TOP+VX.BOTTOM}}},{key:"draw",value:function(){var t=this;if(this.shouldRerender()){this.isRolloverDoubleUpChanged()&&this.clearAll();var e=this.getCoords(),n=e.x,r=e.y,i=n-GX;if(this.rightBorderX=i,this.orderId>0){for(var o=[],a=[i],s=0;s<this.options.length;s++){var c=this.options[s];if(c){if(c.orderId>=this.orderId)break;var l=c.getElementBound(c.rightBorderX);o.push(l);var u=l.left>i?i:l.left;a.push(u)}}for(var d=[],f=function(){var e=a[h],n=t.getElementBound(e);if(o.some((function(e){return t.isBoundsIntersects(e,n)})))return 1;d.push(e)},h=0;h<a.length;h++)f();d.length&&(this.rightBorderX=Math.max.apply(Math,d))}var p=this.getRectColor();this.drawLineAndDot({x:n,y:r,rightBorderX:this.rightBorderX,color:p}),this.roundedRect({x:n,y:r,rightBorderX:this.rightBorderX,color:p})}}},{key:"isBoundsIntersects",value:function(t,e){return t.left<e.right&&e.left<t.right&&t.top<e.bottom&&e.top<t.bottom}},{key:"clearAll",value:function(){DX(e,"clearAll",this,3)([]),this.core.clearDynamicGraphicsNew("rectangleGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("triangleIconGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("dotGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("lineGraphics-full-".concat(this.id)),this.core.clearDynamicGraphicsNew("lineGraphics-short-".concat(this.id))}},{key:"destroy",value:function(){DX(e,"destroy",this,3)([]),this.core.destroyDynamicGraphicsNew(rh.Rp.DEALS,"lineGraphics-full-".concat(this.id)),this.core.destroyDynamicGraphicsNew(rh.Rp.DEALS,"lineGraphics-short-".concat(this.id)),this.core.destroyDynamicGraphicsNew(rh.Rp.DEALS,"dotGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(rh.Rp.DEALS_TEXT,"triangleIconGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(rh.Rp.DEALS,"rectangleGraphics-".concat(this.id)),this.core.destroyText("rectangleGraphics-".concat(this.id)),this.core.destroyText("text-exp-".concat(this.id))}}])}(eX),qX=XX;function KX(t){return KX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KX(t)}function ZX(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=KX(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=KX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==KX(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var JX=ZX(ZX({ARROW_SPRITE_SIZE:16,BET:{MARGIN_Y:6,PADDING_X:5,PADDING_Y:2,DOT_WIDTH:3}},II.BLUE,{rectBorder:MI.WpD.string2hex("#464A58"),rectBg:MI.WpD.string2hex("#222639"),buttonBg:MI.WpD.string2hex("#2D3142"),textColor:MI.WpD.string2hex("#FFFFFF"),callColor:MI.WpD.string2hex("#32AC41"),putColor:MI.WpD.string2hex("#F13227"),chartLineColor:MI.WpD.string2hex("#0099FA")}),II.LIGHT,{rectBorder:MI.WpD.string2hex("#DCE1E5"),rectBg:MI.WpD.string2hex("#FFFFFF"),buttonBg:MI.WpD.string2hex("#F6F8FB"),textColor:MI.WpD.string2hex("#314E70"),callColor:MI.WpD.string2hex("#32AC41"),putColor:MI.WpD.string2hex("#F13227"),chartLineColor:MI.WpD.string2hex("#0099FA")});function QX(t){return QX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QX(t)}function tq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eq(r.key),r)}}function eq(t){var e=function(t,e){if("object"!=QX(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=QX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==QX(e)?e:e+""}var nq=function(){return function(t,e,n){return e&&tq(t.prototype,e),n&&tq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.chart=e}),[{key:"draw",value:function(){}},{key:"clear",value:function(){}},{key:"destroy",value:function(){}}])}();function rq(t){return rq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rq(t)}function iq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oq(r.key),r)}}function oq(t){var e=function(t,e){if("object"!=rq(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rq(e)?e:e+""}function aq(t,e,n){return e=uq(e),function(t,e){if(e&&("object"==rq(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,sq()?Reflect.construct(e,n||[],uq(t).constructor):e.apply(t,n))}function sq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(sq=function(){return!!t})()}function cq(t,e,n,r){var i=lq(uq(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function lq(){return lq="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=uq(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},lq.apply(null,arguments)}function uq(t){return uq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uq(t)}function dq(t,e){return dq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dq(t,e)}var fq=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),aq(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dq(t,e)}(e,t),function(t,e,n){return e&&iq(t.prototype,e),n&&iq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"rectKey",get:function(){return"c-chart-rect-".concat(this.chart.id)}},{key:"draw",value:function(){var t=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.rectKey,{parent:this.chart.container});t.isNew&&(t.graphics.zIndex=2,t.graphics.lineStyle(1,JX[this.chart.theme].rectBorder,1),t.graphics.beginFill(JX[this.chart.theme].rectBg,1),t.graphics.drawRoundedRect(0,0,this.chart.width,this.chart.height,10),t.graphics.endFill()),t.graphics.setTransform(this.chart.posX,this.chart.posY)}},{key:"clear",value:function(){cq(e,"clear",this,3)([]),this.chart.renderer.clearDynamicGraphicsNew(this.rectKey)}},{key:"destroy",value:function(){cq(e,"destroy",this,3)([]),this.chart.renderer.destroyDynamicGraphicsNew(this.chart.containerIndex,this.rectKey)}}])}(nq);function hq(t){return hq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hq(t)}function pq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mq(r.key),r)}}function mq(t){var e=function(t,e){if("object"!=hq(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hq(e)?e:e+""}function yq(t,e,n){return e=wq(e),function(t,e){if(e&&("object"==hq(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,vq()?Reflect.construct(e,n||[],wq(t).constructor):e.apply(t,n))}function vq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vq=function(){return!!t})()}function bq(t,e,n,r){var i=gq(wq(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function gq(){return gq="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=wq(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},gq.apply(null,arguments)}function wq(t){return wq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wq(t)}function jq(t,e){return jq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jq(t,e)}var xq=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),yq(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jq(t,e)}(e,t),function(t,e,n){return e&&pq(t.prototype,e),n&&pq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"gradientKey",get:function(){return"c-chart-rect-gradient-".concat(this.chart.id)}},{key:"lineKey",get:function(){return"c-chart-rect-line-".concat(this.chart.id)}},{key:"maskKey",get:function(){return"c-chart-mask-".concat(this.chart.id)}},{key:"normalizeY",value:function(t){return t<0?0:t>this.chart.height?this.chart.height:t}},{key:"getMask",value:function(){var t=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.maskKey,{parent:this.chart.container});return t.graphics.zIndex=1,t.graphics.beginFill(16724736),t.graphics.drawRoundedRect(0,0,this.chart.width,this.chart.height,10),t.graphics.endFill(),t.graphics}},{key:"drawAreaGradient",value:function(){var t=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.gradientKey,{parent:this.chart.container});if(t.isNew){var e=this.chart.coords[0],n=this.chart.coords[this.chart.coords.length-1];t.graphics.zIndex=3,t.graphics.beginFill(this.chart.colors.plotLineGradientTopColor.getHEXNUM(),.15),t.graphics.moveTo(e.x,this.chart.height),t.graphics.lineTo(e.x,this.normalizeY(e.y));for(var r=0;r<this.chart.coords.length;r++){var i=this.chart.coords[r],o=i.x,a=i.y;t.graphics[0===r?"moveTo":"lineTo"](o,this.normalizeY(a))}t.graphics.lineTo(n.x,this.chart.height),t.graphics.lineTo(e.x,this.chart.height),t.graphics.endFill()}t.graphics.setTransform(this.chart.posX,this.chart.posY);var s=this.getMask();s.setTransform(this.chart.posX,this.chart.posY),t.graphics.mask=s}},{key:"drawChartLine",value:function(){var t=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.lineKey,{parent:this.chart.container,smooth:!0});if(t.isNew){t.graphics.zIndex=3,t.graphics.lineStyle({width:2,scaleMode:WU.sb.VERTICAL,color:JX[this.chart.theme].chartLineColor,alpha:1,join:MI.u2q.ROUND});for(var e=0;e<this.chart.coords.length;e++){var n=this.chart.coords[e],r=n.x,i=n.y;0===e?t.graphics.moveTo(r,i):t.graphics.lineTo(r,i)}}t.graphics.setTransform(this.chart.posX,this.chart.posY)}},{key:"draw",value:function(){this.chart.points.length&&(this.drawAreaGradient(),this.drawChartLine())}},{key:"clear",value:function(){bq(e,"clear",this,3)([]),this.chart.renderer.clearDynamicGraphicsNew(this.gradientKey),this.chart.renderer.clearDynamicGraphicsNew(this.maskKey),this.chart.renderer.clearDynamicGraphicsNew(this.lineKey)}},{key:"destroy",value:function(){bq(e,"destroy",this,3)([]),this.chart.renderer.destroyDynamicGraphicsNew(this.chart.containerIndex,this.gradientKey),this.chart.renderer.destroyDynamicGraphicsNew(this.chart.containerIndex,this.maskKey),this.chart.renderer.destroyDynamicGraphicsNew(this.chart.containerIndex,this.lineKey)}}])}(nq);function _q(t){return _q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_q(t)}function Sq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Oq(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sq(Object(n),!0).forEach((function(e){kq(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sq(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kq(t,e,n){return(e=Aq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Aq(r.key),r)}}function Aq(t){var e=function(t,e){if("object"!=_q(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_q(e)?e:e+""}function Cq(t,e,n){return e=Nq(e),function(t,e){if(e&&("object"==_q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Pq()?Reflect.construct(e,n||[],Nq(t).constructor):e.apply(t,n))}function Pq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Pq=function(){return!!t})()}function Eq(t,e,n,r){var i=Iq(Nq(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function Iq(){return Iq="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Nq(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Iq.apply(null,arguments)}function Nq(t){return Nq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nq(t)}function Dq(t,e){return Dq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dq(t,e)}var Lq=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Cq(this,e,[t])).lineShader=new WU.sM({dash:3,gap:3}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dq(t,e)}(e,t),function(t,e,n){return e&&Tq(t.prototype,e),n&&Tq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"triangleUpSpriteKey",get:function(){return"icon-triangle-up-".concat(this.chart.id)}},{key:"triangleDownSpriteKey",get:function(){return"icon-triangle-down-".concat(this.chart.id)}},{key:"getLineKey",value:function(t){return"c-chart-deal-line-".concat(t.id)}},{key:"getDashedLineKey",value:function(t){return"c-chart-deal-dashed-line-".concat(t.id)}},{key:"getDotKey",value:function(t){return"c-chart-deal-line-dot-".concat(t.id)}},{key:"getLabelKey",value:function(t){return"c-chart-bet-label-".concat(t.id)}},{key:"getRectKey",value:function(t){return"c-chart-bet-rect-".concat(t.id)}},{key:"getTriangleUpSprite",value:function(){var t=this.chart.renderer.getSprite(this.chart.containerIndex,this.triangleUpSpriteKey,"/themes/cabinet/images/triangle-up.svg",!1,this.chart.container).sprite;return t.zIndex=7,t}},{key:"getTriangleDownSprite",value:function(){var t=this.chart.renderer.getSprite(this.chart.containerIndex,this.triangleDownSpriteKey,"/themes/cabinet/images/triangle-down.svg",!1,this.chart.container).sprite;return t.zIndex=7,t}},{key:"getTriangleSprite",value:function(t){return(0,iu.nT)(t.command)?this.getTriangleUpSprite():this.getTriangleDownSprite()}},{key:"draw",value:function(){if(this.chart.points.length){var t=this.chart.getCurrentDeal(),e=(0,iu.nT)(t.command)?JX[this.chart.theme].callColor:JX[this.chart.theme].putColor,n=this.chart.getXFromTime(this.chart.getDealOpenTimestampMs(t)),r=this.chart.getYFromValue(t.openPrice),i=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.getLineKey(t),{parent:this.chart.container,smooth:!0}),o=this.chart.getXFromTime(this.chart.getDealCloseTimestampMs(t))-n;i.isNew&&(i.graphics.zIndex=4,i.graphics.lineStyle(1,e),i.graphics.moveTo(0,0),i.graphics.lineTo(o,0)),i.graphics.setTransform(n+this.chart.posX,r+this.chart.posY);var a=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.getDashedLineKey(t),{parent:this.chart.container,smooth:!0});if(a.isNew){a.graphics.zIndex=4,a.graphics.lineStyle({width:1,color:JX[this.chart.theme].chartLineColor,alpha:.8,shader:this.lineShader});var s=this.chart.coords.find((function(t){return Math.ceil(t.x)===Math.ceil(n+o)}));s&&(a.graphics.moveTo(o,0),a.graphics.lineTo(o,s.y-r))}a.graphics.setTransform(n+this.chart.posX,r+this.chart.posY);var c=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.getDotKey(t),{parent:this.chart.container,smooth:!0});c.isNew&&(c.graphics.zIndex=5,c.graphics.beginFill(e,1,!0),c.graphics.lineStyle(0,e,0),c.graphics.drawCircle(0,0,3),c.graphics.endFill()),c.graphics.setTransform(n+this.chart.posX,r+this.chart.posY);var l=Oq(Oq({},Ru.Ay.CHART.TEXT_STYLE_BET),{},{fontSize:10}),u=this.getTriangleSprite(t),d=this.chart.renderer.getText(this.chart.containerIndex,this.getLabelKey(t),(0,hn.ej)(t.amount,t.currency),l,this.chart.colors.betElementTextColor.getHEXNUM(),null,this.chart.container);d.zIndex=7;var f=12+d.width+2*JX.BET.PADDING_X,h=d.height+2*JX.BET.PADDING_Y,p=this.chart.height/2>r?JX.BET.MARGIN_Y:-(h+JX.BET.MARGIN_Y),m=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.getRectKey(t),{smooth:!0,parent:this.chart.container});m.isNew&&(m.graphics.zIndex=6,m.graphics.beginFill(e,1,!0),m.graphics.drawRoundedRect(0,p,f,h,10),m.graphics.endFill());var y=(0,iu.nT)(t)?1:2;u.setTransform(this.chart.posX+n+JX.BET.PADDING_X-JX.BET.DOT_WIDTH,this.chart.posY+r+p+JX.BET.PADDING_Y+2.5+y,.5,.5),m.graphics.setTransform(this.chart.posX+n-JX.BET.DOT_WIDTH,this.chart.posY+r),d.setTransform(this.chart.posX+n+4-JX.BET.DOT_WIDTH+8+JX.BET.PADDING_X,this.chart.posY+r+p+JX.BET.PADDING_Y)}}},{key:"clear",value:function(){var t=this;Eq(e,"clear",this,3)([]),this.chart.deals.forEach((function(e){t.chart.renderer.clearDynamicGraphicsNew(t.getLineKey(e)),t.chart.renderer.clearDynamicGraphicsNew(t.getDotKey(e)),t.chart.renderer.clearDynamicGraphicsNew(t.getRectKey(e)),t.chart.renderer.clearDynamicGraphicsNew(t.getDashedLineKey(e)),t.chart.renderer.clearText(t.getLabelKey(e))})),this.chart.renderer.clearSprite(this.triangleDownSpriteKey),this.chart.renderer.clearSprite(this.triangleUpSpriteKey)}},{key:"destroy",value:function(){var t=this;Eq(e,"destroy",this,3)([]),this.chart.deals.forEach((function(e){t.chart.renderer.destroyDynamicGraphicsNew(t.chart.containerIndex,t.getLineKey(e)),t.chart.renderer.destroyDynamicGraphicsNew(t.chart.containerIndex,t.getDotKey(e)),t.chart.renderer.destroyDynamicGraphicsNew(t.chart.containerIndex,t.getRectKey(e)),t.chart.renderer.destroyDynamicGraphicsNew(t.chart.containerIndex,t.getDashedLineKey(e)),t.chart.renderer.destroyText(t.getLabelKey(e))})),this.chart.renderer.destroySprite(this.chart.containerIndex,this.triangleDownSpriteKey),this.chart.renderer.destroySprite(this.chart.containerIndex,this.triangleUpSpriteKey)}}])}(nq);function Mq(t){return Mq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mq(t)}function Rq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bq(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rq(Object(n),!0).forEach((function(e){Hq(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rq(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Hq(t,e,n){return(e=Fq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fq(r.key),r)}}function Fq(t){var e=function(t,e){if("object"!=Mq(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Mq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mq(e)?e:e+""}function Wq(t,e,n){return e=zq(e),function(t,e){if(e&&("object"==Mq(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Uq()?Reflect.construct(e,n||[],zq(t).constructor):e.apply(t,n))}function Uq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Uq=function(){return!!t})()}function Vq(t,e,n,r){var i=Gq(zq(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function Gq(){return Gq="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=zq(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Gq.apply(null,arguments)}function zq(t){return zq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zq(t)}function Yq(t,e){return Yq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yq(t,e)}var Xq=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Wq(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yq(t,e)}(e,t),function(t,e,n){return e&&$q(t.prototype,e),n&&$q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"labelKey",get:function(){return"c-chart-deal-count-label-".concat(this.chart.id)}},{key:"rectKey",get:function(){return"c-chart-deal-count-rect-".concat(this.chart.id)}},{key:"draw",value:function(){if(!(this.chart.deals.length<=1)){var t=this.chart.renderer.getText(this.chart.containerIndex,this.labelKey,"".concat(this.chart.currentDealIndex+1," of ").concat(this.chart.deals.length),Bq(Bq({},Ru.Ay.CHART.TEXT_STYLE_BET),{},{fontSize:10}),JX[this.chart.theme].textColor,null,this.chart.container);t.zIndex=3;var e=t.width+12,n=t.height+6,r=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.rectKey,{smooth:!0,parent:this.chart.container});r.isNew&&(r.graphics.zIndex=2,r.graphics.beginFill(JX[this.chart.theme].buttonBg,1,!0),r.graphics.drawRoundedRect(0,0,e,n,10),r.graphics.endFill());var i=this.chart.posX+this.chart.width/2-e/2,o=this.chart.posY-n/2;r.graphics.setTransform(i,o),t.setTransform(i+6,o+3)}}},{key:"clear",value:function(){Vq(e,"clear",this,3)([]),this.chart.renderer.clearDynamicGraphicsNew(this.rectKey),this.chart.renderer.clearText(this.labelKey)}},{key:"destroy",value:function(){Vq(e,"destroy",this,3)([]),this.chart.renderer.destroyDynamicGraphicsNew(this.chart.containerIndex,this.rectKey),this.chart.renderer.destroyText(this.labelKey)}}])}(nq);function qq(t){return qq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qq(t)}function Kq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zq(r.key),r)}}function Zq(t){var e=function(t,e){if("object"!=qq(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qq(e)?e:e+""}function Jq(t,e,n){return e=nK(e),function(t,e){if(e&&("object"==qq(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Qq()?Reflect.construct(e,n||[],nK(t).constructor):e.apply(t,n))}function Qq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Qq=function(){return!!t})()}function tK(t,e,n,r){var i=eK(nK(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function eK(){return eK="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=nK(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},eK.apply(null,arguments)}function nK(t){return nK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nK(t)}function rK(t,e){return rK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rK(t,e)}var iK=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Jq(this,e,[t])).isSubscribed=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rK(t,e)}(e,t),function(t,e,n){return e&&Kq(t.prototype,e),n&&Kq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"leftIconSpriteKey",get:function(){return"icon-move-left-".concat(this.chart.id)}},{key:"leftIconCircle",get:function(){return"left-button-circle-".concat(this.chart.id)}},{key:"rightIconSpriteKey",get:function(){return"icon-move-right-".concat(this.chart.id)}},{key:"rightIconCircle",get:function(){return"right-button-circle-".concat(this.chart.id)}},{key:"getIconLeftSprite",value:function(){var t=this.chart.theme===II.BLUE?"/themes/cabinet/images/close-arrow-left-blue.svg":"/themes/cabinet/images/close-arrow-left-light.svg",e=this.chart.renderer.getSprite(this.chart.containerIndex,this.leftIconSpriteKey,t,!0,this.chart.container).sprite;return e.zIndex=6,e}},{key:"getIconRightSprite",value:function(){var t=this.chart.theme===II.BLUE?"/themes/cabinet/images/close-arrow-right-blue.svg":"/themes/cabinet/images/close-arrow-right-light.svg",e=this.chart.renderer.getSprite(this.chart.containerIndex,this.rightIconSpriteKey,t,!0,this.chart.container).sprite;return e.zIndex=6,e}},{key:"subscribe",value:function(){var t=this;if(!(this.chart.deals.length<=1)){var e=this.getIconLeftSprite(),n=this.getIconRightSprite();e.removeAllListeners(),n.removeAllListeners(),this.chart.show&&(e.on("pointerdown",(function(){return t.chart.emit("moveLeft")})),n.on("pointerdown",(function(){return t.chart.emit("moveRight")}))),this.isSubscribed=!0}}},{key:"drawMoveLeftButton",value:function(){var t=this.getIconLeftSprite(),e=this.chart.originRectX,n=this.chart.posY;t.setTransform(e-7,n-7,.5,.5);var r=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.leftIconCircle,{parent:this.chart.container});r.isNew&&(r.graphics.zIndex=5,r.graphics.beginFill(JX[this.chart.theme].buttonBg,1,!0),r.graphics.drawCircle(0,0,10),r.graphics.endFill()),r.graphics.setTransform(e,n)}},{key:"drawMoveRightButton",value:function(){var t=this.getIconRightSprite(),e=this.chart.originRectX+this.chart.originRectWidth,n=this.chart.posY;t.setTransform(e-7,n-7,.5,.5);var r=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.rightIconCircle,{parent:this.chart.container});r.isNew&&(r.graphics.zIndex=5,r.graphics.beginFill(JX[this.chart.theme].buttonBg,1,!0),r.graphics.drawCircle(0,0,10),r.graphics.endFill()),r.graphics.setTransform(e,n)}},{key:"draw",value:function(){this.chart.deals.length<=1||(this.drawMoveLeftButton(),this.drawMoveRightButton(),this.isSubscribed||this.subscribe())}},{key:"clear",value:function(){tK(e,"clear",this,3)([]),this.chart.renderer.clearDynamicGraphicsNew(this.leftIconCircle),this.chart.renderer.destroySprite(this.chart.containerIndex,this.leftIconSpriteKey),this.chart.renderer.clearDynamicGraphicsNew(this.rightIconCircle),this.chart.renderer.destroySprite(this.chart.containerIndex,this.rightIconSpriteKey),this.isSubscribed=!1}},{key:"destroy",value:function(){tK(e,"destroy",this,3)([]),this.chart.renderer.destroyDynamicGraphicsNew(this.chart.containerIndex,this.leftIconCircle),this.chart.renderer.destroySprite(this.chart.containerIndex,this.leftIconSpriteKey),this.chart.renderer.destroyDynamicGraphicsNew(this.chart.containerIndex,this.rightIconCircle),this.chart.renderer.destroySprite(this.chart.containerIndex,this.rightIconSpriteKey),this.isSubscribed=!1}}])}(nq);function oK(t){return oK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oK(t)}function aK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sK(r.key),r)}}function sK(t){var e=function(t,e){if("object"!=oK(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=oK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oK(e)?e:e+""}function cK(t,e,n){return e=fK(e),function(t,e){if(e&&("object"==oK(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,lK()?Reflect.construct(e,n||[],fK(t).constructor):e.apply(t,n))}function lK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(lK=function(){return!!t})()}function uK(t,e,n,r){var i=dK(fK(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function dK(){return dK="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=fK(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},dK.apply(null,arguments)}function fK(t){return fK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fK(t)}function hK(t,e){return hK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hK(t,e)}var pK=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=cK(this,e,[t])).isSubscribed=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hK(t,e)}(e,t),function(t,e,n){return e&&aK(t.prototype,e),n&&aK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"closeSpriteKey",get:function(){return"icon-close-button-".concat(this.chart.id)}},{key:"closeCircleKey",get:function(){return"close-button-circle-".concat(this.chart.id)}},{key:"subscribe",value:function(){var t=this,e=this.getCloseButtonSprite();e.removeAllListeners(),this.chart.show&&e.on("pointerdown",(function(){return t.chart.emit("close")})),this.isSubscribed=!0}},{key:"getCloseButtonSprite",value:function(){var t=this.chart.theme===II.BLUE?"/themes/cabinet/images/close-icon-blue.svg":"/themes/cabinet/images/close-icon-light.svg",e=this.chart.renderer.getSprite(this.chart.containerIndex,this.closeSpriteKey,t,!0,this.chart.container).sprite;return e.zIndex=6,e}},{key:"draw",value:function(){var t=this.getCloseButtonSprite(),e=this.chart.posX+this.chart.width-20,n=this.chart.posY;t.setTransform(e-7,n-7,.5,.5);var r=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.closeCircleKey,{parent:this.chart.container});r.isNew&&(r.graphics.zIndex=5,r.graphics.beginFill(JX[this.chart.theme].buttonBg,1,!0),r.graphics.drawCircle(0,0,10),r.graphics.endFill()),r.graphics.setTransform(e,n),this.isSubscribed||this.subscribe()}},{key:"clear",value:function(){uK(e,"clear",this,3)([]),this.chart.renderer.clearDynamicGraphicsNew(this.closeCircleKey),this.chart.renderer.destroySprite(this.chart.containerIndex,this.closeSpriteKey),this.isSubscribed=!1}},{key:"destroy",value:function(){uK(e,"destroy",this,3)([]),this.chart.renderer.destroyDynamicGraphicsNew(this.chart.containerIndex,this.closeCircleKey),this.chart.renderer.destroySprite(this.chart.containerIndex,this.closeSpriteKey),this.isSubscribed=!1}}])}(nq);function mK(t){return mK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mK(t)}function yK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vK(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yK(Object(n),!0).forEach((function(e){bK(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yK(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bK(t,e,n){return(e=wK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wK(r.key),r)}}function wK(t){var e=function(t,e){if("object"!=mK(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mK(e)?e:e+""}function jK(t,e,n){return e=OK(e),function(t,e){if(e&&("object"==mK(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xK()?Reflect.construct(e,n||[],OK(t).constructor):e.apply(t,n))}function xK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(xK=function(){return!!t})()}function _K(t,e,n,r){var i=SK(OK(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function SK(){return SK="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=OK(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},SK.apply(null,arguments)}function OK(t){return OK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},OK(t)}function kK(t,e){return kK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kK(t,e)}var TK=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),jK(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kK(t,e)}(e,t),function(t,e,n){return e&&gK(t.prototype,e),n&&gK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"getLabelKey",value:function(t){return"chart-profit-label-".concat(t.id)}},{key:"getValueKey",value:function(t){return"chart-profit-value-".concat(t.id)}},{key:"draw",value:function(){var t=this.chart.getCurrentDeal(),e=vK(vK({},Ru.Ay.CHART.TEXT_STYLE_BET),{},{fontSize:10}),n=(0,ru.xr)(Math.max(0,t.profit),2,!0),r=JX[this.chart.theme],i=r.callColor,o=r.textColor,a=this.chart.renderer.getText(this.chart.containerIndex,this.getLabelKey(t),"".concat((0,$.tr)("deals.profit"),": "),e,o,null,this.chart.container);a.zIndex=7;var s=this.chart.renderer.getText(this.chart.containerIndex,this.getValueKey(t),(0,hn.MU)(n,this.chart.currency),e,n>0?i:o,null,this.chart.container);s.zIndex=7;var c=5;this.chart.deals.length>1&&(c=12);var l=a.width+s.width;a.setTransform(this.chart.posX+this.chart.width/2-l/2,this.chart.posY+c),s.setTransform(this.chart.posX+this.chart.width/2-l/2+a.width,this.chart.posY+c)}},{key:"clear",value:function(){var t=this;_K(e,"clear",this,3)([]),this.chart.deals.forEach((function(e){t.chart.renderer.clearText(t.getLabelKey(e)),t.chart.renderer.clearText(t.getValueKey(e))}))}},{key:"destroy",value:function(){var t=this;_K(e,"destroy",this,3)([]),this.chart.deals.forEach((function(e){t.chart.renderer.destroyText(t.getLabelKey(e)),t.chart.renderer.destroyText(t.getValueKey(e))}))}}])}(nq);function AK(t){return AK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AK(t)}function CK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PK(r.key),r)}}function PK(t){var e=function(t,e){if("object"!=AK(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=AK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==AK(e)?e:e+""}var EK=function(){return function(t,e,n){return e&&CK(t.prototype,e),n&&CK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=e.id,r=e.renderer,i=e.container,o=e.style,a=e.theme,s=e.currency;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=n,this.renderer=r,this.container=i,this.width=200,this.height=90,this.containerIndex=rh.Rp.CLOSED_ORDER,this.secondWidth=0,this.startPoint=new zI(0,0),this.endPoint=new zI(0,0),this.minValue=0,this.maxValue=0,this.points=[],this.deals=[],this.originRectX=0,this.originRectY=0,this.originRectWidth=0,this.originRectHeight=0,this.posX=0,this.posY=0,this.style=o,this.theme=a,this.currency=s,this.topMarginPixels=30,this.bottomMarginPixels=15,this.colors=LI,this.coords=[],this.currentDealIndex=0,this.show=!1,this.eventListeners={},this.shouldRerender=!1,this.elements=[],this.createElements()}),[{key:"createElements",value:function(){this.elements=[new fq(this),new xq(this),new Lq(this),new Xq(this),new iK(this),new pK(this),new TK(this)]}},{key:"setTheme",value:function(t){this.colors.setTheme(t),this.theme=t,this.shouldRerender=!0}},{key:"closeChart",value:function(){this.show=!1,this.shouldRerender=!0}},{key:"toggleChart",value:function(){this.show=!this.show,this.shouldRerender=!0}},{key:"setOriginSizes",value:function(t){var e=t.x,n=t.y,r=t.width,i=t.height;this.originRectX=e,this.originRectY=n,this.originRectWidth=r,this.originRectHeight=i}},{key:"emit",value:function(t){void 0===this.eventListeners[t]&&(this.eventListeners[t]=[]),this.eventListeners[t].forEach((function(t){return t()}))}},{key:"on",value:function(t,e){void 0===this.eventListeners[t]&&(this.eventListeners[t]=[]),this.eventListeners[t].push(e)}},{key:"moveLeft",value:function(){this.points=[],this.clear(),this.currentDealIndex=this.currentDealIndex-1<0?this.deals.length-1:this.currentDealIndex-1,this.shouldRerender=!0}},{key:"moveRight",value:function(){this.points=[],this.clear(),this.currentDealIndex=this.currentDealIndex+1>this.deals.length-1?0:this.currentDealIndex+1,this.shouldRerender=!0}},{key:"calculateCoordinates",value:function(){this.posX=this.originRectX-this.width/2+this.originRectWidth/2,this.posY=this.originRectY-this.height+this.originRectHeight/2,this.coords=[];for(var t=this.points.length>60?this.simplifyPoints(this.points):this.points,e=0;e<t.length;e++){var n=t[e],r=this.getXFromTime(n.time);if(e+1<t.length){var i=this.getXFromTime(t[e+1].time);if(r<0&&i<0)continue}this.coords.push({x:this.getXFromTime(n.time),y:this.getYFromValue(n.value)})}}},{key:"setPoints",value:function(t){this.points=t.sort((function(t,e){return t.time-e.time})),this.startPoint=t.length?t[0]:new zI(0,0),this.endPoint=t.length?t[t.length-1]:new zI(0,0);var e=this.endPoint.time-this.startPoint.time;this.secondWidth=this.width/e,this.calculateMinMax(),this.shouldRerender=!0}},{key:"simplifyPoints",value:function(t){var e=this,n=t.map((function(t){return{x:e.getXFromTime(t.time),y:e.getYFromValue(t.value)}})),r=eV()(n,4,!0).map((function(t){return new zI(e.getValueFromY(t.y),e.getTimeFromX(t.x))})),i=this.getCurrentDeal();if((0,iu.L5)(i)&&!(0,iu.u8)(i)){var o=i.openPrice,a=i.closePrice;r=r.concat([new zI(o,this.getDealOpenTimestampMs(i)),new zI(a,this.getDealCloseTimestampMs(i))]).sort((function(t,e){return t.time-e.time}))}return r}},{key:"setDeals",value:function(t){this.deals=t,this.calculateMinMax()}},{key:"findFirstTimeBefore",value:function(t){if(!this.points.length)return t;for(var e=this.points[0].time,n=1;n<this.points.length&&!(this.points[n].time>=t);n++)e=this.points[n].time;return e}},{key:"getXFromTime",value:function(t){return(t-this.startPoint.time)*this.secondWidth}},{key:"getYFromValue",value:function(t){if(this.maxValue-this.minValue==0)return 0;var e=(t-this.minValue)/(this.maxValue-this.minValue);return this.height-this.bottomMarginPixels-(this.height-(this.topMarginPixels+this.bottomMarginPixels))*e}},{key:"getTimeFromX",value:function(t){return this.startPoint.time+t/this.secondWidth}},{key:"getValueFromY",value:function(t){var e=this.height-(this.topMarginPixels+this.bottomMarginPixels),n=(this.height-this.bottomMarginPixels-t)/e;return this.minValue+(this.maxValue-this.minValue)*n}},{key:"calculateMinMax",value:function(){for(var t=Ru.Ay.CHART.FLT_MIN,e=Ru.Ay.CHART.FLT_MAX,n=this.points.length,r=0;r<n;r++){var i=this.points[r].value;i<e&&(e=i),i>t&&(t=i)}this.deals.forEach((function(n){var r=n.openPrice;r>t&&(t=r),r<e&&(e=r)})),e===t&&(t+=.1*t,e-=.1*e),this.minValue=e,this.maxValue=t}},{key:"getDealOpenTimestampMs",value:function(t){var e=t.openTimestamp,n=t.openMs;return parseFloat("".concat(e,".").concat((0,dh.pJ)(n)))}},{key:"getDealCloseTimestampMs",value:function(t){var e=t.closeMs,n=(0,iu.tY)(t),r=parseFloat("".concat(n,".").concat((0,dh.pJ)(e)));if(0===e&&!(0,iu.u8)(t)){var i=this.findFirstTimeBefore(r);if(Math.abs(i-n)<2)return i}return r}},{key:"getCurrentDeal",value:function(){return this.deals[this.currentDealIndex]}},{key:"draw",value:function(){this.calculateCoordinates(),this.elements.forEach((function(t){return t.draw()}))}},{key:"onAfterDraw",value:function(){this.shouldRerender=!1}},{key:"clear",value:function(){this.elements.forEach((function(t){return t.clear()}))}},{key:"destroy",value:function(){this.elements.forEach((function(t){return t.destroy()}))}}])}(),IK=EK;function NK(t){return NK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NK(t)}function DK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function LK(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?DK(Object(n),!0).forEach((function(e){UK(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DK(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function MK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VK(r.key),r)}}function RK(t,e,n){return e=FK(e),function(t,e){if(e&&("object"==NK(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,BK()?Reflect.construct(e,n||[],FK(t).constructor):e.apply(t,n))}function BK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(BK=function(){return!!t})()}function HK(t,e,n,r){var i=$K(FK(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function $K(){return $K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=FK(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},$K.apply(null,arguments)}function FK(t){return FK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},FK(t)}function WK(t,e){return WK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},WK(t,e)}function UK(t,e,n){return(e=VK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VK(t){var e=function(t,e){if("object"!=NK(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=NK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==NK(e)?e:e+""}var GK,zK,YK={YELLOW:{color:MI.WpD.string2hex("#FFC107"),icon:"/themes/cabinet/images/close-yellow.svg"},GREEN:{color:MI.WpD.string2hex("#32AC41"),icon:"/themes/cabinet/images/close-green.svg"},RED:{color:MI.WpD.string2hex("#F13227"),icon:"/themes/cabinet/images/close-red.svg"}},XK=UK(UK({},II.BLUE,MI.WpD.string2hex("#000000")),II.LIGHT,MI.WpD.string2hex("#ffffff")),qK=UK(UK({},II.BLUE,MI.WpD.string2hex("#ffffff")),II.LIGHT,MI.WpD.string2hex("#2A5885")),KK=MI.WpD.string2hex("#32AC41"),ZK=function(t){function e(t,n,r,i,o,a){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s=RK(this,e,[t,n]);var c=r.deals.length>0?r.deals[0].currency:"USD";return s.option=r,s.showedAt=o,s.currencyCode=c,s.value=r.value,s.time=r.time,s.id=r.id,s.theme=NI(a),s.payout=r.profit,s.amount=r.amount,s.profit=Math.max(0,s.payout-s.amount),s.isRendered=!1,s.style=s.getStyle(),s.wsChartLoadListeners=[],s.createElements(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WK(t,e)}(e,t),function(t,e,n){return e&&MK(t.prototype,e),n&&MK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"isCanShowChart",value:function(){var t=this.pointsManager.plot.globalSettings,e=t.isTryDemo,n=t.isDemo;return!e&&!n}},{key:"reanimate",value:function(){this.isRendered=!1}},{key:"isOpenedPriceChart",value:function(){return this.priceChart.show}},{key:"getRegularZIndex",value:function(){return Math.ceil(1e3*this.option.time)}},{key:"getOpenedZIndex",value:function(){return 10*this.getRegularZIndex()}},{key:"createElements",value:function(){var t=this;this.container=this.core.getDynamicContainer(rh.Rp.CLOSED_ORDER,"sd-container-".concat(this.id),{sortableChildren:!0,zIndex:this.getRegularZIndex()}),this.priceChart=new IK({id:this.id,container:this.container,renderer:this.core,style:this.style,theme:this.theme,currency:this.currencyCode}),this.priceChart.setDeals(this.option.deals),this.priceChart.on("close",(function(){return t.pointsManager.plot.removeClosedOption(t.id)})),this.priceChart.on("hide",(function(){return t.toggleChart()})),this.priceChart.on("moveLeft",(function(){t.priceChart.moveLeft(),t.loadPoints()})),this.priceChart.on("moveRight",(function(){t.priceChart.moveRight(),t.loadPoints()})),this.getRectangleGraphics().removeAllListeners().on("pointerdown",(function(){t.isCanShowChart()&&(t.pointsManager.plot.showFullClosedOption(t.id),t.core.containers[rh.Rp.CLOSED_ORDER].sortChildren())}))}},{key:"closeChart",value:function(){this.priceChart.closeChart(),this.clearEventListeners(),this.container.zIndex=this.getRegularZIndex()}},{key:"toggleChart",value:function(){this.priceChart.toggleChart(),this.clearEventListeners(),this.priceChart.show&&!this.priceChart.points.length&&this.loadPoints(),this.container.zIndex=this.priceChart.show?this.getOpenedZIndex():this.getRegularZIndex(),this.core.containers[rh.Rp.CLOSED_ORDER].sortChildren(),this.priceChart.show||(this.showedAt=this.pointsManager.plot.currentServerTime)}},{key:"clearEventListeners",value:function(){this.wsChartLoadListeners.forEach((function(t){bt.A.instance.removeEventListener("".concat(An.Bf).concat(gt.Qz),t)})),this.wsChartLoadListeners=[]}},{key:"loadPoints",value:function(){var t=this,e=this.priceChart.getCurrentDeal();this.priceChart.clear(),this.clearEventListeners();var n=!1,r=e.openTimestamp-2,i=e.closeTimestamp+2,o=this.pointsManager.points[0].time,a=this.pointsManager.points[this.pointsManager.points.length-1].time;if(r>o&&i<a&&(n=!0),n){var s=this.pointsManager.points.filter((function(t){return r<=t.time&&t.time<=i}));this.priceChart.setPoints(s)}else{var c=bt.A.instance.addEventListener("".concat(An.Bf).concat(gt.Qz),(function(e){t.handleLoadedOrderChart(e)}));this.wsChartLoadListeners.push(c),bt.A.instance.loadOrderChart(LK(LK({},e),{},{symbolId:this.assetId,digits:this.currentDigit}))}}},{key:"handleLoadedOrderChart",value:function(t){var e=this.priceChart.getCurrentDeal();if(t.id===e.id){var n=t.points.map((function(t){var e=t.price,n=t.time,r=t.open;return new zI(void 0!==r?r:e,n)}));this.priceChart.setPoints(n)}}},{key:"isVisible",value:function(){var t=this.getTimeFrom()<=this.time&&this.time<=this.getTimeTo(),e=this.getValueFrom()<=this.value&&this.value<=this.getValueTo();return t&&e}},{key:"getStyle",value:function(){return this.profit>0?YK.GREEN:this.payout>0?YK.YELLOW:YK.RED}},{key:"getIconGraphics",value:function(){var t=this.core.getSprite(rh.Rp.CLOSED_ORDER,"icon-".concat(this.id),this.style.icon,!0,this.container).sprite;return t.zIndex=11,t}},{key:"getTextGraphics",value:function(){var t=this.core.getText(rh.Rp.CLOSED_ORDER,"c-avatar-text-".concat(this.id),"".concat(this.payout>0?"+":"").concat((0,hn.ej)(this.payout,this.currencyCode)),Ru.Ay.CHART.TEXT_STYLE_BET,qK[this.theme],"center",this.container);return t.visible=!0,t.zIndex=11,t}},{key:"getPlusTextGraphics",value:function(){var t=this.core.getText(rh.Rp.CLOSED_ORDER,"c-avatar-text-plus-".concat(this.id),"+",Ru.Ay.CHART.TEXT_STYLE_BET,qK[this.theme],"center",this.container);return t.visible=!0,t.zIndex=11,t}},{key:"getRectangleGraphics",value:function(){return this.core.getDynamicGraphics(rh.Rp.CLOSED_ORDER,"c-avatar-rect-".concat(this.id),{touch:this.isCanShowChart(),parent:this.container}).graphics}},{key:"drawRectangleGraphics",value:function(t,e){var n=this.getRectangleGraphics();return n.zIndex=10,n.lineStyle(1,this.style.color,1),n.beginFill(XK[this.theme],1),n.drawRoundedRect(0,0,t,e,32),n.endFill(),n}},{key:"drawChart",value:function(t,e,n,r){this.priceChart.setOriginSizes({x:t,y:e,width:n,height:r}),this.priceChart.draw()}},{key:"getTriangleGraphics",value:function(){var t=this.core.getDynamicGraphics(rh.Rp.CLOSED_ORDER,"c-avatar-triangle-".concat(this.id),{parent:this.container});return t.graphics.zIndex=11,t.isNew&&(t.graphics.beginFill(this.style.color,1),t.graphics.moveTo(0,-5),t.graphics.lineTo(-5,-12),t.graphics.lineTo(5,-12),t.graphics.endFill()),t.graphics}},{key:"getDotPointer",value:function(){var t=this.core.getDynamicGraphics(rh.Rp.CLOSED_ORDER,"sd-dot-".concat(this.id),{parent:this.container});return t.isNew&&(t.graphics.beginFill(KK,1),t.graphics.drawCircle(0,0,3),t.graphics.endFill()),t.graphics}},{key:"drawBubble",value:function(){var t=this.getCoords(),e=t.x,n=t.y,r=n,i=e,o=this.getTextGraphics(),a=o.width+16+2+20,s=Math.max(o.height,16)+2,c=i-a/2,l=r-=s+12;this.drawRectangleGraphics(a,s).setTransform(c,l),this.getTriangleGraphics().setTransform(e,n);var u=i-a/2+1+10+2,d=r+1;o.setTransform(u,d);var f=u+o.width+10-2;this.getIconGraphics().setTransform(f,d,.5,.5),this.getDotPointer().setTransform(e,n),!this.isThemeChanged()&&this.priceChart.show||this.priceChart.clear(),this.priceChart.show&&this.drawChart(c,l,a,s)}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isThemeChanged()&&this.priceChart.setTheme(this.theme),!this.isVisible()&&this.isRendered)return this.clearAll(),void(this.isRendered=!1);this.isVisible()&&(!this.isRendered||t||this.shouldRerender())&&(this.isRendered=!0,this.drawBubble())}},{key:"onAfterDraw",value:function(){HK(e,"onAfterDraw",this,3)([]),this.priceChart.onAfterDraw()}},{key:"shouldRerender",value:function(){return HK(e,"shouldRerender",this,3)([])||this.priceChart.shouldRerender}},{key:"clearAll",value:function(){this.core.clearDynamicGraphicsNew("sd-dot-".concat(this.id)),this.core.clearDynamicGraphicsNew("c-avatar-rect-".concat(this.id)),this.core.clearDynamicGraphicsNew("c-avatar-triangle-".concat(this.id)),this.core.clearText("c-avatar-text-".concat(this.id)),this.core.clearText("c-avatar-text-plus-".concat(this.id)),this.core.destroySprite(rh.Rp.CLOSED_ORDER,"icon-".concat(this.id)),this.priceChart.clear()}},{key:"destroy",value:function(){HK(e,"destroy",this,3)([]),this.priceChart.destroy();var t=this.getIconGraphics();t&&t.removeAllListeners(),this.core.destroyDynamicContainer(rh.Rp.CLOSED_ORDER,"sd-container-".concat(this.id)),this.core.destroyDynamicGraphicsNew(rh.Rp.CLOSED_ORDER,"sd-dot-".concat(this.id)),this.core.destroyDynamicGraphicsNew(rh.Rp.CLOSED_ORDER,"c-avatar-rect-".concat(this.id)),this.core.destroyDynamicGraphicsNew(rh.Rp.CLOSED_ORDER,"c-avatar-triangle-".concat(this.id)),this.core.destroyText("c-avatar-text-".concat(this.id)),this.core.destroyText("c-avatar-text-plus-".concat(this.id)),this.core.destroySprite(rh.Rp.CLOSED_ORDER,"icon-".concat(this.id)),this.container=null}}])}(GY),JK=ZK,QK=n(997),tZ=n(45721),eZ=n(58451),nZ=n(84033),rZ=n(38351);function iZ(t){return iZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iZ(t)}function oZ(t,e,n,r){var i=aZ(hZ(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function aZ(){return aZ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=hZ(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},aZ.apply(null,arguments)}function sZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uZ(r.key),r)}}function lZ(t,e,n){return e&&cZ(t.prototype,e),n&&cZ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uZ(t){var e=function(t,e){if("object"!=iZ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=iZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==iZ(e)?e:e+""}function dZ(t,e,n){return e=hZ(e),function(t,e){if(e&&("object"==iZ(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,fZ()?Reflect.construct(e,n||[],hZ(t).constructor):e.apply(t,n))}function fZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(fZ=function(){return!!t})()}function hZ(t){return hZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hZ(t)}function pZ(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mZ(t,e)}function mZ(t,e){return mZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mZ(t,e)}!function(t){t[t.NONE=0]="NONE",t[t.FILL=1]="FILL",t[t.JOINT_BEVEL=4]="JOINT_BEVEL",t[t.JOINT_MITER=8]="JOINT_MITER",t[t.JOINT_ROUND=12]="JOINT_ROUND",t[t.JOINT_CAP_BUTT=16]="JOINT_CAP_BUTT",t[t.JOINT_CAP_SQUARE=18]="JOINT_CAP_SQUARE",t[t.JOINT_CAP_ROUND=20]="JOINT_CAP_ROUND",t[t.FILL_EXPAND=24]="FILL_EXPAND",t[t.CAP_BUTT=32]="CAP_BUTT",t[t.CAP_SQUARE=64]="CAP_SQUARE",t[t.CAP_ROUND=96]="CAP_ROUND",t[t.CAP_BUTT2=128]="CAP_BUTT2"}(GK||(GK={})),function(t){t.NONE="none",t.NORMAL="normal",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(zK||(zK={}));var yZ=function(t){function e(){return sZ(this,e),dZ(this,e,[QK.gP.WHITE,{uniforms:{resolution:1,expand:1,scaleMode:1,styleLine:new Float32Array([1,.5]),miterLimit:5},program:e.getProgram()}])}return pZ(e,t),lZ(e,null,[{key:"getProgram",value:function(){return e._prog||(e._prog=new QK.BP("precision highp float;\nconst float FILL = 1.0;\nconst float BEVEL = 4.0;\nconst float MITER = 8.0;\nconst float ROUND = 12.0;\nconst float JOINT_CAP_BUTT = 16.0;\nconst float JOINT_CAP_SQUARE = 18.0;\nconst float JOINT_CAP_ROUND = 20.0;\n\nconst float FILL_EXPAND = 24.0;\n\nconst float CAP_BUTT = 1.0;\nconst float CAP_SQUARE = 2.0;\nconst float CAP_ROUND = 3.0;\nconst float CAP_BUTT2 = 4.0;\n\n// === geom ===\nattribute vec2 aPrev;\nattribute vec2 aPoint1;\nattribute vec2 aPoint2;\nattribute vec2 aNext;\nattribute float aVertexJoint;\nattribute float vertexNum;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\n\nvarying vec4 vDistance;\nvarying vec4 vArc;\nvarying float vType;\n\nuniform float resolution;\nuniform float expand;\nuniform float miterLimit;\nuniform float scaleMode;\nuniform vec2 styleLine;\n\nvec2 doBisect(vec2 norm, float len, vec2 norm2, float len2,\n    float dy, float inner) {\n    vec2 bisect = (norm + norm2) / 2.0;\n    bisect /= dot(norm, bisect);\n    vec2 shift = dy * bisect;\n    if (inner > 0.5) {\n        if (len < len2) {\n            if (abs(dy * (bisect.x * norm.y - bisect.y * norm.x)) > len) {\n                return dy * norm;\n            }\n        } else {\n            if (abs(dy * (bisect.x * norm2.y - bisect.y * norm2.x)) > len2) {\n                return dy * norm;\n            }\n        }\n    }\n    return dy * bisect;\n}\n\nvoid main(void){\n    vec2 pointA = (translationMatrix * vec3(aPoint1, 1.0)).xy;\n    vec2 pointB = (translationMatrix * vec3(aPoint2, 1.0)).xy;\n\n    vec2 xBasis = pointB - pointA;\n    float len = length(xBasis);\n    vec2 forward = xBasis / len;\n    vec2 norm = vec2(forward.y, -forward.x);\n\n    float type = aVertexJoint;\n\n    float lineWidth = styleLine.x;\n    if (scaleMode > 2.5) {\n        lineWidth *= length(translationMatrix * vec3(1.0, 0.0, 0.0));\n    } else if (scaleMode > 1.5) {\n        lineWidth *= length(translationMatrix * vec3(0.0, 1.0, 0.0));\n    } else if (scaleMode > 0.5) {\n        vec2 avgDiag = (translationMatrix * vec3(1.0, 1.0, 0.0)).xy;\n        lineWidth *= sqrt(dot(avgDiag, avgDiag) * 0.5);\n    }\n    float capType = floor(type / 32.0);\n    type -= capType * 32.0;\n    vArc = vec4(0.0);\n    lineWidth *= 0.5;\n    float lineAlignment = 2.0 * styleLine.y - 1.0;\n\n    vec2 pos;\n\n    if (capType == CAP_ROUND) {\n        if (vertexNum < 3.5) {\n            gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n            return;\n        }\n        type = JOINT_CAP_ROUND;\n        capType = 0.0;\n    }\n\n    if (type >= BEVEL) {\n        float dy = lineWidth + expand;\n        float inner = 0.0;\n        if (vertexNum >= 1.5) {\n            dy = -dy;\n            inner = 1.0;\n        }\n\n        vec2 base, next, xBasis2, bisect;\n        float flag = 0.0;\n        float sign2 = 1.0;\n        if (vertexNum < 0.5 || vertexNum > 2.5 && vertexNum < 3.5) {\n            next = (translationMatrix * vec3(aPrev, 1.0)).xy;\n            base = pointA;\n            flag = type - floor(type / 2.0) * 2.0;\n            sign2 = -1.0;\n        } else {\n            next = (translationMatrix * vec3(aNext, 1.0)).xy;\n            base = pointB;\n            if (type >= MITER && type < MITER + 3.5) {\n                flag = step(MITER + 1.5, type);\n                // check miter limit here?\n            }\n        }\n        xBasis2 = next - base;\n        float len2 = length(xBasis2);\n        vec2 norm2 = vec2(xBasis2.y, -xBasis2.x) / len2;\n        float D = norm.x * norm2.y - norm.y * norm2.x;\n        if (D < 0.0) {\n            inner = 1.0 - inner;\n        }\n\n        norm2 *= sign2;\n\n        if (abs(lineAlignment) > 0.01) {\n            float shift = lineWidth * lineAlignment;\n            pointA += norm * shift;\n            pointB += norm * shift;\n            if (abs(D) < 0.01) {\n                base += norm * shift;\n            } else {\n                base += doBisect(norm, len, norm2, len2, shift, 0.0);\n            }\n        }\n\n        float collinear = step(0.0, dot(norm, norm2));\n\n        vType = 0.0;\n        float dy2 = -1000.0;\n        float dy3 = -1000.0;\n\n        if (abs(D) < 0.01 && collinear < 0.5) {\n            if (type >= ROUND && type < ROUND + 1.5) {\n                type = JOINT_CAP_ROUND;\n            }\n            //TODO: BUTT here too\n        }\n\n        if (vertexNum < 3.5) {\n            if (abs(D) < 0.01) {\n                pos = dy * norm;\n            } else {\n                if (flag < 0.5 && inner < 0.5) {\n                    pos = dy * norm;\n                } else {\n                    pos = doBisect(norm, len, norm2, len2, dy, inner);\n                }\n            }\n            if (capType >= CAP_BUTT && capType < CAP_ROUND) {\n                float extra = step(CAP_SQUARE, capType) * lineWidth;\n                vec2 back = -forward;\n                if (vertexNum < 0.5 || vertexNum > 2.5) {\n                    pos += back * (expand + extra);\n                    dy2 = expand;\n                } else {\n                    dy2 = dot(pos + base - pointA, back) - extra;\n                }\n            }\n            if (type >= JOINT_CAP_BUTT && type < JOINT_CAP_SQUARE + 0.5) {\n                float extra = step(JOINT_CAP_SQUARE, type) * lineWidth;\n                if (vertexNum < 0.5 || vertexNum > 2.5) {\n                    dy3 = dot(pos + base - pointB, forward) - extra;\n                } else {\n                    pos += forward * (expand + extra);\n                    dy3 = expand;\n                    if (capType >= CAP_BUTT) {\n                        dy2 -= expand + extra;\n                    }\n                }\n            }\n        } else if (type >= JOINT_CAP_ROUND && type < JOINT_CAP_ROUND + 1.5) {\n            if (inner > 0.5) {\n                dy = -dy;\n                inner = 0.0;\n            }\n            vec2 d2 = abs(dy) * forward;\n            if (vertexNum < 4.5) {\n                dy = -dy;\n                pos = dy * norm;\n            } else if (vertexNum < 5.5) {\n                pos = dy * norm;\n            } else if (vertexNum < 6.5) {\n                pos = dy * norm + d2;\n                vArc.x = abs(dy);\n            } else {\n                dy = -dy;\n                pos = dy * norm + d2;\n                vArc.x = abs(dy);\n            }\n            dy2 = 0.0;\n            vArc.y = dy;\n            vArc.z = 0.0;\n            vArc.w = lineWidth;\n            vType = 3.0;\n        } else if (abs(D) < 0.01) {\n            pos = dy * norm;\n        } else {\n            if (type >= ROUND && type < ROUND + 1.5) {\n                if (inner > 0.5) {\n                    dy = -dy;\n                    inner = 0.0;\n                }\n                if (vertexNum < 4.5) {\n                    pos = doBisect(norm, len, norm2, len2, -dy, 1.0);\n                } else if (vertexNum < 5.5) {\n                    pos = dy * norm;\n                } else if (vertexNum > 7.5) {\n                    pos = dy * norm2;\n                } else {\n                    pos = doBisect(norm, len, norm2, len2, dy, 0.0);\n                    float d2 = abs(dy);\n                    if (length(pos) > abs(dy) * 1.5) {\n                        if (vertexNum < 6.5) {\n                            pos.x = dy * norm.x - d2 * norm.y;\n                            pos.y = dy * norm.y + d2 * norm.x;\n                        } else {\n                            pos.x = dy * norm2.x + d2 * norm2.y;\n                            pos.y = dy * norm2.y - d2 * norm2.x;\n                        }\n                    }\n                }\n                vec2 norm3 = normalize(norm + norm2);\n\n                float sign = step(0.0, dy) * 2.0 - 1.0;\n                vArc.x = sign * dot(pos, norm3);\n                vArc.y = pos.x * norm3.y - pos.y * norm3.x;\n                vArc.z = dot(norm, norm3) * lineWidth;\n                vArc.w = lineWidth;\n\n                dy = -sign * dot(pos, norm);\n                dy2 = -sign * dot(pos, norm2);\n                dy3 = vArc.z - vArc.x;\n                vType = 3.0;\n            } else {\n                float hit = 0.0;\n                if (type >= BEVEL && type < BEVEL + 1.5) {\n                    if (dot(norm, norm2) > 0.0) {\n                        type = MITER;\n                    }\n                }\n\n                if (type >= MITER && type < MITER + 3.5) {\n                    if (inner > 0.5) {\n                        dy = -dy;\n                        inner = 0.0;\n                    }\n                    float sign = step(0.0, dy) * 2.0 - 1.0;\n                    pos = doBisect(norm, len, norm2, len2, dy, 0.0);\n                    if (length(pos) > abs(dy) * miterLimit) {\n                        type = BEVEL;\n                    } else {\n                        if (vertexNum < 4.5) {\n                            dy = -dy;\n                            pos = doBisect(norm, len, norm2, len2, dy, 1.0);\n                        } else if (vertexNum < 5.5) {\n                            pos = dy * norm;\n                        } else if (vertexNum > 6.5) {\n                            pos = dy * norm2;\n                        }\n                        vType = 1.0;\n                        dy = -sign * dot(pos, norm);\n                        dy2 = -sign * dot(pos, norm2);\n                        hit = 1.0;\n                    }\n                }\n                if (type >= BEVEL && type < BEVEL + 1.5) {\n                    if (inner > 0.5) {\n                        dy = -dy;\n                        inner = 0.0;\n                    }\n                    float d2 = abs(dy);\n                    vec2 pos3 = vec2(dy * norm.x - d2 * norm.y, dy * norm.y + d2 * norm.x);\n                    vec2 pos4 = vec2(dy * norm2.x + d2 * norm2.y, dy * norm2.y - d2 * norm2.x);\n                    if (vertexNum < 4.5) {\n                        pos = doBisect(norm, len, norm2, len2, -dy, 1.0);\n                    } else if (vertexNum < 5.5) {\n                        pos = dy * norm;\n                    } else if (vertexNum > 7.5) {\n                        pos = dy * norm2;\n                    } else {\n                        if (vertexNum < 6.5) {\n                            pos = pos3;\n                        } else {\n                            pos = pos4;\n                        }\n                    }\n                    vec2 norm3 = normalize(norm + norm2);\n                    float sign = step(0.0, dy) * 2.0 - 1.0;\n\n                    dy = -sign * dot(pos, norm);\n                    dy2 = -sign * dot(pos, norm2);\n                    dy3 = (-sign * dot(pos, norm3)) + lineWidth;\n                    vType = 4.0;\n                    hit = 1.0;\n                }\n                if (hit < 0.5) {\n                    gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n                    return;\n                }\n            }\n        }\n\n        pos += base;\n        vDistance = vec4(dy, dy2, dy3, lineWidth) * resolution;\n        vArc = vArc * resolution;\n    }\n\n    gl_Position = vec4((projectionMatrix * vec3(pos, 1.0)).xy, 0.0, 1.0);\n}","precision highp float;\nvarying vec4 vDistance;\nvarying vec4 vArc;\nvarying float vType;\nuniform vec4 uColor;\n\nvoid main(void){\n    float alpha = 1.0;\n    float lineWidth = vDistance.w;\n    if (vType < 0.5) {\n        float left = max(vDistance.x - 0.5, -vDistance.w);\n        float right = min(vDistance.x + 0.5, vDistance.w);\n        float near = vDistance.y - 0.5;\n        float far = min(vDistance.y + 0.5, 0.0);\n        float top = vDistance.z - 0.5;\n        float bottom = min(vDistance.z + 0.5, 0.0);\n        alpha = max(right - left, 0.0) * max(bottom - top, 0.0) * max(far - near, 0.0);\n    } else if (vType < 1.5) {\n        float a1 = clamp(vDistance.x + 0.5 - lineWidth, 0.0, 1.0);\n        float a2 = clamp(vDistance.x + 0.5 + lineWidth, 0.0, 1.0);\n        float b1 = clamp(vDistance.y + 0.5 - lineWidth, 0.0, 1.0);\n        float b2 = clamp(vDistance.y + 0.5 + lineWidth, 0.0, 1.0);\n        alpha = a2 * b2 - a1 * b1;\n    } else if (vType < 2.5) {\n        alpha *= max(min(vDistance.x + 0.5, 1.0), 0.0);\n        alpha *= max(min(vDistance.y + 0.5, 1.0), 0.0);\n        alpha *= max(min(vDistance.z + 0.5, 1.0), 0.0);\n    } else if (vType < 3.5) {\n        float a1 = clamp(vDistance.x + 0.5 - lineWidth, 0.0, 1.0);\n        float a2 = clamp(vDistance.x + 0.5 + lineWidth, 0.0, 1.0);\n        float b1 = clamp(vDistance.y + 0.5 - lineWidth, 0.0, 1.0);\n        float b2 = clamp(vDistance.y + 0.5 + lineWidth, 0.0, 1.0);\n        float alpha_miter = a2 * b2 - a1 * b1;\n\n        float alpha_plane = max(min(vDistance.z + 0.5, 1.0), 0.0);\n\n        float d = length(vArc.xy);\n        float circle_hor = max(min(vArc.w, d + 0.5) - max(-vArc.w, d - 0.5), 0.0);\n        float circle_vert = min(vArc.w * 2.0, 1.0);\n        float alpha_circle = circle_hor * circle_vert;\n\n        alpha = min(alpha_miter, max(alpha_circle, alpha_plane));\n    } else {\n        float a1 = clamp(vDistance.x + 0.5 - lineWidth, 0.0, 1.0);\n        float a2 = clamp(vDistance.x + 0.5 + lineWidth, 0.0, 1.0);\n        float b1 = clamp(vDistance.y + 0.5 - lineWidth, 0.0, 1.0);\n        float b2 = clamp(vDistance.y + 0.5 + lineWidth, 0.0, 1.0);\n        alpha = a2 * b2 - a1 * b1;\n        alpha *= max(min(vDistance.z + 0.5, 1.0), 0.0);\n    }\n    gl_FragColor = uColor * alpha;\n}\n")),e._prog}}])}(tZ.PX);yZ._prog=null;var vZ=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return sZ(this,e),(t=dZ(this,e)).joinStyle=nZ.u2.MITER,t.capStyle=nZ.Mp.SQUARE,t.lastLen=0,t.lastPointNum=0,t.lastPointData=0,t.updateId=0,t.points=[],t._floatView=null,t._u32View=null,t._buffer=null,t._quad=null,t._indexBuffer=null,t._vertexNums=null,t.support32=!1,t.stridePoints=2,t.strideFloats=3,t.strideBytes=12,t.legacyGeom=null,t.legacyBuffer=null,t.initGeom(n),t.reset(),t}return pZ(e,t),lZ(e,[{key:"initGeom",value:function(t){this._buffer=new QK.hp(new Float32Array(0),t,!1),this._vertexNums=new QK.hp(new Float32Array([0,1,2,3,4,5,6,7,8]),!0,!1),this._indexBuffer=new QK.hp(new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,4,7,8]),!0,!0),this.addAttribute("aPrev",this._buffer,2,!1,rZ.QE.FLOAT,12,0,!0).addAttribute("aPoint1",this._buffer,2,!1,rZ.QE.FLOAT,12,12,!0).addAttribute("aPoint2",this._buffer,2,!1,rZ.QE.FLOAT,12,24,!0).addAttribute("aNext",this._buffer,2,!1,rZ.QE.FLOAT,12,36,!0).addAttribute("aVertexJoint",this._buffer,1,!1,rZ.QE.FLOAT,12,20,!0).addAttribute("vertexNum",this._vertexNums,1,!1,rZ.QE.FLOAT).addIndex(this._indexBuffer)}},{key:"moveTo",value:function(t,e){var n=this.points;n.push(t),n.push(e)}},{key:"lineTo",value:function(t,e){var n=this.points;n.push(t),n.push(e)}},{key:"lineBy",value:function(t,e){var n=this.points,r=this.stridePoints,i=n[n.length-r],o=n[n.length-r+1];n.push(i+t),n.push(o+e)}},{key:"invalidate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.lastPointNum=Math.min(t,this.lastPointNum),this.updateId++}},{key:"reset",value:function(){this.lastLen>0&&this.clearBufferData(),this.updateId++,this.lastLen=0,this.lastPointData=0,this.points.length=0,this.instanceCount=0}},{key:"clearBufferData",value:function(){var t=this.points,e=this.strideBytes,n=this.stridePoints;this.lastPointNum=0,this.lastPointData=0;var r=Math.max(0,t.length/n+3),i=new ArrayBuffer(e*r);this.lastLen=t.length,this._floatView=new Float32Array(i),this._u32View=new Uint32Array(i),this._buffer.update(i)}},{key:"updateBuffer",value:function(){var t=this.points,e=this.stridePoints,n=this.strideFloats;if(this.lastLen>t.length&&(this.lastLen=-1),(this.lastLen<t.length||this.lastPointNum<this.lastLen)&&this.clearBufferData(),this.lastPointNum!=this.lastLen){var r=this.jointType(),i=this.capType(),o=i;i===GK.CAP_ROUND&&(o=GK.JOINT_CAP_ROUND),i===GK.CAP_BUTT&&(o=GK.JOINT_CAP_BUTT),i===GK.CAP_SQUARE&&(o=GK.JOINT_CAP_SQUARE);var a=this._floatView;this._u32View;this.lastPointNum>0&&this.lastPointNum--,this.lastPointNum>0&&this.lastPointNum--,this.lastPointData=Math.min(this.lastPointData,this.lastPointNum);for(var s=(Math.round(this.lastPointNum/e)+2)*n,c=this.lastPointNum;c<t.length;c+=e)a[s++]=t[c],a[s++]=t[c+1],isNaN(t[c])||isNaN(t[c+1])?(a[s-2]=.5*(t[c+2]+t[c-2]),a[s-1]=.5*(t[c+3]+t[c-1]),a[s]=0,s++):(a[s]=r,0==c?i!==GK.CAP_ROUND&&(a[s]+=i):(isNaN(t[c-2])||isNaN(t[c-1]))&&(a[s]+=GK.CAP_BUTT),c+2*e>=t.length||isNaN(t[c+4])||isNaN(t[c+5])?a[s]+=o-r:(c+e>=t.length||isNaN(t[c+2])||isNaN(t[c+3]))&&(a[s]=0),s++);a[s++]=t[t.length-4],a[s++]=t[t.length-3],a[s++]=0,a[0]=t[0],a[1]=t[1],a[2]=0,a[3]=t[2],a[4]=t[3],a[5]=i===GK.CAP_ROUND?i:0,this._buffer.update(),this.instanceCount=Math.round(t.length/e),this.lastPointNum=this.lastLen,this.lastPointData=this.lastLen,this.legacyGeom&&this.updateLegacy()}}},{key:"initLegacy",value:function(t){if(!this.legacyGeom){var e=[0,1,2,0,2,3];this.support32=t,this.legacyGeom=new QK.V2,this.legacyBuffer=new QK.hp(new Float32Array(0),!1,!1),this.legacyGeom.addAttribute("aPrev",this.legacyBuffer,2,!1,rZ.QE.FLOAT).addAttribute("aPoint1",this.legacyBuffer,2,!1,rZ.QE.FLOAT).addAttribute("aPoint2",this.legacyBuffer,2,!1,rZ.QE.FLOAT).addAttribute("aNext",this.legacyBuffer,2,!1,rZ.QE.FLOAT).addAttribute("aVertexJoint",this.legacyBuffer,1,!1,rZ.QE.FLOAT).addAttribute("vertexNum",this.legacyBuffer,1,!1,rZ.QE.FLOAT).addIndex(new QK.hp(t?new Uint32Array(e):new Uint16Array(e),!1,!0))}}},{key:"updateLegacy",value:function(){var t=this.legacyBuffer,e=this._floatView,n=(this._u32View,this.strideFloats),r=this._floatView.length/n-3,i=10*r*9;t.data.length!==i&&(t.data=new Float32Array(i),this.legacyGeom.getIndex().update(function(t,e,n){for(var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=t.length,o=r?new Uint32Array(i*n):new Uint16Array(i*n),a=0;a<n;a++)for(var s=0;s<i;s++)o[a*i+s]=t[s]+e*a;return o}(this._indexBuffer.data,9,r,this.support32)));for(var o=t.data,a=0,s=0;s<i;a+=n)for(var c=0;c<9;c++)o[s++]=e[a],o[s++]=e[a+1],o[s++]=e[a+3],o[s++]=e[a+4],o[s++]=e[a+6],o[s++]=e[a+7],o[s++]=e[a+9],o[s++]=e[a+10],o[s++]=e[a+5],o[s++]=c}},{key:"capType",value:function(){var t;switch(this.capStyle){case nZ.Mp.SQUARE:t=GK.CAP_SQUARE;break;case nZ.Mp.ROUND:t=GK.CAP_ROUND;break;default:t=GK.CAP_BUTT}return t}},{key:"goodJointType",value:function(){var t;switch(this.joinStyle){case nZ.u2.BEVEL:t=GK.JOINT_BEVEL;break;case nZ.u2.ROUND:t=GK.JOINT_ROUND;break;default:t=GK.JOINT_MITER+3}return t}},{key:"jointType",value:function(){var t;switch(this.joinStyle){case nZ.u2.BEVEL:t=GK.JOINT_BEVEL;break;case nZ.u2.ROUND:t=GK.JOINT_ROUND;break;default:t=GK.JOINT_MITER}return t}}])}(QK.V2),bZ=function(t){function e(t){var n;sZ(this,e);var r=new vZ,i=new yZ,o=zK.NORMAL;return t&&(void 0!==t.lineWidth&&(i.uniforms.styleLine[0]=t.lineWidth),void 0!==t.nativeLineWidth&&(i.uniforms.styleLine[0]=t.nativeLineWidth,o=zK.NONE),void 0!==t.joinStyle&&(r.joinStyle=t.joinStyle),void 0!==t.capStyle&&(r.capStyle=t.capStyle)),(n=dZ(this,e,[r,i])).scaleMode=o,n}return pZ(e,t),lZ(e,[{key:"moveTo",value:function(t,e){this.geometry.moveTo(t,e)}},{key:"lineTo",value:function(t,e){this.geometry.lineTo(t,e)}},{key:"lineBy",value:function(t,e){this.geometry.lineBy(t,e)}},{key:"lineStyle",value:function(t,e,n,r){var i=t;if(i instanceof Object)this.gLineStyle(i);else{var o=this.geometry;void 0!==t&&(this.shader.uniforms.styleLine[0]=t,this.scaleMode=zK.NORMAL),void 0!==e&&(this.shader.uniforms.styleLine[0]=e,this.scaleMode=zK.NONE),void 0!==n&&(o.joinStyle=n),void 0!==r&&(o.capStyle=r),o.invalidate()}}},{key:"gLineStyle",value:function(t){var e=this.geometry;void 0!==t.width&&(this.shader.uniforms.styleLine[0]=t.width),void 0!==t.alignment&&(this.shader.uniforms.styleLine[0]=t.alignment),void 0!==t.scaleMode&&(this.shader.uniforms.scaleMode=t.scaleMode),void 0!==t.color&&(this.tint=t.color),void 0!==t.join&&(e.joinStyle=t.join),void 0!==t.cap&&(e.capStyle=t.cap)}},{key:"scaleMode",get:function(){return this._scaleMode},set:function(t){this._scaleMode=t;var e=0;switch(t){case zK.NORMAL:e=1;break;case zK.HORIZONTAL:e=2;break;case zK.VERTICAL:e=3}this.shader.uniforms.scaleMode=e}},{key:"clear",value:function(){this.geometry.reset()}},{key:"_renderDefault",value:function(t){var n=this.geometry;if(!(n.points.length<4)){var r=!t.geometry.hasInstance;if(r&&n.initLegacy(t.context.supports.uint32Indices),n.updateBuffer(),0!==n.instanceCount){var i=t.renderTexture.current,o=i?i.framebuffer.multisample>1:t.options.antialias,a=this.shader.uniforms.resolution=i?i.baseTexture.resolution:t.resolution;if(this.shader.uniforms.expand=(o?2:1)/a,r)return this.geometry=n.legacyGeom,oZ(e,"_renderDefault",this,3)([t]),void(this.geometry=n);oZ(e,"_renderDefault",this,3)([t])}}}},{key:"_renderCanvas",value:function(t){var e=this.geometry,n=e.points,r=e.stridePoints,i=e.capStyle,o=e.joinStyle,a=t.context;if(!(n.length<2)){var s=this.transform.worldTransform;t.setContextTransform(s);var c=Math.sqrt(s.a*s.a+s.b*s.b);a.lineWidth=this.shader.uniforms.styleLine[0]+this.shader.uniforms.styleLine[1]/c,a.strokeStyle=(0,eZ.hex2string)(this.tint),a.globalAlpha=this.worldAlpha,a.lineCap=i,a.lineJoin=o,a.beginPath(),a.moveTo(n[0],n[1]);for(var l=2;l<n.length;l+=r)a.lineTo(n[l],n[l+1]);a.stroke(),a.beginPath(),a.globalAlpha=1}}}])}(tZ.e);function gZ(t){return gZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gZ(t)}function wZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_Z(r.key),r)}}function xZ(t,e,n){return e&&jZ(t.prototype,e),n&&jZ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Z(t){var e=function(t,e){if("object"!=gZ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gZ(e)?e:e+""}function SZ(t,e,n){return e=kZ(e),function(t,e){if(e&&("object"==gZ(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,OZ()?Reflect.construct(e,n||[],kZ(t).constructor):e.apply(t,n))}function OZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(OZ=function(){return!!t})()}function kZ(t){return kZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kZ(t)}function TZ(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AZ(t,e)}function AZ(t,e){return AZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},AZ(t,e)}var CZ=function(t){function e(){wZ(this,e);var t=new Float32Array(2);return SZ(this,e,[QK.gP.WHITE,{uniforms:{resolution:1,colorTop:new Float32Array([1,1,1,1]),colorBottom:new Float32Array([1,1,1,1]),rangeY:t,rangeY2:t},program:e.getProgram()}])}return TZ(e,t),xZ(e,null,[{key:"getProgram",value:function(){return e._prog||(e._prog=new QK.BP("\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec2 rangeY;\n\nvarying float vOrdinate;\n\nvoid main(void)\n{\nvec2 pos = (translationMatrix * vec3(aVertexPosition, 1.0)).xy;\nif (pos.y > rangeY.y) {\n    pos.y = rangeY.y;\n}\ngl_Position = vec4((projectionMatrix * vec3(pos, 1.0)).xy, 0.0, 1.0);\nvOrdinate = pos.y;\n}","\nvarying float vOrdinate;\n\nuniform vec4 colorTop;\nuniform vec4 colorBottom;\nuniform vec4 uColor;\nuniform vec2 rangeY2;\n\nvoid main(void)\n{\nvec4 color = colorTop;\nif (vOrdinate > rangeY2.x) {\n    if (vOrdinate >= rangeY2.y) {\n        color = colorBottom;\n    } else {\n        color = colorTop + (colorBottom - colorTop) * (vOrdinate - rangeY2.x) / (rangeY2.y - rangeY2.x);\n    }\n}\n\ncolor.rgb *= color.a;\ngl_FragColor = color * uColor;\n}\n")),e._prog}}])}(tZ.PX);CZ._prog=null;var PZ=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return wZ(this,e),(t=SZ(this,e)).lastLen=0,t.lastPointNum=0,t.lastPointData=0,t.points=[],t._floatView=null,t._buffer=null,t.stridePoints=2,t.strideFloats=12,t.strideBytes=48,t.initGeom(n),t.reset(),t}return TZ(e,t),xZ(e,[{key:"initGeom",value:function(t){this._buffer=new QK.hp(new Float32Array(0),t,!1),this.addAttribute("aVertexPosition",this._buffer,2,!1,rZ.QE.FLOAT)}},{key:"moveTo",value:function(t,e){var n=this.points;n.push(t),n.push(e)}},{key:"lineTo",value:function(t,e){var n=this.points;n.push(t),n.push(e)}},{key:"invalidate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.lastPointNum=Math.min(t,this.lastPointNum)}},{key:"reset",value:function(){this.lastLen>0&&this.clearBufferData(),this.lastLen=0,this.lastPointData=0,this.points.length=0}},{key:"clearBufferData",value:function(){var t=this.points,e=this.strideFloats,n=this.stridePoints;this.lastPointNum=0,this.lastPointData=0;var r=Math.max(0,t.length/n-1);this._floatView=new Float32Array(e*r),this._buffer.update(this._floatView),this.lastLen=t.length}},{key:"updateBuffer",value:function(){var t=this.points,e=this.stridePoints,n=this.strideFloats;if(this.lastLen>t.length&&(this.lastLen=-1),(this.lastLen<t.length||this.lastPointNum<this.lastLen)&&this.clearBufferData(),this.lastPointNum!=this.lastLen){var r=this._floatView;this.lastPointData=Math.min(this.lastPointData,this.lastPointNum);for(var i=Math.round(this.lastPointNum*n/e),o=this.lastPointNum;o<t.length-e;o+=e){var a=o+e,s=t[o],c=t[o+1],l=t[a],u=t[a+1],d=1e4;r[i++]=s,r[i++]=c,r[i++]=l,r[i++]=u,r[i++]=l,r[i++]=d,r[i++]=s,r[i++]=c,r[i++]=l,r[i++]=d,r[i++]=s,r[i++]=d}this._buffer.update(),this.lastPointNum=this.lastLen,this.lastPointData=this.lastLen}}}])}(QK.V2),EZ=function(t){function e(){var t;return wZ(this,e),(t=SZ(this,e,[new PZ,new CZ])).masterPlot=null,t.plotUpdateId=-1,t}return TZ(e,t),xZ(e,[{key:"coordTop",get:function(){return this.shader.uniforms.rangeY[0]},set:function(t){this.shader.uniforms.rangeY[0]=t}},{key:"coordBottom",get:function(){return this.shader.uniforms.rangeY[1]},set:function(t){this.shader.uniforms.rangeY[1]=t}},{key:"alphaTop",get:function(){return this.shader.uniforms.colorTop[3]},set:function(t){this.shader.uniforms.colorTop[3]=t}},{key:"alphaBottom",get:function(){return this.shader.uniforms.colorBottom[3]},set:function(t){this.shader.uniforms.colorBottom[3]=t}},{key:"colorBottom",get:function(){return(0,eZ.rgb2hex)(this.shader.uniforms.colorBottom)},set:function(t){(0,eZ.hex2rgb)(t,this.shader.uniforms.colorBottom)}},{key:"colorTop",get:function(){return(0,eZ.rgb2hex)(this.shader.uniforms.colorTop)},set:function(t){(0,eZ.hex2rgb)(t,this.shader.uniforms.colorTop)}},{key:"clear",value:function(){this.masterPlot||this.geometry.reset()}},{key:"moveTo",value:function(t,e){this.lineTo(t,e)}},{key:"lineTo",value:function(t,e){this.masterPlot||this.geometry.lineTo(t,e)}},{key:"_render",value:function(t){var e=this.geometry;if(this.masterPlot){var n=this.masterPlot.geometry;this.plotUpdateId!==n.updateId&&(this.plotUpdateId=n.updateId,e.points=n.points,e.invalidate())}e.updateBuffer(),this._renderDefault(t)}},{key:"_renderCanvas",value:function(t){this.geometry}}])}(tZ.e),IZ=n(60350),NZ=n.n(IZ);function DZ(t){return DZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DZ(t)}function LZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MZ(r.key),r)}}function MZ(t){var e=function(t,e){if("object"!=DZ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=DZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==DZ(e)?e:e+""}function RZ(t,e,n){return e=$Z(e),function(t,e){if(e&&("object"==DZ(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,BZ()?Reflect.construct(e,n||[],$Z(t).constructor):e.apply(t,n))}function BZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(BZ=function(){return!!t})()}function HZ(){return HZ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=$Z(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},HZ.apply(null,arguments)}function $Z(t){return $Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$Z(t)}function FZ(t,e){return FZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},FZ(t,e)}function WZ(t,e){var n=t.points,r=t.holes,i=e.points,o=e.indices;if(n.length>=6){for(var a=0;a<r.length;a++)n=n.concat(r[a].points);var s=[],c=[];try{var l=NZ().tesselate({contours:[n],windingRule:NZ().WINDING_ODD,elementType:NZ().POLYGONS,polySize:3,vertexSize:2});if(!l)throw new Error("Tess2 output empty!");s=l.vertices,c=l.elements}catch(h){return}for(var u=i.length/2,d=0;d<c.length;d++)o.push(c[d]+u);for(var f=0;f<s.length;f++)i.push(s[f])}}var UZ=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),RZ(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FZ(t,e)}(e,t),function(t,e,n){return e&&LZ(t.prototype,e),n&&LZ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"render",value:function(t){MI.loU.buildPoly.triangulate=WZ,function(t,e,n,r){var i=HZ($Z(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"render",this,3)([t])}}])}(MI.A1g);function VZ(t){return VZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VZ(t)}function GZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zZ(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?GZ(Object(n),!0).forEach((function(e){YZ(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GZ(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function YZ(t,e,n){return(e=qZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qZ(r.key),r)}}function qZ(t){var e=function(t,e){if("object"!=VZ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=VZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==VZ(e)?e:e+""}var KZ=function(){return function(t,e,n){return e&&XZ(t.prototype,e),n&&XZ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxTexts=512,this.manualClearGraphics=[],this.autoClearGraphics=[],this.containers=[],this.textIndex={},this.dynamicGraphicsIndex={},this.dynamicContainers={},this.spritesIndex={},this.isIE=n,this.plots={},this.gradients={},this.isPerformanceMode=Boolean((0,Q.A)("optimized_chart"));var i={view:e,backgroundAlpha:0,antialias:!0,autoResize:!0,resolution:FU(),forceCanvas:!this.isWebGL2Supported()||(0,Q.A)("is-safari-154")};this.renderer=MI.q5F(i),this.stage=new MI.mcf,this.stage.filterArea=this.renderer.screen;var o=MI.RvI.shared;o.autoStart=!1,o.stop(),this.isPerformanceLines=this.isPerformanceMode&&this.isWebGLRenderer(),MI.W0u.MIPMAP_TEXTURES=MI.E8U.OFF,this.manualClearGraphics[rh.my.GRID_VALUE]=new MI.A1g,this.manualClearGraphics[rh.my.GRID_TIMELINE]=new MI.A1g,this.manualClearGraphics[rh.my.EXPIRATION_LINE]=new MI.A1g,this.manualClearGraphics[rh.my.EXPIRATION_BG]=new MI.A1g,this.autoClearGraphics[rh.my.RATES]=new MI.A1g,this.autoClearGraphics[rh.my.SHADE_BG_UP]=new MI.A1g,this.autoClearGraphics[rh.my.SHADE_BG_DOWN]=new MI.A1g,this.autoClearGraphics[rh.my.CURRENT_PRICE_LINE]=this.createGraphics(),this.autoClearGraphics[rh.my.POINT_GLOW]=new MI.A1g,this.autoClearGraphics[rh.my.POINT_DOT]=new MI.A1g,this.containers[rh.Rp.INDICATORS_BOTTOM]=new MI.mcf,this.containers[rh.Rp.GRID]=new MI.mcf,this.containers[rh.Rp.GATES]=new MI.mcf,this.containers[rh.Rp.CANDLES]=new MI.mcf,this.containers[rh.Rp.CURSOR]=new MI.mcf;var a=new MI.mcf;a.sortableChildren=!0,this.containers[rh.Rp.MINMAX]=a,this.containers[rh.Rp.CHART]=new MI.mcf,this.containers[rh.Rp.INDICATORS_BG]=new MI.mcf,this.containers[rh.Rp.INDICATORS]=new MI.mcf,this.containers[rh.Rp.SHADE]=new MI.mcf,this.containers[rh.Rp.SOCIAL_DEALS_BG_LAYER]=new MI.mcf,this.containers[rh.Rp.SOCIAL_DEALS_CONTAINER_LOW]=new MI.mcf,this.containers[rh.Rp.SOCIAL_DEALS]=new MI.mcf,this.containers[rh.Rp.SOCIAL_DEALS_CONTAINER_UP]=new MI.mcf,this.containers[rh.Rp.DEALS]=new MI.mcf,this.containers[rh.Rp.DEALS_TEXT]=new MI.mcf,this.containers[rh.Rp.BUILDINGS]=new MI.mcf,this.containers[rh.Rp.BUILDING_POINTS]=new MI.mcf,this.containers[rh.Rp.RATES]=new MI.mcf,this.containers[rh.Rp.POINT]=new MI.mcf,this.containers[rh.Rp.OVERLAY]=new MI.mcf,this.containers[rh.Rp.CURSOR]=new MI.mcf,this.containers[rh.Rp.PRICE_ALERTS]=new MI.mcf,this.containers[rh.Rp.PENDINGS]=new MI.mcf;var s=new MI.mcf;s.sortableChildren=!0,this.containers[rh.Rp.CLOSED_ORDER]=s,this.containers[rh.Rp.CLOSED_ORDER_NOTE]=new MI.mcf,this.containers[rh.Rp.CLOSED_ORDER_NOTE_TEXT]=new MI.mcf,this.containers[rh.Rp.CURRENT_PROFIT]=new MI.mcf,this.containers[rh.Rp.GRID].addChild(this.manualClearGraphics[rh.my.GRID_VALUE]),this.containers[rh.Rp.GRID].addChild(this.manualClearGraphics[rh.my.GRID_TIMELINE]),this.containers[rh.Rp.GATES].addChild(this.manualClearGraphics[rh.my.EXPIRATION_LINE]),this.containers[rh.Rp.GATES].addChild(this.manualClearGraphics[rh.my.EXPIRATION_BG]),this.containers[rh.Rp.SHADE].addChild(this.autoClearGraphics[rh.my.SHADE_BG_UP]),this.containers[rh.Rp.SHADE].addChild(this.autoClearGraphics[rh.my.SHADE_BG_DOWN]),this.containers[rh.Rp.RATES].addChild(this.autoClearGraphics[rh.my.RATES]),this.containers[rh.Rp.POINT].addChild(this.autoClearGraphics[rh.my.CURRENT_PRICE_LINE]),this.containers[rh.Rp.POINT].addChild(this.autoClearGraphics[rh.my.POINT_GLOW]),this.containers[rh.Rp.POINT].addChild(this.autoClearGraphics[rh.my.POINT_DOT]),this.containers.forEach((function(t){r.stage.addChild(t)}))}),[{key:"createGraphics",value:function(){return this.isPerformanceLines?new WU.q1:new MI.A1g}},{key:"isWebGL2Supported",value:function(){return!!document.createElement("canvas").getContext("webgl2")}},{key:"isWebGLRenderer",value:function(){return this.renderer&&this.renderer.type===MI.h3I.WEBGL}},{key:"clear",value:function(){this.clearGraphics()}},{key:"destroyForce",value:function(){var t=this;this.clearForce(),this.destroyDynamicContainers(),this.containers.forEach((function(e){t.stage.removeChild(e)})),this.destroyPlots(),this.destroyGradients()}},{key:"clearForce",value:function(){this.renderer.clear(),this.clearGraphics(),this.clearGraphicsNew(),this.clearDynamicGraphics(),this.destroyTexts(),this.clearSprites(),this.clearPlots(),this.clearGradients()}},{key:"render",value:function(){this.renderer.render(this.stage)}},{key:"getText",value:function(t,e,n,r,i,o){var a,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return this.textIndex[e]?((a=this.textIndex[e]).text=n,i&&(a.style.fill=i),o&&(a.style.align=o),this.textIndex[e].visible=!0):(this.shouldClearTexts()&&this.destroyTexts(),(a=new MI.EYj(n)).style=r,a.text=n,i&&(a.style.fill=i),o&&(a.style.align=o),null===s?this.containers[t].addChild(a):(a.hasParentContainer=!0,s.addChild(a)),this.textIndex[e]=a),a}},{key:"shouldClearTexts",value:function(){return Object.keys(this.textIndex).length>this.maxTexts}},{key:"destroyTexts",value:function(){for(var t in u.A.publish("CORE/TEXT_DESTROYED"),this.textIndex)this.destroyText(t);this.textIndex={}}},{key:"clearText",value:function(t){this.textIndex[t]&&(this.textIndex[t].visible=!1)}},{key:"destroyText",value:function(t){var e=this;if(this.textIndex[t]){var n=this.textIndex[t].hasParentContainer,r=this.textIndex[t].parent;!0===n&&r?r.removeChild(this.textIndex[t]):this.containers.forEach((function(n){return n.removeChild(e.textIndex[t])})),this.textIndex[t].destroy(),this.textIndex[t]=null,delete this.textIndex[t]}}},{key:"getDynamicContainer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.dynamicContainers[e])return this.dynamicContainers[e].container;var r=new MI.mcf;return Object.keys(n).forEach((function(t){r[t]=n[t]})),this.containers[t].addChild(r),this.dynamicContainers[e]={index:t,container:r},r}},{key:"getDynamicPlot",value:function(t){if(!this.plots[t]){var e=new bZ({lineWidth:2});this.containers[rh.Rp.CHART].addChild(e),this.plots[t]=e}return this.plots[t]}},{key:"destroyDynamicPlot",value:function(t){this.plots[t]&&(this.plots[t].destroy(),this.containers[rh.Rp.CHART].removeChild(this.plots[t]),this.plots[t]=null,delete this.plots[t])}},{key:"getDynamicGradient",value:function(t){if(!this.gradients[t]){var e=new EZ;this.containers[rh.Rp.CHART].addChild(e),this.gradients[t]=e}return this.gradients[t]}},{key:"destroyDynamicGradient",value:function(t){this.gradients[t]&&(this.gradients[t].destroy(),this.containers[rh.Rp.CHART].removeChild(this.gradients[t]),this.gradients[t]=null,delete this.gradients[t])}},{key:"getSmoothGraphics",value:function(t,e){return this.getDynamicGraphics(t,e,{smooth:!0}).graphics}},{key:"getDynamicGraphics",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=zZ(zZ({},{touch:!1,parent:null,smooth:!1,isTess:!1}),n);var r,i={graphics:null,isNew:!1,cleared:!1};this.dynamicGraphicsIndex[e]?(i.graphics=this.dynamicGraphicsIndex[e].graphics,i.graphics.visible=!0,this.dynamicGraphicsIndex[e].cleared&&(i.isNew=!0,this.dynamicGraphicsIndex[e].cleared=!1)):(r=n.smooth&&this.isPerformanceLines?new WU.q1:n.isTess?new UZ:new MI.A1g,i.graphics=r,n.touch&&(i.graphics.buttonMode=!0,i.graphics.interactive=!0),i.isNew=!0,null===n.parent?this.containers[t].addChild(i.graphics):n.parent.addChild(i.graphics),this.dynamicGraphicsIndex[e]=i);return i}},{key:"hideSprite",value:function(t,e){this.spritesIndex[e]&&(this.spritesIndex[e].sprite.visible=!1)}},{key:"getSprite",value:function(t,e,n){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(this.spritesIndex[e])(r=this.spritesIndex[e]).sprite.visible=!0;else{var s=MI.kxk.from(n,a);i&&(s.visible=!0,s.buttonMode=!0,s.interactive=!0),r={sprite:s,src:n},this.spritesIndex[e]=r,null===o?this.containers[t].addChild(s):o.addChild(s)}return r}},{key:"getTilingSprite",value:function(t,e,n,r,i){var o;this.spritesIndex[e]?(o=this.spritesIndex[e]).sprite.visible=!0:(o={sprite:new MI.t9Q(n,r,i),src:n},this.spritesIndex[e]=o,this.containers[t].addChild(o.sprite));return o}},{key:"getGraphics",value:function(t){return this.autoClearGraphics[t]}},{key:"getGraphicsNew",value:function(t){return this.manualClearGraphics[t]}},{key:"clearGraphicsNew",value:function(t){t>=0?this.manualClearGraphics[t].clear():this.manualClearGraphics.forEach((function(t){t.clear()}))}},{key:"clearGraphics",value:function(t){t>=0?this.autoClearGraphics[t].clear():this.autoClearGraphics.forEach((function(t){t.clear()}))}},{key:"clearDynamicGraphicsNew",value:function(t){this.dynamicGraphicsIndex[t]&&(this.dynamicGraphicsIndex[t].cleared=!0,this.dynamicGraphicsIndex[t].graphics.clear())}},{key:"destroyDynamicContainers",value:function(){var t=this;Object.keys(this.dynamicContainers).forEach((function(e){var n=t.dynamicContainers[e],r=n.index,i=n.container;t.containers[r].removeChild(i),i.destroy()})),this.dynamicContainers={}}},{key:"destroyDynamicContainer",value:function(t,e){if(this.dynamicContainers[e]){var n=this.dynamicContainers[e],r=n.index,i=n.container;this.containers[r].removeChild(i),i.destroy(),this.dynamicContainers[e]=null,delete this.dynamicContainers[e]}}},{key:"destroyDynamicGraphicsNew",value:function(t,e){this.dynamicGraphicsIndex[e]&&(this.dynamicGraphicsIndex[e].graphics.clear(),this.containers[t].removeChild(this.dynamicGraphicsIndex[e]),this.dynamicGraphicsIndex[e].graphics.destroy(),this.dynamicGraphicsIndex[e]=null,delete this.dynamicGraphicsIndex[e])}},{key:"clearDynamicGraphics",value:function(){var t=this;Object.keys(this.dynamicGraphicsIndex).forEach((function(e){return t.clearDynamicGraphicsNew(e)}))}},{key:"clearSprite",value:function(t){this.spritesIndex[t]&&(this.spritesIndex[t].sprite.visible=!1)}},{key:"clearSprites",value:function(){var t=this;Object.keys(this.spritesIndex).forEach((function(e){t.containers.forEach((function(n){n.removeChild(t.spritesIndex[e].sprite)})),t.spritesIndex[e]&&(t.spritesIndex[e].sprite.destroy(),t.spritesIndex[e].sprite=null)})),this.spritesIndex=null,this.spritesIndex={}}},{key:"destroySprite",value:function(t,e){this.spritesIndex[e]&&(this.spritesIndex[e].sprite&&this.spritesIndex[e].sprite.removeAllListeners(),this.containers[t].removeChild(this.spritesIndex[e].sprite),this.spritesIndex[e].sprite.destroy(),this.spritesIndex[e].sprite=null,delete this.spritesIndex[e])}},{key:"clearPlots",value:function(){var t=this;Object.keys(this.plots).forEach((function(e){return t.plots[e].clear()}))}},{key:"destroyPlots",value:function(){var t=this;Object.keys(this.plots).forEach((function(e){t.plots[e].destroy(),t.plots[e]=null})),this.plots={}}},{key:"clearGradients",value:function(){var t=this;Object.keys(this.gradients).forEach((function(e){t.gradients[e].clear()}))}},{key:"destroyGradients",value:function(){var t=this;Object.keys(this.gradients).forEach((function(e){t.gradients[e].destroy(),t.gradients[e]=null})),this.gradients={}}},{key:"resize",value:function(t,e){this.renderer.resize(t,e)}}])}(),ZZ=KZ,JZ={path:"/themes/cabinet/images/price-alert/bell-icon.svg",size:12},QZ={path:"/themes/cabinet/images/price-alert/cross-icon.svg",size:12},tJ=2,eJ=2,nJ={LINE:{DARK:MI.WpD.string2hex("#566577"),LIGHT:MI.WpD.string2hex("#8EA5C1")}};function rJ(t){return rJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rJ(t)}function iJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oJ(r.key),r)}}function oJ(t){var e=function(t,e){if("object"!=rJ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rJ(e)?e:e+""}function aJ(t,e,n){return e=cJ(e),function(t,e){if(e&&("object"==rJ(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,sJ()?Reflect.construct(e,n||[],cJ(t).constructor):e.apply(t,n))}function sJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(sJ=function(){return!!t})()}function cJ(t){return cJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cJ(t)}function lJ(t,e){return lJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lJ(t,e)}var uJ="value-marker",dJ="double-up-timer",fJ=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=aJ(this,e,[t,n])).destroyed=!0,r.dashedLineShader=new WU.sM({dash:5,gap:5}),r.expiresInLabel=(0,$.tr)("deals.expires_in"),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lJ(t,e)}(e,t),function(t,e,n){return e&&iJ(t.prototype,e),n&&iJ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"drawDoubleUpTimer",value:function(t){var e,n=this.pointsManager.currentTime,r=t.data.closeTimestamp-n,i=this.core.getText(rh.Rp.POINT,dJ,"".concat(this.expiresInLabel,": ").concat((0,gk.TO)(r)),Ru.Ay.CHART.TEXT_STYLE_CURSOR_TIME);if(i.style.fill=this.colors.betElementTextColorTooltipOff.getHEXNUM(),this.candlesTimer&&!this.isLineChart()){var o=this.pointsManager.plot.candlesTimer.getTimeText();e=o.x+o.width+10}else e=this.getXFromTime(n)+10;var a=this.pointsManager.currentValue,s=this.getYFromValue(a)-i.height-2;i.setTransform(e,s)}},{key:"draw",value:function(){var t=this;if(this.pointsManager.points.length){this.isThemeChanged()&&this.clearDoubleUpTimer();var e=this.pointsManager.currentValue,n=this.getYFromValue(e);if(isFinite(n)&&!isNaN(n)&&n>0&&n<this.height-Ru.Ay.CHART.TIMELINE_HEIGHT){var r,i,o,a=this.formatStringPrice(e),s=CX(a,Ru.Ay.CHART.TEXT_STYLE_CURSOR_TIME),c=s.width+2*Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,l=s.height+2*Ru.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,u=this.width-c-tJ;this.hoveredDoubleUp?(o=this.pointsManager.plot.options.find((function(e){return e.id===t.hoveredDoubleUp})))&&(r=this.isLineChart()?this.getXFromTime(this.currentTime):this.getXFromTime(this.serverTime-this.serverTime%this.pointsInElement),i=this.getXFromTime(o.data.closeTimestamp),this.drawDoubleUpTimer(o)):this.clearDoubleUpTimer();var d=this.core.getGraphics(rh.my.CURRENT_PRICE_LINE);if(!r||r>this.width)d.lineStyle(1,this.colors.valueLineColor.getHEXNUM(),this.colors.valueLineColor.getAlpha()),d.moveTo(0,n),d.lineTo(u,n);else{d.lineStyle(1,this.colors.valueLineColor.getHEXNUM(),this.colors.valueLineColor.getAlpha()),d.moveTo(0,n),d.lineTo(r,n);var f=o.isCall?this.colors.callLineColor.getHEXNUM():this.colors.putLineColor.getHEXNUM();d.lineStyle({width:1,color:f,alpha:.8,shader:this.dashedLineShader}),d.moveTo(r,n),d.lineTo(i,n),d.lineStyle(1,this.colors.valueLineColor.getHEXNUM(),this.colors.valueLineColor.getAlpha()),i<u&&(d.moveTo(i,n),d.lineTo(u,n))}var h=this.core.getGraphics(rh.my.CURRENT_PRICE_LINE);h.beginFill(this.colors.valueLineColor.getHEXNUM(),this.colors.valueLineColor.getAlpha(),!0),h.drawRoundedRect(u,n-l/2,c,l,4),h.endFill(),this.pointsManager.plot.globalSettings.hideBoFeatures&&this.isLineChart()&&(h.lineStyle({width:1,color:this.colors.valueLineColor.getHEXNUM(),shader:this.dashedLineShader}),h.moveTo(this.getXFromTime(this.currentTime),0),h.lineTo(this.getXFromTime(this.currentTime),this.height));var p=this.core.getText(rh.Rp.POINT,uJ,a,Ru.Ay.CHART.TEXT_STYLE_CURSOR_TIME);p.x=u+Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,p.y=n-s.height/2,this.destroyed=!1}else this.core.clearText(uJ)}else this.destroyed||this.destroy()}},{key:"clearDoubleUpTimer",value:function(){this.core.clearText(dJ)}},{key:"destroy",value:function(){this.destroyed=!0,this.core.destroyText(uJ),this.core.destroyText(dJ)}}])}(FI),hJ=fJ,pJ={HOUR_GLASS:{path:"/themes/cabinet/images/pending-order/icon.svg",size:12},CROSS:{path:"/themes/cabinet/images/price-alert/cross-icon.svg",size:12},CALL:{path:"/themes/cabinet/images/pending-order/call.svg",size:12,color:MI.WpD.string2hex("#49A744")},PUT:{path:"/themes/cabinet/images/pending-order/put.svg",size:12,color:MI.WpD.string2hex("#FC380A")}},mJ=2,yJ=2,vJ={LINE:{DARK:MI.WpD.string2hex("#566577"),LIGHT:MI.WpD.string2hex("#8EA5C1")}};function bJ(t){return bJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bJ(t)}function gJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wJ(r.key),r)}}function wJ(t){var e=function(t,e){if("object"!=bJ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bJ(e)?e:e+""}function jJ(t,e,n){return e=_J(e),function(t,e){if(e&&("object"==bJ(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xJ()?Reflect.construct(e,n||[],_J(t).constructor):e.apply(t,n))}function xJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(xJ=function(){return!!t})()}function _J(t){return _J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_J(t)}function SJ(t,e){return SJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},SJ(t,e)}var OJ=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=jJ(this,e,[t,n])).position=rh.vh.Overlay,i.enableGridSnapping=r,i.destroyed=!0,i.lineShader=new WU.sM({dash:5,gap:5}),i.containerIndex=rh.Rp.CURSOR,i.textStyles=Ru.Ay.CHART.TEXT_STYLE_CURSOR_TIME,i.initStyles(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SJ(t,e)}(e,t),function(t,e,n){return e&&gJ(t.prototype,e),n&&gJ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"valueTextKey",get:function(){return"".concat(this.id,"-value-text")}},{key:"timeTextKey",get:function(){return"".concat(this.id,"-cursor-text")}},{key:"timeRectKey",get:function(){return"".concat(this.id,"-time-rect")}},{key:"valueRectKey",get:function(){return"".concat(this.id,"-value-rect")}},{key:"valueBtnKey",get:function(){return"".concat(this.id,"-price-btn")}},{key:"linesKey",get:function(){return"".concat(this.id,"-lines")}},{key:"bellKey",get:function(){return"".concat(this.id,"-bell-icon")}},{key:"pendingOrderBtnKey",get:function(){return"".concat(this.id,"-pending-order-btn")}},{key:"pendingOrderIconKey",get:function(){return"".concat(this.id,"-pending-order-icon")}},{key:"initStyles",value:function(){this.lineColor=this.isDarkTheme()?nJ.LINE.DARK:nJ.LINE.LIGHT}},{key:"isShowPriceAlertButton",value:function(){return!(this.pointerInElement||this.isMobile||this.pointsManager.plot.globalSettings.isMt5||this.pointsManager.plot.globalSettings.isTryDemo)}},{key:"formatTimeLabel",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,ij.CA)(Date.now()/1e3)!==(0,ij.CA)(e);return t>=3600||r?(0,ij.VT)(e):n?(0,ij.Hv)(e):(0,ij.vh)(e,!1)}},{key:"getBellIcon",value:function(){return this.core.getSprite(this.containerIndex,this.bellKey,JZ.path,!0).sprite}},{key:"getHourGlassIcon",value:function(){return this.core.getSprite(this.containerIndex,this.pendingOrderIconKey,pJ.HOUR_GLASS.path,!0).sprite}},{key:"subscribePriceAlertElement",value:function(t){var e=this,n=this.formatStringPrice(this.getValueFromY(this.pointerY),!1);t.interactive=!0,t.buttonMode=!0,t.removeAllListeners(),t.on("pointerdown",(function(){var t=(0,ru.xr)(parseFloat(n),e.currentDigit);u.A.publish(y.wZ,{price:t,assetId:e.assetId})}))}},{key:"subscribePendingOrderElement",value:function(t){var e=this,n=this.formatStringPrice(this.getValueFromY(this.pointerY),!1);t.interactive=!0,t.buttonMode=!0,t.removeAllListeners(),t.on("pointerdown",(function(){var t=(0,ru.xr)(parseFloat(n),e.currentDigit);u.A.publish(y.sF,{price:t,symbol:e.pointsManager.plot.chartSettings.symbol})}))}},{key:"getCursorTime",value:function(){var t=this.getTimeFromX(this.pointerX+this.shift);if(this.enableGridSnapping&&!this.isLineChart()){var e=(0,nh.o0)(this.selectedPlotType,this.chartPeriod),n=t%e,r=t-n;return n>e/2?r+e:r}return t}},{key:"getValueLabel",value:function(){var t;return this.pointerInElement?(t="".concat(this.pointerInElementValueY),this.pointerInElementValueY.length&&(t+=this.pointerInElementValueSymbol)):t=this.formatStringPrice(this.getValueFromY(this.pointerY)),t}},{key:"isShowValue",value:function(){return this.pointerY<this.worldHeight-Ru.Ay.CHART.TIMELINE_HEIGHT}},{key:"drawPriceAlertElement",value:function(){var t=CX(this.formatStringPrice(this.getValueFromY(this.pointerY)),this.textStyles),e=t.height+2*Ru.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,n=t.width+2*Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,r=this.width-n-tJ-e-eJ,i=this.core.getDynamicGraphics(this.containerIndex,this.valueBtnKey).graphics;i.beginFill(this.lineColor,1),i.drawRoundedRect(r,this.pointerY-e/2,e,e,4),i.endFill(),this.subscribePriceAlertElement(i);var o=this.getBellIcon(),a=(e-JZ.size)/2;o.setTransform(r+a,this.pointerY-JZ.size/2,.5,.5),this.subscribePriceAlertElement(o)}},{key:"drawPendingOrderElement",value:function(){var t=CX(this.formatStringPrice(this.getValueFromY(this.pointerY)),this.textStyles),e=t.height+2*Ru.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,n=t.width+2*Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,r=this.width-n-tJ-2*(e+eJ),i=this.core.getDynamicGraphics(this.containerIndex,this.pendingOrderBtnKey).graphics;i.beginFill(this.lineColor,1),i.drawRoundedRect(r,this.pointerY-e/2,e,e,4),i.endFill(),this.subscribePendingOrderElement(i);var o=this.getHourGlassIcon(),a=(e-pJ.HOUR_GLASS.size)/2;o.setTransform(r+a,this.pointerY-pJ.HOUR_GLASS.size/2,.5,.5),this.subscribePendingOrderElement(o)}},{key:"drawTimeElement",value:function(){var t=this.getCursorTime(),e=this.formatTimeLabel(this.pointsInElement,t,this.shouldShowMs()),n=CX(e,this.textStyles).width+2*Ru.Ay.CHART.CROSSCHAIR_BOTTOM_BG_SIDE_PADDING,r=this.getXFromTime(t),i=this.core.getDynamicGraphics(this.containerIndex,this.timeRectKey).graphics;i.beginFill(this.lineColor,1),i.drawRoundedRect(r-n/2,this.worldHeight-Ru.Ay.CHART.TIMELINE_HEIGHT,n,this.worldHeight,4),i.endFill();var o=this.core.getText(this.containerIndex,this.timeTextKey,e,this.textStyles);o.y=this.worldHeight-Ru.Ay.CHART.TIMELINE_HEIGHT/2-o.height/2,o.x=r-n/2+Ru.Ay.CHART.CROSSCHAIR_BOTTOM_BG_SIDE_PADDING}},{key:"drawValueElement",value:function(){var t=this.getValueLabel(),e=CX(t,this.textStyles),n=e.width+2*Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,r=e.height+2*Ru.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,i=this.width-e.width-2*Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN-tJ,o=this.core.getDynamicGraphics(this.containerIndex,this.valueRectKey).graphics;o.beginFill(this.lineColor,1),o.drawRoundedRect(i,this.pointerY-r/2,n,r,4),o.endFill();var a=this.core.getText(this.containerIndex,this.valueTextKey,t,this.textStyles);a.x=i+Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,a.y=this.pointerY-a.height/2,this.isShowPriceAlertButton()&&(this.drawPriceAlertElement(),this.drawPendingOrderElement())}},{key:"getValueElementFullWidth",value:function(){var t=CX(this.getValueLabel(),this.textStyles),e=this.isShowPriceAlertButton()?t.height+2*Ru.Ay.CHART.VALUE_BG_VERTICAL_MARGIN:0;return t.width+2*Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN+2+e}},{key:"drawLines",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.linesKey,{smooth:!0}).graphics,e=this.getXFromTime(this.getCursorTime());t.lineStyle({width:1,color:this.lineColor,alpha:.8,shader:this.lineShader}),t.moveTo(e,0),t.lineTo(e,this.worldHeight-Ru.Ay.CHART.TIMELINE_HEIGHT),this.isShowValue()&&(t.moveTo(0,this.pointerY),t.lineTo(this.width-this.getValueElementFullWidth()-tJ,this.pointerY))}},{key:"draw",value:function(){(this.isThemeChanged()||this.isChangedMinMax())&&(this.clearAll(),this.initStyles()),this.pointerX<=0||this.pointerY<=0||!this.showCursorPointer?this.destroyed||this.destroy():(this.isPointerChanged()||this.isChangedMinMax())&&(this.clearAll(),this.drawTimeElement(),this.getValueLabel().length?(this.isShowValue()&&this.drawValueElement(),this.drawLines(),this.destroyed=!1):this.destroy())}},{key:"shouldShowMs",value:function(){return this.secondWidth>Ru.Ay.CHART.MIN_SECOND_WIDTH_TO_SHOW_MS&&(0,nh.Mt)(this.selectedPlotType)}},{key:"clearValueElements",value:function(){}},{key:"clearAll",value:function(){this.core.clearText(this.valueTextKey),this.core.clearText(this.timeTextKey),this.core.clearDynamicGraphicsNew(this.valueRectKey),this.core.clearDynamicGraphicsNew(this.valueBtnKey),this.core.clearDynamicGraphicsNew(this.timeRectKey),this.core.clearDynamicGraphicsNew(this.linesKey),this.core.clearDynamicGraphicsNew(this.pendingOrderBtnKey),this.core.clearSprite(this.containerIndex,this.bellKey),this.core.clearSprite(this.containerIndex,this.pendingOrderIconKey),this.clearValueElements()}},{key:"destroy",value:function(){this.destroyed=!0,this.clearAll(),this.core.destroyText(this.valueTextKey),this.core.destroyText(this.timeTextKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.timeRectKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.valueRectKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.valueBtnKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.linesKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.pendingOrderBtnKey),this.core.destroySprite(this.containerIndex,this.bellKey),this.core.destroySprite(this.containerIndex,this.pendingOrderIconKey)}}])}(FI),kJ=OJ;function TJ(t){return TJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TJ(t)}function AJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CJ(r.key),r)}}function CJ(t){var e=function(t,e){if("object"!=TJ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=TJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==TJ(e)?e:e+""}function PJ(t,e,n){return e=NJ(e),function(t,e){if(e&&("object"==TJ(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,EJ()?Reflect.construct(e,n||[],NJ(t).constructor):e.apply(t,n))}function EJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(EJ=function(){return!!t})()}function IJ(){return IJ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=NJ(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},IJ.apply(null,arguments)}function NJ(t){return NJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},NJ(t)}function DJ(t,e){return DJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},DJ(t,e)}var LJ=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=PJ(this,e,[t,n])).position=rh.vh.Overlay,r.textKeysValueGrid=[],r.textKeysTimeLine=[],r.renderedHoverCall=!1,r.renderedHoverPut=!1,r.initColors(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DJ(t,e)}(e,t),function(t,e,n){return e&&AJ(t.prototype,e),n&&AJ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"initColors",value:function(){var t=this.core.isWebGLRenderer();this.gatesBgAlpha=t?this.theme===II.LIGHT?.1:.01:.1,t&&(this.upBgGradientFilter=new QU(this.colors.upBgFrom,this.colors.upBgTo,!1,!1,.1),this.downBgGradientFilter=new QU(this.colors.downBgFrom,this.colors.downBgTo,!1,!1,.1))}},{key:"drawHoverBtn",value:function(){if(!this.renderedHoverCall||0!==this.pointsManager.points.length&&this.hoverCallBtn||(this.renderedHoverCall=!1,this.core.hideSprite(rh.Rp.SHADE,"directionUpIcon")),!this.renderedHoverPut||0!==this.pointsManager.points.length&&this.hoverPutBtn||(this.renderedHoverPut=!1,this.core.hideSprite(rh.Rp.SHADE,"directionDownIcon")),0!==this.pointsManager.points.length){var t=this.serverTime,e=this.getXFromTime(parseInt(t-parseInt(t)%this.pointsInElement,10))+30,n=this.getYFromValue(this.pointsManager.currentValue);if(this.hoverCallBtn){var r=this.core.getGraphics(rh.my.SHADE_BG_UP);r.beginFill(this.colors.upBgTo.getHEXNUM(),this.gatesBgAlpha),r.drawRect(0,0,this.width,n),r.endFill(),this.core.isWebGLRenderer()&&(r.filters=[this.upBgGradientFilter.filter]);var i=this.core.getSprite(rh.Rp.SHADE,"directionUpIcon",this.getSpritePath(Ru.Ay.CHART.DIRECTION_UP_ICON_SRC)).sprite,o=n-i.height-5;this.candlesTimer&&(o-=15),i.setTransform(e,o),this.renderedHoverCall=!0}else{this.core.getGraphics(rh.my.SHADE_BG_UP).filters=[]}if(this.hoverPutBtn){var a=this.core.getGraphics(rh.my.SHADE_BG_DOWN);a.beginFill(this.colors.downBgFrom.getHEXNUM(),this.gatesBgAlpha),a.drawRect(0,n,this.width,this.height-n),a.endFill(),this.core.isWebGLRenderer()&&(a.filters=[this.downBgGradientFilter.filter]);var s=this.core.getSprite(rh.Rp.SHADE,"directionDownIcon",this.getSpritePath(Ru.Ay.CHART.DIRECTION_DOWN_ICON_SRC)).sprite,c=n+5;this.candlesTimer&&(c+=15),s.setTransform(e,c),this.renderedHoverPut=!0}else{this.core.getGraphics(rh.my.SHADE_BG_DOWN).filters=[]}}}},{key:"getNiceAxis",value:function(t,e){var n,r,i=0,o=[0,1.2,2.5,5,10],a=[.2,.5,1,2];n=0===t?0:t>0?Math.max(0,t-(e-t)/100):t-(e-t)/100,r=0===e?0===t?1:0:e<0?Math.min(0,e+(e-t)/100):e+(e-t)/100;for(var s=Math.log(r-n)/Math.log(10),c=Math.pow(10,s-Math.floor(s)),l=0;c>o[l];l++)i=a[l]*Math.pow(10,Math.floor(s));var u=i*Math.floor(n/i),d=i*Math.floor(r/i+1);return[u,d,i,Math.floor((d-u)/i)]}},{key:"formatTimelineTime",value:function(t,e){if(this.pointsInElement>=3600){var n=(0,ij.CA)(t);return e===n?(0,ij.vh)(t,!1):n}return(0,ij.vh)(t,!1)}},{key:"setGridLineStyles",value:function(t){t.lineStyle({width:.5,color:this.colors.gridLineColor.getHEXNUM(),alpha:this.colors.gridLineColor.getAlpha()})}},{key:"drawTimeline",value:function(){if(this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isThemeChanged()||this.forceCleared){var t=Ru.Ay.CHART.TIMELINE_STEP,e=this.secondWidth;if(!(e<=0)){for(this.core.clearGraphicsNew(rh.my.GRID_TIMELINE),this.destroyTimeLineKeys();t*e<Ru.Ay.CHART.MIN_TIMELINE_WIDTH;)t+=t;var n,r=Math.floor(this.getTimeFromX(this.shift)/t)*t,i=(Math.ceil(this.getTimeFromX(this.shift+this.width)/t)+1)*t,o=this.core.getGraphicsNew(rh.my.GRID_TIMELINE);this.setGridLineStyles(o);for(var a=this.worldHeight-Ru.Ay.CHART.TIMELINE_MARGIN_BOTTOM,s="",c=!1,l=r;l<=i;l+=t){n=Math.floor(this.getXFromTime(l))+.5,o.moveTo(n,0),o.lineTo(n,a-Ru.Ay.CHART.TIMELINE_HEIGHT);var u="timeline-".concat(l),d=this.formatTimelineTime(l,s),f=d.includes(".");!c&&f&&(c=!0);var h=this.core.getText(rh.Rp.GRID,u,d,Ru.Ay.CHART.TEXT_STYLE_GRID);h.style.fill=f?this.colors.gridTextColorLight.getHEXNUM():this.colors.gridTextColor.getHEXNUM(),h.style.fontWeight=f?"bold":"normal",h.x=n-h.width/2,h.y=a-Ru.Ay.CHART.TIMELINE_HEIGHT/2-h.height/2,f&&(s=d),this.textKeysTimeLine.push(u)}o=null}}}},{key:"drawValueGrid",value:function(){if(!(this.minVal<=0)&&(this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isThemeChanged()||this.isBottomMarginChanged()||this.forceCleared)){this.core.clearGraphicsNew(rh.my.GRID_VALUE),this.destroyValueGridKeys();var t=this.core.getGraphicsNew(rh.my.GRID_VALUE);this.setGridLineStyles(t);var e=this.maxVal,n=this.minVal;if(e>n)for(var r=this.getNiceAxis(n,e),i=0;i<=r[3];i++){var o=r[0]+r[2]*i,a=Math.floor(this.getYFromValue(o))+.5;if(a<this.height-Ru.Ay.CHART.TIMELINE_HEIGHT&&a>0){var s=this.formatStringPrice(o);t.moveTo(0,a),t.lineTo(this.width,a);var c="value-grid-".concat(s),l=this.core.getText(rh.Rp.GRID,c,s,Ru.Ay.CHART.TEXT_STYLE_GRID,null,"right");l.style.fill=this.colors.gridTextColor.getHEXNUM(),l.x=this.width-l.width-Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,l.y=a-l.height-5,l=null,this.textKeysValueGrid.push(c)}}}}},{key:"draw",value:function(){this.isThemeChanged()&&this.initColors(),this.drawValueGrid(),this.drawTimeline(),this.drawHoverBtn()}},{key:"destroyValueGridKeys",value:function(){for(var t=0;t<this.textKeysValueGrid.length;t++)this.core.clearText(this.textKeysValueGrid[t]);this.textKeysValueGrid=[]}},{key:"destroyTimeLineKeys",value:function(){for(var t=0;t<this.textKeysTimeLine.length;t++)this.core.clearText(this.textKeysTimeLine[t]);this.textKeysTimeLine=[]}},{key:"destroy",value:function(){!function(t,e,n,r){var i=IJ(NJ(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"destroy",this,3)([]),this.destroyValueGridKeys(),this.destroyTimeLineKeys()}}])}(FI),MJ=LJ;function RJ(t){return RJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RJ(t)}function BJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HJ(r.key),r)}}function HJ(t){var e=function(t,e){if("object"!=RJ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=RJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==RJ(e)?e:e+""}function $J(t,e,n){return e=WJ(e),function(t,e){if(e&&("object"==RJ(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,FJ()?Reflect.construct(e,n||[],WJ(t).constructor):e.apply(t,n))}function FJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(FJ=function(){return!!t})()}function WJ(t){return WJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},WJ(t)}function UJ(t,e){return UJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},UJ(t,e)}var VJ=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=$J(this,e,[t,n])).destroyed=!0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UJ(t,e)}(e,t),function(t,e,n){return e&&BJ(t.prototype,e),n&&BJ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"getTimeLabel",value:function(){var t,e=(t=this.pointsInElement)>=1&&t<60?"S".concat(t):t>=60&&t<3600?"M".concat(t/60):t>=3600&&t<86400?"H".concat(t/3600):"D".concat(t/86400);return this.core.getText(rh.Rp.OVERLAY,"timeToEndLabel",e,Ru.Ay.CHART.TEXT_STYLE_CURRENT_PROFIT,this.colors.deadLineTextColor.getHEXNUM())}},{key:"getTimeText",value:function(){var t=this.serverTime,e=this.pointsInElement-t%this.pointsInElement;return this.core.getText(rh.Rp.OVERLAY,"timeToEnd",(0,gk.TO)(e),Ru.Ay.CHART.TEXT_STYLE_CURRENT_PROFIT,this.colors.timerTimeColor.getHEXNUM())}},{key:"draw",value:function(){if((0,nh.Mt)(this.selectedPlotType)||!this.candlesTimer||this.pointsInElement<=1)this.destroyed||this.destroy();else{this.destroyed=!1;var t=this.serverTime,e=this.getXFromTime(t-t%this.pointsInElement),n=this.pointsManager.currentValue,r=this.getYFromValue(n),i=this.getTimeLabel();i.setTransform(e+45,r-i.height-2);var o=this.getTimeText();o.setTransform(i.x+i.width-o.width,r+2)}}},{key:"destroy",value:function(){this.destroyed=!0,this.core.clearText("timeToEndLabel"),this.core.clearText("timeToEnd")}}])}(FI),GJ=VJ;function zJ(t){return zJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zJ(t)}function YJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XJ(r.key),r)}}function XJ(t){var e=function(t,e){if("object"!=zJ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zJ(e)?e:e+""}function qJ(t,e,n){return e=ZJ(e),function(t,e){if(e&&("object"==zJ(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,KJ()?Reflect.construct(e,n||[],ZJ(t).constructor):e.apply(t,n))}function KJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(KJ=function(){return!!t})()}function ZJ(t){return ZJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ZJ(t)}function JJ(t,e){return JJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},JJ(t,e)}var QJ=function(t){function e(t,n,r,i,o,a){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(s=qJ(this,e,[t,n])).id=r,s.time=i,s.offset=o,s.theme=a,s.fadeAnimator=new Iz(.4,rh.EK.EaseOutQuint),s.fadeAnimator.enabled=!1,s.initTileTexture(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JJ(t,e)}(e,t),function(t,e,n){return e&&YJ(t.prototype,e),n&&YJ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"initTileTexture",value:function(){var t=new MI.t5M(this.isDarkTheme()?"/images/cabinet/pending-region.png":"/images/cabinet/pending-region-light.png");this.tileTexture=new MI.gPd(t)}},{key:"fade",value:function(){this.fadeAnimator.fromValue=0,this.fadeAnimator.enabled=!0,this.fadeAnimator.setToValue(1)}},{key:"draw",value:function(){this.isThemeChanged()&&this.initTileTexture();var t=this.getXFromTime(this.time-this.offset),e=this.getXFromTime(this.time);if(e>0&&e>t){var n=this.core.getTilingSprite(rh.Rp.CHART,"pendingAreaSprite".concat(this.id),this.tileTexture,10,10).sprite;this.fadeAnimator.setTime(this.ts),n.tilePosition.x-=.75,n.width=e,n.height=this.height,n.position.x=t,this.fadeAnimator.enabled?n.alpha=.7*(1-this.fadeAnimator.getValue()):n.alpha=.7,n.setTransform(0,0,0,0)}else this.destroyElements()}},{key:"destroy",value:function(){this.destroyElements()}},{key:"destroyElements",value:function(){this.core.destroySprite(rh.Rp.CHART,"pendingAreaSprite".concat(this.id)),this.core.destroyDynamicGraphicsNew(rh.Rp.CHART,"pendingAreaSprite".concat(this.id))}}])}(FI),tQ=QJ,eQ=n(64178);function nQ(t){return nQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nQ(t)}function rQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iQ(r.key),r)}}function iQ(t){var e=function(t,e){if("object"!=nQ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nQ(e)?e:e+""}var oQ=function(){return function(t,e,n){return e&&rQ(t.prototype,e),n&&rQ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minValue=Number.MAX_VALUE,this.maxValue=Number.MIN_VALUE,this.enterValue=0,this.exitValue=0,this.time=e}),[{key:"addValue",value:function(t){0===this.enterValue&&(this.enterValue=t),t<this.minValue&&(this.minValue=t),t>this.maxValue&&(this.maxValue=t),this.exitValue=t}},{key:"isEqual",value:function(t){return this.minValue===t.minValue&&this.maxValue===t.maxValue&&this.enterValue===t.enterValue&&this.exitValue===t.exitValue&&this.time===t.time}}])}(),aQ=oQ;function sQ(t){return sQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sQ(t)}function cQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lQ(r.key),r)}}function lQ(t){var e=function(t,e){if("object"!=sQ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sQ(e)?e:e+""}var uQ=function(){return function(t,e,n){return e&&cQ(t.prototype,e),n&&cQ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minCandleValue=Number.MAX_VALUE,this.maxCandleValue=Number.MIN_VALUE,this.enterCandleValue=0,this.exitCandleValue=0,this.minValue=Number.MAX_VALUE,this.maxValue=Number.MIN_VALUE,this.enterValue=0,this.exitValue=0,this.time=0}),[{key:"convertFromCandles",value:function(t,e){this.time=e.time,this.enterValue=t?(t.enterValue+t.exitValue)/2:e.enterValue,this.exitValue=(e.enterValue+e.exitValue+e.minValue+e.maxValue)/4,this.minValue=Math.min(e.minValue,this.enterValue,this.exitValue),this.maxValue=Math.max(e.maxValue,this.enterValue,this.exitValue)}},{key:"addValue",value:function(t,e){0===this.enterCandleValue&&(this.enterCandleValue=e),e<this.minCandleValue&&(this.minCandleValue=e),e>this.maxCandleValue&&(this.maxCandleValue=e),this.exitCandleValue=e,0===this.enterValue&&(this.enterValue=t?(t.enterValue+t.exitValue)/2:e),this.exitValue=(this.minCandleValue+this.maxCandleValue+this.exitCandleValue+this.enterCandleValue)/4,this.minValue=Math.min.apply(null,[this.minCandleValue,this.enterValue,this.exitValue]),this.maxValue=Math.max.apply(null,[this.maxCandleValue,this.enterValue,this.exitValue])}}])}(),dQ=uQ,fQ={NONE:0,DEFAULT:1,QUICK:2,HEAP:3};function hQ(t){return hQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hQ(t)}function pQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mQ(r.key),r)}}function mQ(t){var e=function(t,e){if("object"!=hQ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hQ(e)?e:e+""}var yQ=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){return e&&pQ(t.prototype,e),n&&pQ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"heapify",value:function(e,n,r,i){var o=2*n+1,a=2*n+2,s=n;if(o<r&&e[o][i]>e[n][i]&&(s=o),a<r&&e[a][i]>e[s][i]&&(s=a),s!==n){var c=e[n];e[n]=e[s],e[s]=c,t.heapify(e,s,r,i)}}},{key:"buildMaxHeap",value:function(e,n){for(var r=Math.floor(e.length/2);r>=0;r-=1)t.heapify(e,r,e.length,n);return e}},{key:"sort",value:function(e,n){var r,i=e.length;t.buildMaxHeap(e,n);for(var o=e.length-1;o>0;o-=1)r=e[0],e[0]=e[o],e[o]=r,i-=1,t.heapify(e,0,i,n);return e}}])}(),vQ=yQ;function bQ(t){return bQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bQ(t)}function gQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wQ(r.key),r)}}function wQ(t){var e=function(t,e){if("object"!=bQ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bQ(e)?e:e+""}var jQ=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){return e&&gQ(t.prototype,e),n&&gQ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"partition",value:function(e,n,r,i){var o,a=e[r-1][i],s=n;for(o=n;o<r-1;o+=1)e[o][i]<=a&&(this.swap(e,o,s),s+=1);return t.swap(e,s,r-1),s}},{key:"swap",value:function(t,e,n){var r=t[e];return t[e]=t[n],t[n]=r,t}},{key:"sort",value:function(e,n,r,i){if(n<r){var o=t.partition(e,n,r,i);t.sort(e,n,o,i),t.sort(e,o+1,r,i)}return e}}])}(),xQ=jQ;function _Q(t,e){return parseFloat(t.toFixed(e))}function SQ(t){return SQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SQ(t)}function OQ(t){return function(t){if(Array.isArray(t))return kQ(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return kQ(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kQ(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kQ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function TQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AQ(r.key),r)}}function AQ(t){var e=function(t,e){if("object"!=SQ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=SQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==SQ(e)?e:e+""}var CQ=function(){return function(t,e,n){return e&&TQ(t.prototype,e),n&&TQ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.intervalFactor=100,this.plot=e,this.digits=5,this.reset()}),[{key:"setDigits",value:function(t){this.digits=t}},{key:"addPoint",value:function(t,e,n){if(!(e<=0||t<=0))if(0!==this.points.length){var r=this.points.length-1,i=this.points[r],o=this.points[0];if(i.time!==e){if(!(e>=o.time&&e<i.time)){if((0,nh.Mt)(n)&&e>i.time){var a=Math.floor(e)-Math.floor(i.time);if(a>1)for(var s=1;s<=a;s++){i.time+s<e&&this.points.push(new zI(i.value,i.time+s))}}this.points.push(new zI(t,e))}}else this.points[r]=new zI(t,i.time)}else this.points.push(new zI(t,e))}},{key:"sort",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fQ.DEFAULT;if(t)switch(t){case fQ.DEFAULT:this.points=this.points.sort((function(t,e){return t.time-e.time}));break;case fQ.HEAP:this.points=vQ.sort(this.points,"time");break;case fQ.QUICK:var e=this.points.length-Ru.Ay.CHART.SORT_OFFSET;e<0&&(e=0),this.points=xQ.sort(this.points,e,this.points.length-1,"time")}}},{key:"resetCandles",value:function(){this.candles=[]}},{key:"reset",value:function(){this.fromTime=0,this.toTime=0,this.startPoint=new zI(0,0),this.endPoint=new zI(0,0),this.targetValue=Ru.Ay.CHART.FLT_MAX,this.targetTime=Ru.Ay.CHART.FLT_MAX,this.candleWidth=0,this.currentValue=Ru.Ay.CHART.FLT_MAX,this.currentTime=Ru.Ay.CHART.FLT_MAX,this.points=[],this.candles=[],this.reducedPoints=[],this.interval=1,this.reduceRestSum=0,this.reduceRestCount=0}},{key:"setStartEndPoints",value:function(){var t=Math.pow(10,this.digits);this.startPoint=this.points[0],this.endPoint=this.points[this.points.length-1],this.targetValue=_Q((this.endPoint.value*t+this.reduceRestSum)/((this.reduceRestCount+1)*t),this.digits),this.targetTime=this.endPoint.time,this.currentValue===Ru.Ay.CHART.FLT_MAX&&(this.currentValue=this.targetValue),this.currentTime===Ru.Ay.CHART.FLT_MAX&&(this.currentTime=this.targetTime)}},{key:"getPointsCandleByTime",value:function(t,e){for(var n=[],r=this.points.length,i=0;i<r;i++){var o=this.points[i];t<=o.time&&o.time<e&&n.push(o)}return n}},{key:"needToCalculateReducedPoints",value:function(t){if(!this.reducedPoints.length||this.currentTime>this.toTime&&!t)return!1;var e=Math.max(3,2*this.interval);return Math.abs(this.reducedPoints[this.reducedPoints.length-1].time-this.currentTime)>e}},{key:"checkReducedPoints",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.needToCalculateReducedPoints(t)&&this.calculateReducedPointsToEnd()}},{key:"getAnimatingPoint",value:function(){return new zI(this.currentValue,this.currentTime)}},{key:"getReducedAndAnimatedPoints",value:function(){var t=this.reducedPoints.slice();return t.length?(t[t.length-1].time===this.endPoint.time&&t.pop(),t.push(this.getAnimatingPoint()),t):[]}},{key:"calculateHeikenAshiCandles",value:function(t){var e=Math.floor(this.startPoint.time/t)*t,n=(Math.ceil(this.endPoint.time/t)*t-e)/t;this.candles.length>2&&(this.candles=this.candles.slice(0,this.candles.length-1));for(var r=this.candles.length;r<n;r++){var i=this.candles[r-1]?this.candles[r-1]:null,o=e+this.candles.length*t,a=new dQ;a.time=o,this.fillHeikenAshiCandle(i,a,o,t),this.candles.push(a)}}},{key:"calculateCandles",value:function(t,e){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=Math.floor(this.startPoint.time/t)*t,a=(Math.ceil(this.endPoint.time/t)*t-o)/t;if(this.candles.length>2&&r&&(this.candles=this.candles.slice(0,this.candles.length-1)),0!==a-this.candles.length){for(var s=this.candles.length>0?this.candles[this.candles.length-1].time+t:o,c=s,l=c+t,u=null,d=function(t){n.candles.push(t),u=null},f=0;f<this.points.length;f++){var h=this.points[f],p=h.time,m=h.value;if(!(p<s)&&((c>p||p>=l)&&(null!==u&&d(u),l=(c+=Math.floor((p-c)/t)*t)+t),c<=p&&p<l)){null===u&&(u=new aQ(c));var y=i&&this.points[f].isEqual(this.endPoint);u.addValue(y?(0,ru.xr)(this.currentValue,this.digits+2):m)}}null!==u&&d(u)}}},{key:"fillHeikenAshiCandle",value:function(t,e,n,r){for(var i=this.getPointsCandleByTime(n,n+r),o=0;o<i.length;o++){var a=i[o];e.addValue(t,a.isEqual(this.endPoint)?(0,ru.xr)(this.currentValue,this.digits+2):a.value)}}},{key:"updateCurrentValues",value:function(){this.currentTime!==Ru.Ay.CHART.FLT_MAX&&this.targetTime-this.currentTime>3&&(this.currentTime=this.targetTime,this.currentValue=this.targetValue);var t=this.points[this.points.length-2],e=!1;if(this.currentTime!==Ru.Ay.CHART.FLT_MAX){var n=this.currentTime+(this.targetTime-this.currentTime)/6;t&&t.time>n&&(n=t.time+(this.targetTime-t.time)/6,e=!0),this.currentTime=n}else this.currentTime=this.targetTime;if(this.currentValue!==Ru.Ay.CHART.FLT_MAX){var r=e?t.value:this.currentValue;this.currentValue=this.roundCurrentValue(r+(this.targetValue-r)/6)}else this.currentValue=this.targetValue}},{key:"roundCurrentValue",value:function(t){return t}},{key:"calculatePoints",value:function(t,e,n,r){this.calculateReducedPoints(t,e,n)||this.mergeReducedPoints(t,e),r&&this.calculateReducedPointsToEnd(),this.fromTime=t,this.toTime=e}},{key:"calculateReducedPointsToEnd",value:function(){var t=0;this.reducedPoints.length&&(t=this.reducedPoints[this.reducedPoints.length-1].time);for(var e=Math.pow(10,this.digits),n=[],r=this.points.length,i=0;i<r;i++){var o=this.points[i];o.time>t&&n.push(o)}if(n.length){var a=this.reCalculateReducedPoints(n,this.interval,e,this.digits,!0,!0);a.length&&(this.reducedPoints=[].concat(OQ(this.reducedPoints),OQ(a)))}}},{key:"calculateReducedPoints",value:function(t,e,n){var r=n/Ru.Ay.CHART.OPTIMAL_SECOND_WIDTH,i=Math.floor((e-t)/r),o=this.interval?Math.ceil((e-t)/this.interval):0;if((Math.abs(o-r)<.2*r||i===this.interval)&&this.reducedPoints.length)return!1;this.interval=i;for(var a=Math.pow(10,this.digits),s=this.getTimeFromInterval(t),c=[],l=this.points.length,u=0;u<l;u++){var d=this.points[u];d.time>=s&&d.time<=e&&c.push(d)}return this.reducedPoints=this.reCalculateReducedPoints(c,i,a,this.digits,!0,!1),!0}},{key:"mergeReducedPoints",value:function(t,e){var n=[],r=[],i=this.getTimeFromInterval(t),o=e+this.interval,a=0;this.reducedPoints.length&&(a=this.reducedPoints[0].time);var s=0;this.reducedPoints.length&&(s=this.reducedPoints[this.reducedPoints.length-1].time);var c=Math.pow(10,this.digits);if(t!==this.fromTime&&i<a)for(var l=this.points.length,u=0;u<l;u++){var d=this.points[u];d.time<a&&d.time>i&&n.push(d)}var f=this.endPoint.time;if(f>s&&e>f||e>s&&f>e)for(var h=this.points.length,p=0;p<h;p++){var m=this.points[p];m.time>s&&m.time<=o&&r.push(m)}if(r.length||n.length){var y=this.reCalculateReducedPoints(r,this.interval,c,this.digits,!0,!0),v=this.reCalculateReducedPoints(n,this.interval,c,this.digits,!1,!1);if(y.length||v.length){this.reducedPoints=[].concat(OQ(v),OQ(this.reducedPoints),OQ(y));for(var b=[],g=this.reducedPoints.length,w=0;w<g;w++){var j=this.reducedPoints[w];j.time>=i&&j.time<=o&&b.push(j)}this.reducedPoints=b}}}},{key:"reCalculateReducedPoints",value:function(t,e,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!t.length)return[];i&&(this.reduceRestSum=0,this.reduceRestCount=0);var a,s=[],c=0,l=0,u=Ru.Ay.CHART.INT_MAX,d=Ru.Ay.CHART.INT_MIN;if(o&&this.reducedPoints.length){var f=this.reducedPoints[this.reducedPoints.length-1].time;a=e>0?f-f%e+e:f}else{var h=t[0].time;a=e>0?h-h%e:h}for(var p=t.length,m=0;m<p;m++){var y=t[m];if(c+=y.value*n,l++,y.value>d&&(d=y.value),y.value<u&&(u=y.value),y.time>=a){var v=c>0?_Q(c/(l*n),r):y.value;c=0,l=0,s.push(new zI(v,y.time,u,d)),a+=e,u=Ru.Ay.CHART.INT_MAX,d=Ru.Ay.CHART.INT_MIN}i&&this.points[this.points.length-1].time===y.time&&(this.reduceRestSum=c,this.reduceRestCount=l)}return s}},{key:"getTimeFromInterval",value:function(t){return t-(this.interval>0?this.interval*this.intervalFactor:this.intervalFactor)}},{key:"getTimeFromX",value:function(t){return this.startPoint.time+t/this.plot.secondWidth}},{key:"getXFromTime",value:function(t){return(t-this.startPoint.time)*this.plot.secondWidth-this.plot.shift}},{key:"getSecondsInCandle",value:function(){return(0,nh.Mt)(this.plot.chartType)?5:this.candleWidth/this.plot.secondWidth}},{key:"getCandlesForIndicator",value:function(t){var e=(0,nh.Mt)(this.plot.chartType),n=t!==rh.vh.Bottom;return e&&n?this.reducedPoints:this.candles}},{key:"getHistogramCandleWidth",value:function(){return(0,nh.Mt)(this.plot.chartType)?1:this.candleWidth}},{key:"calculateCandleWidth",value:function(t,e){this.candleWidth=e*t;var n=this.candleWidth>8?2:this.candleWidth/100*20;this.candleWidth-=2*n}},{key:"getChartCandlesCacheKey",value:function(t){var e="",n=this.getCandlesForIndicator(t.position);return e+=(n.length>0?n[0].time.toString():"-")+"|",e+=this.interval.toString()}},{key:"hasPointsToCalculateDrawings",value:function(){return this.points.length>1}},{key:"getLastValue",value:function(){return this.points.length?this.points[this.points.length-1].value:0}}])}(),PQ=CQ;function EQ(t){return EQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EQ(t)}function IQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NQ(r.key),r)}}function NQ(t){var e=function(t,e){if("object"!=EQ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=EQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==EQ(e)?e:e+""}var DQ=function(){return function(t,e,n){return e&&IQ(t.prototype,e),n&&IQ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.plot=e,this.canvas=e.context,this.isMobile=e.globalSettings.isMobile,this.handlingVerticalScroll=!1,this.prevVerticalScrollPosition=Ru.Ay.CHART.FLT_MAX,this.verticalScrollStepCount=0,this.verticalScrollStep=0}),[{key:"isHandling",get:function(){return this.handlingVerticalScroll}},{key:"minMaxShift",get:function(){return this.verticalScrollStepCount>0?this.verticalScrollStep*this.verticalScrollStepCount:0}},{key:"canHandle",value:function(t,e){return this.isHandling||this.isInVerticalScrollArea(t)}},{key:"handle",value:function(t,e,n,r){if(this.handlingVerticalScroll=!0,this.setScrollCursor(),this.prevVerticalScrollPosition!==Ru.Ay.CHART.FLT_MAX){0===this.verticalScrollStep&&(this.verticalScrollStep=this.calculateScrollStep(n,r));var i=e-this.prevVerticalScrollPosition,o=i>0?1:-1;this.prevVerticalScrollPosition=e;var a=this.verticalScrollStepCount;this.verticalScrollStepCount+=o*Math.ceil(Math.abs(i)/this.isMobile?2:3.5),this.verticalScrollStepCount<0&&(this.verticalScrollStepCount=0),a!==this.verticalScrollStepCount&&this.plot.calculateWindowParams()}else this.prevVerticalScrollPosition=e}},{key:"stopHandling",value:function(){var t=this,e=this.handlingVerticalScroll;this.prevVerticalScrollPosition=Ru.Ay.CHART.FLT_MAX,this.handlingVerticalScroll=!1,this.setDefaultCursor(),e&&this.plot.plotEventListeners[rh.b1.VERTICAL_SCROLL_CHANGED].forEach((function(e){return e(t.verticalScrollStepCount)}))}},{key:"reset",value:function(){var t=this;this.verticalScrollStepCount=0,this.verticalScrollStep=0,this.stopHandling(),this.plot.calculateWindowParams(),this.plot.plotEventListeners[rh.b1.VERTICAL_SCROLL_CHANGED].forEach((function(e){return e(t.verticalScrollStepCount)}))}},{key:"isInVerticalScrollArea",value:function(t){return this.canvas.width*(this.isMobile?.85:.95)<=t&&t<=this.canvas.width}},{key:"calculateScrollStep",value:function(t,e){return Math.abs(e-t)/100}},{key:"setScrollCursor",value:function(){this.canvas.container.style.cursor="row-resize"}},{key:"setDefaultCursor",value:function(){this.canvas.container.style.cursor="default"}}])}();function LQ(t){return LQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LQ(t)}function MQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BQ(r.key),r)}}function RQ(t,e,n){return(e=BQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BQ(t){var e=function(t,e){if("object"!=LQ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=LQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==LQ(e)?e:e+""}var HQ=0,$Q=1,FQ=2,WQ=function(){return function(t,e,n){return e&&MQ(t.prototype,e),n&&MQ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),RQ(this,"onKeyDown",(function(t){if(8===t.which){(!/INPUT|SELECT|TEXTAREA/i.test(t.target.tagName)||t.target.disabled||t.target.readOnly)&&t.preventDefault()}})),RQ(this,"onKeyUp",(function(t){if(n.selectedDrawings.length)switch(t.code){case"Backspace":/INPUT|SELECT|TEXTAREA/i.test(t.target.tagName)||u.A.publish(y.Fk);break;case"Escape":n.deselectAll()}})),RQ(this,"onMouseDown",(function(t,e,r){if(n.state===HQ){if(!r||n.selectedDrawings.length>0)for(var i=0;i<n.drawings.length;i++)for(var o=n.drawings[i].drawingPoints,a=0;a<o.length;a++)if(o[a].isClickedOnElement(t,e))return void n.select(n.drawings[i],r);var s=n.drawings.find((function(n){return n.isInsideHitZone(t,e)}));s?(n.state=$Q,n.select(s,r)):n.deselectAll()}})),RQ(this,"onMouseMove",(function(t,e){if(n.state===$Q||n.state===FQ){var r=n.drawings.filter((function(t){return t.isLocked})).map((function(t){return t.index})),i=n.selectedDrawings.filter((function(t){var e=t.index;return!r.includes(e)}));n.state===$Q?(n.pointDiffs={},i.forEach((function(r){r.drawingPoints.forEach((function(r){n.pointDiffs[r.key]=[r.x-t,r.y-e]}))}))):i.forEach((function(r){r.drawingPoints.forEach((function(r){var i=n.pointDiffs[r.key];i&&r.move(t+i[0],e+i[1],!1)}))})),n.state=FQ}})),RQ(this,"onMouseUp",(function(){if(n.state===FQ){var t=[];n.selectedDrawings.filter((function(t){return!t.isLocked})).forEach((function(e){e.drawingPoints.forEach((function(e){e.stop(!1),t.push(e.getPointData())}))})),t.length&&u.A.publish(y.HI,new H.A(t))}n.state=HQ})),this.chartId=e.chartId,this.context=e.context,this.drawings=e.indicators.filter((function(t){return t.isDrawing})),this.assetId=e.assetId,this.selectedDrawings=[],this.draggablePoints=[],this.draggablePoint=null,this.pointDiffs={},this.state=HQ,e.globalSettings.isMobile?this.subscribeToMobileEvents():this.subscribeToInputEvents()}),[{key:"addDraggablePoint",value:function(t){var e=this;t.forEach((function(t){return e.draggablePoints.push(t)}))}},{key:"isPointSelected",value:function(){return null!=this.draggablePoint}},{key:"onMovingPointStop",value:function(){this.isPointSelected()&&(this.draggablePoint.stop(),this.draggablePoint=null)}},{key:"calculatePoints",value:function(){this.draggablePoints.forEach((function(t){return t.calculate()}))}},{key:"checkPointHit",value:function(t,e){if(this.draggablePoint)return!0;for(var n=0;n<this.draggablePoints.length;n++){var r=this.draggablePoints[n];if(r&&r.isClickedOnElement(t,e))return this.draggablePoint=r,!0}return!1}},{key:"moveSelectedPoint",value:function(t,e,n){null!=this.draggablePoint&&(this.drawings.filter((function(t){return!t.isLocked})).map((function(t){return t.index})).includes(this.draggablePoint.index)&&this.draggablePoint.move(t,e,n))}},{key:"deleteDrawingPoints",value:function(t){for(var e=t.drawingPoints.map((function(t){return t.key})),n=this.draggablePoints.length-1;n>=0;n--){var r=this.draggablePoints[n].key;e.includes(r)&&(this.draggablePoints[n].destroy(),this.draggablePoints.splice(n,1))}}},{key:"setDrawings",value:function(t){var e=this.drawings.length;this.drawings=t,e>0&&0===this.drawings.length&&this.deselectAll()}},{key:"subscribeToMobileEvents",value:function(){var t=this;this.context.addEventListeners([jz],(function(){t.onMovingPointStop()}))}},{key:"subscribeToInputEvents",value:function(){var t=this;this.context.addEventListeners([Oz,gz],(function(e,n,r){t.onMouseDown(e,n,r)})),this.context.addEventListeners([xz,bz],(function(e,n){return t.onMouseMove(e,n)})),this.context.addEventListeners([jz,wz],(function(){t.onMovingPointStop(),t.onMouseUp()}))}},{key:"onFirstDrawingSelected",value:function(){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),u.A.publish(y.Er,new H.A(this.chartId))}},{key:"onLastDrawingDeselected",value:function(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),u.A.publish(y.Er,new H.A(!1))}},{key:"isMovingDrawing",value:function(){return this.state!==HQ}},{key:"select",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isSelected?e&&this.selectedDrawings.length>1&&this.deselect(t):(e||this.deselectAll(),this.selectedDrawings.push(t),t.onSelect(),1===this.selectedDrawings.length&&this.onFirstDrawingSelected(),u.A.publish(y.L2,new H.A(t.index)))}},{key:"syncSelected",value:function(t){var e=this;this.drawings.forEach((function(n){t.includes(n.index)||e.deselect(n)}))}},{key:"deselect",value:function(t){var e=[];this.selectedDrawings.forEach((function(n){return n.index===t.index?n.onDeselect():e.push(n)})),this.selectedDrawings=e,u.A.publish(y._w,new H.A(t.index))}},{key:"deselectAll",value:function(){0!==this.selectedDrawings.length&&(this.selectedDrawings.forEach((function(t){return t.onDeselect()})),this.selectedDrawings=[],this.onLastDrawingDeselected(),u.A.publish(y.En))}}])}(),UQ=WQ;function VQ(t){return VQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VQ(t)}function GQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zQ(r.key),r)}}function zQ(t){var e=function(t,e){if("object"!=VQ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=VQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==VQ(e)?e:e+""}function YQ(t,e,n){return e=qQ(e),function(t,e){if(e&&("object"==VQ(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,XQ()?Reflect.construct(e,n||[],qQ(t).constructor):e.apply(t,n))}function XQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(XQ=function(){return!!t})()}function qQ(t){return qQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qQ(t)}function KQ(t,e){return KQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},KQ(t,e)}var ZQ="/themes/cabinet/images/express-icon-dark-theme.svg",JQ=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=YQ(this,e,[t,n])).express=r,i.id=r.id,i.offsetY=7,i.offsetX=12,i.rendered=!1,i.animator=new Iz,i.animator.curveType=rh.EK.EaseOutQuint,i.animator.calculateToOne=!0,i.animator.timeout=.1,i.animator.duration=.3,i.animator.setToValue(1),i.animator.enabled=!1,i.iconKey="icon-".concat(i.id),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KQ(t,e)}(e,t),function(t,e,n){return e&&GQ(t.prototype,e),n&&GQ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"startAnimation",value:function(){this.animator.reset(),this.animator.setToValue(1),this.animator.enabled=!0}},{key:"drawIcon",value:function(t,e){var n=this.generateIcon();Bt()(n,"texture.baseTexture.imageUrl","")!==ZQ&&(this.core.destroySprite(rh.Rp.CLOSED_ORDER_NOTE_TEXT,this.iconKey),n=this.generateIcon()),n.setTransform(t-37,e-11,.5,.5)}},{key:"generateIcon",value:function(){return this.core.getSprite(rh.Rp.CLOSED_ORDER_NOTE_TEXT,this.iconKey,this.getSpritePath(ZQ)).sprite}},{key:"rectFromLeft",value:function(t,e){var n=this,r=this.colors.expressColor;this.animator.setTime(this.ts);var i=this.animator.getValue(),o=this.core.getDynamicGraphics(rh.Rp.CLOSED_ORDER_NOTE,"dotGraphics".concat(this.id));o.isNew&&(o.graphics.lineStyle(0,0,0),o.graphics.beginFill(this.colors.betElementTextColor.getHEXNUM(),1),o.graphics.drawCircle(0,0,3),o.graphics.endFill()),o.graphics.setTransform(t,e,i,i),o.graphics.alpha=i,o=null,this.infoBlockHeight=30,this.infoBlockWidth=30;var a=t-this.offsetX-this.infoBlockWidth,s=e-this.infoBlockHeight/2,c=this.core.getDynamicGraphics(rh.Rp.CLOSED_ORDER_NOTE,"rectangle-".concat(this.id)),l=[a,s,a+this.infoBlockWidth,s,t-5,e,a+this.infoBlockWidth,s+this.infoBlockHeight,a,s+this.infoBlockHeight];c.isNew&&(c.graphics.beginFill(r.getHEXNUM(),r.getAlpha()),c.graphics.drawPolygon(l),c.graphics.endFill(),c.graphics.interactive=!0,c.graphics.buttonMode=!0,c.graphics.removeAllListeners(),c.graphics.on("pointerdown",(function(){var t;n.pointsManager.plot.store.dispatch((t=n.express.expressId,{type:ou.xp,payload:t}))}))),c=null}},{key:"drawLine",value:function(t,e,n){if(!(t<=0)){this.core.clearDynamicGraphicsNew("lineGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("rectangle-".concat(this.id));var r=this.colors.expressColor,i=this.core.getDynamicGraphics(rh.Rp.DEALS,"lineGraphics-".concat(this.id)),o=this.getXFromTime(this.express.closeTimestamp)-e;i.graphics.lineStyle(1,r.getHEXNUM()),i.graphics.moveTo(0,0),i.graphics.lineTo(o,0),i.graphics.setTransform(e,n,t,5-4*t)}}},{key:"shouldRerender",value:function(){return this.isChangedFromTo()||this.isChangedExpirationTime()||this.isChangedMinMax()||this.isSizeChanged()}},{key:"draw",value:function(){if(!this.rendered||this.shouldRerender()){this.animator.setTime(this.ts);var t=this.animator.getValue();t>=1&&(this.rendered=!0);var e=this.express.openTimestamp,n=this.getXFromTime(this.isLineChart()?e:Math.floor(e/this.pointsInElement)*this.pointsInElement),r=this.getYFromValue(this.express.openPrice);this.drawLine(t,n,r),this.rectFromLeft(n,r),this.drawIcon(n,r)}}},{key:"changeEnabledTooltip",value:function(t){this.enabledTooltipMessage=t,this.rendered=!1,this.destroy()}},{key:"destroy",value:function(){this.core.destroyDynamicGraphicsNew(rh.Rp.DEALS,"lineGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(rh.Rp.CLOSED_ORDER_NOTE,"rectangle-".concat(this.id)),this.core.destroyDynamicGraphicsNew(rh.Rp.CLOSED_ORDER_NOTE,"dotGraphics".concat(this.id)),this.core.destroySprite(rh.Rp.CLOSED_ORDER_NOTE_TEXT,"icon-".concat(this.id))}}])}(FI),QQ=JQ;function t0(t){return t0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(t)}function e0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n0(r.key),r)}}function n0(t){var e=function(t,e){if("object"!=t0(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=t0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==t0(e)?e:e+""}function r0(t,e,n){return e=o0(e),function(t,e){if(e&&("object"==t0(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,i0()?Reflect.construct(e,n||[],o0(t).constructor):e.apply(t,n))}function i0(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(i0=function(){return!!t})()}function o0(t){return o0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o0(t)}function a0(t,e){return a0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a0(t,e)}var s0=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=r0(this,e,[t,n,r])).type=Ru.W.ADX,i.position=rh.vh.Bottom,i.valueYScaleType=rh.gd.Percentage,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a0(t,e)}(e,t),function(t,e,n){return e&&e0(t.prototype,e),n&&e0(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.adxSmoothing+this.settings.diLength}},{key:"flush",value:function(){this.pDI=[],this.mDI=[],this.pDM=[],this.mDM=[],this.dx=[],this.adx=[],this.tr=[],this.pDMEma=[],this.mDMEma=[],this.trEma=[],this.initMinMaxValues()}},{key:"initMinMaxValues",value:function(){this.position===rh.vh.Overlay?(this.minValue=Ru.Ay.CHART.DBL_MAX,this.maxValue=Ru.Ay.CHART.DBL_MIN):(this.minVal=Ru.Ay.CHART.DBL_MAX,this.maxVal=Ru.Ay.CHART.DBL_MIN)}},{key:"roundValue",value:function(t){return t>=0&&t<=100?yn(t,2):""}},{key:"calculate",value:function(){this.checkFlush(),this.getIndicatorValues()}},{key:"removeLastCalculatedPoint",value:function(){this.pDI.length>0&&this.pDI.splice(-1,1),this.mDI.length>0&&this.mDI.splice(-1,1),this.pDM.length>0&&this.pDM.splice(-1,1),this.mDM.length>0&&this.mDM.splice(-1,1),this.dx.length>0&&this.dx.splice(-1,1),this.adx.length>0&&this.adx.splice(-1,1),this.tr.length>0&&this.tr.splice(-1,1),this.pDMEma.length>0&&this.pDMEma.splice(-1,1),this.mDMEma.length>0&&this.mDMEma.splice(-1,1),this.trEma.length>0&&this.trEma.splice(-1,1)}},{key:"getIndicatorValues",value:function(){if(this.removeLastCalculatedPoint(),this.candles.length<this.maxPeriod)return[];for(var t=1+this.pDM.length;t<this.candles.length;t++){var e=this.candles[t],n=this.candles[t-1],r=e.maxValue-n.maxValue,i=n.minValue-e.minValue,o=r>i&&r>0?r:0,a=r<i&&i>0?i:0,s=Math.max(e.maxValue-e.minValue,Math.abs(e.maxValue-n.exitValue),Math.abs(e.minValue-n.exitValue));this.pDM.push(new zI(o,e.time)),this.mDM.push(new zI(a,e.time)),this.tr.push(new zI(s,e.time))}var c=1/this.settings.diLength;this.trEma=this.getEMA(this.trEma,this.settings.diLength,this.tr,c),this.pDMEma=this.getEMA(this.pDMEma,this.settings.diLength,this.pDM,c),this.mDMEma=this.getEMA(this.mDMEma,this.settings.diLength,this.mDM,c);for(var l=this.pDI.length;l<this.pDMEma.length;l++){var u=this.trEma[l],d=u.value,f=u.time,h=100*this.pDMEma[l].value/(0===d?1:d),p=100*this.mDMEma[l].value/(0===d?1:d);this.pDI.push(new zI(h,f)),this.mDI.push(new zI(p,f))}for(var m=this.dx.length;m<this.pDI.length;m++){var y=this.pDI[m].value,v=this.mDI[m].value,b=y+v,g=100*Math.abs(y-v)/(0===b?1:b);this.dx.push(new zI(g,this.pDI[m].time))}this.adx=this.getEMA(this.adx,this.settings.adxSmoothing,this.dx,1/this.settings.adxSmoothing)}},{key:"draw",value:function(){if(this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.adx.length){var t=this.filterIndicatorPoints(this.adx,!1),e=this.filterIndicatorPoints(this.pDI,!1),n=this.filterIndicatorPoints(this.mDI,!1);this.recalculateMinMax(t,e,n);var r=this.settings.lines,i=r.adx,o=r.plusDI,a=r.minusDI;this.getShowValue(i)&&this.drawBottomLine(t,"adx",i.lineWidth,i.color,!0),this.getShowValue(o)&&this.drawBottomLine(e,"plusDMI",o.lineWidth,o.color,!0),this.getShowValue(a)&&this.drawBottomLine(n,"minusDMI",a.lineWidth,a.color,!0),(i.length||e.length||n.length)&&(this.drawMaxLevel(this.max),this.drawMiddleLevel(this.min+(this.max-this.min)/2),this.drawMinLevel(this.min))}}}])}(oN);function c0(t){return c0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c0(t)}function l0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u0(r.key),r)}}function u0(t){var e=function(t,e){if("object"!=c0(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=c0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c0(e)?e:e+""}function d0(t,e,n){return e=h0(e),function(t,e){if(e&&("object"==c0(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f0()?Reflect.construct(e,n||[],h0(t).constructor):e.apply(t,n))}function f0(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f0=function(){return!!t})()}function h0(t){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h0(t)}function p0(t,e){return p0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p0(t,e)}var m0=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=d0(this,e,[t,n,r])).type=Ru.W.ALLIGATOR,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p0(t,e)}(e,t),function(t,e,n){return e&&l0(t.prototype,e),n&&l0(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return Math.max(this.settings.jaws.period,this.settings.teeth.period,this.settings.lips.period)}},{key:"flush",value:function(){this.jaws={},this.teeth={},this.lips={},this.cachedPoints={}}},{key:"calculate",value:function(){var t=this;this.position===rh.vh.Overlay?(this.maxValue=Ru.Ay.CHART.DBL_MIN,this.minValue=Ru.Ay.CHART.DBL_MAX):(this.minVal=Ru.Ay.CHART.DBL_MAX,this.maxVal=Ru.Ay.CHART.DBL_MIN),Object.keys(this.settings.lines).forEach((function(e){t.averageShift=t.settings[e].shift,t[e]=t.getMovingAveragePoints({type:em.SMMA,cacheId:"".concat(t.cacheId).concat(t.settings[e].period).concat(t.settings[e].shift),period:t.settings[e].period})}))}},{key:"draw",value:function(){var t=this;Object.keys(this.settings.lines).forEach((function(e){t.getShowValue(t.settings.lines[e])&&t.drawAlligatorLine(t.filterIndicatorPoints(t[e],!0),e)}))}},{key:"drawAlligatorLine",value:function(t,e){var n=this.settings.lines[e],r=n.color,i=n.lineWidth,o=this.settings[e].shift;this.drawLineWithParams({points:t,elementId:"alligator-".concat(e,"-").concat(this.index),color:r,lineWidth:i,shift:o})}}])}(oN);function y0(t){return y0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y0(t)}function v0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b0(r.key),r)}}function b0(t){var e=function(t,e){if("object"!=y0(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=y0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==y0(e)?e:e+""}function g0(t,e,n){return e=_0(e),function(t,e){if(e&&("object"==y0(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,w0()?Reflect.construct(e,n||[],_0(t).constructor):e.apply(t,n))}function w0(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(w0=function(){return!!t})()}function j0(t,e,n,r){var i=x0(_0(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function x0(){return x0="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=_0(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},x0.apply(null,arguments)}function _0(t){return _0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_0(t)}function S0(t,e){return S0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S0(t,e)}var O0=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=g0(this,e,[t,n,r])).type=Ru.W.AWESOME_OSCILLATOR,i.position=rh.vh.Bottom,i.valueYScaleType=rh.gd.Range,i.lineSegmentIds=[],i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S0(t,e)}(e,t),function(t,e,n){return e&&v0(t.prototype,e),n&&v0(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return Math.max(this.settings.periodShort,this.settings.periodLong)}},{key:"zeroLevel",get:function(){return Math.abs(this.min/(this.max-this.min))}},{key:"updateSettings",value:function(t){j0(e,"updateSettings",this,3)([t]);var n=this.settings.lines.main,r=n.colors,i=n.opacity,o=r.up,a=r.down;this.upColor=new AI(o.color,i/100),this.downColor=new AI(a.color,i/100)}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint(),this.calculatePoints()}},{key:"flush",value:function(){this.emasShort=[],this.emasLong=[],this.histogramPoints=[],this.initMinMax()}},{key:"initMinMax",value:function(){this.position===rh.vh.Overlay?(this.maxValue=Ru.Ay.CHART.DBL_MIN,this.minValue=Ru.Ay.CHART.DBL_MAX):(this.minVal=Ru.Ay.CHART.DBL_MAX,this.maxVal=Ru.Ay.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){this.emasShort.length>0&&this.emasShort.splice(-1,1),this.emasLong.length>0&&this.emasLong.splice(-1,1),this.histogramPoints.length>0&&this.histogramPoints.splice(-1,1)}},{key:"calculatePoints",value:function(){var t=this.settings,e=t.periodShort,n=t.periodLong;this.emasShort=this.sma({source:rh.U$.HL2,period:e}),this.emasLong=this.sma({source:rh.U$.HL2,period:n});for(var r=Math.max(this.emasShort.length,this.emasLong.length),i=r-Math.min(this.emasShort.length,this.emasLong.length),o=i+this.histogramPoints.length;o<this.candles.length;o++){var a=this.emasLong.length===r?this.emasLong[o]:this.emasLong[o-i],s=this.emasShort.length===r?this.emasShort[o]:this.emasShort[o-i];a&&s&&this.histogramPoints.push(new zI(s.value-a.value,a.time))}}},{key:"minMaxBalance",value:function(){j0(e,"minMaxBalance",this,3)([]),this.min>0&&this.max>0?this.min=0:this.min<0&&this.max<0&&(this.max=0)}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var t=this.filterIndicatorPoints(this.histogramPoints);if(this.recalculateMinMax(t),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.drawBottomLevel("zero",100*this.zeroLevel,this.colors.indicatorBottomNullLineColor,1,"",0),this.settings.lines.main.figure===om.HISTOGRAM)this.drawBottomHistogram(this.histogramPoints,this.upColor,this.downColor,this.zeroLevel);else{if(this.histogramPoints.length<3)return;for(var e=this.core.getDynamicContainer(rh.Rp.INDICATORS_BOTTOM,"ao-container-".concat(this.index)),n=null,r=[],i=1;i<this.histogramPoints.length;i++){var o=this.histogramPoints[i-1],a=this.histogramPoints[i],s=a.value>o.value?this.upColor:this.downColor;null!=n&&s!==n&&(this.drawLineSegment(e,r,n),r=[]),0===r.length?r.push(o,a):r.push(a),n=s}this.drawLineSegment(e,r,n)}}},{key:"drawLineSegment",value:function(t,e,n){if(0!==e.length){var r="bottomIndicatorLine-".concat(this.index,"-line-").concat(e[0].time);this.lineSegmentIds.push(r);var i=this.getDynamicGraphics(rh.Rp.INDICATORS_BOTTOM,r,{parent:t}),o=this.settings.lines.main.lineWidth;i.graphics.lineStyle(o,this.prepareColor(n),this.prepareAlpha(n));for(var a=0;a<e.length;a++)i.graphics[0===a?"moveTo":"lineTo"](this.getXFromTime(e[a].time),this.getYFromValueIndicator(e[a].value,!0))}}},{key:"destroy",value:function(){var t=this;j0(e,"destroy",this,3)([]),this.core.destroyDynamicContainer(rh.Rp.INDICATORS_BOTTOM,"ao-container-".concat(this.index)),this.lineSegmentIds.forEach((function(e){return t.core.destroyDynamicGraphicsNew(rh.Rp.INDICATORS_BOTTOM,e)})),this.lineSegmentIds=[]}}])}(oN);function k0(t){return k0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k0(t)}function T0(t){return function(t){if(Array.isArray(t))return A0(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return A0(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A0(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A0(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function C0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P0(r.key),r)}}function P0(t){var e=function(t,e){if("object"!=k0(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=k0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==k0(e)?e:e+""}function E0(t,e,n){return e=N0(e),function(t,e){if(e&&("object"==k0(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,I0()?Reflect.construct(e,n||[],N0(t).constructor):e.apply(t,n))}function I0(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(I0=function(){return!!t})()}function N0(t){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},N0(t)}function D0(t,e){return D0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D0(t,e)}var L0=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=E0(this,e,[t,n,r])).type=Ru.W.BOLLINGER_BANDS,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D0(t,e)}(e,t),function(t,e,n){return e&&C0(t.prototype,e),n&&C0(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"flush",value:function(){this.initMinMax(),this.points={top:[],middle:[],bottom:[]},this.filteredPoints={top:[],middle:[],bottom:[]}}},{key:"initMinMax",value:function(){this.position===rh.vh.Overlay?(this.maxValue=Ru.Ay.CHART.DBL_MIN,this.minValue=Ru.Ay.CHART.DBL_MAX):(this.minVal=Ru.Ay.CHART.DBL_MAX,this.maxVal=Ru.Ay.CHART.DBL_MIN)}},{key:"calculate",value:function(){this.initMinMax(),this.checkFlush(),this.points.top.length&&(this.points.top.splice(-1,1),this.points.middle.splice(-1,1),this.points.bottom.splice(-1,1));for(var t=this.points.top.length+this.settings.period<this.candles.length,e=this.points.top.length+this.settings.period;e<this.candles.length;e++)this.calculatePoints(e);t&&(this.filteredPoints={top:this.filterIndicatorPoints(this.points.top,!0),middle:this.filterIndicatorPoints(this.points.middle,!0),bottom:this.filterIndicatorPoints(this.points.bottom,!0)})}},{key:"calculatePoints",value:function(t){for(var e=0,n=0;n<this.settings.period;n++){var r=t-n;r>=0&&(e+=this.candles[r].exitValue)}for(var i=0,o=e/this.settings.period,a=0;a<this.settings.period;a++){var s=t-a;s>=0&&(i+=Math.pow(this.candles[s].exitValue-o,2))}i=Math.sqrt(i/this.settings.period),this.points.top.push(new zI(o+this.settings.deviation*i,this.candles[t].time)),this.points.middle.push(new zI(o,this.candles[t].time)),this.points.bottom.push(new zI(o-this.settings.deviation*i,this.candles[t].time))}},{key:"draw",value:function(){var t=this;this.clearAllDynamicGraphics(),this.getShowValue(this.settings.lines.background)&&this.drawFill(),Object.keys(this.settings.lines).forEach((function(e){var n=t.settings.lines[e];t.getShowValue(n)&&t.isLine(n)&&t.drawLineWithParams({points:t.filteredPoints[e],elementId:"bollinger-bands-".concat(e,"-").concat(t.index),color:n.color,alpha:n.opacity/100,lineWidth:n.lineWidth})}))}},{key:"drawFill",value:function(){var t=T0(this.filteredPoints.bottom).reverse(),e=[].concat(T0(t),T0(this.filteredPoints.top)),n=this.settings.lines.background,r=n.color,i=n.opacity,o=this.getDynamicGraphics(rh.Rp.INDICATORS,"bollinger-".concat(this.index));o.graphics.beginFill(this.prepareColor(r),i/100);for(var a=0;a<e.length;a++){var s=e[a],c=s.time,l=s.value;o.graphics[0===a?"moveTo":"lineTo"](this.getXFromTime(c+this.averageShift*this.pointsInElement),this.getYFromValue(l))}o.graphics.endFill()}}])}(oN);function M0(t){return M0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M0(t)}function R0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B0(r.key),r)}}function B0(t){var e=function(t,e){if("object"!=M0(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=M0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==M0(e)?e:e+""}function H0(t,e,n){return e=F0(e),function(t,e){if(e&&("object"==M0(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$0()?Reflect.construct(e,n||[],F0(t).constructor):e.apply(t,n))}function $0(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($0=function(){return!!t})()}function F0(t){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F0(t)}function W0(t,e){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},W0(t,e)}var U0=0,V0=1,G0=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=H0(this,e,[t,n,r])).type=Ru.W.FRACTAL,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W0(t,e)}(e,t),function(t,e,n){return e&&R0(t.prototype,e),n&&R0(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"flush",value:function(){this.fractalPoints=[]}},{key:"calculate",value:function(){this.checkFlush(),this.fractalPoints.length&&this.fractalPoints.splice(-1,1);for(var t=this.fractalPoints.length;t<this.candles.length;t++){for(var e=this.candles[t],n=e.maxValue,r=e.minValue,i=!0,o=!0,a=1;a<=this.settings.period;a++){if(!this.candles[t-a]||!this.candles[t+a]){i=!1,o=!1;break}(n<=this.candles[t-a].maxValue||n<=this.candles[t+a].maxValue)&&(i=!1),(r>=this.candles[t-a].minValue||r>=this.candles[t+a].minValue)&&(o=!1)}i&&this.fractalPoints.push({type:U0,point:new zI(n,this.candles[t].time)}),o&&this.fractalPoints.push({type:V0,point:new zI(r,this.candles[t].time)})}}},{key:"filterWindow",value:function(t){for(var e=[],n=this.pointsManager.getSecondsInCandle(),r=this.getTimeFrom()-n,i=this.getTimeTo()+n,o=0;o<t.length;o++)t[o].point.time>=r&&t[o].point.time<=i&&e.push(t[o]);return e}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var t=this.getDynamicGraphics(rh.Rp.INDICATORS,"fractal"),e=10;e<5&&(e=5),e>12&&(e=12);for(var n=this.settings.lines,r=n.up,i=n.down,o=this.getShowValue(r),a=this.getShowValue(i),s=this.filterWindow(this.fractalPoints),c=0;c<s.length;c++){var l=s[c],u=this.getXFromTime(l.point.time)-e/2,d=this.getYFromValue(l.point.value);u+=e/2,l.type===U0?(d-=2*e,o&&(t.graphics.beginFill(this.prepareColor(r.color),1),t.graphics.drawPolygon([u,d,u-e/2,d+e,u,d+e/1.5,u+e/2,d+e,u,d]))):(d+=2*e,a&&(t.graphics.beginFill(this.prepareColor(i.color),1),t.graphics.drawPolygon([u,d,u-e/2,d-e,u,d-e/1.5,u+e/2,d-e,u,d]))),t.graphics.endFill()}t=null}}])}(oN);function z0(t){return z0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(t)}function Y0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X0(r.key),r)}}function X0(t){var e=function(t,e){if("object"!=z0(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=z0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==z0(e)?e:e+""}function q0(t,e,n){return e=J0(e),function(t,e){if(e&&("object"==z0(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,K0()?Reflect.construct(e,n||[],J0(t).constructor):e.apply(t,n))}function K0(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(K0=function(){return!!t})()}function Z0(){return Z0="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=J0(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Z0.apply(null,arguments)}function J0(t){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J0(t)}function Q0(t,e){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Q0(t,e)}var t1=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=q0(this,e,[t,n,r])).type=Ru.W.MACD,i.position=rh.vh.Bottom,i.valueYScaleType=rh.gd.Range,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q0(t,e)}(e,t),function(t,e,n){return e&&Y0(t.prototype,e),n&&Y0(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return Math.max(this.settings.fastPeriod+this.settings.signalPeriod,this.settings.slowPeriod+this.settings.signalPeriod)}},{key:"zeroLevel",get:function(){return Math.abs(this.min/(this.max-this.min))}},{key:"zeroLevelPercent",get:function(){return 100*this.zeroLevel}},{key:"updateSettings",value:function(t){!function(t,e,n,r){var i=Z0(J0(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"updateSettings",this,3)([t]);var n=t.lines.histogram.colors,r=n.up,i=n.down;this.histUpColor=new AI(r.color,r.opacity/100),this.histDownColor=new AI(i.color,i.opacity/100)}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint(),this.calculateMACDPoints(),this.calculateSignalPoints(),this.calculateHistogram()}},{key:"flush",value:function(){this.macdPoints=[],this.signalPoints=[],this.macdHistogramPoints=[],this.emasShort=[],this.emasLong=[],this.position===rh.vh.Overlay?(this.maxValue=Ru.Ay.CHART.DBL_MIN,this.minValue=Ru.Ay.CHART.DBL_MAX):(this.minVal=Ru.Ay.CHART.DBL_MAX,this.maxVal=Ru.Ay.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){this.emasShort.length>0&&this.emasShort.splice(-1,1),this.emasLong.length>0&&this.emasLong.splice(-1,1),this.macdPoints.length>0&&this.macdPoints.splice(-1,1),this.signalPoints.length>0&&this.signalPoints.splice(-1,1),this.macdHistogramPoints.length>0&&this.macdHistogramPoints.splice(-1,1)}},{key:"calculateMACDPoints",value:function(){this.emasShort=this.getEMA(this.emasShort,this.settings.fastPeriod),this.emasLong=this.getEMA(this.emasLong,this.settings.slowPeriod);for(var t=Math.max(this.emasShort.length,this.emasLong.length),e=t-Math.min(this.emasShort.length,this.emasLong.length),n=e+this.macdPoints.length;n<this.candles.length;n++){var r=this.emasLong.length===t?this.emasLong[n]:this.emasLong[n-e],i=this.emasShort.length===t?this.emasShort[n]:this.emasShort[n-e];r&&i&&this.macdPoints.push(new zI(i.value-r.value,r.time))}}},{key:"calculateSignalPoints",value:function(){this.signalPoints=this.getEMA(this.signalPoints,this.settings.signalPeriod,this.macdPoints)}},{key:"calculateHistogram",value:function(){for(var t=this.macdHistogramPoints.length;t<this.signalPoints.length;t++){var e=this.macdPoints[t+this.settings.signalPeriod],n=this.signalPoints[t];e&&n&&this.macdHistogramPoints.push(new zI(e.value-n.value,e.time))}}},{key:"getZeroLabel",value:function(){return this.zeroLevelPercent<90?"0":""}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var t=this.filterIndicatorPoints(this.macdHistogramPoints,!1),e=this.filterIndicatorPoints(this.macdPoints,!1),n=this.filterIndicatorPoints(this.signalPoints,!1);this.recalculateMinMax(t,e,n),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var r=this.settings.lines,i=r.macd,o=r.signal,a=r.histogram;this.getShowValue(a)&&this.drawBottomHistogram(t,this.histUpColor,this.histDownColor,this.zeroLevel),this.getShowValue(i)&&this.drawBottomLine(e,"macd",i.lineWidth,i.color,!0),this.getShowValue(o)&&this.drawBottomLine(n,"signal",o.lineWidth,o.color,!0);var s=this.colors.indicatorBottomNullLineColor;this.drawBottomLevel("zero",this.zeroLevelPercent,s,1,"",this.getZeroLabel()),this.drawMaxLevel(this.max),this.drawMinLevel(this.min)}}])}(oN);function e1(t){return e1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e1(t)}function n1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r1(r.key),r)}}function r1(t){var e=function(t,e){if("object"!=e1(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=e1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==e1(e)?e:e+""}function i1(t,e,n){return e=a1(e),function(t,e){if(e&&("object"==e1(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,o1()?Reflect.construct(e,n||[],a1(t).constructor):e.apply(t,n))}function o1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(o1=function(){return!!t})()}function a1(t){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a1(t)}function s1(t,e){return s1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s1(t,e)}var c1=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=i1(this,e,[t,n,r])).type=Ru.W.MOVING_AVERAGE,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s1(t,e)}(e,t),function(t,e,n){return e&&n1(t.prototype,e),n&&n1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"calculate",value:function(){this.maxValue=Ru.Ay.CHART.DBL_MIN,this.minValue=Ru.Ay.CHART.DBL_MAX;var t=this.settings,e=t.ma,n=t.period;this.points=this.getMovingAveragePoints({type:e,period:n})}},{key:"flush",value:function(){this.points={}}},{key:"draw",value:function(){this.getShowValue(this.settings.lines.main)&&(this.color=this.settings.lines.main.color,this.lineWidth=this.settings.lines.main.lineWidth,this.drawLine(this.filterIndicatorPoints(this.points,!0)))}}])}(oN);function l1(t){return l1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l1(t)}function u1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d1(r.key),r)}}function d1(t){var e=function(t,e){if("object"!=l1(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=l1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l1(e)?e:e+""}function f1(t,e,n){return e=p1(e),function(t,e){if(e&&("object"==l1(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h1()?Reflect.construct(e,n||[],p1(t).constructor):e.apply(t,n))}function h1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h1=function(){return!!t})()}function p1(t){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p1(t)}function m1(t,e){return m1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m1(t,e)}var y1=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=f1(this,e,[t,n,r])).type=Ru.W.PARABOLIC_SAR,i.containerIndex=rh.Rp.INDICATORS,i.updateSettings(r.settings),i.flush(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m1(t,e)}(e,t),function(t,e,n){return e&&u1(t.prototype,e),n&&u1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"flush",value:function(){this.averagePoints=[],this.sarArr=[],this.lastIsBelow=!1,this.prevCandlesLength=0}},{key:"calculate",value:function(){this.position===rh.vh.Overlay?(this.maxValue=Ru.Ay.CHART.DBL_MIN,this.minValue=Ru.Ay.CHART.DBL_MAX):(this.minVal=Ru.Ay.CHART.DBL_MAX,this.maxVal=Ru.Ay.CHART.DBL_MIN),this.checkFlush(),this.getIndicatorPoints(),this.filteredPoints=this.filterIndicatorPoints(this.averagePoints,!1)}},{key:"isLastDotIntersectsLastCandle",value:function(){if(0===this.candles.length||0===this.averagePoints.length)return!1;var t=this.candles[this.candles.length-1],e=this.averagePoints[this.averagePoints.length-1],n=this.lastIsBelow&&t.minValue<e.value,r=!this.lastIsBelow&&t.maxValue>e.value;return n||r}},{key:"getIndicatorPoints",value:function(){var t=this.candles;if(t&&t.length){var e=this.isLastDotIntersectsLastCandle();if(this.prevCandlesLength!==this.candles.length||e){this.prevCandlesLength=this.candles.length;var n=this.settings.acceleration,r=this.settings.accelerationMax;this.sarArr=this.compute(t,n,.02,r),this.averagePoints=[];for(var i=0;i<t.length;i++)this.averagePoints.push(new zI(this.sarArr[i],t[i].time))}}}},{key:"compute",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.02,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.02,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.2,i=t.length,o=new Array(i).fill(NaN),a=NaN,s=NaN,c=NaN;this.lastIsBelow=!1;for(var l=!1,u=0;u<i;u++){var d=t[u],f=d.maxValue,h=d.minValue,p=d.close;0!==u?(1===u&&(p>t[u-1].close?(this.lastIsBelow=!0,s=f,a=t[u-1].minValue):(this.lastIsBelow=!1,s=h,a=t[u-1].maxValue),l=!0,c=e),a+=c*(s-a),this.lastIsBelow?a>h&&(l=!0,this.lastIsBelow=!1,a=Math.max(f,s),s=h,c=e):a<f&&(l=!0,this.lastIsBelow=!0,a=Math.min(h,s),s=f,c=e),l||(this.lastIsBelow?f>s&&(s=f,c=Math.min(c+n,r)):h<s&&(s=h,c=Math.min(c+n,r))),this.lastIsBelow?(u>=1&&(a=Math.min(a,t[u-1].minValue)),u>=2&&(a=Math.min(a,t[u-2].minValue))):(u>=1&&(a=Math.max(a,t[u-1].maxValue)),u>=2&&(a=Math.max(a,t[u-2].maxValue))),o[u]=a,l=!1):o[u]=NaN}return o}},{key:"draw",value:function(){if(this.clearAllDynamicGraphics(),this.getShowValue(this.settings.lines.main)){var t=this.getDynamicGraphics(this.containerIndex,"sarDots-".concat(this.index));t.graphics.beginFill(this.prepareColor(this.settings.lines.main.color),1);var e=this.currentZoom-1;e=Math.max(3,Math.min(e,6));for(var n=0;n<this.filteredPoints.length;n++){var r=this.getXFromTime(this.filteredPoints[n].time+this.averageShift*this.pointsInElement),i=this.getYFromValue(this.filteredPoints[n].value);t.graphics.drawRect(r,i,e*this.settings.lines.main.lineWidth,e*this.settings.lines.main.lineWidth)}t.graphics.endFill()}}}])}(oN);function v1(t){return v1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(t)}function b1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g1(r.key),r)}}function g1(t){var e=function(t,e){if("object"!=v1(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=v1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v1(e)?e:e+""}function w1(t,e,n){return e=x1(e),function(t,e){if(e&&("object"==v1(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,j1()?Reflect.construct(e,n||[],x1(t).constructor):e.apply(t,n))}function j1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(j1=function(){return!!t})()}function x1(t){return x1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x1(t)}function _1(t,e){return _1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_1(t,e)}var S1=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=w1(this,e,[t,n,r])).type=Ru.W.RATE_OF_CHANGE,i.valueYScaleType=rh.gd.Percentage,i.position=rh.vh.Bottom,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_1(t,e)}(e,t),function(t,e,n){return e&&b1(t.prototype,e),n&&b1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"roundValue",value:function(t){return yn(t,2)}},{key:"flush",value:function(){this.initMinMax(),this.points=[],this.filteredPoints=[],this.zeroLevelPercent=0}},{key:"initMinMax",value:function(){this.position===rh.vh.Overlay?(this.maxValue=Ru.Ay.CHART.DBL_MIN,this.minValue=Ru.Ay.CHART.DBL_MAX):(this.minVal=Ru.Ay.CHART.DBL_MAX,this.maxVal=Ru.Ay.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){this.points.length>0&&this.points.splice(-1,1)}},{key:"calculate",value:function(){if(this.checkFlush(),!(this.settings.period>=this.candles.length)){this.removeLastCalculatedPoint();for(var t=this.settings.period+this.points.length;t<this.candles.length;t++){var e=this.candles[t-this.settings.period].exitValue,n=(this.candles[t].exitValue-e)/e*100;this.points.push(new zI(n,this.candles[t].time))}this.filteredPoints=this.filterIndicatorPoints(this.points,!1),this.recalculateMinMax(this.filteredPoints),this.zeroLevelPercent=100*Math.abs(this.min/(this.max-this.min))}}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var t=this.colors.indicatorBottomNullLineColor;this.drawBottomLevel("zero",this.zeroLevelPercent,t,1,"","0"),this.drawMaxLevel(this.max),this.drawMinLevel(this.min);var e=this.settings.lines.main;if(this.getShowValue(e)){var n=e.color,r=e.lineWidth;this.drawBottomLine(this.filteredPoints,"period",r,n,!0)}}}])}(oN);function O1(t){return O1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(t)}function k1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T1(r.key),r)}}function T1(t){var e=function(t,e){if("object"!=O1(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=O1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==O1(e)?e:e+""}function A1(t,e,n){return e=E1(e),function(t,e){if(e&&("object"==O1(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,C1()?Reflect.construct(e,n||[],E1(t).constructor):e.apply(t,n))}function C1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(C1=function(){return!!t})()}function P1(){return P1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=E1(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},P1.apply(null,arguments)}function E1(t){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E1(t)}function I1(t,e){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I1(t,e)}var N1=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=A1(this,e,[t,n,r])).type=Ru.W.RSI,i.position=rh.vh.Bottom,i.valueYScaleType=rh.gd.Percentage,i.min=0,i.max=100,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I1(t,e)}(e,t),function(t,e,n){return e&&k1(t.prototype,e),n&&k1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"updateSettings",value:function(t){!function(t,e,n,r){var i=P1(E1(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"updateSettings",this,3)([t]),this.obColor=new AI(t.lines.overbought.color,t.lines.overbought.opacity/100),this.midColor=new AI(t.lines.middle.color,t.lines.middle.opacity/100),this.osColor=new AI(t.lines.oversold.color,t.lines.oversold.opacity/100)}},{key:"roundValue",value:function(t){return t>=0&&t<=100?yn(t,0):""}},{key:"flush",value:function(){this.rsiPoints=[],this.sumCandleUp=0,this.sumCandleDown=0,this.lastAvgUp=0,this.lastAvgDown=0}},{key:"calculate",value:function(){var t,e,n;this.checkFlush(),this.rsiPoints.length>0&&this.rsiPoints.splice(-1,1);for(var r=this.rsiPoints.length>0?this.rsiPoints.length+this.settings.period:0;r<this.candles.length;r++){var i=0,o=0;if(t=null,r>0){var a=this.candles[r-1];(o=i=this.candles[r].exitValue-a.exitValue)<0&&(o=0),i<0?i*=-1:i=0}r<this.settings.period?(this.sumCandleUp+=i,this.sumCandleDown+=o):r===this.settings.period?(t=100-100/((e=this.sumCandleUp/this.settings.period)/(n=this.sumCandleDown/this.settings.period)+1),this.lastAvgUp=e,this.lastAvgDown=n):(t=100-100/((e=(this.lastAvgUp*(this.settings.period-1)+i)/this.settings.period)/(n=(this.lastAvgDown*(this.settings.period-1)+o)/this.settings.period)+1),r!==this.candles.length-1&&(this.lastAvgUp=e,this.lastAvgDown=n)),null!==t&&this.rsiPoints.push(new zI(t,this.candles[r].time))}this.filteredPoints=this.filterIndicatorPoints(this.rsiPoints,!1)}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var t=this.settings.lines,e=t.main,n=t.overbought,r=t.middle,i=t.oversold;if(this.getShowValue(n)){var o=n.level,a=n.lineWidth;this.drawBottomLevel("ob",o,this.obColor,a,"",o.toString())}if(this.getShowValue(r)){var s=r.level,c=r.lineWidth;this.drawBottomLevel("mid",s,this.midColor,c,"",s.toString())}if(this.getShowValue(i)){var l=i.level,u=i.lineWidth;this.drawBottomLevel("os",l,this.osColor,u,"",l.toString())}if(this.getShowValue(e)){var d=e.color,f=e.lineWidth;this.drawBottomLine(this.filteredPoints,"rsi",f,d)}}}])}(oN);function D1(t){return D1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(t)}function L1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M1(r.key),r)}}function M1(t){var e=function(t,e){if("object"!=D1(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=D1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==D1(e)?e:e+""}function R1(t,e,n){return e=$1(e),function(t,e){if(e&&("object"==D1(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,B1()?Reflect.construct(e,n||[],$1(t).constructor):e.apply(t,n))}function B1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(B1=function(){return!!t})()}function H1(){return H1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=$1(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},H1.apply(null,arguments)}function $1(t){return $1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$1(t)}function F1(t,e){return F1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F1(t,e)}var W1=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=R1(this,e,[t,n,r])).type=Ru.W.STOCHASTIC_OSCILLATOR,i.position=rh.vh.Bottom,i.valueYScaleType=rh.gd.Percentage,i.min=0,i.max=100,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F1(t,e)}(e,t),function(t,e,n){return e&&L1(t.prototype,e),n&&L1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return Math.max(this.settings.kPeriod,this.settings.dPeriod,this.settings.mPeriod)}},{key:"updateSettings",value:function(t){!function(t,e,n,r){var i=H1($1(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"updateSettings",this,3)([t]),this.obColor=new AI(t.lines.overbought.color,t.lines.overbought.opacity/100),this.osColor=new AI(t.lines.oversold.color,t.lines.oversold.opacity/100)}},{key:"roundValue",value:function(t){return t>=0&&t<=100?yn(t,0):""}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint(),this.calculateKPoints(),this.calculateDPoints()}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var t=this.filterIndicatorPoints(this.kPoints,!1),e=this.filterIndicatorPoints(this.dPoints,!1);this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var n=this.settings.lines,r=n.dPeriod,i=n.kPeriod,o=n.overbought,a=n.oversold;if(this.getShowValue(i)){var s=i.color,c=i.lineWidth;this.drawBottomLine(t,"stochasticKPoints",c,s)}if(this.getShowValue(r)){var l=r.color,u=r.lineWidth;this.drawBottomLine(e,"stochasticDPoints",u,l)}if(this.getShowValue(o)){var d=o.level,f=o.lineWidth;this.drawBottomLevel("ob",d,this.obColor,f,"",d.toString())}if(this.getShowValue(a)){var h=a.level,p=a.lineWidth;this.drawBottomLevel("os",h,this.osColor,p,"",h.toString())}}},{key:"flush",value:function(){this.points=[],this.kPoints=[],this.dPoints=[],this.cachedPoints={}}},{key:"removeLastCalculatedPoint",value:function(){this.points.length>0&&this.points.splice(-1,1)}},{key:"calculateKPoints",value:function(){for(var t=this.settings.kPeriod+this.settings.dPeriod,e=this.points.length+t;e<this.candles.length;e++)try{for(var n=this.candles[e],r=n.minValue,i=n.maxValue,o=1;o<this.settings.kPeriod;o++){var a=this.candles[e-o];r=Math.min(a.minValue,r),i=Math.max(a.maxValue,i)}var s=i>r?(n.exitValue-r)/(i-r)*100:50;s=100-s,this.points.push(new zI(s,n.time))}catch(c){console.error(JSON.stringify({index:e,kPeriod:this.settings.kPeriod,candlesLength:this.candles.length,candles:this.candles}))}this.settings.mPeriod>1?this.kPoints=this.getMovingAveragePoints({type:this.settings.ma,candles:this.points,cacheId:"k|".concat(this.points.length>0?this.points[0].time:"--"),period:this.settings.mPeriod}):this.kPoints=this.points}},{key:"calculateDPoints",value:function(){this.dPoints=this.getMovingAveragePoints({type:this.settings.ma,candles:this.kPoints,cacheId:"d|".concat(this.kPoints.length>0?this.kPoints[0].time:"--"),period:this.settings.dPeriod})}}])}(oN);function U1(t){return U1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(t)}function V1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G1(r.key),r)}}function G1(t){var e=function(t,e){if("object"!=U1(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=U1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==U1(e)?e:e+""}function z1(t,e,n){return e=X1(e),function(t,e){if(e&&("object"==U1(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Y1()?Reflect.construct(e,n||[],X1(t).constructor):e.apply(t,n))}function Y1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Y1=function(){return!!t})()}function X1(t){return X1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X1(t)}function q1(t,e){return q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},q1(t,e)}var K1=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=z1(this,e,[t,n,r])).type=Ru.W.ZIG_ZAG,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q1(t,e)}(e,t),function(t,e,n){return e&&V1(t.prototype,e),n&&V1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"flush",value:function(){this.zigZag=[],this.lows=[],this.highs=[],this.points=[]}},{key:"initMinMax",value:function(){this.position===rh.vh.Overlay?(this.maxValue=Ru.Ay.CHART.DBL_MIN,this.minValue=Ru.Ay.CHART.DBL_MAX):(this.minVal=Ru.Ay.CHART.DBL_MAX,this.maxVal=Ru.Ay.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){if(this.zigZag.length>0){var t=this.zigZag.slice().reverse().findIndex((function(t){return 0!==t}));-1!==t&&(this.zigZag=this.zigZag.slice(0,t),this.lows=this.lows.slice(0,t),this.highs=this.highs.slice(0,t))}}},{key:"calculate",value:function(){if(this.initMinMax(),this.checkFlush(),this.removeLastCalculatedPoint(),this.points=[],this.candles.length>this.settings.depth){this.fillData(this.lows,!0),this.fillData(this.highs,!1),this.calculateZigZag();for(var t=0;t<this.zigZag.length;t++)this.zigZag[t]&&this.points.push(new zI(this.zigZag[t],this.candles[t].time))}}},{key:"draw",value:function(){var t=this.settings.lines.main;if(this.getShowValue(t)){var e=t.color,n=t.lineWidth;this.drawLineWithParams({points:this.points,elementId:"zig-zag-".concat(this.index),color:e,lineWidth:n})}}},{key:"getVal",value:function(t,e){return this.candles[t][this.isLineChart()?"exitValue":e?"minValue":"maxValue"]}},{key:"getExtremumOnPeriod",value:function(t,e){if(t<0)return 0;for(var n=t-this.settings.depth<0?t:this.settings.depth,r=t,i=this.getVal(t,e),o=t;o>t-n;o-=1){var a=this.getVal(o,e);(e&&a<i||!e&&a>i)&&(r=o,i=a)}return this.getVal(r,e)}},{key:"fillData",value:function(t,e){for(var n=0,r=.01*this.settings.deviation,i=this.settings.depth+t.length;i<this.candles.length;i++){var o=this.getExtremumOnPeriod(i,e);if(o!==n){n=o;var a=this.getVal(i,e);if(e&&a-o>o*r||!e&&o-a>o*r)t[i]=0;else{for(var s=1;s<=this.settings.backstep;s++){var c=t[i-s];0!==c&&(e&&c>=o||!e&&c<=o)&&(t[i-s]=0)}t[i]=a===o?o:0}}else o=0,t[i]=0}return t}},{key:"calculateZigZag",value:function(){for(var t=0,e=0,n=0,r=0,i=0,o=this.settings.depth+this.zigZag.length;o<this.candles.length;o++){var a=this.highs[o],s=this.lows[o];switch(t){case 0:0===i&&0===r&&(0!==a&&(r=this.candles[o].maxValue,e=o,t=-1,this.zigZag[o]=this.candles[o]),0!==s&&(i=this.candles[o].minValue,n=o,t=1,this.zigZag[o]=i));break;case 1:0!==s&&s<i&&0===a&&(this.zigZag[n]=0,n=o,i=s,this.zigZag[o]=i),0!==a&&0===s&&(r=a,e=o,this.zigZag[o]=r,t=-1);break;case-1:0!==a&&a>r&&0===s&&(this.zigZag[e]=0,e=o,r=a,this.zigZag[o]=r),0!==s&&0===a&&(i=s,n=o,this.zigZag[o]=i,t=1)}}}}])}(oN);function Z1(t){return Z1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z1(t)}function J1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i2(r.key),r)}}function Q1(t,e,n){return e=e2(e),function(t,e){if(e&&("object"==Z1(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,t2()?Reflect.construct(e,n||[],e2(t).constructor):e.apply(t,n))}function t2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(t2=function(){return!!t})()}function e2(t){return e2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},e2(t)}function n2(t,e){return n2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},n2(t,e)}function r2(t,e,n){return(e=i2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i2(t){var e=function(t,e){if("object"!=Z1(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Z1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Z1(e)?e:e+""}var o2=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r2(i=Q1(this,e,[t,n,r]),"findMaxCallback",(function(t,e){return t<e})),r2(i,"findMinCallback",(function(t,e){return t>e})),i.type=Ru.W.AROON,i.valueYScaleType=rh.gd.Percentage,i.position=rh.vh.Bottom,i.max=100,i.min=0,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n2(t,e)}(e,t),function(t,e,n){return e&&J1(t.prototype,e),n&&J1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"roundValue",value:function(t){return t>=0&&t<=100?yn(t,0):""}},{key:"flush",value:function(){this.up=[],this.down=[]}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint(),this.up.length!==this.down.length&&this.flush(),this.calculatePoints()}},{key:"removeLastCalculatedPoint",value:function(){this.up.length>0&&this.up.splice(-1,1),this.down.length>0&&this.down.splice(-1,1)}},{key:"calculatePoints",value:function(){for(var t=this.settings.period+this.up.length;t<this.candles.length;t++){var e=this.candles[t].time;this.up.push(new zI(this.getUpPoint(t),e)),this.down.push(new zI(this.getDownPoint(t),e))}}},{key:"getUpPoint",value:function(t){var e=t-this.findExtremumIndex(t,this.findMaxCallback);return this.getAroonValue(e)}},{key:"getDownPoint",value:function(t){var e=t-this.findExtremumIndex(t,this.findMinCallback);return this.getAroonValue(e)}},{key:"findExtremumIndex",value:function(t,e){for(var n=0,r=0,i=t-this.settings.period;i<=t;i++){var o=this.candles[i].exitValue;n&&!e(n,o)||(n=o,r=i)}return r}},{key:"getAroonValue",value:function(t){return(this.settings.period-t)/this.settings.period*100}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.drawBottomLevel("100",100,this.colors.indicatorBottomNullLineColor,1,"","100"),this.drawBottomLevel("70",70,this.colors.indicatorBottomNullLineColor,1,"","70"),this.drawBottomLevel("50",50,this.colors.indicatorBottomNullLineColor,1,"","50"),this.drawBottomLevel("30",30,this.colors.indicatorBottomNullLineColor,1,"","30"),this.drawBottomLevel("0",0,this.colors.indicatorBottomNullLineColor,1,"","0");var t=this.settings.lines,e=t.up,n=t.down;this.getShowValue(e)&&this.drawBottomLine(this.up,"up",e.lineWidth,e.color,!0),this.getShowValue(n)&&this.drawBottomLine(this.down,"down",n.lineWidth,n.color,!0)}}])}(oN);function a2(t){return a2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a2(t)}function s2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c2(r.key),r)}}function c2(t){var e=function(t,e){if("object"!=a2(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a2(e)?e:e+""}function l2(t,e,n){return e=f2(e),function(t,e){if(e&&("object"==a2(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u2()?Reflect.construct(e,n||[],f2(t).constructor):e.apply(t,n))}function u2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u2=function(){return!!t})()}function d2(){return d2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=f2(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},d2.apply(null,arguments)}function f2(t){return f2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f2(t)}function h2(t,e){return h2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h2(t,e)}var p2=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=l2(this,e,[t,n,r])).type=Ru.W.CCI,i.valueYScaleType=rh.gd.Range,i.position=rh.vh.Bottom,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h2(t,e)}(e,t),function(t,e,n){return e&&s2(t.prototype,e),n&&s2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return 2*this.settings.period}},{key:"updateSettings",value:function(t){!function(t,e,n,r){var i=d2(f2(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"updateSettings",this,3)([t]),this.obColor=new AI(t.lines.overbought.color,t.lines.overbought.opacity/100),this.osColor=new AI(t.lines.oversold.color,t.lines.oversold.opacity/100)}},{key:"roundValue",value:function(t){return yn(t,0)}},{key:"flush",value:function(){this.initMinMax(),this.filteredPoints=[],this.typicalPrice=[],this.cci=[],this.cachedPoints={}}},{key:"initMinMax",value:function(){this.position===rh.vh.Overlay?(this.maxValue=Ru.Ay.CHART.DBL_MIN,this.minValue=Ru.Ay.CHART.DBL_MAX):(this.minVal=Ru.Ay.CHART.DBL_MAX,this.maxVal=Ru.Ay.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){this.typicalPrice.length>0&&this.typicalPrice.splice(-1,1),this.cci.length>0&&this.cci.splice(-1,1)}},{key:"getTypicalPrice",value:function(t){return(t.maxValue+t.minValue+t.exitValue)/3}},{key:"calculate",value:function(){if(!(this.settings.period>=this.candles.length||this.candles.length<2)){this.checkFlush(),this.removeLastCalculatedPoint();for(var t=this.typicalPrice.length;t<this.candles.length;t++)this.typicalPrice.push(new zI(this.getTypicalPrice(this.candles[t]),this.candles[t].time));for(var e=this.sma({candles:this.typicalPrice,period:this.settings.period}),n=this.settings.period+this.cci.length;n<e.length;n++){for(var r=n+this.settings.period-1,i=e[n],o=i.time,a=i.value,s=this.typicalPrice[r].value,c=0,l=0;l<this.settings.period;l++)c+=Math.abs(this.typicalPrice[r-l].value-e[n-l].value);c/=this.settings.period,this.cci.push(new zI(0===c?0:(s-a)/(.015*c),o))}this.filteredPoints=this.filterIndicatorPoints(this.cci,!1),this.recalculateMinMax(this.filteredPoints),this.roundMinMax()}}},{key:"roundMinMax",value:function(){this.max=Math.max(100,100*Math.ceil(this.max/100)),this.min=Math.min(-100,100*Math.floor(this.min/100))}},{key:"getLabelLevelPercent",value:function(t){return 100*Math.abs((t-this.min)/(this.max-this.min))}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var t=this.settings.lines,e=t.background,n=t.overbought,r=t.main,i=t.oversold;if(this.getShowValue(e)){var o=e.color,a=e.opacity;this.levelBgColor=new AI(o,a/100),this.drawBottomLevelsBg(this.getLabelLevelPercent(i.level),this.getLabelLevelPercent(n.level),this.levelBgColor)}if(this.getShowValue(r)){var s=r.color,c=r.lineWidth;this.drawBottomLine(this.filteredPoints,"period",c,s,!0)}if(this.getShowValue(n)){var l=n.level,u=n.lineWidth,d=this.getLabelLevelPercent(l);this.drawBottomLevel("level_".concat(l),d,this.obColor,u,"",l,l>0)}if(this.getShowValue(n)&&this.max===n.level||this.drawMaxLevel(this.max),this.getShowValue(i)){var f=i.level,h=i.lineWidth,p=this.getLabelLevelPercent(f);this.drawBottomLevel("level_".concat(f),p,this.osColor,h,"",f,f>0)}this.getShowValue(i)&&this.max===i.level||this.drawMinLevel(this.min)}}])}(oN);function m2(t){return m2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m2(t)}function y2(t){return function(t){if(Array.isArray(t))return v2(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return v2(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v2(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v2(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function b2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g2(r.key),r)}}function g2(t){var e=function(t,e){if("object"!=m2(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=m2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==m2(e)?e:e+""}function w2(t,e,n){return e=x2(e),function(t,e){if(e&&("object"==m2(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,j2()?Reflect.construct(e,n||[],x2(t).constructor):e.apply(t,n))}function j2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(j2=function(){return!!t})()}function x2(t){return x2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x2(t)}function _2(t,e){return _2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_2(t,e)}var S2=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=w2(this,e,[t,n,r])).type=Ru.W.ENVELOPE,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_2(t,e)}(e,t),function(t,e,n){return e&&b2(t.prototype,e),n&&b2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"flush",value:function(){this.initMinMax(),this.points={top:[],middle:[],bottom:[]},this.filteredPoints={top:[],middle:[],bottom:[]},this.cachedPoints={}}},{key:"calculate",value:function(){this.initMinMax(),this.checkFlush(),this.points.top.length&&(this.points.top.splice(-1,1),this.points.middle.splice(-1,1),this.points.bottom.splice(-1,1));for(var t=this.getMovingAveragePoints({type:this.settings.ma,cacheId:"".concat(this.index,"-").concat(this.settings.period,"-").concat(this.settings.ma),source:this.settings.source,period:this.settings.period}),e=!1,n=this.settings.deviation/100,r=this.points.top.length;r<t.length;r++){var i=t[r],o=i.value,a=i.time;this.points.top.push(new zI(o+o*n,a)),this.points.middle.push(new zI(o,a)),this.points.bottom.push(new zI(o-o*n,a)),e=!0}e&&(this.filteredPoints={top:this.filterIndicatorPoints(this.points.top,!1),middle:this.filterIndicatorPoints(this.points.middle,!1),bottom:this.filterIndicatorPoints(this.points.bottom,!1)})}},{key:"initMinMax",value:function(){this.position===rh.vh.Overlay?(this.maxValue=Ru.Ay.CHART.DBL_MIN,this.minValue=Ru.Ay.CHART.DBL_MAX):(this.minVal=Ru.Ay.CHART.DBL_MAX,this.maxVal=Ru.Ay.CHART.DBL_MIN)}},{key:"draw",value:function(){var t=this;this.clearAllDynamicGraphics(),this.getShowValue(this.settings.lines.background)&&this.drawFill(),Object.keys(this.settings.lines).forEach((function(e){var n=t.settings.lines[e];t.getShowValue(n)&&t.isLine(n)&&t.drawLineWithParams({points:t.filteredPoints[e],elementId:"envelope-".concat(e,"-").concat(t.index),color:n.color,lineWidth:n.lineWidth})}))}},{key:"drawFill",value:function(){var t=y2(this.points.bottom).reverse(),e=[].concat(y2(t),y2(this.points.top)),n=this.settings.lines.background,r=n.color,i=n.opacity,o=this.getDynamicGraphics(rh.Rp.INDICATORS,"envelope-".concat(this.index));o.graphics.beginFill(this.prepareColor(r),i/100);for(var a=0;a<e.length;a++){var s=e[a],c=s.time,l=s.value;o.graphics[0===a?"moveTo":"lineTo"](this.getXFromTime(c+this.averageShift*this.pointsInElement),this.getYFromValue(l))}o.graphics.endFill()}}])}(oN);function O2(t){return O2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O2(t)}function k2(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return T2(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T2(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T2(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function A2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C2(r.key),r)}}function C2(t){var e=function(t,e){if("object"!=O2(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=O2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==O2(e)?e:e+""}function P2(t,e,n){return e=D2(e),function(t,e){if(e&&("object"==O2(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,E2()?Reflect.construct(e,n||[],D2(t).constructor):e.apply(t,n))}function E2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(E2=function(){return!!t})()}function I2(t,e,n,r){var i=N2(D2(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function N2(){return N2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=D2(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},N2.apply(null,arguments)}function D2(t){return D2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D2(t)}function L2(t,e){return L2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L2(t,e)}var M2=["tenkanSen","kijunSen","senkouSpanA","senkouSpanB","chikouSpan"],R2=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=P2(this,e,[t,n,r])).type=Ru.W.ICHIMOKU_CLOUD,i.position=rh.vh.Overlay,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L2(t,e)}(e,t),function(t,e,n){return e&&A2(t.prototype,e),n&&A2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"updateSettings",value:function(t){I2(e,"updateSettings",this,3)([t]),this.tenkanSenPeriod=t.tenkanSen,this.kijunSenPeriod=t.kijunSen,this.senkouSpanBPeriod=t.senkouSpanB}},{key:"senkouSpanALength",get:function(){return this.senkouSpanA.length}},{key:"senkouSpanBLength",get:function(){return this.senkouSpanB.length}},{key:"minSenkouSpanLength",get:function(){return Math.min(this.senkouSpanALength,this.senkouSpanBLength)}},{key:"maxSenkouSpanLength",get:function(){return Math.max(this.senkouSpanALength,this.senkouSpanBLength)}},{key:"senkouAOffset",get:function(){return this.senkouSpanALength===this.maxSenkouSpanLength?this.maxSenkouSpanLength-this.minSenkouSpanLength:0}},{key:"senkouBOffset",get:function(){return this.senkouSpanBLength===this.maxSenkouSpanLength?this.maxSenkouSpanLength-this.minSenkouSpanLength:0}},{key:"maxPeriod",get:function(){return Math.max(this.tenkanSenPeriod,this.kijunSenPeriod+this.senkouSpanBPeriod)}},{key:"initMinMax",value:function(){this.position===rh.vh.Overlay?(this.maxValue=Ru.Ay.CHART.DBL_MIN,this.minValue=Ru.Ay.CHART.DBL_MAX):(this.minVal=Ru.Ay.CHART.DBL_MAX,this.maxVal=Ru.Ay.CHART.DBL_MIN)}},{key:"flush",value:function(){this.initMinMax(),this.tenkanSen=[],this.kijunSen=[],this.senkouSpanA=[],this.senkouSpanB=[],this.chikouSpan=[],this.fillPoints=[],this.prevTenkanSenLength=0}},{key:"removeLastPoints",value:function(){var t=this;M2.forEach((function(e){t[e].length>0&&t[e].splice(-1,1)}))}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"calculateHighLowAvgValueForPeriod",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(this.candles.length<e))for(var r=n*(0,nh.o0)(this.selectedPlotType,this.chartPeriod),i=e+t.length;i<this.candles.length;i++){for(var o=this.candles[i],a=(0,nh.pR)(o,rh.U$.LOW),s=(0,nh.pR)(o,rh.U$.HIGH),c=1;c<e;c++){var l=this.candles[i-c],u=(0,nh.pR)(l,rh.U$.LOW);u<a&&(a=u);var d=(0,nh.pR)(l,rh.U$.HIGH);d>s&&(s=d)}t.push(new zI((a+s)/2,o.time+r))}}},{key:"calculateChikouSpan",value:function(t){for(var e=this.kijunSenPeriod*(0,nh.o0)(this.selectedPlotType,this.chartPeriod),n=t.length;n<this.candles.length;n++){var r=this.candles[n],i=(0,nh.pR)(r,rh.U$.CLOSE);t.push(new zI(i,r.time-e))}}},{key:"calculateSenkouSpanA",value:function(t){if(0!==this.tenkanSen.length&&0!==this.kijunSen.length)for(var e=this.kijunSenPeriod*(0,nh.o0)(this.selectedPlotType,this.chartPeriod),n=Math.max(this.tenkanSen.length,this.kijunSen.length),r=n-Math.min(this.tenkanSen.length,this.kijunSen.length),i=r+t.length;i<n;i++){var o=this.tenkanSen[this.tenkanSen.length===n?i:i-r],a=this.kijunSen[this.kijunSen.length===n?i:i-r];t.push(new zI((o.value+a.value)/2,o.time+e))}}},{key:"calculateFillPoints",value:function(){if(0!==this.senkouSpanALength&&0!==this.senkouSpanBLength){var t=this.fillPoints.length>0?this.fillPoints[this.fillPoints.length-1].index:0,e=this.senkouSpanA[t+this.senkouAOffset],n=this.senkouSpanB[t+this.senkouBOffset];if(e&&n)for(var r=e.value>n.value,i=t+1;i<this.minSenkouSpanLength;i++){var o=i+this.senkouAOffset,a=i+this.senkouBOffset,s=this.senkouSpanA[o],c=this.senkouSpanB[a],l=this.senkouSpanA[o-1],u=this.senkouSpanB[a-1];if(s&&c&&l&&u){var d=s.value>c.value;if(d!==r){var f=(0,nh.Y5)(s,l,c,u);this.fillPoints.push({x:f.x,y:f.y,topLine:d?"senkouSpanA":"senkouSpanB",index:i}),r=d}}}}}},{key:"calculatePoints",value:function(){this.shouldRecalculate()&&(this.removeLastPoints(),this.calculateHighLowAvgValueForPeriod(this.tenkanSen,this.tenkanSenPeriod),this.calculateHighLowAvgValueForPeriod(this.kijunSen,this.kijunSenPeriod),this.calculateHighLowAvgValueForPeriod(this.senkouSpanB,this.senkouSpanBPeriod,this.kijunSenPeriod),this.calculateChikouSpan(this.chikouSpan),this.calculateSenkouSpanA(this.senkouSpanA),this.calculateFillPoints())}},{key:"shouldRecalculate",value:function(){var t=this.isCandlesCountChanged();return t&&this.flush(),this.isVisible&&(t||this.isEndTimeChanged()||this.isChangedFromTo()||this.updated)}},{key:"shouldClearMainGraphLine",value:function(){var t=this.prevTenkanSenLength!==this.tenkanSen.length;return t&&(this.prevTenkanSenLength=this.tenkanSen.length),I2(e,"shouldClearMainGraphLine",this,3)([])||t}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawLines(),this.drawSenkouSpanFill()}},{key:"drawLines",value:function(){var t=this;M2.forEach((function(e){var n=t.settings.lines[e];if(t.getShowValue(n)&&t.isLine(n)){var r=t.filterIndicatorPoints(t[e],!1).filter((function(t){return t&&"number"==typeof t.time&&"number"==typeof t.value}));t.drawLineWithParams({points:r,elementId:"ichimoku-".concat(e,"-").concat(t.index),color:t.settings.lines[e].color,lineWidth:t.settings.lines[e].lineWidth})}}))}},{key:"drawSenkouSpanFill",value:function(){for(var t=this.fillPoints.length,e=this.getTimeFrom(),n=this.getTimeTo(),r=0;r<t;r++){var i=this.fillPoints[r].topLine,o="senkouSpanA"===i?this.senkouAOffset:this.senkouBOffset,a="senkouSpanB"===i?this.senkouAOffset:this.senkouBOffset,s=r===t-1,c="senkouSpanA"===i?"senkouSpanB":"senkouSpanA",l=Math.min(s?this[c].length-1:this.fillPoints[r+1].index-1+a,this[c].length-1),u=Math.max(0,this.fillPoints[r].index+a),d=Math.max(0,this.fillPoints[r].index+o),f=Math.min(s?this[i].length-1:this.fillPoints[r+1].index-1+o,this[i].length-1),h=[];!s&&this.fillPoints[r+1]&&h.push([this.fillPoints[r+1].x,this.fillPoints[r+1].y]);for(var p=l;p>=u;p--){var m=this[c][p];m&&"number"==typeof m.time&&"number"==typeof m.value&&h.push([m.time,m.value])}this.fillPoints[r]&&h.push([this.fillPoints[r].x,this.fillPoints[r].y]);for(var y=d;y<=f;y++){var v=this[i][y];v&&"number"==typeof v.time&&"number"==typeof v.value&&h.push([v.time,v.value])}if(!(h.length<2)){for(var b=!1,g=0;g<h.length;g++){var w=k2(h[g],1)[0];if(e<=w&&w<=n){b=!0;break}}b&&this.drawFill(h,i,r)}}}},{key:"drawFill",value:function(t,e,n){var r=this.settings.lines[e];if(this.getShowValue(r)){var i=this.getDynamicGraphics(rh.Rp.INDICATORS,"ic-fill-".concat(n,"-").concat(this.index));i.graphics.beginFill(this.prepareColor(this.settings.lines[e].color),this.settings.lines[e].opacity/100);for(var o=0;o<t.length;o++){var a=k2(t[o],2),s=a[0],c=a[1];i.graphics[0===o?"moveTo":"lineTo"](this.getXFromTime(s+this.averageShift*this.pointsInElement),this.getYFromValue(c))}i.graphics.endFill()}}}])}(oN);function B2(t){return B2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B2(t)}function H2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$2(r.key),r)}}function $2(t){var e=function(t,e){if("object"!=B2(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=B2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==B2(e)?e:e+""}function F2(t,e,n){return e=V2(e),function(t,e){if(e&&("object"==B2(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,W2()?Reflect.construct(e,n||[],V2(t).constructor):e.apply(t,n))}function W2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(W2=function(){return!!t})()}function U2(){return U2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=V2(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},U2.apply(null,arguments)}function V2(t){return V2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V2(t)}function G2(t,e){return G2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},G2(t,e)}var z2=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=F2(this,e,[t,n,r])).type=Ru.W.DEMARKER,i.position=rh.vh.Bottom,i.valueYScaleType=rh.gd.Range,i.min=0,i.max=1,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G2(t,e)}(e,t),function(t,e,n){return e&&H2(t.prototype,e),n&&H2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.period+1}},{key:"updateSettings",value:function(t){!function(t,e,n,r){var i=U2(V2(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"updateSettings",this,3)([t]),this.obColor=new AI(t.lines.overbought.color,t.lines.overbought.opacity/100),this.osColor=new AI(t.lines.oversold.color,t.lines.oversold.opacity/100)}},{key:"roundValue",value:function(t){return t>=0&&t<=1?yn(t,2):""}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"flush",value:function(){this.deMax=[],this.deMin=[],this.deMark=[],this.filteredPoints=[],this.prevFirstFiltered="",this.prevLastFiltered="",this.cachedPoints={}}},{key:"removeLastPoints",value:function(){this.deMax.length>0&&this.deMax.splice(-1,1),this.deMin.length>0&&this.deMin.splice(-1,1),this.deMark.length>0&&this.deMark.splice(-1,1)}},{key:"calculatePoints",value:function(){if(!(this.settings.period+1>this.candles.length)){this.removeLastPoints();for(var t=this.settings.period+1+this.deMax.length;t<this.candles.length;t++){var e=this.candles[t].time,n=(0,nh.pR)(this.candles[t],rh.U$.HIGH),r=(0,nh.pR)(this.candles[t-1],rh.U$.HIGH);this.deMax.push(new zI(n>r?n-r:0,e));var i=(0,nh.pR)(this.candles[t],rh.U$.LOW),o=(0,nh.pR)(this.candles[t-1],rh.U$.LOW);this.deMin.push(new zI(i<o?o-i:0,e))}var a=this.settings.period;this.smaDMax=this.sma({candles:this.deMax,cacheId:"demarker-max-".concat(a),period:a}),this.smaDMin=this.sma({candles:this.deMin,cacheId:"demarker-min-".concat(a),period:a});for(var s=this.deMark.length;s<this.smaDMax.length;s++){var c=this.smaDMax[s],l=c.time,u=c.value,d=this.smaDMin[s].value;this.deMark.push(new zI(u+d!==0?u/(u+d):0,l))}this.filteredPoints=this.filterIndicatorPoints(this.deMark,!1)}}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var t=this.settings.lines,e=t.overbought,n=t.oversold,r=t.main;if(this.getShowValue(e)&&e.level>0){var i=e.level,o=e.lineWidth;this.drawBottomLevel("overbought",i,this.obColor,o,"",i)}if(this.getShowValue(n)&&n.level>0){var a=n.level,s=n.lineWidth;this.drawBottomLevel("oversold",a,this.osColor,s,"",a)}if(this.getShowValue(r)){var c=r.color,l=r.lineWidth,u=Ru.Ay.CHART,d=u.FIGURE,f=u.HISTOGRAM_COLOR_MODE;this.settings.lines.main.figure===d.LINE?this.drawBottomLine(this.filteredPoints,"demarker",l,c,!0):this.settings.lines.main.figure===d.HISTOGRAM&&(this.drawBottomHistogram(this.filteredPoints,c,c,.5,f.FROM_ZERO_LEVEL),this.drawMiddleLevel(""))}}}])}(oN);function Y2(t){return Y2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y2(t)}function X2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q2(r.key),r)}}function q2(t){var e=function(t,e){if("object"!=Y2(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Y2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Y2(e)?e:e+""}function K2(t,e,n){return e=Q2(e),function(t,e){if(e&&("object"==Y2(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Z2()?Reflect.construct(e,n||[],Q2(t).constructor):e.apply(t,n))}function Z2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Z2=function(){return!!t})()}function J2(){return J2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Q2(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},J2.apply(null,arguments)}function Q2(t){return Q2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Q2(t)}function t3(t,e){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t3(t,e)}var e3=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=K2(this,e,[t,n,r])).type=Ru.W.WILLIAMS_R,i.position=rh.vh.Bottom,i.valueYScaleType=rh.gd.Range,i.max=10,i.min=-110,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t3(t,e)}(e,t),function(t,e,n){return e&&X2(t.prototype,e),n&&X2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"updateSettings",value:function(t){!function(t,e,n,r){var i=J2(Q2(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"updateSettings",this,3)([t]),this.obColor=new AI(t.lines.upperBand.color,t.lines.upperBand.opacity/100),this.osColor=new AI(t.lines.lowerBand.color,t.lines.lowerBand.opacity/100)}},{key:"roundValue",value:function(t){return yn(t,0)}},{key:"flush",value:function(){this.points=[],this.filteredPoints=[]}},{key:"removeLastPoints",value:function(){this.points.length>0&&this.points.splice(-1,1)}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"calculatePoints",value:function(){if(!(this.settings.period>this.candles.length)){this.removeLastPoints();for(var t=this.settings.period+this.points.length;t<this.candles.length;t++){var e=this.candles[t],n=this.highest(t,this.settings.period,rh.U$.HIGH),r=this.lowest(t,this.settings.period,rh.U$.LOW),i=(0,nh.pR)(e,rh.U$.CLOSE),o=n-r,a=0===o?0:(n-i)/o*-100;this.points.push(new zI(a,e.time))}this.filteredPoints=this.filterIndicatorPoints(this.points,!1)}}},{key:"getBandPercent",value:function(t){return 100-(this.max-t)/(this.max-this.min)*100}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var t=this.settings.lines,e=t.upperBand,n=t.lowerBand,r=t.main;if(this.getShowValue(e)){var i=e.level,o=e.lineWidth;this.drawBottomLevel("upperBand",this.getBandPercent(i),this.obColor,o,"",i)}if(this.getShowValue(n)){var a=n.level,s=n.lineWidth;this.drawBottomLevel("lowerBand",this.getBandPercent(a),this.osColor,s,"",a)}if(this.getShowValue(r)){var c=Math.round(100-(this.max-(n.level+e.level)/2)/(this.max-this.min)*100);this.drawBottomLevel("middle",c,this.colors.indicatorBottomNullLineColor,1,"",-c)}var l=Ru.Ay.CHART.FIGURE,u=l.HISTOGRAM,d=l.LINE,f=this.settings.lines.main,h=f.color,p=f.figure,m=f.lineWidth;p===d?this.drawBottomLine(this.filteredPoints,"williams_r",m,h,!0):p===u&&this.drawBottomHistogram(this.filteredPoints,h,h)}}])}(oN);function n3(t){return n3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n3(t)}function r3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i3(r.key),r)}}function i3(t){var e=function(t,e){if("object"!=n3(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=n3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n3(e)?e:e+""}function o3(t,e,n){return e=s3(e),function(t,e){if(e&&("object"==n3(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,a3()?Reflect.construct(e,n||[],s3(t).constructor):e.apply(t,n))}function a3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(a3=function(){return!!t})()}function s3(t){return s3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s3(t)}function c3(t,e){return c3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c3(t,e)}var l3=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=o3(this,e,[t,n,r])).type=Ru.W.BULLS_POWER,i.position=rh.vh.Bottom,i.valueYScaleType=rh.gd.Range,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c3(t,e)}(e,t),function(t,e,n){return e&&r3(t.prototype,e),n&&r3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"flush",value:function(){this.points=[],this.ema=[],this.filteredPoints=[]}},{key:"removeLastPoints",value:function(){this.points.length>0&&this.points.splice(-1,1),this.ema.length>0&&this.ema.splice(-1,1)}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints(),this.filterPoints()}},{key:"calculatePoints",value:function(){if(!(this.settings.period>this.candles.length)){this.removeLastPoints(),this.ema=this.getEMA(this.ema,this.settings.period);for(var t=this.settings.period+this.points.length;t<this.candles.length;t++){var e=this.candles[t],n=this.ema[t-this.settings.period];this.points.push(new zI(this.calculateValue(e,n),e.time))}}}},{key:"calculateValue",value:function(t,e){return(0,nh.pR)(t,rh.U$.HIGH)-e.value}},{key:"zeroLevel",get:function(){return Math.abs(this.min/(this.max-this.min))}},{key:"zeroLevelPercent",get:function(){return 100*this.zeroLevel}},{key:"filterPoints",value:function(){this.filteredPoints=this.filterIndicatorPoints(this.points,!1),this.recalculateMinMax(this.filteredPoints)}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var t=this.settings.lines.main,e=t.color,n=t.lineWidth,r=t.figure,i=this.colors.indicatorBottomNullLineColor;r===Ru.Ay.CHART.FIGURE.LINE?(this.drawBottomLine(this.filteredPoints,this.type,n,e,!0),this.drawBottomLevel("zero",this.zeroLevelPercent,i,1,"","0")):r===Ru.Ay.CHART.FIGURE.HISTOGRAM&&(this.drawBottomHistogram(this.filteredPoints,e,e,this.zeroLevel),this.drawBottomLevel("histogram_zero",this.zeroLevelPercent,i,1,"","0"))}}])}(oN);function u3(t){return u3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u3(t)}function d3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f3(r.key),r)}}function f3(t){var e=function(t,e){if("object"!=u3(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=u3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u3(e)?e:e+""}function h3(t,e,n){return e=m3(e),function(t,e){if(e&&("object"==u3(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p3()?Reflect.construct(e,n||[],m3(t).constructor):e.apply(t,n))}function p3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p3=function(){return!!t})()}function m3(t){return m3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m3(t)}function y3(t,e){return y3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y3(t,e)}var v3=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=h3(this,e,[t,n,r])).type=Ru.W.BEARS_POWER,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y3(t,e)}(e,t),function(t,e,n){return e&&d3(t.prototype,e),n&&d3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"calculateValue",value:function(t,e){return(0,nh.pR)(t,rh.U$.LOW)-e.value}}])}(l3);function b3(t){return b3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b3(t)}function g3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w3(r.key),r)}}function w3(t){var e=function(t,e){if("object"!=b3(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=b3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==b3(e)?e:e+""}function j3(t,e,n){return e=S3(e),function(t,e){if(e&&("object"==b3(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,x3()?Reflect.construct(e,n||[],S3(t).constructor):e.apply(t,n))}function x3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(x3=function(){return!!t})()}function _3(){return _3="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=S3(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},_3.apply(null,arguments)}function S3(t){return S3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S3(t)}function O3(t,e){return O3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O3(t,e)}var k3=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=j3(this,e,[t,n,r])).type=Ru.W.MOMENTUM,i.position=rh.vh.Bottom,i.valueYScaleType=rh.gd.Range,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O3(t,e)}(e,t),function(t,e,n){return e&&g3(t.prototype,e),n&&g3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"zeroLevelPercent",get:function(){return 100*Math.abs((this.max-100)/(this.max-this.min))}},{key:"updateSettings",value:function(t){!function(t,e,n,r){var i=_3(S3(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"updateSettings",this,3)([t]);var n=this.settings.lines.main,r=n.colors,i=n.opacity,o=r.up,a=r.down;this.upColor=new AI(o.color,i/100),this.downColor=new AI(a.color,i/100)}},{key:"roundValue",value:function(t){return yn(t,2)}},{key:"flush",value:function(){this.points=[],this.histogramPoints=[],this.filteredPoints=[],this.resetMinMax()}},{key:"removeLastPoints",value:function(){this.points.length>0&&this.points.splice(-1,1),this.histogramPoints.length>0&&this.histogramPoints.splice(-1,1)}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"calculatePoints",value:function(){if(!(this.settings.period>this.candles.length)){this.removeLastPoints();for(var t=this.settings.period+this.points.length;t<this.candles.length;t++){var e=this.candles[t],n=this.candles[t-this.settings.period],r=100*(0,nh.pR)(e,this.settings.source)/(0,nh.pR)(n,this.settings.source);this.points.push(new zI(r,e.time)),this.histogramPoints.push(new zI(r-100,e.time))}}}},{key:"filterPoints",value:function(){this.filteredPoints=this.filterIndicatorPoints(this.points,!1),this.recalculateMinMax(this.filteredPoints)}},{key:"draw",value:function(){if(this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.settings.lines.main.figure===om.HISTOGRAM){this.recalculateMinMax(this.histogramPoints);var t=Math.abs(this.min/(this.max-this.min));this.drawMaxLevel(this.max),this.drawMiddleLevel(0),this.drawMinLevel(this.min);var e=Ru.Ay.CHART.HISTOGRAM_COLOR_MODE.FROM_ZERO_LEVEL;this.drawBottomHistogram(this.histogramPoints,this.downColor,this.upColor,t,e)}else{if(this.filterPoints(),this.getShowValue(this.settings.lines.main)){var n=this.settings.lines.main.lineWidth;this.drawBottomLine(this.filteredPoints,this.type,n,this.upColor,!0)}var r=this.colors.indicatorBottomNullLineColor;this.drawBottomLevel("100",100-this.zeroLevelPercent,r,1,"","100"),this.drawMaxLevel(this.max),this.drawMinLevel(this.min)}}}])}(oN);function T3(t){return T3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T3(t)}function A3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C3(r.key),r)}}function C3(t){var e=function(t,e){if("object"!=T3(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=T3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==T3(e)?e:e+""}function P3(t,e,n){return e=I3(e),function(t,e){if(e&&("object"==T3(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,E3()?Reflect.construct(e,n||[],I3(t).constructor):e.apply(t,n))}function E3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(E3=function(){return!!t})()}function I3(t){return I3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},I3(t)}function N3(t,e){return N3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},N3(t,e)}var D3=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=P3(this,e,[t,n,r])).type=Ru.W.VORTEX,i.position=rh.vh.Bottom,i.valueYScaleType=rh.gd.Range,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N3(t,e)}(e,t),function(t,e,n){return e&&A3(t.prototype,e),n&&A3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"roundValue",value:function(t){return(0,ru.xr)(t,2)}},{key:"flush",value:function(){this.vmPlus=[],this.vmMinus=[],this.tr=[],this.viPlus=[],this.viMinus=[]}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"removeLastPoints",value:function(){this.vmPlus.length>0&&this.vmPlus.splice(-1,1),this.vmMinus.length>0&&this.vmMinus.splice(-1,1),this.tr.length>0&&this.tr.splice(-1,1),this.viPlus.length>0&&this.viPlus.splice(-1,1),this.viMinus.length>0&&this.viMinus.splice(-1,1)}},{key:"calculatePoints",value:function(){if(!(this.settings.period>this.candles.length)){this.removeLastPoints();for(var t=1+this.vmPlus.length;t<this.candles.length;t++){var e=this.candles[t],n=this.candles[t-1],r=(0,nh.pR)(e,rh.U$.HIGH),i=(0,nh.pR)(e,rh.U$.LOW),o=(0,nh.pR)(n,rh.U$.HIGH),a=(0,nh.pR)(n,rh.U$.LOW),s=(0,nh.pR)(n,rh.U$.CLOSE);this.vmPlus.push(new zI(Math.abs(r-a),e.time)),this.vmMinus.push(new zI(Math.abs(i-o),e.time));var c=Math.max(r-i,Math.abs(r-s),Math.abs(i-s));if(this.tr.push(new zI(c,e.time)),t>=this.settings.period){var l=this.sumLast(this.vmPlus,this.settings.period),u=this.sumLast(this.vmMinus,this.settings.period),d=this.sumLast(this.tr,this.settings.period);this.viPlus.push(new zI(0===d?0:l/d,e.time)),this.viMinus.push(new zI(0===d?0:u/d,e.time))}}}}},{key:"sumLast",value:function(t,e){for(var n=0,r=t.length-1,i=r-e+1,o=r;o>=i;o--)n+=t[o].value;return n}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var t=this.filterPoints(this.viPlus),e=this.filterPoints(this.viMinus);this.recalculateMinMax(t,e),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var n=this.settings.lines,r=n.viPlus,i=n.viMinus;if(this.getShowValue(r)){var o=r.color,a=r.lineWidth;this.drawBottomLine(t,"vi_plus",a,o,!0)}if(this.getShowValue(i)){var s=i.color,c=i.lineWidth;this.drawBottomLine(e,"vi_minus",c,s,!0)}t.length>0&&e.length>0&&(this.drawMaxLevel(this.max),this.drawMinLevel(this.min));var l=(1-this.min)/(this.max-this.min)*100;if(l>0&&l<100){var u=this.colors.indicatorBottomNullLineColor;this.drawBottomLevel("one",l,u,1,"",1)}}}])}(oN);function L3(t){return L3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L3(t)}function M3(t){return function(t){if(Array.isArray(t))return R3(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return R3(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R3(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R3(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function B3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H3(r.key),r)}}function H3(t){var e=function(t,e){if("object"!=L3(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=L3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==L3(e)?e:e+""}function $3(t,e,n){return e=W3(e),function(t,e){if(e&&("object"==L3(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,F3()?Reflect.construct(e,n||[],W3(t).constructor):e.apply(t,n))}function F3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(F3=function(){return!!t})()}function W3(t){return W3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W3(t)}function U3(t,e){return U3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U3(t,e)}var V3=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=$3(this,e,[t,n,r])).type=Ru.W.KELTNER_CHANNEL,i.position=rh.vh.Overlay,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U3(t,e)}(e,t),function(t,e,n){return e&&B3(t.prototype,e),n&&B3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return Math.max(this.settings.emaPeriod,this.settings.atrPeriod)}},{key:"flush",value:function(){this.ema=[],this.tr=[],this.atr=[],this.upperBand=[],this.lowerBand=[],this.filteredPoints={top:[],middle:[],bottom:[]}}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"removeLastPoints",value:function(){this.ema.length>0&&this.ema.splice(-1,1),this.tr.length>0&&this.tr.splice(-1,1),this.atr.length>0&&this.atr.splice(-1,1),this.upperBand.length>0&&this.upperBand.splice(-1,1),this.lowerBand.length>0&&this.lowerBand.splice(-1,1)}},{key:"calculatePoints",value:function(){if(!(this.settings.emaPeriod>this.candles.length||this.settings.atrPeriod>this.candles.length)){this.removeLastPoints();for(var t=2/(this.settings.emaPeriod+1),e=2/(this.settings.atrPeriod+1),n=this.ema.length+this.settings.emaPeriod;n<this.candles.length;n++){var r=this.candles[n],i=this.candles[n-1],o=(0,nh.pR)(r,rh.U$.CLOSE);this.ema.length>0&&(o=t*o+(1-t)*this.ema[this.ema.length-1].value);var a=(0,nh.pR)(r,rh.U$.HIGH),s=(0,nh.pR)(r,rh.U$.LOW),c=(0,nh.pR)(i,rh.U$.CLOSE),l=Math.max(a-s,Math.abs(a-c),Math.abs(s-c));if(this.ema.push(new zI(o,r.time)),this.tr.push(new zI(l,r.time)),this.tr.length>=this.settings.atrPeriod){var u=l;this.atr.length>0&&(u=e*u+(1-e)*this.atr[this.atr.length-1].value),this.atr.push(new zI(u,r.time)),this.upperBand.push(new zI(o+this.settings.multiplier*u,r.time)),this.lowerBand.push(new zI(o-this.settings.multiplier*u,r.time))}}this.filteredPoints={top:this.filterIndicatorPoints(this.upperBand,!1),middle:this.filterIndicatorPoints(this.ema,!1),bottom:this.filterIndicatorPoints(this.lowerBand,!1)}}}},{key:"draw",value:function(){var t=this;if(this.clearAllDynamicGraphics(),Object.keys(this.settings.lines).forEach((function(e){var n=t.settings.lines[e];t.getShowValue(n)&&t.isLine(n)&&t.drawLineWithParams({points:t.filteredPoints[e],elementId:"keltner-".concat(e,"-").concat(t.index),color:n.color,lineWidth:n.lineWidth})})),this.getShowValue(this.settings.lines.background)){var e=[].concat(M3(this.filteredPoints.top),M3(this.filteredPoints.bottom.slice().reverse()));this.drawFill(e)}}},{key:"drawFill",value:function(t){var e=this.getDynamicGraphics(rh.Rp.INDICATORS,"keltner-fill-".concat(this.index)),n=this.settings.lines.background,r=n.color,i=n.opacity;e.graphics.beginFill(this.prepareColor(r),i/100);for(var o=0;o<t.length;o++){var a=t[o],s=a.time,c=a.value;e.graphics[0===o?"moveTo":"lineTo"](this.getXFromTime(s+this.averageShift*this.pointsInElement),this.getYFromValue(c))}e.graphics.endFill()}}])}(oN);function G3(t){return G3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G3(t)}function z3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y3(r.key),r)}}function Y3(t){var e=function(t,e){if("object"!=G3(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=G3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==G3(e)?e:e+""}function X3(t,e,n){return e=Z3(e),function(t,e){if(e&&("object"==G3(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,q3()?Reflect.construct(e,n||[],Z3(t).constructor):e.apply(t,n))}function q3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(q3=function(){return!!t})()}function K3(){return K3="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Z3(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},K3.apply(null,arguments)}function Z3(t){return Z3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Z3(t)}function J3(t,e){return J3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},J3(t,e)}var Q3=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=X3(this,e,[t,n,r])).type=Ru.W.SCHAFF_TREND_CYCLE,i.position=rh.vh.Bottom,i.valueYScaleType=rh.gd.Percentage,i.min=0,i.max=100,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J3(t,e)}(e,t),function(t,e,n){return e&&z3(t.prototype,e),n&&z3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){var t=this.settings,e=t.cycle,n=t.fast,r=t.slow,i=t.macdD,o=t.pfD;return Math.max(n,r)+2*e+i+o}},{key:"updateSettings",value:function(t){!function(t,e,n,r){var i=K3(Z3(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"updateSettings",this,3)([t]),this.obColor=new AI(t.lines.overbought.color,t.lines.overbought.opacity/100),this.osColor=new AI(t.lines.oversold.color,t.lines.oversold.opacity/100)}},{key:"flush",value:function(){this.cachedPoints={},this.shortEma=[],this.longEma=[],this.macd=[],this.macdK=[],this.macdD=[],this.pf=[],this.pff=[]}},{key:"removeLastCalculatedPoint",value:function(){this.points.length>0&&this.points.splice(-1,1)}},{key:"roundValue",value:function(t){return t>=0&&t<=100?yn(t,0):""}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint();var t=this.settings,e=t.cycle,n=t.fast,r=t.slow,i=t.macdD,o=t.pfD;this.getEMA(this.shortEma,n),this.getEMA(this.longEma,r),this.calculateMacd(this.macd),this.calculateK(this.macdK,this.macd,e),this.getEMA(this.macdD,i,this.macdK),this.calculateK(this.pf,this.macdD,e),this.getEMA(this.pff,o,this.pf)}},{key:"calculateMacd",value:function(t){for(var e=Math.abs(this.shortEma.length-this.longEma.length),n=this.longEma.length>this.shortEma.length?this.longEma.length:this.shortEma.length,r=e+t.length;r<n;r++){var i=this.longEma.length>this.shortEma.length?r-e:r,o=this.longEma.length<this.shortEma.length?r-e:r,a=this.shortEma[i].value-this.longEma[o].value;t.push(new zI(a,this.shortEma[i].time))}}},{key:"calculateK",value:function(t,e,n){for(var r=n+t.length;r<e.length;r++){for(var i=this.max,o=this.min,a=0;a<n;a++){var s=e[r-a].value;i>s&&(i=s),o<s&&(o=s)}var c=e.length>0?e[e.length-1].value:50,l=o>i?(e[r].value-i)/(o-i)*100:c;t.push(new zI(l,e[r].time))}}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var t=this.settings.lines,e=t.main,n=t.overbought,r=t.oversold;if(this.getShowValue(e)){var i=e.color,o=e.lineWidth,a=this.filterIndicatorPoints(this.pff,!1);this.drawBottomLine(a,"sct-pff",o,i,!0)}if(this.getShowValue(n)){var s=n.level,c=n.lineWidth;this.drawBottomLevel("ob",s,this.obColor,c,"",s.toString())}if(this.getShowValue(r)){var l=r.level,u=r.lineWidth;this.drawBottomLevel("os",l,this.osColor,u,"",l.toString())}}}])}(oN);function t4(t){return t4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t4(t)}function e4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n4(r.key),r)}}function n4(t){var e=function(t,e){if("object"!=t4(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=t4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==t4(e)?e:e+""}function r4(t,e,n){return e=o4(e),function(t,e){if(e&&("object"==t4(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,i4()?Reflect.construct(e,n||[],o4(t).constructor):e.apply(t,n))}function i4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(i4=function(){return!!t})()}function o4(t){return o4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o4(t)}function a4(t,e){return a4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a4(t,e)}var s4=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=r4(this,e,[t,n,r])).type=Ru.W.ATR,i.valueYScaleType=rh.gd.Range,i.position=rh.vh.Bottom,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a4(t,e)}(e,t),function(t,e,n){return e&&e4(t.prototype,e),n&&e4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.period+1}},{key:"flush",value:function(){this.tr=[],this.atr=[]}},{key:"removeLastCalculatedPoint",value:function(){this.tr.length>0&&this.tr.splice(-1,1),this.atr.length>0&&this.atr.splice(-1,1)}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint();for(var t=this.tr.length+1;t<this.candles.length;t++){var e=this.candles[t],n=this.candles[t-1];this.tr.push(new zI((0,nh.eZ)(e,n),e.time))}if(!(this.tr.length<this.settings.period)){0===this.atr.length&&this.atr.push(new zI((0,nh.Zf)(this.tr,0,this.settings.period),this.tr[0].time));for(var r=this.atr.length;r<this.tr.length;r++){var i=this.tr[r],o=i.time,a=i.value,s=(this.atr[r-1].value*(this.settings.period-1)+a)/this.settings.period;this.atr.push(new zI(s,o))}this.filteredPoints=this.filterIndicatorPoints(this.atr,!1)}}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.recalculateMinMax(this.filteredPoints),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.drawMaxLevel(this.max),this.drawMiddleLevel((this.max+this.min)/2),this.drawMinLevel(this.min);var t=this.settings.lines.main;if(this.getShowValue(t)){var e=t.color,n=t.lineWidth;this.drawBottomLine(this.filteredPoints,"period",n,e,!0)}}}])}(oN);function c4(t){return c4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c4(t)}function l4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u4(r.key),r)}}function u4(t){var e=function(t,e){if("object"!=c4(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=c4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c4(e)?e:e+""}function d4(t,e,n){return e=p4(e),function(t,e){if(e&&("object"==c4(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f4()?Reflect.construct(e,n||[],p4(t).constructor):e.apply(t,n))}function f4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f4=function(){return!!t})()}function h4(){return h4="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=p4(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},h4.apply(null,arguments)}function p4(t){return p4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p4(t)}function m4(t,e){return m4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m4(t,e)}var y4=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=d4(this,e,[t,n,r])).type=Ru.W.OSMA,i.position=rh.vh.Bottom,i.valueYScaleType=rh.gd.Range,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m4(t,e)}(e,t),function(t,e,n){return e&&l4(t.prototype,e),n&&l4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return Math.max(this.settings.fastPeriod,this.settings.slowPeriod,this.settings.signalPeriod)}},{key:"zeroLevel",get:function(){return Math.abs(this.min/(this.max-this.min))}},{key:"zeroLevelPercent",get:function(){return 100*this.zeroLevel}},{key:"updateSettings",value:function(t){!function(t,e,n,r){var i=h4(p4(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"updateSettings",this,3)([t]);var n=t.lines.histogram;this.histogramColor=new AI(n.color,n.opacity/100)}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint(),this.calculateMACDPoints(),this.calculateOsMA()}},{key:"flush",value:function(){this.macd=[],this.signal=[],this.osma=[],this.emaFast=[],this.emaSlow=[],this.position===rh.vh.Overlay?(this.maxValue=Ru.Ay.CHART.DBL_MIN,this.minValue=Ru.Ay.CHART.DBL_MAX):(this.minVal=Ru.Ay.CHART.DBL_MAX,this.maxVal=Ru.Ay.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){this.emaFast.length>0&&this.emaFast.splice(-1,1),this.emaSlow.length>0&&this.emaSlow.splice(-1,1),this.macd.length>0&&this.macd.splice(-1,1),this.signal.length>0&&this.signal.splice(-1,1),this.osma.length>0&&this.osma.splice(-1,1)}},{key:"calculateMACDPoints",value:function(){this.emaFast=this.getEMA(this.emaFast,this.settings.fastPeriod),this.emaSlow=this.getEMA(this.emaSlow,this.settings.slowPeriod);for(var t=Math.max(this.emaFast.length,this.emaSlow.length),e=t-Math.min(this.emaFast.length,this.emaSlow.length),n=e+this.macd.length;n<this.candles.length;n++){var r=this.emaSlow.length===t?this.emaSlow[n]:this.emaSlow[n-e],i=this.emaFast.length===t?this.emaFast[n]:this.emaFast[n-e];r&&i&&this.macd.push(new zI(i.value-r.value,r.time))}this.signal=this.sma({candles:this.macd,period:this.settings.signalPeriod})}},{key:"calculateOsMA",value:function(){for(var t=this.osma.length;t<this.signal.length;t++){var e=this.macd[t+this.settings.signalPeriod],n=this.signal[t];e&&n&&this.osma.push(new zI(e.value-n.value,e.time))}}},{key:"getZeroLabel",value:function(){return this.zeroLevelPercent<90?"0":""}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var t=this.filterIndicatorPoints(this.osma,!1);if(this.recalculateMinMax(t),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.getShowValue(this.settings.lines.histogram)){var e=this.histogramColor;this.drawBottomHistogram(t,e,e,this.zeroLevel)}var n=this.colors.indicatorBottomNullLineColor;this.drawBottomLevel("zero",this.zeroLevelPercent,n,1,"",this.getZeroLabel()),this.drawMaxLevel(this.max),this.drawMinLevel(this.min)}}])}(oN);function v4(t){return v4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v4(t)}function b4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g4(r.key),r)}}function g4(t){var e=function(t,e){if("object"!=v4(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=v4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v4(e)?e:e+""}function w4(t,e,n){return e=x4(e),function(t,e){if(e&&("object"==v4(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,j4()?Reflect.construct(e,n||[],x4(t).constructor):e.apply(t,n))}function j4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(j4=function(){return!!t})()}function x4(t){return x4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x4(t)}function _4(t,e){return _4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_4(t,e)}var S4=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=w4(this,e,[t,n,r])).type=Ru.W.BOLLINGER_BANDS_WIDTH,i.position=rh.vh.Bottom,i.valueYScaleType=rh.gd.Range,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_4(t,e)}(e,t),function(t,e,n){return e&&b4(t.prototype,e),n&&b4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"flush",value:function(){this.initMinMax(),this.points={top:[],middle:[],bottom:[]},this.filteredPoints={top:[],middle:[],bottom:[]},this.bbw=[]}},{key:"initMinMax",value:function(){this.position===rh.vh.Overlay?(this.maxValue=Ru.Ay.CHART.DBL_MIN,this.minValue=Ru.Ay.CHART.DBL_MAX):(this.minVal=Ru.Ay.CHART.DBL_MAX,this.maxVal=Ru.Ay.CHART.DBL_MIN)}},{key:"calculate",value:function(){this.initMinMax(),this.checkFlush(),this.points.top.length&&this.bbw.splice(-1,1);for(var t=this.bbw.length+this.settings.period;t<this.candles.length;t++){for(var e=0,n=0;n<this.settings.period;n++){var r=t-n;r>=0&&(e+=this.candles[r].exitValue)}for(var i=e/this.settings.period,o=0,a=0;a<this.settings.period;a++){var s=t-a;s>=0&&(o+=Math.pow(this.candles[s].exitValue-i,2))}o=Math.sqrt(o/this.settings.period);var c=this.candles[t].time,l=i+this.settings.deviation*o,u=i-this.settings.deviation*o;this.bbw.push(new zI(0!==i?(l-u)/i:0,c))}}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var t=this.filterIndicatorPoints(this.bbw,!1);this.recalculateMinMax(t),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var e=this.settings.lines.main;if(this.getShowValue(e)){var n=e.color,r=e.lineWidth;this.drawBottomLine(t,"bbw",r,n,!0)}this.drawMaxLevel(this.max),this.drawMinLevel(this.min)}}])}(oN);function O4(t){return O4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O4(t)}function k4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T4(r.key),r)}}function T4(t){var e=function(t,e){if("object"!=O4(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=O4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==O4(e)?e:e+""}function A4(t,e,n){return e=P4(e),function(t,e){if(e&&("object"==O4(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,C4()?Reflect.construct(e,n||[],P4(t).constructor):e.apply(t,n))}function C4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(C4=function(){return!!t})()}function P4(t){return P4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P4(t)}function E4(t,e){return E4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E4(t,e)}var I4=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=A4(this,e,[t,n,r])).type=Ru.W.DONCHIAN_CHANNEL,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E4(t,e)}(e,t),function(t,e,n){return e&&k4(t.prototype,e),n&&k4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"calculatePoints",value:function(t){var e=this.highest(t,this.settings.period,rh.U$.HIGH),n=this.lowest(t,this.settings.period,rh.U$.LOW),r=(e+n)/2,i=this.candles[t].time;this.points.top.push(new zI(e,i)),this.points.middle.push(new zI(r,i)),this.points.bottom.push(new zI(n,i))}}])}(L0);function N4(t){return N4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N4(t)}function D4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L4(r.key),r)}}function L4(t){var e=function(t,e){if("object"!=N4(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=N4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==N4(e)?e:e+""}function M4(t,e,n){return e=$4(e),function(t,e){if(e&&("object"==N4(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,R4()?Reflect.construct(e,n||[],$4(t).constructor):e.apply(t,n))}function R4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(R4=function(){return!!t})()}function B4(t,e,n,r){var i=H4($4(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function H4(){return H4="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=$4(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},H4.apply(null,arguments)}function $4(t){return $4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$4(t)}function F4(t,e){return F4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F4(t,e)}var W4=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=M4(this,e,[t,n,r])).type=Ru.W.ACCELERATOR_OSCILLATOR,i.position=rh.vh.Bottom,i.valueYScaleType=rh.gd.Range,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F4(t,e)}(e,t),function(t,e,n){return e&&D4(t.prototype,e),n&&D4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){var t=this.settings,e=t.aoPeriodShort,n=t.aoPeriodLong,r=t.acPeriod;return Math.max(e,n,r)}},{key:"zeroLevel",get:function(){return Math.abs(this.min/(this.max-this.min))}},{key:"updateSettings",value:function(t){B4(e,"updateSettings",this,3)([t]);var n=this.settings.lines.main,r=n.colors,i=n.opacity,o=r.up,a=r.down;this.upColor=new AI(o.color,i/100),this.downColor=new AI(a.color,i/100)}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint(),this.calculatePoints()}},{key:"flush",value:function(){this.aoShort=[],this.aoLong=[],this.ao=[],this.aoSMA=[],this.ac=[],this.cachedPoints={},this.initMinMax()}},{key:"initMinMax",value:function(){this.position===rh.vh.Overlay?(this.maxValue=Ru.Ay.CHART.DBL_MIN,this.minValue=Ru.Ay.CHART.DBL_MAX):(this.minVal=Ru.Ay.CHART.DBL_MAX,this.maxVal=Ru.Ay.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){this.aoShort.length>0&&this.aoShort.splice(-1,1),this.aoLong.length>0&&this.aoLong.splice(-1,1),this.ao.length>0&&this.ao.splice(-1,1),this.aoSMA.length>0&&this.aoSMA.splice(-1,1),this.ac.length>0&&this.ac.splice(-1,1)}},{key:"calculatePoints",value:function(){var t=this.settings,e=t.aoPeriodShort,n=t.aoPeriodLong,r=t.acPeriod;this.aoShort=this.sma({source:rh.U$.HL2,period:e}),this.aoLong=this.sma({source:rh.U$.HL2,period:n});for(var i=Math.max(this.aoShort.length,this.aoLong.length),o=i-Math.min(this.aoShort.length,this.aoLong.length),a=o+this.ao.length;a<this.candles.length;a++){var s=this.aoLong.length===i?this.aoLong[a]:this.aoLong[a-o],c=this.aoShort.length===i?this.aoShort[a]:this.aoShort[a-o];s&&c&&this.ao.push(new zI(c.value-s.value,s.time))}if(0!==this.ao.length){this.aoSMA=this.sma({period:r,cacheId:"ao-sma-".concat(r,"-").concat(e,"-").concat(n),candles:this.ao});for(var l=this.ac.length;l<this.aoSMA.length;l++){var u=this.aoSMA[l],d=this.ao[l+r-1];u.time!==d.time?console.log("sma.time ".concat(u.time," !== ao.time ").concat(d.time)):this.ac.push(new zI(d.value-u.value,u.time))}}}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.recalculateMinMax(this.filterIndicatorPoints(this.ac)),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.drawMaxLevel(this.max),this.drawBottomLevel("zero",100*this.zeroLevel,this.colors.indicatorBottomNullLineColor,1,"",0),this.drawMinLevel(this.min);var t=this.settings.lines.main;this.getShowValue(t)&&this.drawBottomHistogram(this.ac,this.upColor,this.downColor,this.zeroLevel)}},{key:"destroy",value:function(){B4(e,"destroy",this,3)([]),this.core.destroyDynamicContainer(rh.Rp.INDICATORS_BOTTOM,"ao-container-".concat(this.index))}}])}(oN);function U4(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return V4(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V4(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V4(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function G4(t){return G4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G4(t)}function z4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y4(r.key),r)}}function Y4(t){var e=function(t,e){if("object"!=G4(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=G4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==G4(e)?e:e+""}function X4(t,e,n){return e=K4(e),function(t,e){if(e&&("object"==G4(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,q4()?Reflect.construct(e,n||[],K4(t).constructor):e.apply(t,n))}function q4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(q4=function(){return!!t})()}function K4(t){return K4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},K4(t)}function Z4(t,e){return Z4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Z4(t,e)}var J4=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=X4(this,e,[t,n,r])).type=Ru.W.SUPERTREND,i.position=rh.vh.Overlay,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z4(t,e)}(e,t),function(t,e,n){return e&&z4(t.prototype,e),n&&z4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.atrPeriod}},{key:"flush",value:function(){this.tr=[],this.atr=[],this.basicUpperband=[],this.basicLowerband=[],this.finalUpperband=[],this.finalLowerband=[],this.superTrend=[]}},{key:"removeLastPoints",value:function(){this.tr.length>0&&this.tr.splice(-1,1),this.atr.length>0&&this.atr.splice(-1,1),this.basicUpperband.length>0&&this.basicUpperband.splice(-1,1),this.basicLowerband.length>0&&this.basicLowerband.splice(-1,1),this.finalUpperband.length>0&&this.finalUpperband.splice(-1,1),this.finalLowerband.length>0&&this.finalLowerband.splice(-1,1),this.superTrend.length>0&&this.superTrend.splice(-1,1)}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastPoints();for(var t=this.tr.length+1;t<this.candles.length;t++){var e=this.candles[t],n=this.candles[t-1];this.tr.push(new zI((0,nh.eZ)(e,n),e.time))}var r=this.settings,i=r.atrPeriod,o=r.multiplier;if(!(this.tr.length<i)){0===this.atr.length&&this.atr.push(new zI((0,nh.Zf)(this.tr,0,i),this.tr[0].time));for(var a=this.atr.length;a<this.tr.length;a++){var s=this.tr[a],c=s.time,l=s.value,u=(this.atr[a-1].value*(i-1)+l)/i;this.atr.push(new zI(u,c));var d=this.candles[a+1],f=this.candles[a],h=(0,nh.pR)(d,rh.U$.HIGH),p=(0,nh.pR)(d,rh.U$.LOW),m=(0,nh.pR)(d,rh.U$.CLOSE),y=(0,nh.pR)(f,rh.U$.CLOSE),v=(h+p)/2+o*u,b=(h+p)/2-o*u,g=this.finalUpperband.length,w=this.finalLowerband.length,j=g>0?this.finalUpperband[g-1].value:0,x=w>0?this.finalLowerband[w-1].value:0,_=v<j||y>j?v:j,S=b>x||y<x?b:x,O=this.superTrend.length>0?"up"===this.superTrend[this.superTrend.length-1].direction?j:x:0,k="";O===j&&m<=_?k="up":O===j&&m>_||O===x&&m>S?k="down":O===x&&m<_&&(k="up"),k&&(this.basicUpperband.push(new zI(v,c)),this.basicLowerband.push(new zI(b,c)),this.finalUpperband.push(new zI(_,c)),this.finalLowerband.push(new zI(S,c)),this.superTrend.push({direction:k,time:c,value:"up"===k?_:S}))}}}},{key:"draw",value:function(){var t=this;this.clearAllDynamicGraphics();var e=this.filterIndicatorPoints(this.superTrend,!1);if(0!==e.length){var n=e[0].direction,r=[],i=!0;e.forEach((function(e){var o=e.direction,a=e.value,s=e.time;n!==o&&(t.drawTrendLine(n,r,!i),i=!1,r=[]),n=o,r.push(new zI(a,s))})),this.drawTrendLine(n,r,!i)}}},{key:"drawTrendLine",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.settings.lines,i=r.up,o=r.down,a="up"===t?i:o;e.length<2||!this.getShowValue(a)||(this.drawLine(e,"line-".concat(e[0].time),a),n&&this.drawLabel(t,e[0],a))}},{key:"drawLabel",value:function(t,e,n){var r,i,o,a=(0,$.tr)("up"===t?"control_panel.lower":"control_panel.higher"),s=this.getTextGraphics(rh.Rp.INDICATORS,"superTrend-label-".concat(e.time),(r=U4(a),i=r[0],o=r.slice(1),i.toLocaleUpperCase()+o.join("")),Ru.Ay.CHART.TEXT_STYLE_CURSOR_TIME),c="up"===t?-(7+s.height):7,l=this.getXFromTime(e.time)-s.width/2,u=this.getYFromValue(e.value)+c;s.visible=!0,s.x=l,s.y=u;var d=this.getDynamicGraphics(rh.Rp.INDICATORS_BG,"superTrend-label-".concat(e.time,"-bg"));if(d.isNew){d.graphics.beginFill(this.prepareColor(n.color),.8),d.graphics.drawRoundedRect(-6,-3,s.width+12,s.height+6,4),d.graphics.endFill()}d.graphics.setTransform(l,u)}}])}(oN);function Q4(t){return Q4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q4(t)}function t5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e5(r.key),r)}}function e5(t){var e=function(t,e){if("object"!=Q4(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Q4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Q4(e)?e:e+""}function n5(t,e,n){return e=i5(e),function(t,e){if(e&&("object"==Q4(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,r5()?Reflect.construct(e,n||[],i5(t).constructor):e.apply(t,n))}function r5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(r5=function(){return!!t})()}function i5(t){return i5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i5(t)}function o5(t,e){return o5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o5(t,e)}var a5,s5=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=n5(this,e,[t,n,r])).type=Ru.W.FRACTAL_CHAOS_BANDS,i.updateSettings(r.settings),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o5(t,e)}(e,t),function(t,e,n){return e&&t5(t.prototype,e),n&&t5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"flush",value:function(){this.highFractals=[],this.lowFractals=[]}},{key:"calculate",value:function(){this.checkFlush(),this.isCandlesCountChanged()&&this.flush(),this.highFractals.length&&(this.highFractals.splice(-1,1),this.lowFractals.splice(-1,1));for(var t=this.highFractals.length+this.settings.period;t<this.candles.length;t++){var e=t-this.settings.period;if(!(e<0)){for(var n=(0,nh.pR)(this.candles[e],rh.U$.HIGH),r=(0,nh.pR)(this.candles[e],rh.U$.LOW),i=!0,o=!0,a=1;a<=this.settings.period;a++)if(!(e-a<0||e+a>=this.candles.length)){var s=(0,nh.pR)(this.candles[e-a],rh.U$.HIGH),c=(0,nh.pR)(this.candles[e+a],rh.U$.HIGH);(s>n||c>n)&&(i=!1);var l=(0,nh.pR)(this.candles[e-a],rh.U$.LOW),u=(0,nh.pR)(this.candles[e+a],rh.U$.LOW);(l<r||u<r)&&(o=!1)}var d=this.candles[t].time;if(i)this.highFractals.push(new zI(n,d));else if(this.highFractals.length){var f=this.highFractals[this.highFractals.length-1].value;this.highFractals.push(new zI(f,d))}else{var h=(0,nh.pR)(this.candles[0],rh.U$.HIGH);this.highFractals.push(new zI(h,d))}if(o)this.lowFractals.push(new zI(r,d));else if(this.lowFractals.length){var p=this.lowFractals[this.lowFractals.length-1].value;this.lowFractals.push(new zI(p,d))}else{var m=(0,nh.pR)(this.candles[0],rh.U$.LOW);this.lowFractals.push(new zI(m,d))}}}}},{key:"filterWindow",value:function(t){for(var e=[],n=this.pointsManager.getSecondsInCandle(),r=this.getTimeFrom()-n,i=this.getTimeTo()+n,o=0;o<t.length;o++)t[o].time>=r&&t[o].time<=i&&e.push(t[o]);return e}},{key:"drawFill",value:function(t,e,n){var r=n.color,i=n.opacity,o=this.getDynamicGraphics(rh.Rp.INDICATORS,"fractal-cb-".concat(this.index),{isTess:!0});o.graphics.beginFill(this.prepareColor(r),i/100);for(var a=[],s=0;s<t.length;s++)a.push({x:this.getXFromTime(t[s].time),y:this.getYFromValue(t[s].value)});for(var c=e.length-1;c>=0;c--)a.push({x:this.getXFromTime(e[c].time),y:this.getYFromValue(e[c].value)});o.graphics.drawPolygon(a),o.graphics.endFill()}},{key:"draw",value:function(){if(this.clearAllDynamicGraphics(),this.highFractals.length&&this.lowFractals.length){var t=this.settings.lines,e=t.up,n=t.down,r=t.background,i=this.filterWindow(this.highFractals),o=this.filterWindow(this.lowFractals);this.getShowValue(e)&&this.drawLine(i,"up-line-".concat(this.index),e),this.getShowValue(n)&&this.drawLine(o,"low-line-".concat(this.index),n),this.getShowValue(r)&&this.drawFill(i,o,r)}}}])}(oN);function c5(t){return c5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c5(t)}function l5(t,e){return l5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l5(t,e)}function u5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u5=function(){return!!t})()}function d5(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=c5(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=c5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c5(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f5=(d5(d5(d5(d5(d5(d5(d5(d5(d5(d5(a5={},Ru.W.ACCELERATOR_OSCILLATOR,W4),Ru.W.ADX,s0),Ru.W.ALLIGATOR,m0),Ru.W.AROON,o2),Ru.W.ATR,s4),Ru.W.AWESOME_OSCILLATOR,O0),Ru.W.BOLLINGER_BANDS,L0),Ru.W.BOLLINGER_BANDS_WIDTH,S4),Ru.W.FRACTAL,G0),Ru.W.FRACTAL_CHAOS_BANDS,s5),d5(d5(d5(d5(d5(d5(d5(d5(d5(d5(a5,Ru.W.MACD,t1),Ru.W.MOVING_AVERAGE,c1),Ru.W.PARABOLIC_SAR,y1),Ru.W.RATE_OF_CHANGE,S1),Ru.W.RSI,N1),Ru.W.STOCHASTIC_OSCILLATOR,W1),Ru.W.SCHAFF_TREND_CYCLE,Q3),Ru.W.ZIG_ZAG,K1),Ru.W.CCI,p2),Ru.W.ENVELOPE,S2),d5(d5(d5(d5(d5(d5(d5(d5(d5(d5(a5,Ru.W.ICHIMOKU_CLOUD,R2),Ru.W.DEMARKER,z2),Ru.W.WILLIAMS_R,e3),Ru.W.BULLS_POWER,l3),Ru.W.BEARS_POWER,v3),Ru.W.MOMENTUM,k3),Ru.W.VORTEX,D3),Ru.W.KELTNER_CHANNEL,V3),Ru.W.OSMA,y4),Ru.W.DONCHIAN_CHANNEL,I4),d5(a5,Ru.W.SUPERTREND,J4));function h5(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Object.hasOwnProperty.call(f5,t)?function(t,e,n){if(u5())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&l5(i,n.prototype),i}(f5[t],n):null}}function p5(t){return p5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p5(t)}function m5(t){return function(t){if(Array.isArray(t))return y5(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return y5(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y5(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y5(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function v5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b5(r.key),r)}}function b5(t){var e=function(t,e){if("object"!=p5(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=p5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==p5(e)?e:e+""}function g5(t,e,n){return e=_5(e),function(t,e){if(e&&("object"==p5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,w5()?Reflect.construct(e,n||[],_5(t).constructor):e.apply(t,n))}function w5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(w5=function(){return!!t})()}function j5(t,e,n,r){var i=x5(_5(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function x5(){return x5="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=_5(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},x5.apply(null,arguments)}function _5(t){return _5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_5(t)}function S5(t,e){return S5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S5(t,e)}var O5=16,k5=10,T5=3,A5=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=g5(this,e,[t,n])).expirationLineString=(0,$.tr)("chart_settings.expiration_time_fast"),r.position=rh.vh.Overlay,r.gateSpriteKeys=[],r.gateTextKeys=[],r.lastOptionsCount=null,r.moveAnimator=new Iz(.3),r.moveAnimator.setEnabled(!1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S5(t,e)}(e,t),function(t,e,n){return e&&v5(t.prototype,e),n&&v5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"labelKey",get:function(){return"fast-option-text-".concat(this.id)}},{key:"timeKey",get:function(){return"expiration-time-".concat(this.id)}},{key:"drawCurrentExpirationTime",value:function(){this.drawExpirationIcon(),this.drawExpirationLines(),this.hoveredRollover?this.drawRolloverTime():this.drawExpirationTime()}},{key:"drawRolloverTime",value:function(){var t=this,e=this.pointsManager.plot.options.find((function(e){return e.id===t.hoveredRollover}));if(e){var n=e.data,r=n.openTimestamp,i=n.closeTimestamp,o=i-r+i,a=e.isCall?this.colors.callLineColor:this.colors.putLineColor,s=Math.floor(this.getXFromTime(o))+.5,c=this.core.getText(rh.Rp.GATES,this.labelKey,this.expirationLineString,Ru.Ay.CHART.TEXT_STYLE_GRID,a.getHEXNUM());c.x=s+5,c.y=Ru.Ay.CHART.TIMER_TOP_MARGIN;var l=this.core.getText(rh.Rp.GATES,this.timeKey,"".concat((0,ij.vh)(o)),Ru.Ay.CHART.TEXT_STYLE_EXPIRATION,a.getHEXNUM());l.x=s+5,l.y=Ru.Ay.CHART.TIMER_TOP_MARGIN+l.height+2,this.gateTextKeys.push(this.labelKey,this.timeKey),this.drawOptionExpirationTime(o,a)}}},{key:"drawExpirationTime",value:function(){var t=Math.floor(this.getXFromTime(this.moveAnimator.getValue()))+.5,e=this.core.getText(rh.Rp.GATES,this.labelKey,this.expirationLineString,Ru.Ay.CHART.TEXT_STYLE_GRID,this.colors.expirationLineTextColor.getHEXNUM());e.x=t+5,e.y=Ru.Ay.CHART.TIMER_TOP_MARGIN,this.gateTextKeys.push(this.labelKey);var n=this.core.getText(rh.Rp.GATES,this.timeKey,"".concat((0,ij.vh)(this.expirationTime)),Ru.Ay.CHART.TEXT_STYLE_EXPIRATION,this.colors.timerTimeColor.getHEXNUM());n.x=t+5,n.y=Ru.Ay.CHART.TIMER_TOP_MARGIN+n.height+2,this.gateTextKeys.push(this.timeKey)}},{key:"drawExpirationIcon",value:function(){var t=this.isDarkTheme()?"/themes/cabinet/images/expiration-flag-dark-theme.svg":"/themes/cabinet/images/expiration-flag-light-theme.svg",e="exp-line-icon-".concat(this.isDarkTheme()?"dark":"light");this.gateSpriteKeys.push(e);var n=Math.floor(this.getXFromTime(this.moveAnimator.getValue()))+.5;this.core.getSprite(rh.Rp.GATES,e,this.getSpritePath(t)).sprite.setTransform(n,0,.5,.5)}},{key:"drawExpirationLines",value:function(){this.core.clearGraphicsNew(rh.my.EXPIRATION_LINE);var t=Math.floor(this.getXFromTime(this.moveAnimator.getValue()))+.5,e=this.worldHeight-Ru.Ay.CHART.TIMELINE_MARGIN_BOTTOM,n=this.colors.expirationLineColor,r=this.core.getGraphicsNew(rh.my.EXPIRATION_LINE);r.lineStyle(1,n.getHEXNUM(),n.getAlpha()),r.moveTo(t,0),r.lineTo(t,e-Ru.Ay.CHART.TIMELINE_HEIGHT)}},{key:"isChangedOptionsCount",value:function(){return this.lastOptionsCount!==this.options.length}},{key:"drawRolloverExpTime",value:function(){var t=this,e=this.pointsManager.plot.options.find((function(e){return e.id===t.hoveredRollover}));if(e){var n=e.data,r=n.openTimestamp,i=n.closeTimestamp,o=i-r+i,a=e.isCall?this.colors.callLineColor:this.colors.putLineColor;this.drawOptionExpirationTime(o,a)}}},{key:"drawExpirationTimes",value:function(){var t=this;new Set(m5(this.options.map((function(t){return t.closeTime}))).filter((function(e){return e!==t.expirationTime}))).forEach((function(e){return t.drawOptionExpirationTime(e,t.colors.deadLineColor)}))}},{key:"drawOptionExpirationTime",value:function(t,e){var n=Math.floor(this.getXFromTime(t))+.5,r=this.worldHeight-Ru.Ay.CHART.TIMELINE_MARGIN_BOTTOM,i=this.core.getGraphicsNew(rh.my.EXPIRATION_LINE);return i.lineStyle(1,e.getHEXNUM(),this.isDarkTheme()?1:.5),i.moveTo(n,r-Ru.Ay.CHART.TIMELINE_HEIGHT),i.lineTo(n,0),i.lineTo(n+O5,0),i.lineTo(n+O5-T5,k5/2),i.lineTo(n+O5,k5),i.lineTo(n,k5),n}},{key:"draw",value:function(){this.moveAnimator.enabled||(this.moveAnimator.fromValue=this.expirationTime,this.moveAnimator.setToValue(this.expirationTime),this.moveAnimator.setEnabled(!0)),this.moveAnimator.setTime(this.ts),this.isChangedExpirationTime()&&(this.moveAnimator.fromValue=this.moveAnimator.getValue(),this.moveAnimator.setToValue(this.expirationTime)),(this.isChangedFromTo()||this.isSizeChanged()||this.isChangedOptionsCount()||this.isThemeChanged()||this.isChangedExpirationTime()||this.isCurrentTimeChanged()||this.oldHoveredRollover!==this.hoveredRollover||this.forceCleared||this.moveAnimator.enabled)&&(this.isChangedOptionsCount()&&this.destroyDeadlineSprites(),this.lastOptionsCount=this.options.length,this.clearAll(),this.drawCurrentExpirationTime(),this.drawExpirationTimes())}},{key:"onAfterDraw",value:function(){j5(e,"onAfterDraw",this,3)([]),this.oldHoveredRollover=this.hoveredRollover}},{key:"clearDeadlineSprites",value:function(){for(var t=0;t<this.gateSpriteKeys.length;t++)this.core.clearSprite(this.gateSpriteKeys[t]);this.gateSpriteKeys=[]}},{key:"destroyDeadlineSprites",value:function(){for(var t=0;t<this.gateSpriteKeys.length;t++)this.core.destroySprite(rh.Rp.GATES,this.gateSpriteKeys[t]);this.gateSpriteKeys=[]}},{key:"clearExpirationTexts",value:function(){for(var t=0;t<this.gateTextKeys.length;t++)this.core.clearText(this.gateTextKeys[t]);this.gateTextKeys=[]}},{key:"destroyExpirationTexts",value:function(){for(var t=0;t<this.gateTextKeys.length;t++)this.core.destroyText(this.gateTextKeys[t]);this.gateTextKeys=[]}},{key:"clearAll",value:function(){this.core.clearGraphicsNew(rh.my.EXPIRATION_LINE),this.core.clearGraphicsNew(rh.my.EXPIRATION_BG),this.clearDeadlineSprites(),this.clearExpirationTexts()}},{key:"destroy",value:function(){j5(e,"destroy",this,3)([]),this.core.clearGraphicsNew(rh.my.EXPIRATION_LINE),this.core.clearGraphicsNew(rh.my.EXPIRATION_BG),this.destroyDeadlineSprites(),this.destroyExpirationTexts()}}])}(FI),C5=A5;function P5(t){return P5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P5(t)}function E5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N5(r.key),r)}}function I5(t,e,n){return(e=N5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N5(t){var e=function(t,e){if("object"!=P5(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=P5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==P5(e)?e:e+""}var D5=function(){return function(t,e,n){return e&&E5(t.prototype,e),n&&E5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),I5(this,"onCallBtnClick",(function(){return n.hoverCallBtn=!1})),I5(this,"onPutBtnClick",(function(){return n.hoverPutBtn=!1})),I5(this,"onCallBtnMouseEnter",(function(){return n.hoverCallBtn=!0})),I5(this,"onCallBtnMouseLeave",(function(){return n.hoverCallBtn=!1})),I5(this,"onPutBtnMouseEnter",(function(){return n.hoverPutBtn=!0})),I5(this,"onPutBtnMouseLeave",(function(){return n.hoverPutBtn=!1})),this.chartId=e,this.hoverCallBtn=!1,this.hoverPutBtn=!1}),[{key:"install",value:function(){var t=this;return new Promise((function(e){requestAnimationFrame((function(){t.callBtn=document.querySelector("#put-call-buttons-".concat(t.chartId," .action-high-low a.btn-call")),t.putBtn=document.querySelector("#put-call-buttons-".concat(t.chartId," .action-high-low a.btn-put")),t.callBtn&&(t.callBtn.addEventListener("click",t.onCallBtnClick),t.callBtn.addEventListener("mouseenter",t.onCallBtnMouseEnter),t.callBtn.addEventListener("mouseleave",t.onCallBtnMouseLeave)),t.putBtn&&(t.putBtn.addEventListener("click",t.onPutBtnClick),t.putBtn.addEventListener("mouseenter",t.onPutBtnMouseEnter),t.putBtn.addEventListener("mouseleave",t.onPutBtnMouseLeave)),e()}))}))}},{key:"uninstall",value:function(){this.callBtn&&(this.callBtn.removeEventListener("click",this.onCallBtnClick),this.callBtn.removeEventListener("mouseenter",this.onCallBtnMouseEnter),this.callBtn.removeEventListener("mouseleave",this.onCallBtnMouseLeave)),this.putBtn&&(this.putBtn.removeEventListener("click",this.onPutBtnClick),this.putBtn.removeEventListener("mouseenter",this.onPutBtnMouseEnter),this.putBtn.removeEventListener("mouseleave",this.onPutBtnMouseLeave))}},{key:"refresh",value:function(){this.uninstall(),this.install()}}])}(),L5=D5;function M5(t){return M5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M5(t)}function R5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B5(r.key),r)}}function B5(t){var e=function(t,e){if("object"!=M5(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=M5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==M5(e)?e:e+""}function H5(t,e,n){return e=W5(e),function(t,e){if(e&&("object"==M5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$5()?Reflect.construct(e,n||[],W5(t).constructor):e.apply(t,n))}function $5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($5=function(){return!!t})()}function F5(){return F5="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=W5(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},F5.apply(null,arguments)}function W5(t){return W5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W5(t)}function U5(t,e){return U5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U5(t,e)}var V5="max",G5="min",z5={X:10,Y:2},Y5=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=H5(this,e,[t,n])).maxElementId="candles-max-".concat(r.chartId),r.maxElementLabelId="candles-max-label-".concat(r.chartId),r.minElementId="candles-min-".concat(r.chartId),r.minElementLabelId="candles-min-label-".concat(r.chartId),r.prevMaxElementValue={value:Number.MIN_VALUE,time:0},r.prevMinElementValue={value:Number.MAX_VALUE,time:0},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U5(t,e)}(e,t),function(t,e,n){return e&&R5(t.prototype,e),n&&R5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"drawMaxValue",value:function(t){this.shouldRedrawMaxElement(t)&&(this.clearMaxElement(),this.drawMinMaxElement(t,V5))}},{key:"drawMinValue",value:function(t){this.shouldRedrawMinElement(t)&&(this.clearMinElement(),this.drawMinMaxElement(t,G5))}},{key:"baseShouldRedraw",value:function(){return this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isThemeChanged()||this.isBottomMarginChanged()||this.isElementHeightChanged()||this.forceCleared}},{key:"shouldRedrawMaxElement",value:function(t){return this.baseShouldRedraw()||this.prevMaxElementValue.value!==t.value||this.prevMaxElementValue.time!==t.time}},{key:"shouldRedrawMinElement",value:function(t){return this.baseShouldRedraw()||this.prevMinElementValue.value!==t.value||this.prevMinElementValue.time!==t.time}},{key:"drawMinMaxElement",value:function(t,e){var n=t.value,r=t.time,i=e===V5;i?this.prevMaxElementValue={value:n,time:r}:this.prevMinElementValue={value:n,time:r};var o=this.formatStringPrice(n),a=CX(o,Ru.Ay.CHART.TEXT_STYLE_BET),s=a.width+2*z5.X,c=a.height+2*z5.Y,l=this.getXFromTime(r),u=this.getYFromValue(n)-z5.Y+(i?-10:10);l+s>this.width&&(l-=s);var d=this.core.getDynamicGraphics(rh.Rp.MINMAX,i?this.maxElementId:this.minElementId,{smooth:!0});d.graphics.beginFill(this.colors.minMaxElementBg.getHEXNUM(),this.colors.minMaxElementBg.getAlpha(),!0),d.graphics.zIndex=1,d.graphics.drawRoundedRect(0,0,s,c,6),d.graphics.endFill(),d.graphics.setTransform(l,u+(i?-c:0));var f=this.core.getText(rh.Rp.MINMAX,i?this.maxElementLabelId:this.minElementId,o,Ru.Ay.CHART.TEXT_STYLE_BET,this.colors.minMaxElementText.getHEXNUM());f.zIndex=2,f.x=l+z5.X,f.y=u+z5.Y+(i?-c:0)}},{key:"clearMaxElement",value:function(){this.core.clearDynamicGraphicsNew(this.maxElementId),this.core.clearText(this.maxElementLabelId)}},{key:"clearMinElement",value:function(){this.core.clearDynamicGraphicsNew(this.minElementId),this.core.clearText(this.minElementLabelId)}},{key:"clear",value:function(){this.clearMaxElement(),this.clearMinElement()}},{key:"destroy",value:function(){!function(t,e,n,r){var i=F5(W5(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"destroy",this,3)([]),this.core.destroyDynamicGraphicsNew(rh.Rp.MINMAX,this.maxElementId),this.core.destroyText(this.maxElementLabelId),this.core.destroyDynamicGraphicsNew(rh.Rp.MINMAX,this.minElementId),this.core.destroyText(this.minElementLabelId)}}])}(FI);function X5(t){return X5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X5(t)}function q5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K5(r.key),r)}}function K5(t){var e=function(t,e){if("object"!=X5(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=X5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==X5(e)?e:e+""}function Z5(t,e,n){return e=t8(e),function(t,e){if(e&&("object"==X5(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,J5()?Reflect.construct(e,n||[],t8(t).constructor):e.apply(t,n))}function J5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(J5=function(){return!!t})()}function Q5(){return Q5="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=t8(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Q5.apply(null,arguments)}function t8(t){return t8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t8(t)}function e8(t,e){return e8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},e8(t,e)}var n8=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Z5(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e8(t,e)}(e,t),function(t,e,n){return e&&q5(t.prototype,e),n&&q5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"plotId",get:function(){return"plot-optimized"}},{key:"gradientId",get:function(){return"plot-gradient-optimized"}},{key:"init",value:function(){this.plot=this.core.getDynamicPlot(this.plotId),this.grad=null,this.topPoint=0,this.initColors(),this.showArea&&this.createGradient()}},{key:"createGradient",value:function(){this.core.destroyDynamicGradient(this.gradientId),this.grad=this.core.getDynamicGradient(this.gradientId),this.grad.masterPlot=this.plot,this.setupGradient(this.grad)}},{key:"updateShowArea",value:function(t){this.showArea=t,t?this.createGradient():(this.grad=null,this.core.destroyDynamicGradient(this.gradientId))}},{key:"initColors",value:function(){this.plot.tint=this.colors.plotLineColor.getHEXNUM(),this.plot.lineStyle(2),this.plot.alpha=.8}},{key:"setupGradient",value:function(t){var e=this.colors.plotLineGradientTopColor,n=this.colors.plotLineGradientBottomColor;t.alpha=1,t.colorTop=e.getHEXNUM(),t.colorBottom=n.getHEXNUM(),t.alphaTop=e.getAlpha(),t.alphaBottom=n.getAlpha()}},{key:"updateGradient",value:function(){this.showArea&&this.grad&&(this.grad.coordTop=this.topPoint,this.grad.coordBottom=this.yShift+this.height)}},{key:"drawPlot",value:function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.x,i=n.y;this.plot.lineTo(r,i)}}},{key:"draw",value:function(){this.isThemeChanged()&&this.initColors(),this.plot.clear();for(var t=this.filterPoints(this.pointsManager.getReducedAndAnimatedPoints()),e=t.length,n=[],r=0;r<e;r++){var i=this.getXFromTime(t[r].time);if(r+1<e){var o=this.getXFromTime(t[r+1].time);if(i<0&&o<0)continue}n.push({x:this.getXFromTime(t[r].time),y:this.getYFromValue(t[r].value)})}this.topPoint=this.getYFromValue(this.maxVal),n.length>0&&n[n.length-1].y<this.topPoint&&(this.topPoint=n[n.length-1].y),n.length<3||(this.drawPlot(n),this.updateGradient(),this.drawMinMaxElements(t))}},{key:"destroy",value:function(){!function(t,e,n,r){var i=Q5(t8(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}(e,"destroy",this,3)([]),this.core.destroyDynamicPlot(this.plotId),this.core.destroyDynamicGradient(this.gradientId)}}])}(Uz),r8=n8;function i8(t){return i8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i8(t)}function o8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a8(r.key),r)}}function a8(t){var e=function(t,e){if("object"!=i8(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i8(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i8(e)?e:e+""}function s8(t,e,n){return e=d8(e),function(t,e){if(e&&("object"==i8(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c8()?Reflect.construct(e,n||[],d8(t).constructor):e.apply(t,n))}function c8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(c8=function(){return!!t})()}function l8(t,e,n,r){var i=u8(d8(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function u8(){return u8="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=d8(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},u8.apply(null,arguments)}function d8(t){return d8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d8(t)}function f8(t,e){return f8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f8(t,e)}var h8=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=s8(this,e,[t,n])).position=rh.vh.Overlay,i.data=r,i.currentDigit=n.plot.currentDigit,i.id="priceAlert-".concat(r.assetId,"-").concat(r.price,"-").concat(r.id),i.containerIndex=rh.Rp.PRICE_ALERTS,i.label=i.formatStringPrice(i.data.price),i.textSize=CX(i.label,Ru.Ay.CHART.TEXT_STYLE_CURSOR_TIME),i.rectWidth=i.textSize.width+2*Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,i.rectHeight=i.textSize.height+2*Ru.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,i.isHovered=!1,i.rendered=!1,i.initStyles(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f8(t,e)}(e,t),function(t,e,n){return e&&o8(t.prototype,e),n&&o8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"alertButtonKey",get:function(){return"".concat(this.id,"-price-btn")}},{key:"alertTextKey",get:function(){return"".concat(this.id,"-value")}},{key:"rectKey",get:function(){return"".concat(this.id,"-rect")}},{key:"bellKey",get:function(){return"".concat(this.id,"-bell-icon")}},{key:"crossKey",get:function(){return"".concat(this.id,"-cross-icon")}},{key:"lineKey",get:function(){return"".concat(this.id,"-line")}},{key:"initStyles",value:function(){this.lineColor=this.isDarkTheme()?nJ.LINE.DARK:nJ.LINE.LIGHT}},{key:"getBellIcon",value:function(){return this.core.getSprite(this.containerIndex,this.bellKey,JZ.path).sprite}},{key:"getCrossIcon",value:function(){return this.core.getSprite(this.containerIndex,this.crossKey,QZ.path).sprite}},{key:"drawRect",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.rectKey).graphics;return t.beginFill(this.lineColor,1),t.drawRoundedRect(this.x,this.y-this.rectHeight/2,this.rectWidth,this.rectHeight,4),t.endFill(),t}},{key:"drawPriceText",value:function(){var t=this.core.getText(this.containerIndex,this.alertTextKey,this.label,Ru.Ay.CHART.TEXT_STYLE_CURSOR_TIME);return t.x=this.x+Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,t.y=this.y-this.rectHeight/2+Ru.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,t}},{key:"drawAlertButton",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.alertButtonKey).graphics;t.beginFill(this.lineColor,1);var e=this.x-this.rectHeight-eJ;t.drawRoundedRect(e,this.y-this.rectHeight/2,this.rectHeight,this.rectHeight,4),t.endFill();var n=this.isHovered?this.getCrossIcon():this.getBellIcon(),r=(this.rectHeight-JZ.size)/2;n.setTransform(e+r,this.y-JZ.size/2,.5,.5),this.subscribe(t)}},{key:"drawAlertLine",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.lineKey).graphics;return t.lineStyle({width:1,color:this.lineColor}),t.moveTo(0,this.y),t.lineTo(this.x-this.rectHeight-eJ,this.y),t}},{key:"drawPriceAlert",value:function(){this.drawRect(),this.drawPriceText(),this.drawAlertButton(),this.drawAlertLine()}},{key:"subscribe",value:function(t){var e=this;t.interactive=!0,t.buttonMode=!0,t.removeAllListeners(),t.on("pointerover",(function(){return e.onIconPriceButtonPointOver()})),t.on("pointerout",(function(){return e.onIconPriceButtonPointOut()})),t.on("pointercancel",(function(){return e.onIconPriceButtonPointOut()})),t.on("pointerdown",(function(){return e.onIconPriceButtonPointDown()}))}},{key:"onIconPriceButtonPointOver",value:function(){this.isHovered=!0,this.rendered=!1}},{key:"onIconPriceButtonPointOut",value:function(){this.isHovered=!1,this.rendered=!1}},{key:"onIconPriceButtonPointDown",value:function(){u.A.publish(y.H7,this.data.id)}},{key:"shouldRerender",value:function(){return this.isChangedMinMax()||this.isSizeChanged()||this.isElementHeightChanged()}},{key:"draw",value:function(){this.isThemeChanged()&&(this.clearAll(),this.initStyles()),this.rendered&&!this.shouldRerender()||(this.x=this.width-this.textSize.width-2*Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN-tJ,this.y=this.getYFromValue(this.data.price),this.y<0||this.y>this.height-Ru.Ay.CHART.TIMELINE_HEIGHT?this.clearAll():(this.clearAll(),this.drawPriceAlert()))}},{key:"onAfterDraw",value:function(){l8(e,"onAfterDraw",this,3)([]),this.rendered=!0}},{key:"clearAll",value:function(){this.rendered=!1,this.core.clearText(this.alertTextKey),this.core.clearDynamicGraphicsNew(this.rectKey),this.core.clearDynamicGraphicsNew(this.alertButtonKey),this.core.clearDynamicGraphicsNew(this.lineKey),this.core.clearSprite(this.bellKey),this.core.clearSprite(this.crossKey)}},{key:"destroy",value:function(){l8(e,"destroy",this,3)([]),this.core.destroyText(this.alertTextKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.rectKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.alertButtonKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.lineKey),this.core.destroySprite(this.containerIndex,this.bellKey),this.core.destroySprite(this.containerIndex,this.crossKey)}}])}(FI);function p8(t){return p8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p8(t)}function m8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y8(r.key),r)}}function y8(t){var e=function(t,e){if("object"!=p8(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=p8(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==p8(e)?e:e+""}function v8(t,e,n){return e=j8(e),function(t,e){if(e&&("object"==p8(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,b8()?Reflect.construct(e,n||[],j8(t).constructor):e.apply(t,n))}function b8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(b8=function(){return!!t})()}function g8(t,e,n,r){var i=w8(j8(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function w8(){return w8="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=j8(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},w8.apply(null,arguments)}function j8(t){return j8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j8(t)}function x8(t,e){return x8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x8(t,e)}var _8=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=v8(this,e,[t,n])).position=rh.vh.Overlay,i.data=r,i.currentDigit=n.plot.currentDigit,i.id="pendingByPrice-".concat(r.symbol,"-").concat(r.openPrice,"-").concat(r.ticket),i.containerIndex=rh.Rp.PENDINGS,i.lineShader=new WU.sM({dash:3,gap:3}),i.label=i.formatStringPrice(i.data.openPrice),i.textSize=CX(i.label,Ru.Ay.CHART.TEXT_STYLE_CURSOR_TIME),i.rectWidth=i.textSize.width+2*Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,i.rectHeight=i.textSize.height+2*Ru.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,i.isHovered=!1,i.rendered=!1,i.initStyles(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x8(t,e)}(e,t),function(t,e,n){return e&&m8(t.prototype,e),n&&m8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"hourGlassButtonKey",get:function(){return"".concat(this.id,"-hour-glass-btn")}},{key:"commandButtonKey",get:function(){return"".concat(this.id,"-command-btn")}},{key:"alertTextKey",get:function(){return"".concat(this.id,"-value")}},{key:"rectKey",get:function(){return"".concat(this.id,"-rect")}},{key:"hourGlassKey",get:function(){return"".concat(this.id,"-hour-glass-icon")}},{key:"crossKey",get:function(){return"".concat(this.id,"-cross-icon")}},{key:"commandKey",get:function(){return"".concat(this.id,"-command-icon")}},{key:"lineKey",get:function(){return"".concat(this.id,"-line")}},{key:"initStyles",value:function(){this.lineColor=this.isDarkTheme()?vJ.LINE.DARK:vJ.LINE.LIGHT}},{key:"getHourGlassIcon",value:function(){return this.core.getSprite(this.containerIndex,this.hourGlassKey,pJ.HOUR_GLASS.path).sprite}},{key:"getCrossIcon",value:function(){return this.core.getSprite(this.containerIndex,this.crossKey,pJ.CROSS.path).sprite}},{key:"getCommandIcon",value:function(){var t=this.isCallPending()?pJ.CALL.path:pJ.PUT.path;return this.core.getSprite(this.containerIndex,this.commandKey,t,!0).sprite}},{key:"isCallPending",value:function(){return(0,iu.nT)(this.data.command)}},{key:"drawRect",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.rectKey).graphics;return t.beginFill(this.lineColor,1),t.drawRoundedRect(this.x,this.y-this.rectHeight/2,this.rectWidth,this.rectHeight,4),t.endFill(),t}},{key:"drawPriceText",value:function(){var t=this.core.getText(this.containerIndex,this.alertTextKey,this.label,Ru.Ay.CHART.TEXT_STYLE_CURSOR_TIME);return t.x=this.x+Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,t.y=this.y-this.rectHeight/2+Ru.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,t}},{key:"drawCommandIcon",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.commandButtonKey).graphics;t.beginFill(this.isCallPending()?pJ.CALL.color:pJ.PUT.color,1);var e=this.x-this.rectHeight-yJ;t.drawRoundedRect(e,this.y-this.rectHeight/2,this.rectHeight,this.rectHeight,4),t.endFill();var n=this.getCommandIcon(),r=(this.rectHeight-pJ.HOUR_GLASS.size)/2;n.setTransform(e+r,this.y-pJ.HOUR_GLASS.size/2,.5,.5)}},{key:"drawHourGlassIcon",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.hourGlassButtonKey).graphics;t.beginFill(this.lineColor,1);var e=this.x-2*(this.rectHeight+yJ);t.drawRoundedRect(e,this.y-this.rectHeight/2,this.rectHeight,this.rectHeight,4),t.endFill();var n=this.isHovered?this.getCrossIcon():this.getHourGlassIcon(),r=(this.rectHeight-pJ.HOUR_GLASS.size)/2;n.setTransform(e+r,this.y-pJ.HOUR_GLASS.size/2,.5,.5),this.subscribe(t)}},{key:"drawLine",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.lineKey,{smooth:!0}).graphics;return t.lineStyle({width:1,color:this.isCallPending()?pJ.CALL.color:pJ.PUT.color,shader:this.lineShader}),t.moveTo(0,this.y),t.lineTo(this.x-2*(this.rectHeight+yJ),this.y),t}},{key:"drawPriceAlert",value:function(){this.drawRect(),this.drawPriceText(),this.drawHourGlassIcon(),this.drawCommandIcon(),this.drawLine()}},{key:"subscribe",value:function(t){var e=this;t.interactive=!0,t.buttonMode=!0,t.removeAllListeners(),t.on("pointerover",(function(){return e.onIconPriceButtonPointOver()})),t.on("pointerout",(function(){return e.onIconPriceButtonPointOut()})),t.on("pointercancel",(function(){return e.onIconPriceButtonPointOut()})),t.on("pointerdown",(function(){return e.onIconPriceButtonPointDown()}))}},{key:"onIconPriceButtonPointOver",value:function(){this.isHovered=!0,this.rendered=!1}},{key:"onIconPriceButtonPointOut",value:function(){this.isHovered=!1,this.rendered=!1}},{key:"onIconPriceButtonPointDown",value:function(){u.A.publish(y.nH,this.data.ticket)}},{key:"shouldRerender",value:function(){return this.isChangedMinMax()||this.isSizeChanged()||this.isElementHeightChanged()}},{key:"draw",value:function(){this.isThemeChanged()&&(this.clearAll(),this.initStyles()),this.rendered&&!this.shouldRerender()||(this.x=this.width-this.textSize.width-2*Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN-mJ,this.y=this.getYFromValue(this.data.openPrice),this.y<0||this.y>this.height-Ru.Ay.CHART.TIMELINE_HEIGHT?this.clearAll():(this.clearAll(),this.drawPriceAlert()))}},{key:"onAfterDraw",value:function(){g8(e,"onAfterDraw",this,3)([]),this.rendered=!0}},{key:"clearAll",value:function(){this.rendered=!1,this.core.clearText(this.alertTextKey),this.core.clearDynamicGraphicsNew(this.rectKey),this.core.clearDynamicGraphicsNew(this.hourGlassButtonKey),this.core.clearDynamicGraphicsNew(this.commandButtonKey),this.core.clearDynamicGraphicsNew(this.lineKey),this.core.clearSprite(this.hourGlassKey),this.core.clearSprite(this.crossKey),this.core.clearSprite(this.commandKey)}},{key:"destroy",value:function(){g8(e,"destroy",this,3)([]),this.core.destroyText(this.alertTextKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.rectKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.hourGlassButtonKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.commandButtonKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.lineKey),this.core.destroySprite(this.containerIndex,this.hourGlassKey),this.core.destroySprite(this.containerIndex,this.crossKey),this.core.destroySprite(this.containerIndex,this.commandKey)}}])}(FI);function S8(t){return S8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S8(t)}function O8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k8(r.key),r)}}function k8(t){var e=function(t,e){if("object"!=S8(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=S8(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==S8(e)?e:e+""}function T8(t,e,n){return e=E8(e),function(t,e){if(e&&("object"==S8(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,A8()?Reflect.construct(e,n||[],E8(t).constructor):e.apply(t,n))}function A8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(A8=function(){return!!t})()}function C8(t,e,n,r){var i=P8(E8(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function P8(){return P8="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=E8(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},P8.apply(null,arguments)}function E8(t){return E8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E8(t)}function I8(t,e){return I8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I8(t,e)}var N8=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=T8(this,e,[t,n])).position=rh.vh.Overlay,i.data=r,i.currentDigit=n.plot.currentDigit,i.id="CurrentPendingByPriceElement-".concat(r.price),i.containerIndex=rh.Rp.PENDINGS,i.isHovered=!1,i.rendered=!1,i.changePrice(r.price),i.initStyles(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I8(t,e)}(e,t),function(t,e,n){return e&&O8(t.prototype,e),n&&O8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"changePrice",value:function(t){this.data.price=t,this.label=this.formatStringPrice(this.data.price),this.textSize=CX(this.label,Ru.Ay.CHART.TEXT_STYLE_CURSOR_TIME),this.rectWidth=this.textSize.width+2*Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,this.rectHeight=this.textSize.height+2*Ru.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,this.rendered=!1}},{key:"buttonKey",get:function(){return"".concat(this.id,"-btn")}},{key:"alertTextKey",get:function(){return"".concat(this.id,"-value")}},{key:"rectKey",get:function(){return"".concat(this.id,"-rect")}},{key:"hourGlassKey",get:function(){return"".concat(this.id,"-hour-glass-icon")}},{key:"crossKey",get:function(){return"".concat(this.id,"-cross-icon")}},{key:"lineKey",get:function(){return"".concat(this.id,"-line")}},{key:"initStyles",value:function(){this.lineColor=this.isDarkTheme()?vJ.LINE.DARK:vJ.LINE.LIGHT}},{key:"getBellIcon",value:function(){return this.core.getSprite(this.containerIndex,this.hourGlassKey,pJ.HOUR_GLASS.path).sprite}},{key:"getCrossIcon",value:function(){return this.core.getSprite(this.containerIndex,this.crossKey,pJ.CROSS.path).sprite}},{key:"drawRect",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.rectKey).graphics;return t.beginFill(this.lineColor,1),t.drawRoundedRect(this.x,this.y-this.rectHeight/2,this.rectWidth,this.rectHeight,4),t.endFill(),t}},{key:"drawPriceText",value:function(){var t=this.core.getText(this.containerIndex,this.alertTextKey,this.label,Ru.Ay.CHART.TEXT_STYLE_CURSOR_TIME);return t.x=this.x+Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,t.y=this.y-this.rectHeight/2+Ru.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,t}},{key:"drawButton",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.buttonKey).graphics;t.beginFill(this.lineColor,1);var e=this.x-this.rectHeight-yJ;t.drawRoundedRect(e,this.y-this.rectHeight/2,this.rectHeight,this.rectHeight,4),t.endFill();var n=this.isHovered?this.getCrossIcon():this.getBellIcon(),r=(this.rectHeight-pJ.HOUR_GLASS.size)/2;n.setTransform(e+r,this.y-pJ.HOUR_GLASS.size/2,.5,.5),this.subscribe(t)}},{key:"drawLine",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.lineKey).graphics;return t.lineStyle({width:1,color:this.lineColor}),t.moveTo(0,this.y),t.lineTo(this.x-this.rectHeight-yJ,this.y),t}},{key:"drawPriceAlert",value:function(){this.drawRect(),this.drawPriceText(),this.drawButton(),this.drawLine()}},{key:"subscribe",value:function(t){var e=this;t.interactive=!0,t.buttonMode=!0,t.removeAllListeners(),t.on("pointerover",(function(){return e.onIconPriceButtonPointOver()})),t.on("pointerout",(function(){return e.onIconPriceButtonPointOut()})),t.on("pointercancel",(function(){return e.onIconPriceButtonPointOut()})),t.on("pointerdown",(function(){return e.onIconPriceButtonPointDown()}))}},{key:"onIconPriceButtonPointOver",value:function(){this.isHovered=!0,this.rendered=!1}},{key:"onIconPriceButtonPointOut",value:function(){this.isHovered=!1,this.rendered=!1}},{key:"onIconPriceButtonPointDown",value:function(){u.A.publish(y.ex)}},{key:"shouldRerender",value:function(){return this.isChangedMinMax()||this.isSizeChanged()||this.isElementHeightChanged()}},{key:"draw",value:function(){this.isThemeChanged()&&(this.clearAll(),this.initStyles()),this.rendered&&!this.shouldRerender()||(this.x=this.width-this.textSize.width-2*Ru.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN-mJ,this.y=this.getYFromValue(this.data.price),this.y<0||this.y>this.height-Ru.Ay.CHART.TIMELINE_HEIGHT?this.clearAll():(this.clearAll(),this.drawPriceAlert()))}},{key:"onAfterDraw",value:function(){C8(e,"onAfterDraw",this,3)([]),this.rendered=!0}},{key:"clearAll",value:function(){this.rendered=!1,this.core.clearText(this.alertTextKey),this.core.clearDynamicGraphicsNew(this.rectKey),this.core.clearDynamicGraphicsNew(this.buttonKey),this.core.clearDynamicGraphicsNew(this.lineKey),this.core.clearSprite(this.hourGlassKey),this.core.clearSprite(this.crossKey)}},{key:"destroy",value:function(){C8(e,"destroy",this,3)([]),this.core.destroyText(this.alertTextKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.rectKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.buttonKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.lineKey),this.core.destroySprite(this.containerIndex,this.hourGlassKey),this.core.destroySprite(this.containerIndex,this.crossKey)}}])}(FI);function D8(t){return D8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D8(t)}function L8(t){return function(t){if(Array.isArray(t))return R8(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||M8(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M8(t,e){if(t){if("string"==typeof t)return R8(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R8(t,e):void 0}}function R8(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function B8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$8(r.key),r)}}function H8(t,e,n){return(e=$8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $8(t){var e=function(t,e){if("object"!=D8(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=D8(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==D8(e)?e:e+""}var F8=function(){return function(t,e,n){return e&&B8(t.prototype,e),n&&B8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),H8(this,"setPointer",(function(t,e){r.pointerX=t,r.pointerY=e})),H8(this,"hasLoadingRegions",(function(){return r.regions.length>0})),H8(this,"getPointsInElementForIndicators",(function(){return Math.max(5,(0,nh.o0)(r.chartType,r.chartPeriod))})),this.store=n,this.chartId=e,this.scrollToEndDisplayed=!1,this.pointsManager=new PQ(this),this.callPutButtonsManager=new L5(this.chartId),this.pointVisible=!1,this.width=0,this.height=0,this.ts=0,this.expirationTime=0,this.minValue=0,this.maxValue=0,this.chartType=rh.M.Candles,this.regions=[],this.indicators=[],this.tick=Ru.Ay.CHART.FLT_MAX,this.gridElement=null,this.gatesElement=null,this.candlesTimer=null,this.currentElement=null,this.minMaxElement=null,this.pointElement=null,this.valueLineElement=null,this.cursorElement=null,this.touchX=Ru.Ay.CHART.FLT_MAX,this.touchY=Ru.Ay.CHART.FLT_MAX,this.startX=Ru.Ay.CHART.FLT_MAX,this.startY=Ru.Ay.CHART.FLT_MAX,this.prevPinch=Ru.Ay.CHART.FLT_MAX,this.pointerX=0,this.pointerY=0,this.acceleration=0,this.accelerationStartTime=0,this.handling=!1,this.currentZoom=0,this.chartPeriod=rh.Jm.M1,this.topElementsNumber=0,this.bottomElementsHeight=0,this.topMargin=0,this.bottomMargin=0,this.context=new Tz(e),this.core=new ZZ(this.context.getCanvas(),this.context.isIE),this.options=[],this.optionsSocial=[],this.optionsClosed=[],this.expressDeals=[],this.defaultDuration=.1,this.minValueAnimator=new Iz(this.defaultDuration,rh.EK.EaseOutQuad),this.maxValueAnimator=new Iz(this.defaultDuration,rh.EK.EaseOutQuad),this.shiftAnimator=new Iz(.5,rh.EK.EaseInOutQuad),this.secondWidthAnimator=new Iz(.5,rh.EK.EaseInOutQuad),this.touchStartTs=0,this.touchMoveSide=0,this.currentDigit=2;var i=this.globalSettings,o=i.currency,a=i.currentTime,s=i.isMobile,c=i.theme;this.currency=o,this.currentServerTime=a,this.isMobile=s,this.theme=c,this.showCursorPointer=!this.isMobile,this.destroyed=!1,this.forceCleared=!1,this.assetId=0,this.subscribeToInputEvents(),this.callPutButtonsManager.install(),this.initializePlotEventsListeners(),this.isMinMaxCalculated=!1,this.linePlotCandleWidth=null,this.extraBottomMargin=0,this.lastCurrentServerTime=0,this.lastZoomedAt=0,this.drawingsManager=new UQ(this),this.plotVerticalScroll=new DQ(this),this.betElementDrawMode=this.loadBetElementDrawModeState(),this.hoveredDoubleUp=null,this.hoverCallDoubleUp=!1,this.hoverPutDoubleUp=!1,this.hoveredRollover=null,this.priceAlerts=[],this.pendingsByPrice=[],this.selectedPendingPriceElement=null}),[{key:"getBetElementDrawModeCookieName",value:function(){return"be_".concat(this.chartId)}},{key:"loadBetElementDrawModeState",value:function(){var t=Pe.A.cookies.get(this.getBetElementDrawModeCookieName());return Object.values(rh.mC).includes(t)?t:rh.mC.EXPANDED}},{key:"saveBetElementDrawModeState",value:function(){Pe.A.cookies.set(this.getBetElementDrawModeCookieName(),this.betElementDrawMode)}},{key:"subscribeToInputEvents",value:function(){var t=this;this.context.addEventListener(vz,(function(e,n,r){return t.zoom(n,r,e)})),this.context.addEventListener(_z,(function(e,n,r,i){return t.pinchZoom(e,n,r,i)})),this.context.addEventListener(Sz,(function(){return t.pinchZoomEnd()})),this.context.addEventListener(bz,(function(e,n){return t.touchMoved(e,n)})),this.context.addEventListener(jz,(function(e,n){return t.touchEnded(e,n)})),this.context.addEventListeners([kz,wz],(function(e,n){return t.checkInteractives(e,n)})),this.context.addEventListener(xz,(function(e,n){return t.setPointer(e,n)})),this.context.addEventListener(Oz,(function(){return t.onMouseDown()}))}},{key:"unsubscribeFromInputEvents",value:function(){this.context.removeAllListeners()}},{key:"shift",get:function(){return this.shiftAnimator.getValue()}},{key:"secondWidth",get:function(){return this.secondWidthAnimator.getValue()}},{key:"chartSettings",get:function(){return this.store.getState().chartSettings.chartById[this.chartId]}},{key:"globalSettings",get:function(){return this.store.getState().global}},{key:"addPlotEventListener",value:function(t,e){var n=(0,Et.A)();return this.plotEventListeners[t].set(n,e),n}},{key:"removeAllPlotEventListeners",value:function(){this.initializePlotEventsListeners()}},{key:"initializePlotEventsListeners",value:function(){var t={};Object.keys(rh.b1).forEach((function(e){t[rh.b1[e]]=new Map})),this.plotEventListeners=t}},{key:"checkInteractives",value:function(t,e){this.drawingsManager.isMovingDrawing()||(this.handleOpenedDealClicks(t,e),this.handleSocialDealClicks(t,e))}},{key:"handleOpenedDealClicks",value:function(t,e){var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=M8(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.options);try{for(r.s();!(n=r.n()).done;){if(n.value.checkClickOpen(t,e)){this.toggleBetElementDrawMode();break}}}catch(i){r.e(i)}finally{r.f()}}},{key:"handleSocialDealClicks",value:function(t,e){for(var n=!1,r=0;r<this.optionsSocial.length;r++){var i=this.optionsSocial[r];i.infoOpened&&(n||i.checkClickOutside(t,e))&&(u.A.publish(Hn.nS),i.closeInfo());var o=!1;i.isShowCopyBtn&&i.infoOpened&&i.checkClickCopy(t,e)&&(u.A.publish(y.OH,new H.A(i.id)),u.A.publish(Hn.nS),o=!0),!o&&i.checkClickInfo(t,e)&&u.A.publish(y.es,i.option.uid),!(n=n||i.infoOpened)&&i.checkClickOpen(t,e)&&(u.A.publish(Hn.nS),i.openInfo(),n=!0)}}},{key:"toggleBetElementDrawMode",value:function(){var t=this.options.map((function(t){return t.data}));this.destroyOptions(),this.betElementDrawMode=this.betElementDrawMode===rh.mC.COLLAPSED?rh.mC.EXPANDED:rh.mC.COLLAPSED,this.setOpenedDeals(t,!1),this.saveBetElementDrawModeState()}},{key:"handleScrollToEndClick",value:function(){this.scrollToChartStart(!0)}},{key:"touchMoved",value:function(t,e){if(!this.drawingsManager.isMovingDrawing()){this.stopMoves();var n=this.drawingsManager.checkPointHit(t,e);this.handling||!this.plotVerticalScroll.isHandling&&n||!this.plotVerticalScroll.canHandle(t,e)?(this.touchX===Ru.Ay.CHART.FLT_MAX&&(this.handling=!0,this.touchX=t,this.touchY=e,this.startX=t,this.startY=e,this.touchStartTs=this.ts),this.drawingsManager.isPointSelected()?(this.touchX=t,this.touchY=e,this.drawingsManager.moveSelectedPoint(this.touchX,this.touchY,!0)):(this.shiftAnimator.setToValue(this.shift+this.touchX-t),this.touchMoveSide=this.touchX>t?1:-1,this.touchX=t,this.touchY=e,this.checkShift())):this.plotVerticalScroll.handle(t,e,this.minValue,this.maxValue)}}},{key:"onMouseDown",value:function(){this.drawingsManager.isMovingDrawing()||this.isMobile||this.stopMoves()}},{key:"touchEnded",value:function(t,e){if(!this.drawingsManager.isMovingDrawing()){if(!this.drawingsManager.isPointSelected()){this.accelerationStartTime=this.ts;var n=this.ts-this.touchStartTs,r=Math.abs(t-this.startX),i=Math.abs(e-this.startY);if(n>0&&n<.4&&r>i&&r>50){var o=r/n/n;this.acceleration=this.touchMoveSide*Math.min(50,o/700)}else this.acceleration=0}this.touchStartTs=0,this.touchX=Ru.Ay.CHART.FLT_MAX,this.touchY=Ru.Ay.CHART.FLT_MAX,this.startX=Ru.Ay.CHART.FLT_MAX,this.startY=Ru.Ay.CHART.FLT_MAX,this.handling=!1,this.plotVerticalScroll.stopHandling()}}},{key:"pinchZoom",value:function(t,e,n,r){if(!this.drawingsManager.isMovingDrawing()){if(this.stopMoves(),this.prevPinch===Ru.Ay.CHART.FLT_MAX)return this.prevPinch=TN(n-t,r-e),void(this.handling=!0);var i=TN(n-t,r-e);if(!(Math.abs((i-this.prevPinch)/(this.prevPinch+i))<.01)){var o=this.prevPinch>i?-1:1;this.prevPinch=i;var a=Math.min(t,n)+Math.abs(t-n)/2;this.zoom(a,this.height/2,o*Ru.Ay.CHART.ZOOM_FACTOR)}}}},{key:"pinchZoomEnd",value:function(){this.drawingsManager.isMovingDrawing()||(this.prevPinch=Ru.Ay.CHART.FLT_MAX,this.handling=!1)}},{key:"zoom",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!this.drawingsManager.isMovingDrawing()){this.stopMoves();var i=r>1?n/r:n,o=this.secondWidth*Math.pow(1+i,r);this.setSecondWidthAfterZoom(t,e,o)}}},{key:"setSecondWidthAfterZoom",value:function(t,e,n){var r=this.clampSecondWidth(n),i=this.pointsManager.startPoint.time+(this.shift+t)/this.secondWidth;this.secondWidthAnimator.setToValue(r);var o=(i-this.pointsManager.startPoint.time)*r-t,a=this.getMaxShift(),s=this.shift,c=o>a?a:o;this.shiftAnimator.setToValue(c),s!==c&&(this.lastZoomedAt=this.globalSettings.currentTime),this.checkShift(),this.plotEventListeners[rh.b1.ZOOM_CHANGED].forEach((function(t){return t()}))}},{key:"setDateRangeMinutes",value:function(t){var e=this.width/(60*t);this.setSecondWidthAfterZoom(this.width/2,this.height/2,e)}},{key:"restoreZoom",value:function(){this.hasLoadingRegions()||(this.acceleration=0,this.stopMoves(),this.resetZoom(),this.plotVerticalScroll.reset(),this.scrollToChartStart(!1))}},{key:"resetZoom",value:function(){this.resetSecondWidth(),this.currentZoom=this.secondWidth}},{key:"resetSecondWidth",value:function(){var t=(0,nh.Uh)(this.chartType,this.chartPeriod);this.secondWidthAnimator.fromValue=t,this.secondWidthAnimator.setToValue(t)}},{key:"stopMoves",value:function(){this.secondWidthAnimator.setEnabled(!1),this.shiftAnimator.setEnabled(!1),this.acceleration=0}},{key:"setPlotType",value:function(t){this.chartType=t,this.destroyElements(),this.setMainElements(),this.actualizeZoom(),this.actualizeIndicators(),this.forceClear()}},{key:"flushIndicatorsCache",value:function(){for(var t=0;t<this.indicators.length;t++)this.indicators[t]&&this.indicators[t].flush()}},{key:"refresh",value:function(){this.destroyElements(),this.setMainElements(),this.actualizeIndicators(),this.pointsManager.reset(),this.forceClear()}},{key:"forceClear",value:function(){this.core.clearForce(),this.forceCleared=!0}},{key:"setPlotPeriod",value:function(t){this.chartPeriod=t,this.refresh(),this.flushIndicatorsCache()}},{key:"getCurrentZoomFactor",value:function(){var t=(0,nh.H0)(this.chartType,this.chartPeriod),e=(0,nh.rp)(this.chartType,this.chartPeriod);return(this.secondWidth-t)/(e-t)}},{key:"setMainElements",value:function(){this.actualizeMainElement(),this.actualizeGatesElement(),this.actualizeCursorElement(),this.pointElement=new DY(this.core,this.pointsManager),this.valueLineElement=new hJ(this.core,this.pointsManager),this.gridElement=new MJ(this.core,this.pointsManager),this.candlesTimer=new GJ(this.core,this.pointsManager)}},{key:"onGridSnapChange",value:function(){this.actualizeCursorElement()}},{key:"onShowAreaChange",value:function(t){(0,nh.Mt)(this.chartSettings.chartType)&&this.currentElement.updateShowArea(t)}},{key:"onChangeSelectedDrawingIds",value:function(t){this.drawingsManager.syncSelected(t)}},{key:"onChangePriceAlerts",value:function(t){for(var e=this,n=t.map((function(t){return t.id})),r=this.priceAlerts.length-1;r>=0;r--){var i=this.priceAlerts[r];n.includes(i.data.id)||(i.destroy(),this.priceAlerts.splice(r,1))}t.forEach((function(t){e.priceAlerts.some((function(e){return e.data.id===t.id}))||e.priceAlerts.push(new h8(e.core,e.pointsManager,t))}))}},{key:"onChangePendingsByPrice",value:function(t){for(var e=this,n=t.map((function(t){return t.ticket})),r=this.pendingsByPrice.length-1;r>=0;r--){var i=this.pendingsByPrice[r];n.includes(i.data.ticket)||(i.destroy(),this.pendingsByPrice.splice(r,1))}t.forEach((function(t){e.pendingsByPrice.some((function(e){return e.data.ticket===t.ticket}))||e.pendingsByPrice.push(new _8(e.core,e.pointsManager,t))}))}},{key:"onChangeSelectedPendingPrice",value:function(t){this.selectedPendingPriceElement&&t?this.selectedPendingPriceElement.changePrice(t):!this.selectedPendingPriceElement&&t?this.selectedPendingPriceElement=new N8(this.core,this.pointsManager,{price:t}):this.selectedPendingPriceElement&&!t&&(this.selectedPendingPriceElement.destroy(),this.selectedPendingPriceElement=null)}},{key:"actualizeGatesElement",value:function(){this.globalSettings.hideBoFeatures||(this.gatesElement&&this.gatesElement.destroy(),this.gatesElement=new C5(this.core,this.pointsManager))}},{key:"actualizeCursorElement",value:function(){this.cursorElement=new kJ(this.core,this.pointsManager,this.chartSettings.enabledGridSnap)}},{key:"actualizeMinMaxElement",value:function(){this.minMaxElement&&this.minMaxElement.destroy(),this.minMaxElement=new Y5(this.core,this.pointsManager)}},{key:"actualizeMainElement",value:function(){switch(this.actualizeMinMaxElement(),this.chartType){case rh.M.Line:var t=this.core.isPerformanceLines?new r8(this.core,this.pointsManager,this.minMaxElement,{showArea:this.chartSettings.showArea}):new Uz(this.core,this.pointsManager,this.minMaxElement,{showArea:this.chartSettings.showArea});t.pointsInElement=(0,nh.o0)(this.chartType,this.chartPeriod),this.currentElement=t;break;case rh.M.Candles:var e=new vY(this.core,this.pointsManager,this.minMaxElement);e.pointsInElement=(0,nh.o0)(this.chartType,this.chartPeriod),this.currentElement=e;break;case rh.M.Bars:var n=new OY(this.core,this.pointsManager,this.minMaxElement);n.pointsInElement=(0,nh.o0)(this.chartType,this.chartPeriod),this.currentElement=n;break;case rh.M.HeikenAshi:var r=new vY(this.core,this.pointsManager,this.minMaxElement);r.pointsInElement=(0,nh.o0)(this.chartType,this.chartPeriod),this.currentElement=r}}},{key:"actualizeZoom",value:function(){this.stopMoves();var t=(0,nh.H0)(this.chartType,this.chartPeriod),e=(0,nh.rp)(this.chartType,this.chartPeriod);if(this.secondWidth>e||this.secondWidth<t){var n=(0,nh.Uh)(this.chartType,this.chartPeriod);this.secondWidthAnimator.setToValue(n),this.scrollToChartStart(!0)}var r=t+(e-t)*this.getCurrentZoomFactor(),i=this.getChartStartTime(),o=this.getChartEndTime();r*(this.getTimeFromX(this.shift+this.width/2)-i)-this.width/2>r*(o-i)-this.width+this.getRightMarginPercent()&&this.scrollToChartStart(!1)}},{key:"actualizeIndicators",value:function(){for(var t=0;t<this.indicators.length;t++){var e=this.indicators[t];e&&(e.pointsInElement=this.getPointsInElementForIndicators())}}},{key:"setParams",value:function(t,e){this.width=t,this.height=e,this.context.setSize(t,e),this.core.resize(t,e),this.checkSecondsWidth(),this.checkShift()}},{key:"checkSecondsWidth",value:function(){return this.clampSecondWidth(this.secondWidth)}},{key:"checkShift",value:function(){var t=this.getRightMarginPercent(),e=this.getChartStartTime(),n=(this.getChartEndTime()-e)*this.secondWidth-this.shift;this.width>n+t&&this.actualizeShift(!1),this.shift<Ru.Ay.CHART.MAX_SHIFT_VALUE&&(this.acceleration=0,this.shiftAnimator.setEnabled(!1),this.shiftAnimator.setToValue(Ru.Ay.CHART.MAX_SHIFT_VALUE)),this.calculateWindowParams({calculateCandles:!1})}},{key:"actualizeShift",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.getChartStartTime(),n=this.getChartEndTime(),r=this.getRightMarginPercent();this.acceleration=0,this.shiftAnimator.setEnabled(t);var i=this.secondWidth*(n-e)-this.width+r,o=this.getMaxShift(),a=i>o?o:i;this.shiftAnimator.fromValue=t?this.shift:a,this.shiftAnimator.setToValue(a)}},{key:"getMaxShift",value:function(){return(this.getChartEndTime()-this.getChartStartTime())*this.secondWidth}},{key:"getRightMarginPercent",value:function(){return this.width/100*Ru.Ay.CHART.RIGHT_PLOT_MARGIN_PERCENT}},{key:"getXFromTime",value:function(t){return(t-this.pointsManager.startPoint.time)*this.secondWidth-this.shift}},{key:"getTimeFromX",value:function(t){return this.pointsManager.startPoint.time+t/this.secondWidth}},{key:"onRegionLoaded",value:function(t){var e=this,n=this.regions.findIndex((function(e){return e.index===t}));-1!==n&&(this.regions[n].loaded=!0,this.regions[n].element&&this.regions[n].element.fade(),setTimeout((function(){for(var n=[],r=0;r<e.regions.length;r++){var i=e.regions[r];i.index===t?i.element&&i.element.destroy():n.push(i)}e.regions=n}),1e3))}},{key:"clear",value:function(){this.destroyElements(),this.enableLoadRegion=!0,this.pointsManager.reset(),this.minValueAnimator.reset(),this.maxValueAnimator.reset(),this.shiftAnimator.reset(),this.resetSecondWidth(),this.removeAllDrawings(),this.removeAllIndicators(),this.changeIndicatorsAndDrawings(),this.plotVerticalScroll.reset()}},{key:"forceDestroy",value:function(){this.destroyElements(!0),this.callPutButtonsManager.uninstall(),this.unsubscribeFromInputEvents(),this.removeAllPlotEventListeners(),this.context.unsetControls(),this.core.destroyForce(),this.destroyed=!0,this.pointsManager=null,this.drawingsManager=null}},{key:"shouldCalculatePointsToEnd",value:function(){return-1!==this.indicators.findIndex((function(t){return t.type===Ru.W.ICHIMOKU_CLOUD}))}},{key:"checkFastOptionAutoscroll",value:function(){if(!(!this.chartSettings.enabledAutoscroll||0===this.pointsManager.points.length||this.handling||this.shift<0)){var t=this.getChartEndTime(),e=this.globalSettings.currentTime,n=0===this.lastZoomedAt||e-this.lastZoomedAt>=5;this.scrollChartEndTime!==t&&n&&(this.scrollChartEndTime=t,this.scrollToChartStart(!0))}}},{key:"checkServerTimeDependentTasks",value:function(t){this.destroyOldClosedOptions(t),this.checkFastOptionAutoscroll(t),this.checkPendingDealsInOpened(t),this.deleteOldSocialDeals(t)}},{key:"destroyElements",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.gridElement&&this.gridElement.destroy(),this.candlesTimer&&this.candlesTimer.destroy(),this.currentElement&&this.currentElement.destroy(),this.pointElement&&this.pointElement.destroy(),this.valueLineElement&&this.valueLineElement.destroy(),this.cursorElement&&this.cursorElement.destroy(),this.regions.forEach((function(t){return t&&t.element&&t.element.destroy()})),this.regions=[],t&&(this.destroyOptions(),this.indicators.forEach((function(t){return t&&t.destroy()})),this.indicators=[])}},{key:"destroyOptions",value:function(){this.destroySocials(),this.options.forEach((function(t){return t&&t.destroy()})),this.options=[],this.optionsClosed.forEach((function(t){return t&&t.destroy()})),this.optionsClosed=[],this.expressDeals.forEach((function(t){return t&&t.destroy()})),this.expressDeals=[]}},{key:"destroySocials",value:function(){this.optionsSocial.forEach((function(t){return t&&t.destroy()})),this.optionsSocial=[]}},{key:"prepareToDraw",value:function(){this.minValueAnimator.setTime(this.ts),this.maxValueAnimator.setTime(this.ts),this.shiftAnimator.setTime(this.ts),this.secondWidthAnimator.setTime(this.ts),this.topMargin=0,this.bottomMargin=0,this.topElementsNumber=0,this.bottomElementsNumber=0,this.bottomElementsHeight=0,this.currentZoom=this.secondWidth,this.extraBottomMargin=this.calculateOverlayExtraBottomMargin();var t=Math.floor(this.ts/.02);if(t!==this.tick&&(this.tick=t,0!==this.acceleration)){var e=this.ts-this.accelerationStartTime,n=this.acceleration,r=e*Ru.Ay.CHART.ACCELERATION_WEAKNESS_IN_SECOND;n>0?n-=r:n+=r,Math.abs(n)<1&&(n=0,this.acceleration=n),this.shiftAnimator.setEnabled(!1),this.shiftAnimator.setToValue(this.shift+n),this.checkShift()}this.handling&&this.checkShift()}},{key:"render",value:function(t){if(!this.destroyed&&(this.lastCurrentServerTime=this.currentServerTime,this.currentServerTime=this.globalSettings.currentTime,this.currentServerTime!==this.lastCurrentServerTime&&this.checkServerTimeDependentTasks(this.currentServerTime),this.ts=t,this.prepareToDraw(),this.pointsManager.currentValue!==Ru.Ay.CHART.FLT_MAX)){if(this.core.clear(),this.pointsManager.points.length>0){this.pointsManager.updateCurrentValues(),(0,nh.Mt)(this.chartType)?(this.pointsManager.checkReducedPoints(this.shouldCalculatePointsToEnd()),this.calculateMinMax()):this.isLastPointVisible()&&this.calculateWindowParams({calculateCandles:!0});var e=this.handleElements();this.calculateIndicators(),this.drawingsManager.calculatePoints(),this.drawElements(e),this.drawScrollToEnd()}this.getParams(),this.checkRegion(),this.checkIndicatorPeriods(),this.core.render(),this.forceCleared=!1}}},{key:"isLastPointVisible",value:function(){var t=this.getTimeFromX(this.shift),e=this.getTimeFromX(this.shift+this.width),n=this.pointsManager.currentTime;return t<=n&&n<=e}},{key:"checkIndicatorPeriods",value:function(){if(this.pointsManager.candles.length&&this.pointsManager.points.length&&this.indicators.length&&this.enableLoadRegion){var t=Math.max.apply(Math,L8(this.indicators.map((function(t){return t.maxPeriod}))))+1,e=this.chartSettings,n=e.chartType,r=e.chartPeriod,i=(0,nh.o0)(n,r);(0,nh.Mt)(n)&&(i*=this.pointsManager.interval>0?this.pointsManager.interval:1);var o=t*i;this.shift/this.secondWidth<o&&this.loadRegion(this.pointsManager.points[0].time)}}},{key:"checkRegion",value:function(){if(this.enableLoadRegion&&this.shift<0){var t=this.pointsManager.startPoint.time;this.loadRegion(t)}}},{key:"disableLoadRegion",value:function(){this.enableLoadRegion=!1}},{key:"loadRegion",value:function(t){var e=this;if(!this.regions.some((function(e){return t===e.time}))){var n=(0,nh.o0)(this.chartType,this.chartPeriod),r=(n<60?200:150)*n,i=parseInt("".concat(this.globalSettings.currentTime).concat((0,eQ.A)(1,100))),o=new tQ(this.core,this.pointsManager,i,t,r,this.theme),a={offset:r,index:i,loaded:!1,time:t,element:o};this.regions.push(a),this.plotEventListeners[rh.b1.NEW_REGION_REQUEST].forEach((function(t){return t(a.index,a.time,r,(0,nh.o0)(e.chartType,e.chartPeriod))}))}}},{key:"handleElements",value:function(){var t=[].concat(L8(this.drawingsManager.draggablePoints),L8(this.indicators),L8(this.options),L8(this.optionsSocial),L8(this.optionsClosed),L8(this.expressDeals),[this.valueLineElement,this.cursorElement,this.minMaxElement]);this.isMobile||(t.push.apply(t,L8(this.priceAlerts)),t.push.apply(t,L8(this.pendingsByPrice)),this.selectedPendingPriceElement&&t.push(this.selectedPendingPriceElement)),(0,nh.Mt)(this.chartType)&&t.push(this.pointElement),this.regions.forEach((function(e){var n=e.element;return t.push(n)}));var e=this.globalSettings.enabledTooltipMessage,n=this.callPutButtonsManager.hoverCallBtn||this.hoverCallDoubleUp;this.gridElement.hoverCallBtn=!this.isMobile&&e&&n;var r=this.callPutButtonsManager.hoverPutBtn||this.hoverPutDoubleUp;this.gridElement.hoverPutBtn=!this.isMobile&&e&&r,t.push(this.candlesTimer),t.push(this.gridElement),this.globalSettings.hideBoFeatures||t.push(this.gatesElement),t.push(this.currentElement),this.bottomMargin=Ru.Ay.CHART.TIMELINE_HEIGHT;for(var i=0;i<t.length;i++){var o=t[i];o&&(o.position===rh.vh.Top?this.topMargin+=Ru.Ay.CHART.TOP_PLOT_ELEMENT_PIXELS:o.position===rh.vh.Bottom&&(this.bottomMargin+=this.getBottomMarginForElement(o)))}for(var a=0;a<t.length;a++){var s=t[a];s&&this.fillElement(s)}return t}},{key:"getExpirationTime",value:function(){var t=this.chartSettings,e=t.isCalendarMode,n=t.fastCloseAt,r=t.fastTimeframe,i=this.globalSettings.currentTime;return e?n:i+r}},{key:"fillElement",value:function(t){if(t){if(t.forceCleared=this.forceCleared,t.assetId=this.assetId,t.chartId=this.chartId,t.currentDigit=this.currentDigit,t.currency=this.currency,t.ts=this.ts,t.isMobile=this.globalSettings.isMobile,t.selectedPlotType=this.chartType,t.shift=this.shift,t.showCursorPointer=this.showCursorPointer,t.startTime=this.pointsManager.startPoint.time,t.lastEndTime=t.endTime,t.endTime=this.pointsManager.endPoint.time,t.secondWidth=this.secondWidth,t.chartPeriod=this.chartSettings.chartPeriod,t.widthLast=t.width,t.worldHeightLast=t.worldHeight,t.width=this.width,t.worldHeight=this.height,t.lastExpirationTime=t.expirationTime,t.expirationTime=this.getExpirationTime(),t.lastCurrentTime=t.currentTime,t.currentTime=this.pointsManager.currentTime,t.serverTime=this.globalSettings.currentTime,t.lastEndCandle=t.endCandle,t.endCandle=this.pointsManager.candles[this.pointsManager.candles.length-1],t.lastPointerX=t.pointerX,t.lastPointerY=t.pointerY,t.pointerX=this.pointerX,t.pointerY=this.pointerY,t.options=this.options,t.expresses=this.expressDeals,t.currentValue=this.pointsManager.currentValue,t.endPoint=this.pointsManager.endPoint,t.currentZoom=this.currentZoom,t.lastToExpTime=t.toEndExpTime,t.toEndExpTime=this.toEndExpTime,t.elementType===rh.Eq.Indicator?t.pointsInElement=this.getPointsInElementForIndicators():t.pointsInElement=(0,nh.o0)(this.chartType,this.chartPeriod),t.lastFromTime=t.fromTime,t.lastToTime=t.toTime,t.fromTime=this.getTimeFromX(this.shift),t.toTime=this.getTimeFromX(this.shift+this.width),t.lastMinVal=t.minVal,t.lastMaxVal=t.maxVal,t.maxVal=this.maxValueAnimator.getValue(),t.minVal=this.minValueAnimator.getValue(),t.isMinMaxCalculated=this.isMinMaxCalculated,t.lastTheme=t.theme,t.theme=this.theme,t.lastCandleUpHex=t.candleUpHex,t.candleUpHex=this.globalSettings.candleUpColor,t.lastCandleDownHex=t.candleDownHex,t.candleDownHex=this.globalSettings.candleDownColor,t.shadowStyle=this.globalSettings.shadowStyle,t.prevLastValue=this.pointsManager.getLastValue(),t.hoveredDoubleUp=this.hoveredDoubleUp,t.hoveredRollover=this.hoveredRollover,t.lastCandleCount=t.candlesCount,t.candlesCount=this.pointsManager.candles.length,this.showCursorPointer){var e=this.height-this.bottomMargin+1,n=this.height-Ru.Ay.CHART.TIMELINE_HEIGHT+1,r=this.getIndicatorWithYCoord(this.pointerY);if(t.pointerInElement=this.pointerY>=e&&this.pointerY<n,t.pointerInElement&&r){var i=r.max,o=r.min,a=r.yShift,s=r.height,c=Ru.Ay.CHART.BOTTOM_PLOT_ELEMENT_VERTICAL_PADDING,l=o+(i-o)*((a+s-this.pointerY-c)/(s-2*c));t.pointerInElementValueY=r.roundValue(l),t.pointerInElementValueSymbol=r.valueYScaleType===rh.gd.Percentage?"%":""}}if(t.lastBottomMarginPixels=t.bottomMarginPixels,t.heightLast=t.height,t.position===rh.vh.Top)t.height=Ru.Ay.CHART.TOP_PLOT_ELEMENT_PIXELS,t.yShift=t.height*this.topElementsNumber,t.elementNumber=this.topElementsNumber,this.topElementsNumber++;else if(t.position===rh.vh.Bottom?(t.height=this.getBottomMarginForElement(t),t.yShift=this.height-this.bottomMargin+this.bottomElementsHeight,t.elementNumber=this.bottomElementsNumber,this.bottomElementsHeight+=t.height):(t.height=this.height-(this.topMargin+this.bottomMargin),t.yShift=this.topMargin),t.position===rh.vh.Overlay){var u=Ru.Ay.CHART,d=u.TOP_PLOT_MARGIN_PIXELS_MOBILE,f=u.TOP_PLOT_MARGIN_PIXELS,h=u.BOTTOM_PLOT_MARGIN_PIXELS_MOBILE,p=u.BOTTOM_PLOT_MARGIN_PIXELS,m=this.globalSettings.isMobile;t.topMarginPixels=m?d:f;var y=m?h:p;if(t.bottomMarginPixels=this.extraBottomMargin+y,t.topMarginPixels+t.bottomMarginPixels>t.height){var v=t.topMarginPixels+t.bottomMarginPixels-t.height,b=Math.ceil(v/2);t.topMarginPixels-=b,t.bottomMarginPixels-=b}}else t.topMarginPixels=0,t.bottomMarginPixels=0;t.candlesTimer=this.chartSettings.candlesTimer}}},{key:"getBottomMarginForElement",value:function(t){return this.isMobile?Ru.Ay.CHART.BOTTOM_PLOT_ELEMENT_PIXELS_MOBILE:t.elementType===rh.Eq.Indicator&&t.isExpanded&&t.isBottomIndicator()?Ru.Ay.CHART.BOTTOM_PLOT_ELEMENT_PIXELS_EXPANDED:Ru.Ay.CHART.BOTTOM_PLOT_ELEMENT_PIXELS}},{key:"getIndicatorWithYCoord",value:function(t){for(var e=0;e<this.indicators.length;e++){var n=this.indicators[e],r=n.position,i=n.yShift,o=n.height;if(r===rh.vh.Bottom&&(i<=t&&t<=i+o))return n}return null}},{key:"calculateOverlayExtraBottomMargin",value:function(){var t=document.body.classList;if(t.contains("is-m-version")&&t.contains("landscape"))return 0;var e=0,n=this.globalSettings,r=n.openingFirstDealPanel,i=n.isDemo,o=n.isTournament,a=n.isMobile,s=!a&&o&&this.chartSettings.enabledRatingWidget,c=!1;return(0,Gu.TF)(this.store.getState())?a&&(e+=170,c=!0):(!a&&(e+=30),c=!0),c&&(e+=30-Ru.Ay.CHART.TIMELINE_HEIGHT),i&&r&&(e+=a?68:62),!a&&s&&(e+=42),e}},{key:"getParams",value:function(){this.pointVisible=this.checkPointOnScreen()}},{key:"checkPointOnScreen",value:function(){var t=this.pointsManager.points;if(t&&t.length>0&&t[t.length-1]&&t[t.length-1].time){var e=this.shift+this.getXFromTime(t[t.length-1].time),n=this.shift,r=this.shift+this.width;return e>n&&e<r}return!1}},{key:"drawElements",value:function(t){var e=this.pointsManager,n=e.points,r=e.candles;if(n.length||r.length)for(var i=0;i<t.length;i++)t[i]&&t[i].needToDraw()&&(t[i].draw(),t[i].onAfterDraw())}},{key:"drawScrollToEnd",value:function(){this.pointVisible&&this.scrollToEndDisplayed?(this.scrollToEndDisplayed=!1,this.plotEventListeners[rh.b1.SCROLL_TO_END_CHANGED].forEach((function(t){return t(!1)}))):this.pointVisible||this.scrollToEndDisplayed||(this.scrollToEndDisplayed=!0,this.plotEventListeners[rh.b1.SCROLL_TO_END_CHANGED].forEach((function(t){return t(!0)})))}},{key:"calculateWindowParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.toEnd,n=void 0!==e&&e,r=t.calculateCandles,i=void 0!==r&&r;if(this.pointsManager.points.length){this.calculateWindowPoints({toEnd:n,calculateCandles:i});var o=this.pointsManager.interval;this.indicators.length>0&&o!==this.pointsManager.interval&&this.flushIndicatorsCache(),this.calculateMinMax()}}},{key:"calculateWindowPoints",value:function(t){var e=t.toEnd,n=t.calculateCandles,r=this.secondWidth,i=this.getPointsInElementForIndicators();if(this.chartType===rh.M.Bars||this.chartType===rh.M.Candles)n&&this.pointsManager.calculateCandles(i,r);else if(this.chartType===rh.M.HeikenAshi)n&&this.pointsManager.calculateHeikenAshiCandles(i,r);else{var o=this.shift,a=this.getTimeFromX(o),s=this.getTimeFromX(o+this.width);this.pointsManager.calculatePoints(a,s,this.width,e),n&&this.calculateCandlesForLinePlot()}(0,nh.Mt)(this.chartType)&&!n||this.pointsManager.calculateCandleWidth(i,r)}},{key:"calculateCandlesForLinePlot",value:function(){var t=this.secondWidth;if(this.indicators.some((function(t){var e=t.elementType,n=t.position;return e===rh.Eq.Indicator&&n===rh.vh.Bottom}))){var e=Math.max(1,this.pointsManager.interval);this.linePlotCandleWidth!==e&&(this.resetCandles(),this.linePlotCandleWidth=e),this.pointsManager.calculateCandles(e,t,!0,!1)}else this.linePlotCandleWidth&&(this.resetCandles(),this.linePlotCandleWidth=null)}},{key:"calculateMinMax",value:function(){for(var t=Ru.Ay.CHART.FLT_MIN,e=Ru.Ay.CHART.FLT_MAX,n=0,r=this.shift,i=this.shift+this.width,o=this.getTimeFromX(r),a=this.getTimeFromX(i),s=(0,nh.Mt)(this.chartType),c=s?this.pointsManager.getReducedAndAnimatedPoints():this.pointsManager.candles,l=0;l<c.length;l++){var u=c[l];u.time<o||u.time>a||(n++,s?(u.value<e&&(e=u.value),u.value>t&&(t=u.value)):(u.maxValue>t&&(t=u.maxValue),u.minValue<e&&(e=u.minValue)))}if(0!==n){for(var d=0;d<this.indicators.length;d++){var f=this.indicators[d];f&&f.position===rh.vh.Overlay&&(f.maxValue>t&&(t=f.maxValue),f.minValue<e&&(e=f.minValue))}if(e===t){if(1===n)return;t+=.1*t,e-=.1*e}var h=this.plotVerticalScroll.minMaxShift;0!==h?(this.minValue=e-h,this.maxValue=t+h):(this.minValue=e,this.maxValue=t),this.minValueAnimator.fromValue=0===this.minValueAnimator.fromValue?this.minValue:this.minValueAnimator.getValue(),this.maxValueAnimator.fromValue=0===this.maxValueAnimator.fromValue?this.maxValue:this.maxValueAnimator.getValue(),this.minValueAnimator.duration=this.plotVerticalScroll.isHandling?.1:this.defaultDuration,this.minValueAnimator.setToValue(this.minValue),this.maxValueAnimator.duration=this.plotVerticalScroll.isHandling?.1:this.defaultDuration,this.maxValueAnimator.setToValue(this.maxValue),this.isMinMaxCalculated=!0}}},{key:"addPoints",value:function(t){var e=0===this.pointsManager.points.length,n=Ru.Ay.CHART.FLT_MAX,r=Ru.Ay.CHART.FLT_MIN,i=e?null:this.pointsManager.points[this.pointsManager.points.length-1],o=!1;null!==i&&(o=t.some((function(t){return t.time<i.time})));for(var a=e||o||t.length>1,s=0;s<t.length;s++){var c=t[s],l=c.time,u=c.value;this.pointsManager.addPoint(u,l,this.chartType);var d=parseInt(l,10);d>r&&(r=d),d<n&&(n=d)}if(a&&this.pointsManager.sort(),this.pointsManager.points.length>0){if(t.length>1){var f=this.shift+(r-n)*this.secondWidth;this.shiftAnimator.fromValue=f,this.shiftAnimator.setToValue(f),this.resetCandles()}this.pointsManager.setStartEndPoints(),this.expirationTime<this.pointsManager.endPoint.time&&(this.expirationTime=this.pointsManager.endPoint.time)}this.calculateWindowParams({calculateCandles:!0}),e&&((0,nh.Mt)(this.chartType)&&this.pointsManager.checkReducedPoints(this.shouldCalculatePointsToEnd()),this.scrollChartEndTime=0,this.minValueAnimator.fromValue=0,this.maxValueAnimator.fromValue=0,this.calculateMinMax(),this.scrollToChartStart(!1))}},{key:"resetCandles",value:function(){this.pointsManager.resetCandles(),this.resetIndicatorsCache()}},{key:"resetIndicatorsCache",value:function(){for(var t=0;t<this.indicators.length;t++){var e=this.indicators[t];e.flush(),e.reset()}}},{key:"clampSecondWidth",value:function(t){return(0,nh.m4)(t,this.chartType,this.chartPeriod)}},{key:"getChartStartTime",value:function(){return(0,nh.Mt)(this.chartType)||!this.pointsManager.candles.length?this.pointsManager.startPoint.time:this.pointsManager.candles[0].time}},{key:"getChartEndTime",value:function(){var t=(0,nh.Mt)(this.chartType),e=this.pointsManager.candles.length;return t||!e?this.pointsManager.endPoint.time:this.pointsManager.candles[e-1].time}},{key:"scrollToChartStart",value:function(t){this.hasLoadingRegions()||0===this.pointsManager.points.length||(this.actualizeShift(t),this.calculateWindowParams({toEnd:!0}))}},{key:"checkPendingDealsInOpened",value:function(t){if(this.options.some((function(e){return e.data.closeTimestamp-t<=0}))){var e=this.options.filter((function(e){return e.data.closeTimestamp-t>0})).map((function(t){return t.data}));this.setOpenedDeals(e,!1)}}},{key:"setOpenedDeals",value:function(t){for(var e=this,n=this.globalSettings.enabledTooltipMessage&&!this.globalSettings.isMobile,r=[],i=function(i){var o=e.options.find((function(e){return e.id===t[i].id}));o?(o.setChangeableData(t[i]),o.showTooltip!==n&&o.changeShowTooltip(n)):o=e.betElementDrawMode===rh.mC.EXPANDED?new qX(e.core,e.pointsManager,t[i],n):new dX(e.core,e.pointsManager,t[i],n),r.push(o)},o=0;o<t.length;o++)i(o);for(var a=function(){var n=e.options[s];t.some((function(t){return t.id===n.id}))||n.destroy()},s=0;s<this.options.length;s++)a();if(r.length){this.options=r.sort((function(t,e){return t.data.openTimestamp===e.data.openTimestamp?0:e.data.openTimestamp-t.data.openTimestamp}));for(var c=0;c<this.options.length;c++)this.options[c].changeOrderId(c)}else this.options=[]}},{key:"hasOptionWithId",value:function(t){return this.options.some((function(e){return e.id===t}))}},{key:"setHoveredDoubleUp",value:function(t){this.hoverCallDoubleUp=!1,this.hoverPutDoubleUp=!1,this.hoveredDoubleUp=t;for(var e=0;e<this.options.length;e++)this.options[e].id===t&&(this.options[e].isCall?this.hoverCallDoubleUp=!0:this.hoverPutDoubleUp=!0),this.options[e].setHoveredDoubleUp(t)}},{key:"setHoveredRollover",value:function(t){this.hoveredRollover=t;for(var e=0;e<this.options.length;e++)this.options[e].setHoveredDoubleUp(t)}},{key:"setExpressDeals",value:function(t){for(var e=this,n=t.map((function(t){return t.id})),r=this.expressDeals.length-1;r>=0;r--){var i=this.expressDeals[r].id;n.includes(i)||(this.expressDeals[r].destroy(),this.expressDeals.splice(r,1))}if(this.globalSettings.enabledTooltipMessage){var o=this.expressDeals.map((function(t){return t.id}));t.forEach((function(t){if(!o.includes(t.id)){var n=new QQ(e.core,e.pointsManager,t);e.expressDeals.push(n),n.startAnimation()}}))}}},{key:"setOptionsClosed",value:function(t){for(var e=[],n=0;n<t.length;n++)for(var r=t[n],i=0;i<this.optionsClosed.length;i++){var o=this.optionsClosed[i];if(o.id===r.id){r.needToAnimate&&o.reanimate(),e.push(r.id);break}}for(var a=0;a<t.length;a++)if(!e.includes(t[a].id)){var s=new JK(this.core,this.pointsManager,t[a],this.currency,this.currentServerTime,this.theme);this.optionsClosed.push(s),s.reanimate()}}},{key:"removeClosedOption",value:function(t){var e=this.optionsClosed.findIndex((function(e){return e.id===t}));e<0||(this.optionsClosed[e].destroy(),this.optionsClosed.splice(e,1))}},{key:"showFullClosedOption",value:function(t){this.optionsClosed.forEach((function(e){e.id!==t?e.closeChart():e.toggleChart()}))}},{key:"destroyOldClosedOptions",value:function(t){for(var e=this.optionsClosed.length-1;e>=0;e--){var n=this.optionsClosed[e];n.isOpenedPriceChart()||n.showedAt+Ru.Ay.CHART.BET_ELEMENT_CLOSED_TIMEOUT>=t||(this.optionsClosed.splice(e,1),n&&n.destroy())}}},{key:"setOptionsSocial",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=0;r<t.length;r++)for(var i=t[r],o=0;o<this.optionsSocial.length;o++){var a=this.optionsSocial[o];a.id===i.id&&(a.setData(i),i.needToAnimate&&a.reanimate(),n.push(i.id))}for(var s=0;s<t.length;s++){var c=t[s],l=c.id;if(!(c.percentProfitable<35||n.includes(l)||e)){for(var u=!1,d=0;d<this.optionsSocial.length;d++){var f=this.optionsSocial[d].option;if(f.uid===c.uid&&Math.abs(f.openTimestamp-c.openTimestamp)<5){u=!0;break}}if(!u){var h=new AX(this.core,this.pointsManager,c,this.theme);this.optionsSocial.push(h)}}}}},{key:"deleteOldSocialDeals",value:function(t){for(var e=this.optionsSocial.length-1;e>=0;e--){var n=this.optionsSocial[e],r=n.option,i=r.isClosed,o=r.openTimestamp,a=r.closeTimestamp,s=!i&&t-o>=180,c=i&&t-a>Ru.Ay.CHART.BET_ELEMENT_CLOSED_TIMEOUT;(s||c)&&(this.optionsSocial.splice(e,1),n&&n.destroy())}}},{key:"changeIndicatorsAndDrawings",value:function(){var t=this.store.getState();this.changeIndicators(ym(this.chartId)(t)),this.changeDrawings(vm(this.chartId)(t)(this.assetId))}},{key:"changeIndicators",value:function(t){var e=this;this.indicators.filter((function(t){return!t.isDrawing})).map((function(t){return t.index})).forEach((function(n){t.some((function(t){return t.id===n||t.requestId===n}))||e.removeIndicatorWithId(n)}));var n=!1;t.forEach((function(t){var r=e.indicators.findIndex((function(e){return!e.isDrawing&&(e.index===t.id||e.index===t.requestId)}));if(r>=0)e.indicators[r].update(t);else{var i=e.createIndicator(t);i&&(e.indicators.push(i),i.isBottomIndicator()&&(n=!0))}})),(0,nh.Mt)(this.chartType)&&n&&this.calculateWindowParams({calculateCandles:!0})}},{key:"changeDrawings",value:function(t){var e=this;this.indicators.filter((function(t){return t.isDrawing})).map((function(t){return t.index})).forEach((function(n){t.some((function(t){return t.id===n||t.requestId===n}))||e.removeDrawingWithId(n)})),t.forEach((function(t){var n=t.id,r=t.settings,i=t.points,o=void 0===i?[]:i,a=t.copySettings,s=void 0===a?[]:a,c=t.type,l=t.requestId,u=t.isLocked,d=e.indicators.findIndex((function(t){var e=t.isDrawing,r=t.index;return e&&(r===n||r===l)}));if(d>=0)e.indicators[d].update(t);else{var f=e.createDrawing({id:n,type:c,settings:r,pointsData:o,isLocked:u,copySettings:s});f&&e.indicators.push(f)}})),this.drawingsManager.setDrawings(this.indicators.filter((function(t){return t.isDrawing})))}},{key:"createIndicator",value:function(t){var e=h5(t.type)(this.core,this.pointsManager,t);return null===e?null:(e.pointsInElement=this.getPointsInElementForIndicators(),e.chartPeriod=this.chartSettings.chartPeriod,e)}},{key:"createDrawing",value:function(t){var e,n=(e=t.type,function(t,n,r){if(!Object.hasOwnProperty.call(VL,e))return null;var i=new VL[e](t,n,r);return i.type=e,i.elementType=rh.Eq.Indicator,i.updateSettings(r),i})(this.core,this.pointsManager,t);return null===n?null:(this.drawingsManager.addDraggablePoint(n.drawingPoints),n)}},{key:"removeAllDrawings",value:function(){for(var t=this.indicators.length-1;t>=0;t--)this.indicators[t].isDrawing&&this.removeIndicatorAtIndex(t);this.drawingsManager.setDrawings([])}},{key:"removeAllIndicators",value:function(){for(var t=this.indicators.length-1;t>=0;t--)this.indicators[t].isDrawing||this.removeIndicatorAtIndex(t)}},{key:"removeIndicatorWithId",value:function(t){var e=this.indicators.findIndex((function(e){return e.index===t&&!e.isDrawing}));-1!==e&&this.removeIndicatorAtIndex(e)}},{key:"removeDrawingWithId",value:function(t){var e=this.indicators.findIndex((function(e){return e.index===t&&e.isDrawing}));-1!==e&&this.removeIndicatorAtIndex(e)}},{key:"removeIndicatorAtIndex",value:function(t){var e=this.indicators[t];if(e&&(this.cleanDraggablePointsForDrawing(e),e.destroy(),this.indicators.splice(t,1),this.actualizeIndicators(),(0,nh.Mt)(this.chartType))){var n=this.indicators.some((function(t){return!t.isDrawing}));n||this.resetCandles()}}},{key:"cleanDraggablePointsForDrawing",value:function(t){t.isDrawing&&this.drawingsManager.deleteDrawingPoints(t)}},{key:"calculateIndicators",value:function(){for(var t=0;t<this.indicators.length;t++){var e=this.indicators[t];e&&(e.isVisible&&e.shouldClearMainGraphLine()||e.isDrawing)&&e.calculate()}}},{key:"zoomToDefault",value:function(){var t=Ru.Ay.CHART,e=t.ZOOM_FACTOR,n=t.DEFAULT_ZOOM_FOR_MOBILE;this.zoom(this.width/2,this.height/2,e*n)}},{key:"zoomToChartEnd",value:function(t){var e=this.clampSecondWidth(t);this.secondWidthAnimator.setToValue(e),this.scrollToChartStart(!1),this.plotEventListeners[rh.b1.ZOOM_CHANGED].forEach((function(t){return t()}))}},{key:"toEndExpTime",get:function(){return this.expirationTime-this.globalSettings.currentTime}},{key:"setDigit",value:function(t){this.currentDigit=t,this.pointsManager.setDigits(t)}},{key:"setAssetId",value:function(t){this.assetId=t}},{key:"setTheme",value:function(t){this.theme=t}}])}(),W8=F8;function U8(t){return U8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U8(t)}function V8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function G8(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V8(Object(n),!0).forEach((function(e){z8(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V8(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z8(t,e,n){return(e=X8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X8(r.key),r)}}function X8(t){var e=function(t,e){if("object"!=U8(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=U8(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==U8(e)?e:e+""}function q8(t,e,n){return e=Z8(e),function(t,e){if(e&&("object"==U8(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,K8()?Reflect.construct(e,n||[],Z8(t).constructor):e.apply(t,n))}function K8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(K8=function(){return!!t})()}function Z8(t){return Z8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Z8(t)}function J8(t,e){return J8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},J8(t,e)}var Q8=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=q8(this,e,[t])).ws=bt.A.instance,n.wsSuccessCloseDealId=0,n.wsUpdateClosedSocialId=0,n.wsUpdateOpenedSocialId=0,n.wsOpenSocialDealId=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J8(t,e)}(e,t),function(t,e,n){return e&&Y8(t.prototype,e),n&&Y8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentDidMount",value:function(){var t=this;this.wsSuccessCloseDealId=this.ws.addEventListener("".concat(Cn.Bf).concat(gt.Z5),(function(e){return t.successCloseDeals(e)})),this.wsUpdateOpenedSocialId=this.ws.addEventListener(gt.nu,(function(e){return t.handleSocialDeals(e,!1)})),this.wsUpdateClosedSocialId=this.ws.addEventListener(gt.im,(function(e){t.handleSocialDeals(e,!0)})),this.wsOpenSocialDealId=this.ws.addEventListener(gt.jJ,(function(e){return t.handleSocialDeals([e],!1)}))}},{key:"componentWillUnmount",value:function(){this.ws.removeEventListener("".concat(Cn.Bf).concat(gt.Z5),this.wsSuccessCloseDealId),this.ws.removeEventListener(gt.nu,this.wsUpdateOpenedSocialId),this.ws.removeEventListener(gt.im,this.wsUpdateClosedSocialId),this.ws.removeEventListener(gt.jJ,this.wsOpenSocialDealId)}},{key:"componentDidUpdate",value:function(t){this.changeEnabledSocial(t)}},{key:"changeEnabledSocial",value:function(t){var e=this.props,n=e.enabledSocialTrading,r=e.plot;n===t.enabledSocialTrading||n||r.destroySocials()}},{key:"successCloseDeals",value:function(t){var e=this;if(this.props.plot){var n=t.deals.filter((function(t){return t.asset===e.props.symbol})).map((function(t){var n=t.asset,r=t.amount,i=t.profit,o=t.closeTimestamp,a=t.closeMs,s=t.closePrice,c=e.props.isTournament?Ru.Ay.TOURNAMENT_CURRENCY_CODE:t.currency;return{id:"".concat(n).concat(o),asset:n,amount:r,profit:i+r,time:parseFloat("".concat(o,".").concat((0,dh.pJ)(a))),value:s,deal:G8(G8({},t),{},{currency:c})}})),r=qM()(n,(function(t){return t.id})),i=Object.keys(r).map((function(t){var e=0,n=0;r[t].forEach((function(t){var r=t.amount,i=t.profit;e+=r,n+=i}));var i=r[t][0],o=i.asset,a=i.time,s=i.value;return{asset:o,amount:parseFloat(e.toFixed(2)),profit:parseFloat(n.toFixed(2)),time:a,value:s,needToAnimate:!0,id:t,deals:r[t].map((function(t){return t.deal}))}}));i.length>0&&this.props.plot.setOptionsClosed(i)}}},{key:"handleSocialDeals",value:function(t,e){var n=this,r=this.props,i=r.enabledSocialTrading,o=r.plot;i&&o&&o.setOptionsSocial(t.map((function(t){return n.convertSocial(t)})),e)}},{key:"convertSocial",value:function(t){return G8(G8({},t),{},{isClosed:t.closePrice>0,value:t.openPrice,time:parseFloat("".concat(t.openTimestamp,".").concat((0,dh.pJ)(t.openMs))),closeTime:t.closeTimestamp,text:(0,hn.vv)(t.amount,t.currency),needToAnimate:!0,isCall:(0,iu.nT)(t.command),socialName:t.nickname,finished:!1,imageSrc:t.avatarUser})}},{key:"render",value:function(){return null}}])}(Xm.PureComponent),t6=w_((function(t){var e=t.global,n=e.currency,r=e.enabledSocialTrading,i=e.isTournament,o=t.deals;return{enabledSocialTrading:r,currency:n,openedById:o.openedById,openedIds:o.openedIds,isTournament:i}}),null,a_)(Q8),e6=function(t){var e=t.visible,n=t.handler;return(0,Qm.jsx)("div",{className:(0,Km.A)("scroll-to-end",{fade:!e}),onClick:n,children:(0,Qm.jsx)("i",{className:"fa fa-angle-right fa-2x","aria-hidden":"true"})})},n6=(0,Xm.memo)(e6),r6=n(38230),i6=n.n(r6);function o6(t){return o6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o6(t)}function a6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s6(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a6(Object(n),!0).forEach((function(e){c6(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c6(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=o6(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o6(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l6=function(t){return(0,Qm.jsx)("div",s6(s6({},t),{},{children:(0,Qm.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,Qm.jsx)("defs",{children:(0,Qm.jsx)("path",{id:"a",d:"M0 0h24v24H0z"})}),(0,Qm.jsx)("clipPath",{id:"b",children:(0,Qm.jsx)("use",{xlinkHref:"#a",overflow:"visible"})}),(0,Qm.jsx)("path",{clipPath:"url(#b)",d:"M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z"})]})}))},u6=function(t){var e=t.drawings,n=t.menuClickHandler,r=t.isActive,i=t.changeHeightHandler,o=new Set(e.map((function(t){return GL(t.settings.lines,"lineWidth",rm.W1)}))),a=function(t){return 1===o.size&&o.has(t)};return(0,Qm.jsxs)("div",{className:"drawing-settings-panel__btn-container",children:[(0,Qm.jsx)(l6,{onClick:n,className:(0,Km.A)("drawing-settings-panel__btn",r&&"active")}),1===o.size&&(0,Qm.jsx)(yx,{count:o.values().next().value}),r&&(0,Qm.jsx)("div",{className:"drawing-settings-panel__weights-list",children:Object.values(rm).map((function(t){return(0,Qm.jsxs)("a",{className:(0,Km.A)(a(t)&&"active"),onClick:i(t),children:[t,"px"]},t)}))})]})};function d6(t){return d6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d6(t)}function f6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h6(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f6(Object(n),!0).forEach((function(e){p6(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f6(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p6(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=d6(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=d6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d6(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m6=function(t){return(0,Qm.jsx)("div",h6(h6({},t),{},{children:(0,Qm.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,Qm.jsx)("path",{d:"M18 4V3c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6h1v4H9v11c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-9h8V4h-3z"}),(0,Qm.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]})}))},y6=function(t){var e=t.drawings,n=t.menuClickHandler,r=t.isActive,i=t.changeColorHandler,o=new Set(e.map((function(t){return GL(t.settings.lines,"color",nm.GREEN)})));return(0,Qm.jsxs)("div",{className:"drawing-settings-panel__btn-container",children:[(0,Qm.jsx)(m6,{onClick:n,className:(0,Km.A)("drawing-settings-panel__btn",r&&"active")}),1===o.size&&(0,Qm.jsx)("div",{className:"color-indicator",style:{backgroundColor:o.values().next().value}}),r&&(0,Qm.jsx)("div",{className:"drawing-settings-panel__colors-list",children:Object.values(nm).map((function(t){return(0,Qm.jsx)("a",{onClick:i(t),style:{backgroundColor:t}},t)}))})]})};function v6(t){return v6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v6(t)}function b6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g6(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b6(Object(n),!0).forEach((function(e){w6(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b6(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w6(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=v6(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=v6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v6(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j6=function(t){return(0,Qm.jsx)("div",g6(g6({},t),{},{children:(0,Qm.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"12",viewBox:"0 0 16 35",children:[(0,Qm.jsxs)("g",{children:[(0,Qm.jsx)("circle",{cx:"13.1",cy:"3.9",r:"2.9"}),(0,Qm.jsx)("circle",{cx:"13.1",cy:"12.6",r:"2.9"}),(0,Qm.jsx)("circle",{cx:"13.1",cy:"21.4",r:"2.9"}),(0,Qm.jsx)("circle",{cx:"13.1",cy:"30.1",r:"2.9"}),(0,Qm.jsx)("circle",{cx:"2.9",cy:"3.9",r:"2.9"}),(0,Qm.jsx)("circle",{cx:"2.9",cy:"12.6",r:"2.9"}),(0,Qm.jsx)("circle",{cx:"2.9",cy:"21.4",r:"2.9"}),(0,Qm.jsx)("circle",{cx:"2.9",cy:"30.1",r:"2.9"})]}),(0,Qm.jsx)("path",{d:"M13.1 8.3C14.7 8.3 16 7 16 5.4c0-.3 0-.5-.1-.7-.3 1.3-1.5 2.2-2.8 2.2s-2.5-.9-2.8-2.2c-.1.2-.1.5-.1.7 0 1.6 1.3 2.9 2.9 2.9zM2.9 6.8C1.5 6.8.4 5.9.1 4.6c-.1.3-.1.5-.1.8C0 7 1.3 8.3 2.9 8.3S5.8 7 5.8 5.4c0-.3 0-.5-.1-.7-.3 1.2-1.4 2.1-2.8 2.1zm10.2 8.7c-1.4 0-2.5-.9-2.8-2.2-.1.2-.1.5-.1.7 0 1.6 1.3 2.9 2.9 2.9S16 15.6 16 14c0-.3 0-.5-.1-.7-.3 1.3-1.5 2.2-2.8 2.2zm-10.2 0c-1.4 0-2.5-.9-2.8-2.2-.1.3-.1.5-.1.8C0 15.7 1.3 17 2.9 17s2.9-1.3 2.9-2.9c0-.3 0-.5-.1-.7-.3 1.2-1.4 2.1-2.8 2.1zm10.2 8.8c-1.4 0-2.5-.9-2.8-2.2-.1.2-.1.5-.1.7 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9c0-.3 0-.5-.1-.7-.3 1.2-1.5 2.2-2.8 2.2zm-10.2 0c-1.4 0-2.5-.9-2.8-2.2-.1.2-.1.5-.1.7 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9c0-.3 0-.5-.1-.7-.3 1.2-1.4 2.2-2.8 2.2zM13.1 33c-1.4 0-2.5-.9-2.8-2.2-.1.2-.1.5-.1.7 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9c0-.3 0-.5-.1-.7-.3 1.3-1.5 2.2-2.8 2.2zM2.9 33c-1.4 0-2.5-.9-2.8-2.2-.1.3-.1.5-.1.7 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9c0-.3 0-.5-.1-.7-.3 1.3-1.4 2.2-2.8 2.2z",fill:"#232328"})]})}))};function x6(t){return x6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x6(t)}var _6=["width","height"];function S6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O6(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S6(Object(n),!0).forEach((function(e){k6(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S6(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k6(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=x6(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=x6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==x6(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T6=function(t){var e=t.width,n=void 0===e?20:e,r=t.height,i=void 0===r?20:r,o=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,_6);return(0,Qm.jsx)("div",O6(O6({},o),{},{children:(0,Qm.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:i,children:(0,Qm.jsx)("path",{d:"M16.1 9.2h-.8V6.9c0-2.8-2.3-5-5-5s-5 2.3-5 5v2.4h-.9c-.9 0-1.6.7-1.6 1.6v6.4c0 .9.7 1.6 1.6 1.6h11.7c.9 0 1.6-.7 1.6-1.6v-6.4c0-.9-.7-1.7-1.6-1.7zm-3.5 0H7.9V6.9c0-1.3 1.1-2.4 2.4-2.4s2.4 1.1 2.4 2.4v2.3z"})})}))};function A6(t){return A6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A6(t)}var C6=["width","height"];function P6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E6(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P6(Object(n),!0).forEach((function(e){I6(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function I6(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=A6(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=A6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==A6(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N6=function(t){var e=t.width,n=void 0===e?20:e,r=t.height,i=void 0===r?20:r,o=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,C6);return(0,Qm.jsx)("div",E6(E6({},o),{},{children:(0,Qm.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:i,children:(0,Qm.jsx)("path",{d:"M14.5 1.8c-2.8 0-5 2.3-5 5.1v2.3H2.1c-.9 0-1.6.7-1.6 1.6v6.3c0 .9.7 1.6 1.6 1.6h11.6c.9 0 1.6-.7 1.6-1.6v-6.3c0-.9-.7-1.6-1.6-1.6h-1.6V6.9c0-1.3 1-2.4 2.4-2.4 1.3 0 2.4 1.1 2.4 2.4v2.6c0 .4.4.8.8.8h1.1c.4 0 .8-.4.8-.8V6.9c-.1-2.8-2.3-5.1-5.1-5.1z"})})}))},D6=function(t){var e=t.drawings,n=t.handleLockClick,r=new Set(e.map((function(t){var e=t.isLocked;return void 0!==e&&e}))),i=e.map((function(t){return t.id})),o=1===r.size&&r.has(!0);return(0,Qm.jsxs)(Qm.Fragment,{children:[o&&(0,Qm.jsx)(T6,{className:"drawing-settings-panel__btn",onClick:n(i,!1)}),!o&&(0,Qm.jsx)(N6,{className:"drawing-settings-panel__btn transparent",onClick:n(i,!0)})]})};function L6(t){return L6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L6(t)}function M6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function R6(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M6(Object(n),!0).forEach((function(e){B6(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M6(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function B6(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=L6(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=L6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==L6(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var H6=function(t){return(0,Qm.jsx)("div",R6(R6({},t),{},{children:(0,Qm.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 409.64 431.72",children:[(0,Qm.jsx)("path",{d:"M399.64 124.33v98c0 81.67-32.66 114.33-114.33 114.33h-98c-81.67 0-114.33-32.66-114.33-114.33v-98C72.98 42.66 105.64 10 187.31 10h98c81.67 0 114.33 32.66 114.33 114.33Z",style:{fill:"none",stroke:"#aaa",strokeDasharray:"0 0 71.55 71.55",strokeMiterlimit:10,strokeWidth:"20px"}}),(0,Qm.jsx)("path",{d:"M326.66 219.39v98c0 81.67-32.66 114.33-114.33 114.33h-98C32.66 431.72 0 399.06 0 317.39v-98c0-81.67 32.66-114.33 114.33-114.33h98c81.67 0 114.33 32.66 114.33 114.33Z"})]})}))};function $6(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return F6(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F6(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F6(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var W6="colors",U6="weights",V6=function(t){return"drawing_panel_".concat(t)};var G6=function(t){var e=t.drawings,n=t.plotWidth,r=t.plotHeight,i=(0,Xm.useContext)(a_),o=(0,Lb.wA)(),a=$6((0,Xm.useState)({}),2),s=a[0],c=a[1],l=$6((0,Xm.useState)(null),2),u=l[0],d=l[1],f=$6((0,Xm.useState)(0),2),h=f[0],p=f[1],m=$6((0,Xm.useState)(null),2),y=m[0],v=m[1],b=(0,Xm.useRef)(null);(0,Xm.useEffect)((function(){null!==b.current&&p(b.current.getBoundingClientRect().width)}),[b.current]),(0,Xm.useEffect)((function(){var t=function(t){var e=Pe.A.cookies.find(V6(t),"").split("-");return{x:void 0!==e[0]?parseInt(e[0],10):0,y:void 0!==e[1]?parseInt(e[1],10):0}}(i),e=t.x,o=t.y,a=e>0&&e<n-100&&o>0&&o<r-100;c({x:a?e:n/2-h/2,y:a?o:r/4}),d(null)}),[h]);var g=function(t){return function(){return d(u===t?null:t)}};return(0,Qm.jsx)($j.A,{component:null,children:(0,Qm.jsx)(Fj.A,{timeout:100,nodeRef:b,children:(0,Qm.jsx)(i6(),{bounds:"parent",handle:".drawing-settings-panel__handle",onStop:function(t,e){var n=e.x,r=e.y;c({x:n,y:r}),Pe.A.cookies.set(V6(i),"".concat(n,"-").concat(r))},enableUserSelectHack:!1,position:s,nodeRef:b,children:(0,Qm.jsxs)("div",{className:"drawing-settings-panel-wrapper",ref:b,children:[(0,Qm.jsxs)("div",{className:"drawing-settings-panel",children:[(0,Qm.jsx)(j6,{className:"drawing-settings-panel__handle"}),(0,Qm.jsx)(y6,{drawings:e,menuClickHandler:g(W6),isActive:u===W6,changeColorHandler:function(t){return function(){return o(Cm({color:t}))}}}),(0,Qm.jsx)(u6,{drawings:e,menuClickHandler:g(U6),isActive:u===U6,changeHeightHandler:function(t){return function(){return o(Cm({lineWidth:t}))}}}),1===e.length&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)(H6,{onClick:function(){return o((t=e[0].id,function(e,n){var r=n().drawings,i=r.byId;if(r.allIds.includes(t)){var o=i[t];e(Pm(Sm(Sm({},o.settings),{},{chartId:o.chartId,type:o.type,assetId:o.assetId,symbol:o.symbol,copySettings:jm()(o.points)})))}}));var t},className:"drawing-settings-panel__btn"}),(0,Qm.jsx)(fP,{onClick:function(){return v(e[0].id)},className:"drawing-settings-panel__btn"})]}),(0,Qm.jsx)(D6,{drawings:e,handleLockClick:function(t,e){return function(){return o(function(t){var e=t.ids,n=t.value;return Zp.o1.lock({ids:e,value:n})}({ids:t,value:e}))}}}),(0,Qm.jsx)(AP,{className:"drawing-settings-panel__btn",onClick:function(){return o(Am())}})]}),(0,Qm.jsx)(tM,{isOpen:null!==y,drawingId:y,onRequestClose:function(){return v(null)}})]})})})})},z6=G6,Y6={marginBottom:"calc(8px + var(--indicator-margin-bottom))"},X6=function(){var t=(0,Lb.wA)(),e=(0,Lb.d4)((function(t){return t.favorites.list.length}));return(0,Qm.jsxs)("div",{className:"hotkey-tooltip",style:Y6,children:[(0,Qm.jsx)("a",{className:"hotkey-tooltip__close",onClick:function(){return t({type:Rp.Qc})},children:(0,Qm.jsx)("i",{className:"fa fa-times"})}),(0,Qm.jsxs)("h2",{className:"hotkey-tooltip__title",children:[(0,$.tr)("right_panel.hotkeys"),(0,Qm.jsxs)("div",{children:["[",(0,$.tr)("active"),"]"]})]}),(0,Qm.jsxs)("div",{className:"hotkey-tooltip--table",children:[(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)("div",{className:"key",children:(0,Qm.jsx)("span",{className:"green",children:"Shift + W"})}),(0,Qm.jsxs)("div",{className:"var",children:[(0,Qm.jsx)("span",{children:(0,$.tr)("hotkeys.higher")})," (",(0,$.tr)("hotkeys.new_trade"),")"]})]}),(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)("div",{className:"key",children:(0,Qm.jsx)("span",{className:"red",children:"Shift + S"})}),(0,Qm.jsxs)("div",{className:"var",children:[(0,Qm.jsx)("span",{children:(0,$.tr)("hotkeys.lower")})," (",(0,$.tr)("hotkeys.new_trade"),")"]})]}),(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)("div",{className:"key",children:"Shift + A"}),(0,Qm.jsx)("div",{className:"var",children:(0,$.tr)("hotkeys.decrease_bet_amount")})]}),(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)("div",{className:"key",children:"Shift + D"}),(0,Qm.jsx)("div",{className:"var",children:(0,$.tr)("hotkeys.increase_bet_amount")})]}),e>=2&&(0,Qm.jsxs)("div",{children:[(0,Qm.jsx)("div",{className:"key",children:"Shift + TAB"}),(0,Qm.jsx)("div",{className:"var",children:(0,$.tr)("hotkeys.next_fav")})]})]})]})};function q6(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return K6(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K6(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K6(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Z6=w_((function(t,e,n){return{chartId:n,isMobile:t.global.isMobile,collapseIndicatorsInfo:t.global.collapseIndicatorsInfo}}),{changeIndicatorHeight:function(t){var e={id:t.id,expanded:t.expanded};return Jp.o1.changeHeight(e)},changeCollapseIndicatorsInfo:$B,indicatorDelete:Dm},a_)((function(t){var e=t.changeIndicatorHeight,n=t.changeCollapseIndicatorsInfo,r=t.collapseIndicatorsInfo,i=t.indicatorDelete,o=t.indicator,a=t.isMobile,s=q6((0,Xm.useState)(!1),2),c=s[0],l=s[1],u=o.id,d=o.type,f=o.expanded,h=void 0!==f&&f;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:(0,Km.A)("remove-chart-setting",h&&"expanded"),children:(0,Qm.jsxs)("div",{className:"remove-chart-setting-wrapper",children:[(0,Qm.jsx)("a",{className:"current-indicators-collapse",onClick:function(){return n(!r)},children:(0,Qm.jsx)("i",{className:(0,Km.A)("fa",r?"fa-caret-right":"fa-caret-down")})}),!r&&(0,Qm.jsxs)("div",{className:"bottom-indicator-info",children:[(0,Qm.jsx)("div",{className:"indicator-name",children:(0,$.tr)("indicators.".concat(d))}),(0,Qm.jsx)("div",{className:"indicator-settings",children:(0,Qm.jsx)(EP,{indicator:o})}),(0,Qm.jsxs)("div",{className:"actions",children:[(0,Qm.jsx)("a",{onClick:function(){return l(!0)},children:(0,Qm.jsx)("i",{className:"fa fa-pencil"})}),!a&&(0,Qm.jsx)("a",{onClick:function(){return i(o.id)},children:(0,Qm.jsx)("i",{className:"fa fa-times"})})]})]}),!a&&(0,Qm.jsxs)("a",{title:(0,$.tr)(h?"indicators.collapse":"indicators.expand"),className:"remove-chart-setting__remove-icon",onClick:function(){var t=o.id,n=o.expanded;e({id:t,expanded:!(void 0!==n&&n)})},children:[!h&&(0,Qm.jsx)("i",{className:"fa fa-chevron-up"}),h&&(0,Qm.jsx)("i",{className:"fa fa-chevron-down"})]})]})},u),(0,Qm.jsx)(fI,{isOpen:c&&null!=o,indicator:o,onRequestClose:function(){return l(!1)}})]})})),J6=function(t){var e=t.indicators;return(0,Qm.jsx)("div",{className:"remove-chart-settings-container",children:e.map((function(t){return(0,Qm.jsx)(Z6,{indicator:t},t.id)}))})};function Q6(t){return Q6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q6(t)}function t7(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return e7(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e7(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e7(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function n7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r7(r.key),r)}}function r7(t){var e=function(t,e){if("object"!=Q6(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Q6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Q6(e)?e:e+""}var i7=function(){return function(t,e,n){return e&&n7(t.prototype,e),n&&n7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=e.chartSlotIndex,r=e.socket,i=e.symbol,o=e.filterBySymbol,a=e.store;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.chartSlotIndex=n,this.socket=r,this.symbol=i,this.filterBySymbol=o,this.store=a,this.currency=a.getState().global.currency,this.showSuccessMesages=!this.socket.isMobileVersion,this.notify=this.createNotify(),this._dealsNotyStreamer=this.createDealNotify(),this.subscribed=[],this.eventManagerTokens=[]}),[{key:"setOptions",value:function(t){var e=t.chartSlotIndex,n=t.filterBySymbol;e!==this.chartSlotIndex&&(this.chartSlotIndex=e,this.notify=this.createNotify(),this._dealsNotyStreamer=this.createDealNotify()),n!==this.filterBySymbol&&(this.filterBySymbol=n)}},{key:"createDealNotify",value:function(){var t=this.store.getState(),e=t.global,n=e.isMobile,r=e.windowLayout,i=Object.values((0,Gu.Y)(t)).reduce((function(t,e){return t[e.symbol]=e.label,t}),{});return new Vu({to:".layout-container .chart-item:eq(".concat(this.chartSlotIndex-1,")"),position:tu,chartSlotIndex:this.chartSlotIndex,isMobile:n,isMultiGraph:"FULL"!==r,symbolToLabel:i})}},{key:"createNotify",value:function(){return new F.A({position:this.socket.isMobileVersion?Hr.XC:Hr.k3,to:".layout-container .chart-item:eq(".concat(this.chartSlotIndex-1,")")})}},{key:"changeListeningSymbol",value:function(t){this.symbol=t}},{key:"addSocketListener",value:function(t,e){var n=this.socket.addEventListener(t,e);this.subscribed.push([t,n])}},{key:"removeAllListeners",value:function(){var t=this;this.subscribed.forEach((function(e){var n=t7(e,2),r=n[0],i=n[1];return t.socket.removeEventListener(r,i)})),this.subscribed=[],this.removeEventManagerListeners()}},{key:"subscribe",value:function(){var t=this;this.addSocketListener("".concat(Cn.Bf).concat(gt.N1),(function(e){return t.onSuccessOpenOrder(e)})),this.addSocketListener("".concat(Cn.my).concat(gt.N1),(function(e){return t.onFailOpenOrder(e)})),this.addSocketListener("".concat(Cn.Bf).concat(gt.Z5),(function(e){return t.onSuccessCloseOrder(e)})),this.addSocketListener("".concat(Cn.Bf).concat(gt.Im),(function(e){return t.onSuccessCopyOrder(e)})),this.addSocketListener("".concat(Cn.Bf).concat(gt.$9),(function(e){return t.onSuccessCancelOrder(e)})),this.addSocketListener("".concat(Cn.my).concat(gt.$9),(function(e){return t.onFailCancelOrder(e)})),this.addSocketListener("".concat(Cn.my).concat(gt.N_),(function(e){return t.onFailRollover(e)})),this.addEventManagerListener(y.zJ,(function(e,n){return t.onFailDrawingCreate(n)})),this.addEventManagerListener(y.e5,(function(e,n){return t.onFailIndicatorCreate(n)})),this.addEventManagerListener(y.cq,(function(e,n){return t.onPriceAlertTriggered(n)})),this.addEventManagerListener(y.lM,(function(e,n){return t.onPriceAlertFail(n)})),this.addEventManagerListener(y.FI,(function(e,n){return t.onTradingDisabled(n)})),this.addEventManagerListener(y.$k,(function(e,n){return t.onOrderAmountLimit(n)}))}},{key:"addEventManagerListener",value:function(t,e){var n=u.A.subscribe(t,e);this.eventManagerTokens.push(n)}},{key:"removeEventManagerListeners",value:function(){this.eventManagerTokens.forEach((function(t){return u.A.unsubscribe(t)})),this.eventManagerTokens=[]}},{key:"onPriceAlertTriggered",value:function(t){this._dealsNotyStreamer.priceAlertTriggered(t)}},{key:"onPriceAlertFail",value:function(t){"MAX_PRICE_ALERTS_PER_ASSET_REACHED"===t.error&&this._dealsNotyStreamer.failOpenAdd((0,$.tr)("price_alert.max_alerts_reached",t.maxCount))}},{key:"onTradingDisabled",value:function(){this._dealsNotyStreamer.tradingDisabled((0,$.tr)("errors.trading_disabled"))}},{key:"onOrderAmountLimit",value:function(t){var e=t.currency,n=t.amount,r=t.limit,i=t.asset;i&&i!==this.symbol||this._dealsNotyStreamer.orderAmountLimit((0,$.tr)("amount_limit.limit_error",(0,hn.ej)(n,e),(0,hn.ej)(r,e)))}},{key:"onSuccessOpenOrder",value:function(t){t.asset===this.symbol&&this.showSuccessMesages&&this._dealsNotyStreamer.successOpenAdd(t)}},{key:"showSuccessCloseOrderMessage",value:function(t,e){this._dealsNotyStreamer.successCloseAdd({asset:t,deals:e})}},{key:"onFailOpenOrder",value:function(t){var e=t.asset,n=t.amount,r=t.error;if(e===this.symbol)switch(r){case Ml:return this._dealsNotyStreamer.failOpenAdd((0,$.tr)("errors.not_enough_funds"));case"CannotGetPrice":return this._dealsNotyStreamer.failOpenAdd((0,$.tr)("errors.cannot_get_price"));case"AccountNotFound":return this._dealsNotyStreamer.failOpenAdd((0,$.tr)("errors.account_not_found"));case"InvalidPayout":return this._dealsNotyStreamer.failOpenAdd((0,$.tr)("errors.invalid_payout"));case"IncorrectExpTime":return this._dealsNotyStreamer.failOpenAdd((0,$.tr)("errors.incorrect_exp_time"));case"UnexpectedError":return this._dealsNotyStreamer.failOpenAdd((0,$.tr)("errors.unexpected_error"));case"IncorrectMinAmount":return this._dealsNotyStreamer.failOpenAdd("".concat((0,$.tr)("errors.min_amount")," ").concat((0,hn.ej)(n,this.currency)));case"IncorrectMaxAmount":return this._dealsNotyStreamer.failOpenAdd("".concat((0,$.tr)("errors.max_amount")," ").concat((0,hn.ej)(n,this.currency)));case"InvalidOptionType":return this._dealsNotyStreamer.failOpenAdd((0,$.tr)("errors.bad_trade_type"));case"MaxDemoTrades":return this._dealsNotyStreamer.failOpenAdd((0,$.tr)("errors.max_trade_amount",n));case"TOO_MANY_OPEN_DEALS":return this._dealsNotyStreamer.failOpenAdd((0,$.tr)("errors.max_trade_amount_real",n));case"TOO_BIG_TRADING_VOLUME":return this._dealsNotyStreamer.failOpenAdd((0,$.tr)("errors.max_trade_amount_volume","$".concat(n)))}}},{key:"onFailDrawingCreate",value:function(t){if(t.assetId){var e=Object.values((0,Gu.Y)(this.store.getState())).find((function(e){return e.id===t.assetId}));if(e&&e.symbol===this.symbol)return"LIMIT_EXCEED"===t.error?this._dealsNotyStreamer.failOpenAdd((0,$.tr)("errors.max_drawings_amount",t.limit)):void 0}}},{key:"onFailIndicatorCreate",value:function(t){if("LIMIT_EXCEED"===t.error)return this._dealsNotyStreamer.failOpenAdd((0,$.tr)("errors.max_indicators_amount",t.limit))}},{key:"onSuccessCloseOrder",value:function(t){var e=this;if(this.showSuccessMesages){var n=t.deals,r=qM()(n,(function(t){return t.asset}));this.filterBySymbol?void 0!==r[this.symbol]&&this.showSuccessCloseOrderMessage(this.symbol,r[this.symbol]):Object.keys(r).forEach((function(t){return e.showSuccessCloseOrderMessage(t,r[t])}))}}},{key:"onSuccessCopyOrder",value:function(t){this.filterBySymbol&&t.asset!==this.symbol||!this.showSuccessMesages||this._dealsNotyStreamer.successCopyOrderAdd(t)}},{key:"onSuccessCancelOrder",value:function(t){var e=t.amount;if(t.asset===this.symbol&&this.showSuccessMesages){var n=this.store.getState(),r=(0,Xf.Oi)(n);this._dealsNotyStreamer.successCancelOrderAdd((0,$.tr)("deals.cancel_order_success_label",(0,hn.ej)(e,r)))}}},{key:"onFailCancelOrder",value:function(t){var e=t.error;if(t.asset===this.symbol){var n="CancelDealHedged"===e?(0,$.tr)("deals.cancel_order_error_hedged_label"):(0,$.tr)("deals.cancel_order_error_label");this._dealsNotyStreamer.failCancelOrderAdd(n)}}},{key:"onFailRollover",value:function(t){var e=t.ticket;if(e){var n=this.store.getState();if(!n.deals.openedIds[e])n.deals.openedById[e].asset===this.symbol&&this._dealsNotyStreamer.failRollover((0,$.tr)("deals.fail_rollover"))}}}])}(),o7=i7,a7=(0,hf.Mz)([function(t){return t.priceAlerts}],(function(t){return function(e){return t.filter((function(t){return t.assetId===e}))}}));function s7(t){return s7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s7(t)}function c7(t){return function(t){if(Array.isArray(t))return d7(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||u7(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l7(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||u7(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u7(t,e){if(t){if("string"==typeof t)return d7(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d7(t,e):void 0}}function d7(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function f7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b7(r.key),r)}}function h7(t,e,n){return e=m7(e),function(t,e){if(e&&("object"==s7(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p7()?Reflect.construct(e,n||[],m7(t).constructor):e.apply(t,n))}function p7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p7=function(){return!!t})()}function m7(t){return m7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m7(t)}function y7(t,e){return y7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y7(t,e)}function v7(t,e,n){return(e=b7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b7(t){var e=function(t,e){if("object"!=s7(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s7(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s7(e)?e:e+""}var g7=Ru.Ay.CHART,w7=g7.BOTTOM_PLOT_ELEMENT_PIXELS_EXPANDED,j7=g7.BOTTOM_PLOT_ELEMENT_PIXELS,x7=g7.BOTTOM_PLOT_ELEMENT_PIXELS_MOBILE,_7=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),v7(n=h7(this,e,[t]),"subscribeToSignals",(function(){var t=n.props,e=t.chartSlotIndex,r=t.isAuthorized,i=t.infoIcons,o=t.isSignalsModalsOpened,a=t.subscribeSignals;1===e&&r&&(i.signal||o)&&a(!0)})),v7(n,"subscribeToMarketWatch",(function(){var t=n.props,e=t.isMarketWatchEnabled,r=t.symbol;e&&n.ws.subscribeMarketForecast(r)})),v7(n,"onNewRegionRequest",(function(t,e,r,i){n.ws.loadRegion({asset:n.props.symbol,index:t,time:e,offset:r,period:i}),n.regionIndexesPending.push(t)})),v7(n,"onZoomChanged",(function(){var t=(0,ru.xr)(n.plot.secondWidth,7),e=n.props;(0,e.changeChartZoom)({chartId:e.chartId,chartType:e.chartType,secondWidth:t})})),v7(n,"onScrollToEndChanged",(function(t){return n.setState({scrollToEndVisible:!!t})})),v7(n,"onVerticalScrollChanged",(function(t){return n.setState({verticalScroll:t})})),v7(n,"onScrollToEndClick",(function(){return n.plot&&n.plot.handleScrollToEndClick()})),v7(n,"onVerticalScrollResetClick",(function(){return n.plot&&n.plot.plotVerticalScroll.reset()})),v7(n,"changeAssetToActive",(function(){var t=n.props,e=t.chartId,r=t.symbol;(0,t.changeAssetToActive)({chartId:e,symbol:r})})),v7(n,"setChartSize",(function(){if(n.chartRef.current&&n.plot){var t=n.chartContainerRef.current,e=t.clientWidth,r=t.clientHeight;n.plot.setParams(e,r);var i=n.props,o=i.chartId;(0,i.changedChartSize)(o,{width:e,height:r})}})),n.state={loadedHistory:!1,scrollToEndVisible:!1,verticalScroll:0,totalBottomMargin:0},n.chartRef=(0,Xm.createRef)(),n.ws=bt.A.instance,n.onFrameToken=null,n.regionIndexesPending=[],n.plot=null,n.isZoomed=!1,n.wsUpdateQuotes=0,n.wsLoadHistory=0,n.wsUpdateHistory=0,n.wsSuccessAuth=0,n.chartContainerRef=(0,Xm.createRef)(),n.dealNotificationPlugin=new o7({chartSlotIndex:n.props.chartSlotIndex,socket:n.ws,symbol:n.props.symbol,filterBySymbol:1!==n.props.visibleChartIds.length,store:Rl.A}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y7(t,e)}(e,t),function(t,e,n){return e&&f7(t.prototype,e),n&&f7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentDidMount",value:function(){var t=this;this.subscribeToSignals(),this.subscribeToMarketWatch(),this.wsUpdateQuotes=this.ws.addEventListener(gt.$S,(function(e){return t.updateQuotes(e)})),this.wsLoadHistory=this.ws.addEventListener(gt.z$,(function(e){return t.onRegionLoad(e)})),this.wsUpdateHistory=this.ws.addEventListener(gt.Rb,(function(e){return t.onHistoryLoad(e)})),this.wsSuccessAuth=this.ws.addEventListener(gt.gG,(function(e){return t.onSuccessAuthHandler(e)})),this.dealNotificationPlugin.subscribe(),this.createPlot(),Yt(),window.addEventListener("resize",this.setChartSize,!0),this.loadingIndicator=document.querySelector(".js-loading-container"),this.handleUIEvents()}},{key:"componentDidUpdate",value:function(t,e){this.changeAsset(t),this.changeGlobalSettings(t),this.changeChartType(t),this.changeChartPeriod(t),this.changeIndicators(t),this.changeDrawings(t),this.changeZoom(t),this.changeExpressDeals(t),this.changeOpenedDeals(t),this.changeGridSnap(t),this.changeVisibleChartsCount(t),this.changeShowArea(t),this.changeSelectedDrawingsIds(t),this.changeTotalBottomMargin(t),this.changePriceAlerts(t),this.changePendings(t),this.changeSelectedPendingPrice(t),this.changeMarketWatchEnabled(t),this.triggerResizeOnPropChange(["windowLayoutBodyClassChanged","isRightWidgetContainerOpened","minimizedTradePanel"],t),this.handleLoadingIndicator(e)}},{key:"componentWillUnmount",value:function(){this.plot&&this.plot.forceDestroy(),window.removeEventListener("resize",this.setChartSize,!0),cancelAnimationFrame(this.onFrameToken),this.ws.removeEventListener(gt.$S,this.wsUpdateQuotes),this.ws.removeEventListener(gt.z$,this.wsLoadHistory),this.ws.removeEventListener(gt.Rb,this.wsUpdateHistory),this.ws.removeEventListener(gt.gG,this.wsSuccessAuth),this.dealNotificationPlugin.removeAllListeners(),u.A.unsubscribe(this.hoverDoubleUpEventToken),u.A.unsubscribe(this.leaveDoubleUpEventToken),u.A.unsubscribe(this.hoverRolloverEventToken),u.A.unsubscribe(this.leaveRolloverEventToken),u.A.unsubscribe(this.clearPendingCurrentPriceToken)}},{key:"handleUIEvents",value:function(){var t=this;this.hoverDoubleUpEventToken=u.A.subscribe(EU,(function(e,n){t.plot&&t.plot.hasOptionWithId(n)&&t.plot.setHoveredDoubleUp(n)})),this.leaveDoubleUpEventToken=u.A.subscribe(IU,(function(){t.plot&&t.plot.setHoveredDoubleUp(null)})),this.hoverRolloverEventToken=u.A.subscribe(NU,(function(e,n){t.plot&&t.plot.hasOptionWithId(n)&&t.plot.setHoveredRollover(n)})),this.leaveRolloverEventToken=u.A.subscribe(DU,(function(){t.plot&&t.plot.setHoveredRollover(null)})),this.clearPendingCurrentPriceToken=u.A.subscribe(y.ex,(function(){t.plot&&t.plot.onChangeSelectedPendingPrice(null)}))}},{key:"handleLoadingIndicator",value:function(t){t.loadedHistory!==this.state.loadedHistory&&this.loadingIndicator&&(this.state.loadedHistory?this.loadingIndicator.classList.add("hide"):this.loadingIndicator.classList.remove("hide"))}},{key:"changeIndicators",value:function(t){t.allIndicators.length===this.props.allIndicators.length&&Hl()(t.allIndicators,this.props.allIndicators)||this.plot.changeIndicators(this.props.allIndicators)}},{key:"changeDrawings",value:function(t){t.drawings.length===this.props.drawings.length&&Hl()(t.drawings,this.props.drawings)||this.plot.changeDrawings(this.props.drawings)}},{key:"changeZoom",value:function(t){if((t.dateRangeMinutes!==this.props.dateRangeMinutes||t.dateRangeMinutesForce!==this.props.dateRangeMinutesForce&&this.props.dateRangeMinutesForce)&&this.plot.setDateRangeMinutes(this.props.dateRangeMinutes),t.zoomStatus!==this.props.zoomStatus){var e=this.props,n=e.zoomStatus,r=e.zoomButtonReady,i=e.chartId;if(n===cf.Wu.CLICKED_PLUS||n===cf.Wu.CLICKED_MINUS){var o=n===cf.Wu.CLICKED_PLUS?1:-1;this.plot.zoom(this.plot.width/2,this.plot.height/2,o*Ru.Ay.CHART.ZOOM_BTN_FACTOR)}else n===cf.Wu.RESTORE&&this.plot.restoreZoom();r({chartId:i})}}},{key:"changeExpressDeals",value:function(t){t.expressDeals.length===this.props.expressDeals.length&&Hl()(t.expressDeals,this.props.expressDeals)||this.plot.setExpressDeals(this.props.expressDeals)}},{key:"changeOpenedDeals",value:function(t){t.openedDeals.length===this.props.openedDeals.length&&Hl()(t.openedDeals,this.props.openedDeals)||this.plot.setOpenedDeals(this.props.openedDeals)}},{key:"triggerResizeOnPropChange",value:function(t,e){var n=this;t.some((function(t){return e[t]!==n.props[t]}))&&Yt()}},{key:"changeAsset",value:function(t){t.symbol!==this.props.symbol&&(this.dealNotificationPlugin.changeListeningSymbol(this.props.symbol),this.setState({loadedHistory:!1}),this.clearRegionIndexesPending(),this.plot.clear(),this.plot.destroyOptions(),this.plot.setOpenedDeals(this.props.openedDeals),this.plot.setDigit(this.props.digits),this.plot.setAssetId(this.props.id),this.plot.setExpressDeals(this.props.expressDeals))}},{key:"changeGlobalSettings",value:function(t){t.theme!==this.props.theme&&this.plot.setTheme(this.props.theme)}},{key:"changeChartType",value:function(t){var e=this.props.chartType;t.chartType!==e&&(this.clearRegionIndexesPending(),this.plot&&this.plot.setPlotType(e),this.zoomPlot())}},{key:"changeGridSnap",value:function(t){t.enabledGridSnap!==this.props.enabledGridSnap&&this.plot.onGridSnapChange()}},{key:"changeVisibleChartsCount",value:function(t){t.visibleChartIds.length!==this.props.visibleChartIds.length&&this.dealNotificationPlugin.setOptions({chartSlotIndex:this.props.chartSlotIndex,filterBySymbol:1!==this.props.visibleChartIds.length})}},{key:"changeShowArea",value:function(t){t.showArea!==this.props.showArea&&this.plot.onShowAreaChange(this.props.showArea)}},{key:"changeSelectedDrawingsIds",value:function(t){t.selectedDrawingsIds.length===this.props.selectedDrawingsIds.length&&Hl()(t.selectedDrawingsIds,this.props.selectedDrawingsIds)||this.plot.onChangeSelectedDrawingIds(this.props.selectedDrawingsIds)}},{key:"changeTotalBottomMargin",value:function(){var t=this.getTotalBottomMargin();t!==this.state.totalBottomMargin&&(this.setState({totalBottomMargin:t}),this.props.onTotalBottomMarginChange(t))}},{key:"changePriceAlerts",value:function(t){t.priceAlerts.length===this.props.priceAlerts.length&&Hl()(t.priceAlerts,this.props.priceAlerts)||this.plot.onChangePriceAlerts(this.props.priceAlerts)}},{key:"changePendings",value:function(t){t.pendingsByPrice.length===this.props.pendingsByPrice.length&&Hl()(t.pendingsByPrice,this.props.pendingsByPrice)||this.plot.onChangePendingsByPrice(this.props.pendingsByPrice)}},{key:"changeSelectedPendingPrice",value:function(t){t.selectedPendingPrice!==this.props.selectedPendingPrice&&this.plot.onChangeSelectedPendingPrice(this.props.selectedPendingPrice)}},{key:"changeMarketWatchEnabled",value:function(t){if(t.isMarketWatchEnabled!==this.props.isMarketWatchEnabled){var e=document.body.classList;this.props.isMarketWatchEnabled?e.contains("is-market-watch")||(e.add("is-market-watch"),Yt()):e.contains("is-market-watch")&&(e.remove("is-market-watch"),Yt())}}},{key:"changeChartPeriod",value:function(t){if(t.chartPeriod!==this.props.chartPeriod||t.chartType!==this.props.chartType){this.clearRegionIndexesPending(),this.plot.clear(),this.setState({loadedHistory:!1});var e=this.props,n=e.chartPeriod,r=e.symbol;this.ws.emitChangeSymbol({asset:r,chartPeriod:n}),this.plot.setPlotPeriod(this.props.chartPeriod)}}},{key:"updateQuotes",value:function(t){var e=this;if(!this.state.loadedHistory)return null;var n=t.filter((function(t){return t.asset===e.props.symbol&&e.isGoodPointValue(t.price)})).map((function(t){var e=t.time;return{value:t.price,time:e}}));n.length>0&&this.plot.addPoints(n)}},{key:"zoomPlot",value:function(){if(0!==this.plot.pointsManager.points.length){if(this.props.isMobile&&this.plot.width&&this.plot.height)this.plot.zoomToDefault();else{var t=this.props,e=t.chartType,n=t.zoom;this.plot.zoomToChartEnd(n[e])}this.isZoomed=!0}}},{key:"createPlot",value:function(){this.plot=new W8(this.props.chartId,Rl.A),this.plot.setDigit(this.props.digits),this.plot.setAssetId(this.props.id),this.plot.setPlotType(this.props.chartType),this.plot.setPlotPeriod(this.props.chartPeriod),this.plot.setOpenedDeals(this.props.openedDeals),this.plot.setExpressDeals(this.props.expressDeals),this.isZoomed||this.zoomPlot(),this.setChartSize(),this.draw(),this.plot.addPlotEventListener(rh.b1.NEW_REGION_REQUEST,this.onNewRegionRequest),this.plot.addPlotEventListener(rh.b1.ZOOM_CHANGED,this.onZoomChanged),this.plot.addPlotEventListener(rh.b1.SCROLL_TO_END_CHANGED,this.onScrollToEndChanged),this.plot.addPlotEventListener(rh.b1.VERTICAL_SCROLL_CHANGED,this.onVerticalScrollChanged)}},{key:"draw",value:function(){var t=this;this.plot&&this.plot.render(Date.now()/1e3),this.onFrameToken=requestAnimationFrame((function(){t.draw(),1!==t.props.visibleChartIds.length&&t.props.chartId!==t.props.visibleChartIds[0]||t.ws.setLastRequestAnimationFrameTime()}))}},{key:"convertUpdateHistory",value:function(t){var e=t.period,n=t.history,r=t.candles,i=n,o=[];if(e>=60&&r.length>0){r.forEach((function(t){var n=l7(t,5),r=n[0],i=n[1],a=n[2],s=n[3],c=n[4];o.push([r,i]),o.push([r+1,s]),o.push([r+2,c]),o.push([r+e-1,a])}));var a=Math.max.apply(Math,c7(i.map((function(t){return l7(t,1)[0]})))),s=o.filter((function(t){return t[0]<a&&-1===i.findIndex((function(e){return e[0]===t[0]}))}));i=i.concat(s)}return i.map((function(t){var e=l7(t,2),n=e[0],r=e[1];return{value:parseFloat(r),time:parseFloat(n)}})).sort((function(t,e){return t.time-e.time}))}},{key:"onSuccessAuthHandler",value:function(){this.setState({loadedHistory:!1}),this.subscribeToSignals(),this.subscribeToMarketWatch()}},{key:"onHistoryLoad",value:function(t){var e=t.asset,n=t.period;if(e!==this.props.symbol||n!==rh.VJ[this.props.chartPeriod]||this.state.loadedHistory)return!1;this.setState({loadedHistory:!0});var r=this.convertUpdateHistory(t);this.clearRegionIndexesPending(),this.plot.clear(),this.plot.refresh(),this.plot.addPoints(r),this.plot.callPutButtonsManager.refresh(),this.isZoomed=!1,this.plot.changeDrawings(this.props.drawings),this.plot.changeIndicators(this.props.allIndicators),this.zoomPlot(),this.setChartSize(),this.plot.render(Date.now()/1e3)}},{key:"checkPendingRegion",value:function(t){return this.regionIndexesPending.some((function(e){return e===t}))}},{key:"removePendingRegion",value:function(t){this.regionIndexesPending=this.regionIndexesPending.filter((function(e){return e!==t}))}},{key:"clearRegionIndexesPending",value:function(){this.regionIndexesPending=[]}},{key:"onRegionLoad",value:function(t){var e=this,n=t.index,r=t.asset,i=t.period,o=t.data;if(r!==this.props.symbol||!this.checkPendingRegion(n))return!1;var a=i||1,s=[];if(a>1)o.forEach((function(t){var n=t.time,r=t.open,i=t.close,o=t.high,c=t.low;e.isGoodPointValue(r)&&s.push({time:n,value:r}),e.isGoodPointValue(o)&&s.push({time:n+1,value:o}),e.isGoodPointValue(c)&&s.push({time:n+2,value:c}),e.isGoodPointValue(i)&&s.push({time:n+a-1,value:i})}));else{if(this.plot.pointsManager.points.length>0&&(o.length>0&&o[0].time===this.plot.pointsManager.points[0].time||0===o.length)){var c=this.plot.regions.find((function(t){return t.index===n})),l=this.plot.pointsManager.points[0],u=l.time,d=l.value;if(c&&this.isGoodPointValue(d))for(var f=parseInt(c.time-c.offset,10),h=parseInt(u,10),p=f;p<=h;p++)s.push({time:p,value:d})}o.forEach((function(t){var n=t.time,r=t.price;e.isGoodPointValue(r)&&s.push({time:n,value:r})}))}s.length?(this.plot.addPoints(s),this.plot.render(Date.now()/1e3)):this.plot.disableLoadRegion(),this.plot.onRegionLoaded(n),this.removePendingRegion(n)}},{key:"isGoodPointValue",value:function(t){return Number.MAX_VALUE!==t&&Number.MIN_VALUE!==t&&Number.isFinite(t)}},{key:"getTotalBottomMargin",value:function(){if(!this.plot)return 0;var t=this.props,e=t.bottomIndicators;return t.isMobile?document.body.classList.contains("landscape")?0:e.length*x7+3:e.reduce((function(t,e){var n=e.expanded;return t+(void 0!==n&&n?w7:j7)}),0)}},{key:"render",value:function(){var t=this.state,e=t.scrollToEndVisible,n=t.verticalScroll,r=this.props,i=r.bottomIndicators,o=r.chartId,a=r.active,s=r.symbol,c=r.showHotkeysInfo,l=r.isOpenDrawingsPanel,u=r.selectedDrawings;return(0,Qm.jsxs)("div",{ref:this.chartRef,className:"chart",children:[(0,Qm.jsx)("span",{className:"separator"}),(0,Qm.jsx)(n6,{handler:this.onScrollToEndClick,visible:e}),(0,Qm.jsxs)("div",{ref:this.chartContainerRef,className:"chart-container",id:o,children:[i.length>0&&(0,Qm.jsx)(J6,{indicators:i}),(0,Qm.jsx)("canvas",{className:"layer plot"}),(0,Qm.jsx)(t6,{plot:this.plot,symbol:s}),this.plot&&l&&u.length>0&&(0,Qm.jsx)(z6,{plotWidth:this.plot.width,plotHeight:this.plot.height,drawings:u})]}),this.plot&&c&&(0,Qm.jsx)(X6,{}),(0,Qm.jsx)("div",{className:"spotlight"}),(0,Qm.jsx)("div",{className:(0,Km.A)("asset-inactive",!a&&"active"),children:(0,Qm.jsxs)("span",{children:[(0,$.tr)("chart_settings.symbol_unavailable")," ",(0,Qm.jsx)("a",{onClick:this.changeAssetToActive,children:(0,$.tr)("chart_settings.click_to_reload")}),"."]})}),n>0&&(0,Qm.jsxs)("div",{onClick:this.onVerticalScrollResetClick,className:"plot-vertical-scroll-btn show",children:[(0,Qm.jsx)("i",{className:"fa fa-angle-down"}),(0,Qm.jsx)("i",{className:"fa fa-angle-up"})]})]})}}])}(Xm.Component),S7=w_((function(t,e,n){var r,i=ym(n),o=(r=n,(0,hf.Mz)([um,fm],(function(t,e){return e.filter((function(e){var n=t[e],i=n.chartId,o=n.type;return i===r&&lm(o)})).map((function(e){return t[e]}))}))),a=vm(n),s=(0,hf.Mz)([zx,Gx,Zx],(function(t,e,n){return t.filter((function(t){return e[t].asset===n})).map((function(t){return e[t]}))})),c=(0,Gu.d8)(n),l=function(t){return(0,hf.Mz)([dm,pm],(function(e,n){return function(r){return n.filter((function(n){return e[n].chartId===t&&r===e[n].assetId})).map((function(t){return e[t]}))}}))}(n);return function(t){var e=t.chartSettings.chartById[n],r=e.zoomStatus,u=e.zoom,d=e.chartType,f=e.chartPeriod,h=e.symbol,p=e.enabledAutoscroll,m=e.minimizedTradePanel,y=e.enabledGridSnap,v=e.dateRangeMinutes,b=e.dateRangeMinutesForce,g=e.showArea,w=t.global,j=w.windowLayout,x=w.isMobile,_=w.windowLayoutBodyClassChanged,S=w.theme,O=w.enabledHotKeys,k=w.hideHotkeysInfo,T=w.enabledTooltipMessage,A=w.isAuthorized,C=w.infoIcons,P=(0,vf.E_)(t)(n),E=P.active,I=P.digits,N=P.id,D=t.chartSettings.visibleChartIds,L=a7(t)(N),M=sp(t)(h),R=ep(t),B=(0,Xf.CN)(t);return{visibleChartIds:D,allIndicators:i(t),bottomIndicators:o(t),drawings:a(t)(N),selectedDrawings:l(t)(N),windowLayout:j,chartId:n,isMobile:x,windowLayoutBodyClassChanged:_,symbol:h,theme:S,active:E,digits:I,id:N,zoomStatus:r,zoom:u,chartType:d,chartPeriod:f,expressDeals:s(t,{symbol:h}),isRightWidgetContainerOpened:e_(t),showHotkeysInfo:!x&&O&&!k&&1===D.length,enabledAutoscroll:p,minimizedTradePanel:m,showTooltip:!x&&T,enabledGridSnap:y,isRightPanel:c(t),dateRangeMinutes:v,dateRangeMinutesForce:b,showArea:g,selectedDrawingsIds:t.drawings.selectedIds,isAuthorized:A,infoIcons:C,isSignalsModalsOpened:t.modals.states[qo.lx.SIGNALS_WIDGET],isOpenDrawingsPanel:t.modals.states[qo.lx.DRAWING_SETTINGS_PANEL]===n,openedDeals:Ah(t)(h),priceAlerts:L,pendingsByPrice:M,selectedPendingPrice:R,isMarketWatchEnabled:B}}}),{changeAssetToActive:function(t){var e=t.chartId,n=t.asset;return{type:cf.bp,payload:{chartId:e,asset:n}}},changeChartZoom:function(t){var e=t.chartId,n=t.chartType,r=t.secondWidth;return{type:cf.OC,payload:{chartId:e,chartType:n,secondWidth:r}}},zoomButtonReady:function(t){var e=t.chartId;return{type:cf.bk,payload:{chartId:e,action:cf.Wu.READY}}},changeTradePanelMinimized:Vh,changedChartSize:function(t,e){return{type:cf.gY,payload:{chartId:t,value:e}}},subscribeSignals:Zf},a_)(_7);function O7(t){return O7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O7(t)}function k7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I7(r.key),r)}}function T7(t,e,n){return e=C7(e),function(t,e){if(e&&("object"==O7(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,A7()?Reflect.construct(e,n||[],C7(t).constructor):e.apply(t,n))}function A7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(A7=function(){return!!t})()}function C7(t){return C7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C7(t)}function P7(t,e){return P7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P7(t,e)}function E7(t,e,n){return(e=I7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I7(t){var e=function(t,e){if("object"!=O7(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=O7(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==O7(e)?e:e+""}var N7=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return E7(t=T7(this,e,[].concat(r)),"onKeyUp",(function(e){var n=CR(e);if(e.shiftKey)switch(e.which||e.keyCode){case 9:return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t.changeAssets(),!1;case 87:n||t.openBet(!0);break;case 83:n||t.openBet(!1);break;case 68:n||t.changeAmount();break;case 65:n||t.changeAmount(!1)}})),E7(t,"changeAmount",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=t.props,r=n.amountType,i=n.balance,o=n.liveBalance,a=n.chartId,s=n.currentDealAmount,c=n.percentAmount,l=n.changeDealAmount,u=n.changePercentAmount,d=n.maxTradeAmount,f=(0,ch.Ew)(i,d),h=(0,ru.Vt)(o,f),p=(0,ru.H3)(o);r===cf.yf.PERCENT?u({chartId:a,amount:e?(0,ru.H1)({amount:c,positive:!0,min:p,max:h}):(0,ru.H1)({amount:c,positive:!1,min:p,max:h})}):l({chartId:a,amount:e?(0,ru.XT)({amount:s,positive:!0,max:f}):(0,ru.XT)({amount:s,positive:!1,max:f})})})),E7(t,"openBet",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?Gp.Jq:Gp.MY,n=t.props,r=n.chartId;(0,n.openDeal)({action:e,chartId:r})})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P7(t,e)}(e,t),function(t,e,n){return e&&k7(t.prototype,e),n&&k7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyUp)}},{key:"changeAssets",value:function(){var t=this.props,e=t.favorites,n=t.currentAsset,r=t.changeSymbol,i=t.chartId,o=e.findIndex((function(t){return t===n}));(-1===o||o+1>=e.length)&&(o=-1),e[o+=1]&&r({symbol:e[o],chartId:i})}},{key:"render",value:function(){return null}}])}(Xm.Component),D7=(0,Lb.Ng)((function(t){var e=t.chartSettings,n=t.favorites,r=t.global,i="",o=0,a="",s=r.balance,c=r.liveBalance,l=cf.yf.CURRENCY,u=1;if(e.chartIds.length){i=e.chartIds.find((function(t){return e.chartById[t].isVisible}));var d=e.chartById[i];d&&(o=r.isDemo?d.demoDealAmount:d.liveDealAmount,a=d.symbol,l=d.amountType,u=d.percentAmount)}return{amountType:l,balance:s,liveBalance:c,percentAmount:u,currentAsset:a,chartId:i,currentDealAmount:o,favorites:n.list,maxTradeAmount:Oh(t)}}),{openDeal:Yp,changeDealAmount:Mh,changePercentAmount:Uh,changeSymbol:Ep})(N7),L7=function(){var t=(0,Lb.d4)((function(t){return t.global.enabledHotKeys})),e=(0,Lb.d4)((function(t){return t.chartSettings.visibleSymbols.length}));return t&&1===e?(0,Qm.jsx)(D7,{}):null},M7=function(t){var e=t.onRequestClose,n=-1!==window.location.href.indexOf("pocket-broker.com");return(0,Qm.jsxs)("div",{className:"po-modal only-for-registered",children:[(0,Qm.jsx)("div",{className:(0,Km.A)("only-for-registered__logo only-for-registered__logo_potrade",n&&"only-for-registered__no-logo"),children:n&&(0,Qm.jsx)(Tx.A,{src:"/themes/cabinet/svg/icons/logo/logo-broker.svg"})}),(0,Qm.jsx)("div",{className:"only-for-registered__desc",children:(0,$.tr)("social_trades.only_for_real")}),(0,Qm.jsx)("div",{className:"only-for-registered__links",children:(0,Qm.jsx)("a",{href:(0,tn.hX)("cabinet"),className:"btn btn-green-light btn-lg",children:(0,$.tr)("social_trades.switch_to_live")})}),(0,Qm.jsx)("div",{className:"only-for-registered__continue",children:(0,Qm.jsx)("a",{onClick:e,children:(0,$.tr)("modals.only-for-register.continue")})})]})},R7=function(t){var e=t.isOpen,n=(0,Lb.wA)(),r=function(){n(cp({modalId:qo.lx.ONLY_REAL_TRADING,value:!1}))};return(0,Qm.jsx)(jx,{isOpen:e,showCloseButton:!1,onRequestClose:r,ariaHideApp:!1,children:(0,Qm.jsx)(M7,{onRequestClose:r})})};function B7(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return H7(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H7(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H7(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var $7=(0,Qm.jsx)(Rb.k,{className:"ai-trading-btn__badge",src:"/themes/cabinet/svg/icons/ai-trading/badge.svg"}),F7=function(t){var e=t.onRequestClose,n=t.chartId,r=t.isInfo,i=(0,Lb.wA)(),o=(0,Lb.d4)((function(t){return t.global.theme})),a=(0,Lb.d4)(Xf.X4),s=B7((0,Xm.useState)(!1),2),c=s[0],l=s[1];return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"title",children:(0,$.tr)("ai_trading.modal.title")}),(0,Qm.jsx)("div",{className:"text",children:(0,$.tr)("ai_trading.modal.text1")}),(0,Qm.jsx)("div",{className:"text",children:(0,$.tr)("ai_trading.modal.text2")}),(0,Qm.jsx)("div",{className:"text",children:(0,$.tr)("ai_trading.modal.text3")}),(0,Qm.jsxs)("div",{className:"img-wrap",children:[(0,Qm.jsxs)("a",{className:"ai-trading-btn",children:[(0,Qm.jsx)("div",{className:"ai-trading-btn__icon",children:$7}),(0,Qm.jsx)("div",{className:"ai-trading-btn__text",children:"Trading"})]}),"dark-blue"===o?(0,Qm.jsx)("img",{src:"/themes/cabinet/images/modal/ai-trading/img-dark.jpg",srcSet:"/themes/cabinet/images/modal/ai-trading/img-dark.jpg 1x, /themes/cabinet/images/modal/ai-trading/img-dark@2x.jpg 2x",alt:""}):(0,Qm.jsx)("img",{src:"/themes/cabinet/images/modal/ai-trading/img-light.jpg",srcSet:"/themes/cabinet/images/modal/ai-trading/img-light.jpg 1x, /themes/cabinet/images/modal/ai-trading/img-light@2x.jpg 2x",alt:""})]}),!a&&(0,Qm.jsx)("div",{className:"message notification-message message-info",children:(0,$.tr)("ai_trading.modal.message")}),!r&&(0,Qm.jsx)("div",{className:"toggle",children:(0,Qm.jsxs)("div",{className:"checkbox1",children:[(0,Qm.jsx)("input",{type:"checkbox",id:"toggle-aggree",checked:c,onChange:function(){return l((function(t){return!t}))}}),(0,Qm.jsx)("label",{htmlFor:"toggle-aggree",children:(0,$.tr)("ai_trading.modal.toggle")})]})}),(0,Qm.jsxs)("div",{className:(0,Km.A)("btn-wrap",r&&"btn-wrap--one"),children:[r&&(0,Qm.jsx)(Qm.Fragment,{children:(0,Qm.jsx)("a",{className:"btn btn-green-light",onClick:e,children:(0,$.tr)("ai_trading.modal.btn_cancel2")})}),!r&&(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("a",{className:"btn btn-default",onClick:e,children:(0,$.tr)("ai_trading.modal.btn_cancel")}),(0,Qm.jsx)("a",{className:"btn btn-green-light",onClick:function(){var t;i((t={agree:c,chartId:n},function(e){t.agree&&e(Up([{field:"ai_trading_mode",value:zp.F.ENABLED}])),e(qp({chartId:t.chartId}))})),e()},children:(0,$.tr)("ai_trading.modal.btn_ok")})]})]})]})},W7=Rg((function(t){var e=t.isOpen,n=t.chartId,r=t.isInfo,i=void 0!==r&&r,o=(0,Lb.wA)(),a=function(){i?(o(Up([{field:"show_ai_trading_info_modal",value:0}])),_a.closeCurrentModal()):o(cp({modalId:qo.lx.AI_MODAL,value:!1}))};return(0,Qm.jsx)(kx,{isOpen:e,onRequestClose:a,className:"ai-trading-modal",children:(0,Qm.jsx)(F7,{onRequestClose:a,chartId:n,isInfo:i})})}));function U7(t){var e=t.isOpen;return(0,Qm.jsx)(W7,{isInfo:!0,isOpen:e})}var V7=function(t){return t.modals.states},G7=(0,hf.Mz)([V7,Xf.l9],(function(t,e){return t[qo.lx.AI_TRADING_INFO]&&e})),z7=(0,hf.Mz)([V7,Xf.Uk],(function(t,e){return t[qo.lx.MARKET_WATCH]&&e})),Y7=(0,hf.Mz)([V7],(function(t){return t[qo.lx.MULTI_CURRENCY_HOW_TO]})),X7=(0,hf.Mz)([V7],(function(t){return t[qo.lx.WELCOME_BONUS]})),q7=(0,hf.Mz)([Xf.YY,Xf.sJ,Xf.AQ,Xf.$N,Xf.xn],(function(t,e,n,r,i){return t&&!e&&!n&&!i}));function K7(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Z7(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z7(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z7(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var J7=function(t){var e=t.onRequestClose,n=(0,Lb.wA)(),r=K7((0,Xm.useState)(!1),2),i=r[0],o=r[1],a=(0,Lb.d4)(Xf.CN),s=(0,Lb.d4)((function(t){return t.global.theme})),c=(0,Lb.d4)(Gu.Ny),l="/themes/cabinet/images/modal/market-watch/img-".concat(s,".jpg"),u="/themes/cabinet/images/modal/market-watch/img-".concat(s,"@2x.jpg");c&&(l="/themes/cabinet/images/modal/market-watch/img-".concat(s,"-mobile.jpg"),u="/themes/cabinet/images/modal/market-watch/img-".concat(s,"-mobile@2x.jpg"));var d=function(t){i&&n(Up([{field:"is_show_market_watch_modal",value:0}])),e(t)};return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)("div",{className:"market-watch-modal__title title",children:(0,$.tr)("market-watch-modal.title")}),(0,Qm.jsx)("div",{className:"market-watch-modal__text",children:(0,$.tr)("market-watch-modal.text1")}),(0,Qm.jsx)("div",{className:"market-watch-modal__img-wrap",children:(0,Qm.jsx)("img",{className:"market-watch-modal__img",src:l,srcSet:"".concat(l," 1x, ").concat(u," 2x")})}),(0,Qm.jsx)("div",{className:"market-watch-modal__text",children:(0,$.tr)("market-watch-modal.text2")}),(0,Qm.jsxs)("div",{className:"checkbox1",children:[(0,Qm.jsx)("input",{type:"checkbox",id:"toggle-aggree",checked:i,onChange:function(){return o((function(t){return!t}))}}),(0,Qm.jsx)("label",{htmlFor:"toggle-aggree",children:(0,$.tr)("market-watch-modal.toggle")})]}),(0,Qm.jsxs)("div",{className:"market-watch-modal__actions",children:[(0,Qm.jsx)("a",{className:"btn btn-default",onClick:function(t){n(Vp(!a)),d(t)},children:(0,$.tr)("market-watch-modal.btn_hide")}),(0,Qm.jsx)("a",{className:"btn btn-green",onClick:d,children:(0,$.tr)("market-watch-modal.btn_continue")})]})]})},Q7=function(t){var e=t.isOpen,n=(0,Lb.wA)(),r=function(t){t.stopPropagation(),n(cp({modalId:qo.lx.MARKET_WATCH,value:!1}))};return(0,Qm.jsx)(kx,{isOpen:e,onRequestClose:r,className:"market-watch-modal",children:(0,Qm.jsx)(J7,{isOpen:e,onRequestClose:r})})},t9=n(43424);function e9(t){return e9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e9(t)}function n9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function r9(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?n9(Object(n),!0).forEach((function(e){i9(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n9(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i9(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=e9(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=e9(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==e9(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o9(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return a9(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a9(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a9(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var s9=function(t){var e=t.onRequestClose,n=o9((0,Xm.useState)(1),2),r=n[0],i=n[1],o=(0,Lb.d4)((function(t){return t.global.theme})),a="/themes/cabinet/images/modal/multi-currency-how-to/slider/1-".concat(o,".jpg"),s="/themes/cabinet/images/modal/multi-currency-how-to/slider/1-".concat(o,"@2x.jpg"),c="/themes/cabinet/images/modal/multi-currency-how-to/slider/2-".concat(o,".jpg"),l="/themes/cabinet/images/modal/multi-currency-how-to/slider/2-".concat(o,"@2x.jpg"),u=(0,t9.uh)({onSwipedLeft:function(){return i((function(t){return 1===t?2:1}))},onSwipedRight:function(){return i((function(t){return 1===t?2:1}))},swipeDuration:300,preventScrollOnSwipe:!0,trackMouse:!0});return(0,Qm.jsxs)("div",{className:"po-modal multi-currency-how-to",children:[(0,Qm.jsxs)("div",r9(r9({className:"multi-currency-how-to__slider steps-wrapper slider"},u),{},{children:[(0,Qm.jsxs)("div",{className:"slider__wrapper",children:[1===r&&(0,Qm.jsx)("div",{className:"slider__item",children:(0,Qm.jsx)("img",{className:"slider__img",src:a,srcSet:s,alt:""})}),2===r&&(0,Qm.jsx)("div",{className:"slider__item",children:(0,Qm.jsx)("img",{className:"slider__img",src:c,srcSet:l,alt:""})})]}),(0,Qm.jsxs)("div",{className:"multi-currency-how-to__bullets bullets",children:[(0,Qm.jsx)("button",{className:(0,Km.A)("bullets__item",1===r&&"bullets__item--active"),onClick:function(){return i(1)}}),(0,Qm.jsx)("button",{className:(0,Km.A)("bullets__item",2===r&&"bullets__item--active"),onClick:function(){return i(2)}})]})]})),(0,Qm.jsxs)("div",{className:"multi-currency-how-to__info",children:[(0,Qm.jsx)("div",{className:"multi-currency-how-to__label",children:(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)(Tx.A,{className:"multi-currency-how-to__label-icon",src:"/themes/cabinet/svg/icons/modals/multi-currency-how-to/light.svg"}),(0,$.tr)("modals.mc-how-to.badge")]})}),(0,Qm.jsx)("div",{className:"multi-currency-how-to__title",children:(0,$.tr)("modals.mc-how-to.title")}),(0,Qm.jsx)("div",{className:"multi-currency-how-to__desc",children:(0,$.tr)("modals.mc-how-to.desc")}),(0,Qm.jsx)("div",{className:"multi-currency-how-to__btn",children:(0,Qm.jsx)("a",{className:"btn btn-green",onClick:e,children:(0,$.tr)("modals.mc-how-to.ok")})})]})]})},c9=function(t){var e=t.isOpen,n=function(){_a.closeCurrentModal(),(0,B.A)("hide_multi_currency_how_to_modal",1)};return(0,Qm.jsx)(jx,{isOpen:e,showCloseButton:!1,onRequestClose:n,ariaHideApp:!1,children:(0,Qm.jsx)(s9,{onRequestClose:n})})};function l9(t){return l9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l9(t)}var u9=["src","setImages"];function d9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f9(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d9(Object(n),!0).forEach((function(e){h9(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d9(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h9(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=l9(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=l9(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l9(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p9(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return m9(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m9(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m9(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function y9(t){return Math.min(50+5*t,100)}var v9="wb_count_open_modal",b9="wb_show_bonuses",g9="wb_last_open_modal_time";function w9(t){return t<75?50:t<100?75:100}var j9=function(t){var e=t.name;return(0,Qm.jsx)(Tx.A,{className:"bonus__steps-icon",src:{complete:"/themes/cabinet/images/modal/welcome-bonus-modal/complete-icon.svg","in-progress":"/themes/cabinet/images/modal/welcome-bonus-modal/in-progress-icon.svg"}[e]})},x9=function(t){var e=t.src,n=t.setImages,r=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,u9),i=n.map((function(t){var e=t.src,n=t.size;return"".concat(e," ").concat(n,"x")})).join(", "),o=r.alt||"";return(0,Qm.jsx)("img",f9(f9({},r),{},{alt:o,src:e,srcSet:i}))},_9=function(t){var e=t.onRequestClose,n={};return(0,Lb.d4)(Xf.$N)?n.onClick=e:n.href=(0,tn.hX)("cabinet/demo-quick-high-low/"),(0,Qm.jsx)("a",f9(f9({className:"modal__link"},n),{},{children:(0,$.tr)("welcome_bonus.modal.btnLinkText")}))},S9=function(t){var e=t.bonus,n=t.link,r=t.onRequestClose,i=p9((0,Xm.useState)(!1),2),o=i[0],a=i[1],s=e>=100,c=Math.min((e-50)/25*100,100),l=e>75?(e-75)/25*100:0;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsxs)("div",{className:"welcome-bonus-modal__img",children:[(0,Qm.jsx)(x9,{className:"welcome-bonus-modal__box",src:"/images/welcome-bonus/box.png",setImages:[{src:"/images/welcome-bonus/box.png",size:1},{src:"/images/welcome-bonus/box@2x.png",size:2}]}),(0,Qm.jsx)(x9,{className:"welcome-bonus-modal__bonus",src:"/images/welcome-bonus/bonus-".concat(w9(e),".png"),setImages:[{src:"/images/welcome-bonus/bonus-".concat(w9(e),".png"),size:1},{src:"/images/welcome-bonus/bonus-".concat(w9(e),"@2x.png"),size:2}]})]}),(0,Qm.jsxs)("div",{className:"welcome-bonus-modal__header",children:[(0,Qm.jsx)("div",{className:"welcome-bonus-modal__title",children:s?(0,$.tr)("welcome_bonus.modal.titleCongratulations"):(0,$.tr)("welcome_bonus.modal.title")}),(0,Qm.jsx)("div",{className:"welcome-bonus-modal__text",children:s?(0,$.tr)("welcome_bonus.modal.textCongratulations"):(0,$.tr)("welcome_bonus.modal.text")})]}),!s&&(0,Qm.jsxs)("div",{className:"bonus",children:[(0,Qm.jsx)("div",{className:"bonus__title",children:(0,$.tr)("welcome_bonus.modal.bonusTitle")}),(0,Qm.jsxs)("div",{className:"bonus__content",children:[(0,Qm.jsxs)("div",{className:"bonus__steps",children:[(0,Qm.jsx)("div",{className:(0,Km.A)("bonus__steps-item","bonus__steps-item--active"),children:(0,Qm.jsx)(j9,{name:"complete"})}),(0,Qm.jsx)("div",{className:"bonus__steps-item bonus__steps-item--progress",children:(0,Qm.jsx)("div",{className:"bonus__steps-item-progress",style:{width:"".concat(c,"%")}})}),(0,Qm.jsx)("div",{className:(0,Km.A)("bonus__steps-item",e>=75&&e<=100&&"bonus__steps-item--active"),children:(0,Qm.jsx)(j9,{name:e>=75&&e<=100?"complete":"in-progress"})}),(0,Qm.jsx)("div",{className:"bonus__steps-item bonus__steps-item--progress",children:(0,Qm.jsx)("div",{className:"bonus__steps-item-progress",style:{width:"".concat(l,"%")}})}),(0,Qm.jsx)("div",{className:(0,Km.A)("bonus__steps-item",e>=100&&"bonus__steps-item--active"),children:(0,Qm.jsx)(j9,{name:e>=100?"complete":"in-progress"})})]}),(0,Qm.jsxs)("div",{className:"bonus__counters",children:[(0,Qm.jsx)("div",{className:"bonus__counters-item bonus__counters-item--active",children:"50%"}),(0,Qm.jsx)("div",{className:(0,Km.A)("bonus__counters-item",e>=75&&e<=100&&"bonus__counters-item--active"),children:"75%"}),(0,Qm.jsx)("div",{className:(0,Km.A)("bonus__counters-item",e>=100&&"bonus__counters-item--active"),children:"100%"})]}),(0,Qm.jsxs)("div",{className:(0,Km.A)("bonus__how",o&&"bonus__how--opened"),children:[(0,Qm.jsxs)("div",{className:"bonus__how-title",onClick:function(){return a(!o)},children:[(0,Qm.jsx)(Tx.A,{className:"bonus__how-icon",src:"/themes/cabinet/images/modal/welcome-bonus-modal/help-icon.svg"}),(0,$.tr)("welcome_bonus.modal.howTitle")]}),(0,Qm.jsxs)("div",{className:"bonus__how-text",children:[(0,$.tr)("welcome_bonus.modal.howText1"),(0,Qm.jsx)("br",{}),(0,Qm.jsx)("br",{}),(0,$.tr)("welcome_bonus.modal.howText2"),(0,Qm.jsx)("br",{}),(0,Qm.jsx)("br",{}),(0,$.tr)("welcome_bonus.modal.howText3")]})]})]})]}),(0,Qm.jsx)("div",{className:"btn-wrap",children:(0,Qm.jsx)("a",{className:"btn btn-green",href:n,children:(0,$.tr)("welcome_bonus.modal.btnText",{bonus:"".concat(w9(e),"%")})})}),!s&&(0,Qm.jsx)(_9,{onRequestClose:r})]})},O9=function(){var t=(0,Lb.wA)(),e=(0,Lb.d4)((function(t){return t.global.demoSuccessTradesCount})),n=(0,Lb.d4)(Xf.$N),r=(0,Lb.d4)(X7),i=p9((0,Xm.useState)(!1),2),o=i[0],a=i[1],s=p9((0,Xm.useState)((0,tn.hX)("cabinet/deposit-step-1")),2),c=s[0],l=s[1],d=p9((0,Xm.useState)(!1),2),f=d[0],h=d[1],p=y9(e),m=function(t){if(!(t<100)&&!(Pe.A.local.findInt(v9,0)>3)){var e=Pe.A.local.get(g9),n=Date.now();(!e||n-e>=864e5)&&_a.addModal(qo.lx.WELCOME_BONUS,!0)}};(0,Xm.useEffect)((function(){if(!(e<1)&&o&&n){var t=w9(p);if(t>Pe.A.local.findInt(b9,0))return _a.addModal(qo.lx.WELCOME_BONUS,!0),void u.A.publish(y.U2,{bonus:p});m(t)}}),[e,o]),(0,Xm.useEffect)((function(){var t=u.A.subscribe("MODALS_MANAGER.CLOSE.".concat(qo.lx.WELCOME_BONUS),(function(){var t=w9(y9(e));Pe.A.local.set(b9,t),t>=100&&(Pe.A.local.set(g9,Date.now()),Pe.A.local.increment(v9))}));return function(){u.A.unsubscribe(t)}}),[e]),(0,Xm.useEffect)((function(){if(n){m(w9(p));var e=bt.A.instance.addEventListener("".concat(Cn.Bf).concat(gt.Z5),(function(e){var n,r=e.deals.reduce((function(t,e){return(e.profit>0?1:0)+t}),0);r>0&&(t((n=r,{type:Rp.kN,payload:n})),a(!0))}));return function(){bt.A.instance.removeEventListener("".concat(Cn.Bf).concat(gt.Z5),e)}}}),[]),(0,Xm.useEffect)((function(){r?fetch((0,tn.hX)("cabinet/create-welcome-bonus"),{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}).then((function(t){return t.json()})).then((function(t){t&&"string"==typeof t.link&&(l(t.link),h(!0))})).catch((function(){})):h(!1)}),[r]);var v=function(t){"a"===t.target.tagName.toLowerCase()&&_a.closeCurrentModal()};return(0,Qm.jsx)(kx,{className:"welcome-bonus-modal",isOpen:f,onRequestClose:v,children:(0,Qm.jsx)(S9,{onRequestClose:v,bonus:p,link:c})})};function k9(){var t=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.ONLY_REAL_TRADING]})),e=(0,Lb.d4)((function(t){return t.modals.states[qo.lx.AI_MODAL]})),n=(0,Lb.d4)(G7),r=(0,Lb.d4)(z7),i=(0,Lb.d4)(Y7),o=(0,Lb.d4)(q7),a=!1!==e;return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)(R7,{isOpen:t}),(0,Qm.jsx)(W7,{isOpen:a,chartId:e}),(0,Qm.jsx)(U7,{isOpen:n}),(0,Qm.jsx)(Q7,{isOpen:r}),(0,Qm.jsx)(c9,{isOpen:i}),o&&(0,Qm.jsx)(O9,{})]})}function T9(){return(0,Qm.jsxs)(Qm.Fragment,{children:[(0,Qm.jsx)(lz,{ChartComponent:S7}),(0,Qm.jsx)(L7,{}),(0,Qm.jsx)(k9,{})]})}n(97065)(i()),document.addEventListener("DOMContentLoaded",(function(){Ll(),Db.init()}));var A9=function(t){var e=t.children;return(0,Qm.jsx)(Xm.StrictMode,{children:(0,Qm.jsx)(XA,{children:(0,Qm.jsx)(Lb.Kq,{store:Rl.A,children:e})})})},C9=document.getElementById("bar-chart");C9&&(0,cC.H)(C9).render((0,Qm.jsx)(A9,{children:(0,Qm.jsx)(T9,{})}));var P9=document.getElementById("js-assets-favorites-slider");P9&&(0,cC.H)(P9).render((0,Qm.jsx)(A9,{children:(0,Qm.jsx)(Sg,{})}));var E9=document.getElementById("js-window-layout-switcher");E9&&(0,cC.H)(E9).render((0,Qm.jsx)(A9,{children:(0,Qm.jsx)(aC,{})}));var I9=document.getElementById("js-fav-panel-switcher");I9&&(0,cC.H)(I9).render((0,Qm.jsx)(A9,{children:(0,Qm.jsx)(sC,{})}));var N9=document.querySelector(".js-left-sidebar");N9&&(0,cC.H)(N9).render((0,Qm.jsx)(A9,{children:(0,Qm.jsx)(UA,{})}));var D9=document.querySelector(".js-mobile-left-sidebar");D9&&(0,cC.H)(D9).render((0,Qm.jsx)(A9,{children:(0,Qm.jsx)(lC,{})}));var L9=document.querySelector(".js-right-sidebar");L9&&(0,cC.H)(L9).render((0,Qm.jsx)(A9,{children:(0,Qm.jsx)(pA,{})}))},71025:function(t,e,n){"use strict";n.d(e,{EW:function(){return m},W:function(){return p},jJ:function(){return l},ol:function(){return c}});var r=n(75054);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={BEGINNER_1:0,BEGINNER_2:1,MASTER:2,GURU:3,VIP:4,VIP_ELITE:5},l=[{name:c.BEGINNER_1,payout:0,maxOpenAmount:1e3,depositsSum:0},{name:c.BEGINNER_2,payout:0,maxOpenAmount:1e3,depositsSum:100},{name:c.MASTER,payout:2,maxOpenAmount:2e3,depositsSum:1e3},{name:c.GURU,payout:4,maxOpenAmount:3e3,depositsSum:1e4},{name:c.VIP,payout:6,maxOpenAmount:5e3,depositsSum:9999999},{name:c.VIP_ELITE,payout:8,maxOpenAmount:2e4,depositsSum:9999999}],u=(0,r.A)("servers-list",[]),d={};u.forEach((function(t){d[t.server]=a({},t)}));var f=(0,r.A)("try-demo-servers-list",[]),h={};f.forEach((function(t){h[t.server]=a({},t)}));var p={ACCELERATOR_OSCILLATOR:"ac",ADX:"adx",ALLIGATOR:"all",AROON:"aro",ATR:"atr",AWESOME_OSCILLATOR:"ao",BEARS_POWER:"bep",BOLLINGER_BANDS:"bb",BOLLINGER_BANDS_WIDTH:"bbw",BULLS_POWER:"bup",CCI:"cci",DEMARKER:"dem",DONCHIAN_CHANNEL:"dc",ENVELOPE:"env",FRACTAL:"fra",FRACTAL_CHAOS_BANDS:"fcb",ICHIMOKU_CLOUD:"icc",KELTNER_CHANNEL:"kch",MACD:"macd",MOMENTUM:"mom",MOVING_AVERAGE:"ma",OSMA:"osma",PARABOLIC_SAR:"sar",RSI:"rsi",RATE_OF_CHANGE:"roc",STOCHASTIC_OSCILLATOR:"so",SCHAFF_TREND_CYCLE:"stc",SUPERTREND:"sut",VORTEX:"vor",WILLIAMS_R:"will",ZIG_ZAG:"zz"},m={MIN_TIMEFRAME:5,DEFAULT_TIMEFRAME:60};e.Ay={PURCHASE_TIME:30,EXPIRATION_STEP:60,CONNECT_TIMEOUT:1e4,EXPRESS:{MIN_DEALS:3},API_LIST:d,TRY_DEMO_API_LIST:h,STORAGE:{PREFIX:"OD",COOKIES:{OPTIONS:{path:"/",expires:new Date((new Date).setDate((new Date).getDate()+30)),domain:(0,r.A)("cookie-domain"),sameSite:"Lax"}}},MAX_PAYOUT:92,CANCEL_PERCENT_LIST:[{timeFrame:60,value:.5},{timeFrame:120,value:1},{timeFrame:180,value:1},{timeFrame:300,value:1},{timeFrame:600,value:3},{timeFrame:900,value:3},{timeFrame:1800,value:3},{timeFrame:2700,value:3},{timeFrame:3600,value:3},{timeFrame:7200,value:3},{timeFrame:10800,value:3},{timeFrame:14400,value:3}],CANCEL_PERCENT_DIFF:40,CANCEL_HIDE_BTN_TIME:15,CANCEL_HIDE_BTN_TIME_FAST:60,PAYOUT_REDUCE:10,TOURNAMENT_CURRENCY_CODE:"TOURNAMENT",MT4_DEPOSIT_URL:"/cabinet/deposit-step-1/?mt4=dpst",MT5_DEPOSIT_URL:"/cabinet/deposit-step-1/?mt5=dpst",MT5_CFD_DEPOSIT_URL:"/cabinet/deposit-step-1/?mt5cfd=dpst",CHART:{BET_ELEMENT_CLOSED_TIMEOUT:5,CROSSCHAIR_BOTTOM_BG_SIDE_PADDING:6,SORT_OFFSET:15,MAX_SHIFT_VALUE:-3e3,INT_MAX:Number.MAX_SAFE_INTEGER,INT_MIN:Number.MIN_SAFE_INTEGER,FLT_MAX:Number.MAX_VALUE,FLT_MIN:Number.MIN_VALUE,DIRECTION_UP_ICON_SRC:"/themes/cabinet/images/up.svg",DIRECTION_DOWN_ICON_SRC:"/themes/cabinet/images/down.svg",EMPTY_1_PX:"/themes/cabinet/images/empty-white-1px.png",DEFAULT_AVATAR_SRC:"/images/cabinet/no_avatar_50x50.jpg",TEXT_STYLE_BET_LABEL_NORMAL:{fontWeight:400,fontFamily:'"Noto Sans", sans-serif',fontSize:12},TEXT_STYLE_BET_BOLD:{fontWeight:600,fontFamily:'"Noto Sans", sans-serif',fontSize:13},TEXT_STYLE_CANDLE_VALUES:{fill:"#7e91a7",fontFamily:'"Noto Sans", sans-serif',fontSize:12},TEXT_STYLE_CURRENT_PROFIT:{fill:"#fff",fontFamily:'"Noto Sans", sans-serif',fontSize:12},TEXT_STYLE_CURSOR_TIME:{fill:"#fff",fontFamily:'"Noto Sans", sans-serif',fontSize:11},TEXT_STYLE_GRID:{fill:"#888A95",fontFamily:'"Noto Sans", sans-serif',fontSize:12},TEXT_STYLE_EXPIRATION:{align:"right",fontFamily:'"Noto Sans", sans-serif',fontSize:12},TEXT_STYLE_BET:{fontFamily:'"Noto Sans", sans-serif',fontSize:12},TEXT_STYLE_SOCIAL_BET_LABEL:{fontFamily:'"Noto Sans", sans-serif',fontSize:10},TEXT_STYLE_INDICATOR_BOTTOM_LEVEL:{fill:"#E8E8E8",align:"right",fontFamily:'"Noto Sans", sans-serif',fontSize:11},MIN_MAX_MIN_DIFF:.5,TOP_PLOT_ELEMENT_PIXELS:120,BOTTOM_PLOT_ELEMENT_PIXELS:120,BOTTOM_PLOT_ELEMENT_PIXELS_EXPANDED:180,BOTTOM_PLOT_ELEMENT_PIXELS_MOBILE:80,BOTTOM_PLOT_ELEMENT_VERTICAL_PADDING:10,DBL_MIN:Number.MIN_VALUE,DBL_MAX:Number.MAX_VALUE,ACCELERATION_WEAKNESS_IN_SECOND:22,RIGHT_PLOT_MARGIN_PERCENT:35,TIMELINE_MARGIN_BOTTOM:0,TIMELINE_HEIGHT:20,VALUE_LINE_FONT_SIZE:11,TIMELINE_STEP:15,MIN_TIMELINE_WIDTH:50,VALUE_BG_VERTICAL_MARGIN:4,VALUE_BG_HORIZONTAL_MARGIN:7,VALUE_BG_CORNER_DIFF:6,OPTIMAL_SECOND_WIDTH:5,TOP_PLOT_MARGIN_PIXELS:100,TOP_PLOT_MARGIN_PIXELS_MOBILE:90,BOTTOM_PLOT_MARGIN_PIXELS_MOBILE:30,BOTTOM_PLOT_MARGIN_PIXELS:15,TIMER_TOP_MARGIN:20,BAR_MAX_WIDTH_IN_PERCENTS_OF_SCREEN:2.5,MIN_SECOND_WIDTH_TO_SHOW_MS:7,POINT_DRAG_RADIUS:15,POINT_DRAG_PADDING:10,MT5_TOP_PLOT_ELEMENT_PIXELS:40,MT5_BOTTOM_PLOT_ELEMENT_PIXELS:120,MT5_BOTTOM_PLOT_ELEMENT_PIXELS_EXPANDED:180,MT5_BOTTOM_PLOT_ELEMENT_PIXELS_MOBILE:80,MT5_TOP_PLOT_MARGIN_PIXELS:80,MT5_TOP_PLOT_MARGIN_PIXELS_MOBILE:80,MT5_BOTTOM_PLOT_MARGIN_PIXELS_MOBILE:10,MT5_BOTTOM_PLOT_MARGIN_PIXELS:5,MAX_DRAWINGS_LIMIT:15,MAX_INDICATORS_LIMIT:30,FIGURE:{LINE:"line",HISTOGRAM:"histogram"},HISTOGRAM_COLOR_MODE:{DEFAULT:"default",FROM_ZERO_LEVEL:"from-middle",POSITIVE_NEGATIVE:"positive-negative"},DRAWINGS:{HORIZONTAL_LINE:0,VERTICAL_LINE:1,RAY:2,FIBONACCI_RETRACEMENT:3,FIBONACCI_FAN:4,TREND_LINE:5,PARALLEL_CHANNEL:6,RECTANGLE:7,ANDREWS_PITCHFORK:8},ZOOM_FACTOR:.1,ZOOM_BTN_FACTOR:.3,DEFAULT_ZOOM_FOR_MOBILE:-4,CANDLE_COLOR:{up:"45b734",down:"ff3e1f"}},FEATURES:{DRAWING_SHOW_HIT_AREA:!1,DRAGGABLE_POINT_INDEX:!1}}},59512:function(t,e,n){"use strict";n.d(e,{$_:function(){return l},Bf:function(){return o},D9:function(){return b},GI:function(){return u},KY:function(){return h},N1:function(){return d},Nb:function(){return y},Z5:function(){return f},k3:function(){return a},lF:function(){return p},my:function(){return s},uk:function(){return m},wM:function(){return c},xC:function(){return v}});var r=n(75054),i=parseInt((0,r.A)("is-demo")),o="success",a="start",s="fail",c="updateBalance",l="updateOpenedTrades",u="updateClosedTrades",d="openOrder",f="closeOrder",h="closeOrders",p="updateAssets",m="depositDemo",y="/ajax-trading/deposit-demo",v=i?"/ajax-trading/get-demo-balance":"/ajax-trading/get-balance",b=i},94687:function(t,e,n){"use strict";n.d(e,{Bf:function(){return i},jx:function(){return s},k3:function(){return o},my:function(){return a}});var r=n(75054),i="success",o="start",a="fail",s=parseInt((0,r.A)("is-demo"))},75887:function(t,e,n){"use strict";n.d(e,{g:function(){return r}});var r={BY_TIME:0,BY_PRICE:1}},30095:function(t,e,n){"use strict";n.d(e,{$5:function(){return $},$k:function(){return it},AP:function(){return b},B:function(){return v},B1:function(){return R},BB:function(){return s},DD:function(){return x},DE:function(){return Q},En:function(){return E},Er:function(){return k},FI:function(){return rt},FU:function(){return Y},Fk:function(){return T},Fu:function(){return H},GB:function(){return r},H7:function(){return J},HI:function(){return A},I:function(){return I},K2:function(){return S},K3:function(){return B},L2:function(){return C},M9:function(){return m},Mt:function(){return O},Nm:function(){return y},OH:function(){return L},Oe:function(){return c},Py:function(){return U},TN:function(){return a},Tm:function(){return X},U2:function(){return ot},UL:function(){return V},Xl:function(){return g},Y5:function(){return w},Zl:function(){return G},_w:function(){return P},aP:function(){return z},ag:function(){return o},cq:function(){return q},e5:function(){return D},es:function(){return W},ex:function(){return nt},iz:function(){return h},lA:function(){return _},lM:function(){return K},lW:function(){return d},nH:function(){return et},q9:function(){return l},rs:function(){return j},sF:function(){return tt},sW:function(){return F},td:function(){return u},ub:function(){return p},wZ:function(){return Z},x8:function(){return i},xM:function(){return M},yi:function(){return f},zJ:function(){return N}});var r="enabled_sounds_notification",i="enabled_balance_sounds_notification",o="enabled_tooltip_messages",a="enabled_top_left_info_icons_signals",s="enabled_top_left_info_icons_bonus",c="enabled_top_left_info_icons_analytics",l="enabled_top_left_info_icons_gems_lottery",u="event_settings_change_optimized_chart",d="show_personal_data",f="change_theme",h="modal_open",p="modal_close",m="remove_promo_code",y="start_copy_bets",v="stop_copy_bets",b="add_watch_list",g="remove_watch_list",w="remove_history_list",j="drop_down_open",x="drop_down_close",_="event_update_real_balance",S="event_update_socket_balance",O="chart.changed_quick_auto_offset",k="drawing.change_settings_panel",T="drawing.remove_selected",A="drawing.edit_points",C="drawing.select",P="drawing.deselect",E="drawing.deselect_all",I="drawing.edit_point",N="drawing.create_failed",D="indicator.create_failed",L="social.copy_order",M="gem_animation_start",R="signals.open",B="user_changed_timezone",H="ai_trading_mode_changed",$="enabled_market_watch_changed",F="limit_order_amount_show_block_changed",W="open_trader_info_modal",U="open_asset_modal_fav_add",V="chat.open-start",G="chat.open",z="chat.close-start",Y="chat.close",X="modal.show.only-registered",q="price_alert_triggered",K="price_alert_error",Z="price_alert_add",J="price_alert_remove",Q="event_change_asset",tt="pending_order_price_clicked",et="pending_order_remove",nt="pending_order_chart_price_remove",rt="trading_disabled",it="order_amount_limit",ot="update_welcome_bonus_event"},60204:function(t,e){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}var o=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._code=e},(e=[{key:"code",get:function(){return this._code}}])&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.A=o},6065:function(t,e){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}var o=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._val=e},(e=[{key:"val",get:function(){return this._val}}])&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.A=o},80479:function(t,e,n){"use strict";n.d(e,{Kt:function(){return a},XC:function(){return s},fX:function(){return l},g$:function(){return r},hj:function(){return o},k3:function(){return c},k5:function(){return i}});var r="gritter-green",i="gritter-red",o="gritter-gold",a="gritter-default",s="top-right",c="bottom-left",l="bottom-right"},16953:function(t,e,n){"use strict";n.d(e,{$t:function(){return j},EK:function(){return d},Eq:function(){return u},Jm:function(){return p},M:function(){return y},QJ:function(){return S},Rp:function(){return h},U$:function(){return _},U6:function(){return b},VJ:function(){return x},YE:function(){return w},Zo:function(){return l},ab:function(){return g},b1:function(){return k},dV:function(){return v},gd:function(){return m},mC:function(){return T},my:function(){return f},o9:function(){return O},vh:function(){return c}});var r,i,o=n(28683);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={Top:0,Overlay:1,Bottom:2},l={XY:0,X:1,Y:2,FreezeX:3},u={Common:0,Indicator:1},d={Linear:0,EaseOutQuad:2,EaseInOutQuad:3,EaseOutQuart:8,EaseOutQuint:11},f={COMMON:0,GRID_VALUE:2,GRID_TIMELINE:3,EXPIRATION_LINE:7,EXPIRATION_BG:8,RATES:13,CURRENT_PRICE_LINE:14,POINT_GLOW:15,POINT_DOT:17,SHADE_BG_UP:18,SHADE_BG_DOWN:19,CURSOR:21,CURSOR_PRICE_BTN:22,CURSOR_PRICE_IMG:23,CURRENT_PROFIT:30},h={GRID:10,GATES:20,CANDLES:25,MINMAX:27,CHART:30,INDICATORS_BG:39,INDICATORS:40,INDICATORS_BOTTOM:50,SHADE:60,BUILDINGS:65,BUILDING_POINTS:66,SOCIAL_DEALS_BG_LAYER:69,SOCIAL_DEALS_CONTAINER_LOW:70,SOCIAL_DEALS:73,SOCIAL_DEALS_CONTAINER_UP:76,DEALS:80,DEALS_TEXT:85,RATES:110,POINT:120,OVERLAY:130,CURSOR:140,PRICE_ALERTS:142,PENDINGS:143,CLOSED_ORDER:145,CLOSED_ORDER_NOTE:150,CLOSED_ORDER_NOTE_TEXT:155,CURRENT_PROFIT:160},p={S5:0,S10:1,S15:2,S30:3,M1:4,M2:13,M3:14,M5:6,M10:7,M15:8,M30:9,H1:10,H4:11,D1:12},m={None:0,Percentage:1,Range:2},y={Line:1,Candles:2,Bars:3,HeikenAshi:5},v={Line:1,Candles:2,Bars:3,HeikenAshi:5},b=s(s(s(s({},y.Line,(0,o.tr)("chart_settings.line")),y.Candles,(0,o.tr)("chart_settings.candles")),y.Bars,(0,o.tr)("chart_settings.bars")),y.HeikenAshi,(0,o.tr)("chart_settings.heiken_ashi")),g=s(s(s(s({},y.Line,"line"),y.Candles,"candles"),y.Bars,"bars"),y.HeikenAshi,"heiken-ashi"),w={S1:15,S5:0,S10:1,S15:2,S30:3,M1:4,M2:13,M3:14,M5:6,M10:7,M15:8,M30:9,H1:10,H4:11,D1:12},j=(s(s(s(s(s(s(s(s(s(s(r={},w.S5,"S5"),w.S10,"S10"),w.S15,"S15"),w.S30,"S30"),w.M1,"M1"),w.M2,"M2"),w.M3,"M3"),w.M5,"M5"),w.M10,"M10"),w.M15,"M15"),s(s(s(s(r,w.M30,"M30"),w.H1,"H1"),w.H4,"H4"),w.D1,"D1")),x=(s(s(s(s(s(s(s(s(s(s(i={},w.S1,1),w.S5,5),w.S10,10),w.S15,15),w.S30,30),w.M1,60),w.M2,120),w.M3,180),w.M5,300),w.M10,600),s(s(s(s(s(i,w.M15,900),w.M30,1800),w.H1,3600),w.H4,14400),w.D1,86400)),_={CLOSE:"close",OPEN:"open",HIGH:"high",LOW:"low",HL2:"hl2",HLC3:"hlc3",OHLC4:"ohlc4",HLCC4:"hlcc4"},S={REGULAR:"regular",THICK:"thick"},O=[{label:"M10",minutes:10},{label:"M30",minutes:30},{label:"H1",minutes:60},{label:"H4",minutes:240},{label:"D1",minutes:1440},{label:"D7",minutes:10080},{label:"D14",minutes:20160}],k={CHANGE_STRIKE_INDEX:0,NEW_REGION_REQUEST:1,ZOOM_CHANGED:2,SCROLL_TO_END_CHANGED:3,VERTICAL_SCROLL_CHANGED:4},T={EXPANDED:"expanded",COLLAPSED:"collapsed"}},391:function(t,e,n){"use strict";n.d(e,{$5:function(){return Ft},$9:function(){return T},$S:function(){return it},$k:function(){return h},A0:function(){return i},Ak:function(){return K},Bh:function(){return pt},C$:function(){return F},CV:function(){return jt},DE:function(){return $},DI:function(){return nt},E1:function(){return xt},EG:function(){return o},EH:function(){return Ct},F_:function(){return Gt},GB:function(){return u},GV:function(){return M},Gu:function(){return Nt},Hj:function(){return D},Im:function(){return k},Jd:function(){return ut},L:function(){return Pt},L$:function(){return g},LE:function(){return st},MO:function(){return W},N1:function(){return b},NJ:function(){return O},N_:function(){return Mt},OS:function(){return z},Ou:function(){return s},Q2:function(){return Ht},QD:function(){return B},Qz:function(){return Tt},Rb:function(){return Z},Rf:function(){return Bt},Ro:function(){return gt},SF:function(){return et},T2:function(){return f},VL:function(){return kt},Xc:function(){return w},Y_:function(){return Wt},Z5:function(){return v},ZX:function(){return P},Zv:function(){return q},au:function(){return Vt},bW:function(){return Lt},cQ:function(){return Yt},ck:function(){return bt},cw:function(){return zt},dZ:function(){return St},el:function(){return J},fV:function(){return R},g0:function(){return L},gG:function(){return C},g_:function(){return Et},gz:function(){return _},hC:function(){return $t},i8:function(){return m},iT:function(){return I},iW:function(){return At},im:function(){return V},jJ:function(){return y},kG:function(){return Dt},lF:function(){return N},ld:function(){return Ot},lu:function(){return It},lw:function(){return mt},mL:function(){return A},mS:function(){return G},mh:function(){return X},n5:function(){return d},nY:function(){return j},nk:function(){return E},ns:function(){return ht},nu:function(){return U},od:function(){return tt},ou:function(){return lt},qJ:function(){return Q},qQ:function(){return at},qT:function(){return ot},re:function(){return wt},rj:function(){return yt},sC:function(){return ft},tc:function(){return dt},vg:function(){return a},wM:function(){return p},x:function(){return ct},xT:function(){return c},xY:function(){return _t},xg:function(){return x},y0:function(){return H},yd:function(){return Rt},yl:function(){return S},yr:function(){return l},z$:function(){return Y},z2:function(){return rt},zC:function(){return vt},zn:function(){return Ut}});var r=n(94687),i="connect",o="disconnect",a="connect_error",s="reconnect_error",c="reconnect_failed",l="updateHistory",u="updateAchievements",d="changeSymbol",f="updateTime",h="updateForecast",p="updateBalance",m="updateTotalProfit",y="openSocialDeal",v="closeOrder",b="openOrder",g="copySignalOrder",w="openExpress",j="closeExpressDeals",x="updateClosedExpresses",_="updateOpenedExpresses",S="updateExpress",O="closeExpress",k="copyOrder",T="cancelOrder",A="auth",C="successauth",P="NotAuthorized",E="updateOpenedDeals",I="updateClosedDeals",N="updateAssets",D="updateDrawingPoint",L="updateDrawingPoints",M="deleteDrawingsIds",R="gemsLotto",B="updatePayouts",H="10NUMBER_DEALS_WITH_PROFIT",$="subfor",F="unsubfor",W="chafor",U="updateOpenedSocialDeals",V="updateClosedSocialDeals",G="updateRank",z="updateTopRank",Y="loadHistoryPeriod",X="updateEnabledSocialOptions",q="subscribeSymbol",K="unSubscribeSymbol",Z="updateHistoryNew",J="updateStream",Q="updateCurrentPayout",tt="updateCurrentAmount",et="deleteDrawing",nt="deleteDrawings",rt="lockDrawings",it="uql",ot="saveCharts",at="deleteChart",st="sto",ct="sts",lt="usto",ut="updateCharts",dt="ps",ft="indicator/create",ht="indicator/update",pt="indicator/setVisible",mt="indicator/delete",yt="indicator/deleteAll",vt="indicator/load",bt="indicator/fav",gt="indicator/unfav",wt="drawing/create",jt="drawing/update",xt="drawing/load",_t="openPendingOrder",St="updatePending",Ot="cancelPendingOrder",kt="pending/created",Tt="order-chart/load",At="social/opened-deal-info",Ct="social/closed-deal-info",Pt="signals/load",Et="signals/update",It="signals/subscribe",Nt="signals/unsubscribe",Dt="signals/stats",Lt="deals/double-up",Mt="deals/rollover",Rt="deals/ai",Bt="social/enable-only-watched",Ht="social/disable-only-watched",$t="favorite/load",Ft="favorite/change",Wt="td/refill",Ut="price-alert/load",Vt="price-alert/add",Gt="price-alert/remove",zt="user/change-platform",Yt=[V,U,u,I,"".concat(r.Bf).concat(b),"".concat(r.Bf).concat(kt),"".concat(r.my).concat(kt),H,R,"".concat(r.Bf).concat(k),"".concat(r.my).concat(k),"".concat(r.my).concat(T),"".concat(r.Bf).concat(T),Y,ut,"".concat(r.Bf).concat(w),"".concat(r.my).concat(w),"".concat(r.Bf).concat(O),"".concat(r.Bf).concat(j),"".concat(r.Bf).concat(_),"".concat(r.Bf).concat(x),"".concat(r.Bf).concat(S),"".concat(r.Bf).concat(et),"".concat(r.Bf).concat(wt),"".concat(r.my).concat(wt),"".concat(r.Bf).concat(xt),"".concat(r.Bf).concat(v),"".concat(r.Bf).concat(ft),"".concat(r.my).concat(ft),"".concat(r.Bf).concat(vt),"".concat(r.Bf).concat(yt),"".concat(r.Bf).concat(mt),"".concat(r.Bf).concat(_t),"".concat(r.my).concat(_t),"".concat(r.Bf).concat(St),"".concat(r.Bf).concat(Ot),"".concat(r.my).concat(Ot),"".concat(r.Bf).concat(Tt),"".concat(r.Bf).concat(At),"".concat(r.Bf).concat(Ct),Pt,Et,"".concat(r.Bf).concat(Dt),"".concat(r.Bf).concat(g),"".concat(r.Bf).concat(Mt),"".concat(r.my).concat(Mt),"".concat(r.Bf).concat($t),"".concat(r.Bf).concat(Ft),"".concat(r.Bf).concat(Ut),"".concat(r.Bf).concat(Vt),"".concat(r.my).concat(Vt),"".concat(r.Bf).concat(Gt)]},15071:function(t,e,n){"use strict";n.d(e,{$:function(){return l},bp:function(){return a},k8:function(){return r},nS:function(){return o},oU:function(){return s},oe:function(){return i},pd:function(){return c}});var r="event_sent_message_sound_on_iphone",i="event_sending_message_sound_on_iphone",o="event_iphone_keyboard_sound",a="event_play_update_balance_sound",s="event_play_deal_open_sound",c="event_play_deal_close_win_sound",l="event_play_deal_close_loose_sound"},98515:function(t,e,n){"use strict";n.d(e,{Sv:function(){return d},kA:function(){return f}});var r=n(95616),i=n.n(r),o=n(12268),a=n(6065);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function l(t,e,n){return(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var d="rsm_open_modal",f="rsm_close_modal",h=!1,p=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"closeModalEventHandler",(function(t,n){var r=n.val,o=i()("#".concat(r));o.length&&e.closeModal(o),i()('[data-modal-id="'.concat(r,'"]')).data("isOpened","false").parent().removeClass("active")})),l(this,"openModalEventHandler",(function(t,n){var r=n.val,o=i()("#".concat(r));o.length&&e.openModal(o),i()('[data-modal-id="'.concat(r,'"]')).data("isOpened","true").parent().addClass("active")})),l(this,"buttonClickHandler2",(function(t){t.preventDefault();var n=i()(t.currentTarget).attr("href"),r=i()(n);0!==r.length&&(r.hasClass("active")?e._hideModal(r):e._showModal(r))})),l(this,"buttonClickHandler",(function(t){t.preventDefault();var n=i()(t.currentTarget),r=n.data("modalId");if(r)"true"===n.data("isOpened")?o.A.publish("".concat(f,".").concat(r),new a.A(r)):o.A.publish("".concat(d,".").concat(r),new a.A(r));else{var s=n.closest("li"),c=n.attr("href");if("string"==typeof c){var l=i()(c),u=c.substr(1);0!==l.length?(e.removeActiveClass(),[e.$leftModals,e.$rightModals].map((function(t){return t.each((function(t,n){var r=i()(n);r.attr("id")===u?r.hasClass("active")?e._hideModal(r):(e._showModal(r),s.addClass("active"),r.hasClass("zoom-modal")&&r.css("top",s.offset().top)):e._hideModal(r)}))}))):n.data("always-trigger")&&o.A.publish("".concat(d,".").concat(u),new a.A(u))}}})),!0!==h&&(this.$buttons=i()(".js-open-right-sidebar-modal"),this.$buttons2=i()(".js-open-right-sidebar-modal2"),this.$rightSidebar=i()(".js-right-sidebar"),this.$leftSidebar=i()(".js-left-sidebar"),this.$leftModals=i()(".js-left-sidebar-modal"),this.$rightModals=i()(".js-right-sidebar-modal"))},(e=[{key:"init",value:function(){!0!==h&&(this.events(),this.openByHash(),h=!0)}},{key:"openByHash",value:function(){switch(window.location.hash.substr(1)){case"open-social-trading-modal":this.$rightSidebar.find('a[href="#social-modal"]').trigger("click");break;case"open-tournaments-modal":this.$rightSidebar.find('a[href="#tournaments-modal"]').trigger("click")}}},{key:"events",value:function(){this.$buttons.on("click",this.buttonClickHandler),this.$buttons2.on("click",this.buttonClickHandler2),o.A.subscribe(f,this.closeModalEventHandler),o.A.subscribe(d,this.openModalEventHandler)}},{key:"closeModal",value:function(t){t.hasClass("active")&&t.removeClass("active")}},{key:"openModal",value:function(t){t.hasClass("active")||t.addClass("active")}},{key:"_showModal",value:function(t){if(!t.hasClass("active")){var e=t.attr("id");o.A.publish("".concat(d,".").concat(e),new a.A(e))}}},{key:"_hideModal",value:function(t){if(t.hasClass("active")){var e=t.attr("id");o.A.publish("".concat(f,".").concat(e),new a.A(e))}}},{key:"removeActiveClass",value:function(){[this.$rightSidebar.find("li"),this.$leftSidebar.find("li")].map((function(t){return t.each((function(t,e){var n=i()(e);0!==n.find('> a[href^="#"]').length&&n.hasClass("active")&&n.removeClass("active")}))}))}}])&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.Ay=p},9537:function(t,e,n){"use strict";n.d(e,{Bz:function(){return f},JP:function(){return m},N1:function(){return d},Pe:function(){return v},cT:function(){return y},to:function(){return h},wI:function(){return p}});var r=n(64652),i=n(75054),o=n(56217),a=n(20768),s="web-view-popups";function c(){return Date.now()}function l(){var t=localStorage.getItem(s);return t?+t:null}function u(t){return c()-t>12096e5}var d=function(){localStorage.removeItem(s)},f=function(t){var e=(0,i.A)("currency_code");if("USD"===e)return t;if(t<=0)return 0;var n=(0,i.A)("rates",{});return+(t/(n[e]?n[e]:1)).toFixed(4)},h=function(t){(new o.pc).openWithAjax((0,a.hX)("cabinet/ajax/modal/webview-popup")+"?t="+t)},p=function(){var t,e,n=null===(t=r.A.getState())||void 0===t||null===(t=t.deals)||void 0===t?void 0:t.openedIds,i=null===(e=r.A.getState())||void 0===e||null===(e=e.deals)||void 0===e?void 0:e.openedById,o=r.A.getState().global.currentTime;return n.filter((function(t){return i[t].closeTimestamp>o})).length},m=function(t){var e=0;return t.profit>0&&t.deals.map((function(t){-1!==t.profit&&e++})),e},y=function(){var t=l();t&&!u(t)||localStorage.setItem(s,""+c())},v=function(){if(!0!==(0,i.A)("webViewPopUps"))return!1;var t=l();return null===t||!!u(t)}},96271:function(t,e,n){"use strict";var r=n(71025),i=n(92299),o=n.n(i),a=n(16300),s=n(79302);function c(t,e,n){return e=u(e),function(t,e){if(e&&("object"==f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],u(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return(e=g(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function b(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function g(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==f(e)?e:e+""}var w=function(){return b((function t(){y(this,t),this.storage=null,this.userId=0}),[{key:"testStorageAvailability",value:function(t){try{if(!window[t])return!1;var e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(r){return a.A.error(r),!1}}},{key:"createStorage",value:function(t){this.testStorageAvailability(t)&&(this.storage=window[t])}},{key:"getJSON",value:function(t){return o().getJSON(t)}},{key:"setJSON",value:function(t,e){e=JSON.stringify(e),o().set(t,e,r.Ay.STORAGE.COOKIES.OPTIONS)}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return this.remove(t);var i=p({},r.Ay.STORAGE.COOKIES.OPTIONS),a=p(p({},i),n);return"number"==typeof n.expires?a.expires=new Date(Date.now()+60*n.expires*60*1e3):n.expires instanceof Date&&(a.expires=n.expires),o().set(t,e,a)}},{key:"get",value:function(t){return o().get(t)}},{key:"find",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t},r=this.get(t);return null!=r?n(r):e}},{key:"findBool",value:function(t,e){return this.find(t,e,(function(t){return Boolean(+t)}))}},{key:"findInt",value:function(t,e){return this.find(t,e,(function(t){var n=parseInt(t,10);return isNaN(n)?e:n}))}},{key:"increment",value:function(t){var e=this.findInt(t,0);this.set(t,e+1)}},{key:"remove",value:function(t){return o().remove(t,r.Ay.STORAGE.COOKIES.OPTIONS)}},{key:"prefixName",value:function(t){return r.Ay.STORAGE.PREFIX+"."+this.userId.toString()+"."+t}},{key:"setUserId",value:function(t){this.userId=t}}])}(),j=function(t){function e(t){var n;return y(this,e),(n=c(this,e)).storageName=t,n.createStorage(n.storageName),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(e,t),b(e,[{key:"getInstance",value:function(){return this.storage?this:new w}},{key:"prefixName",value:function(t){return t}},{key:"getJSON",value:function(t){t=this.prefixName(t);var e=this.storage.getItem(t);return(0,s.A)(e,(function(t,n){t||(e=n)})),e}},{key:"get",value:function(t){return t=this.prefixName(t),this.storage.getItem(t)}},{key:"setJSON",value:function(t,e){t=this.prefixName(t),e=JSON.stringify(e),this.storage.setItem(t,e)}},{key:"set",value:function(t,e,n){t=this.prefixName(t);try{this.storage.setItem(t,e)}catch(r){console.error(r)}}},{key:"remove",value:function(t){t=this.prefixName(t),this.storage.removeItem(t)}}])}(w);e.A={cookies:new w,local:new j("localStorage").getInstance(),session:new j("sessionStorage").getInstance()}},16300:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}n.d(e,{A:function(){return a}});var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return e=t,r=[{key:"error",value:function(t){console.error(t),void 0!==window.bugsnagClient&&window.bugsnagClient.notify(t,{severity:"error"})}},{key:"handlebarsCompileError",value:function(e){t.error(new Error("Handlebars.compile, ".concat(e)))}},{key:"debug",value:function(t){console.log(t),void 0!==window.bugsnagClient&&window.bugsnagClient.notify(t,{severity:"info"})}}],(n=null)&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}()},32660:function(t,e,n){"use strict";n.d(e,{A:function(){return z}});var r=n(71025),i=n(94687),o=n(391),a=n(43168),s=n(47510),c=n(64178),l=n(79302);function u(t){var e;return(0,l.A)(function(t){for(var e,n,r,i=new Uint8Array(t),o="",a=i.length,s=0;s<a;)switch(e=i[s++],e>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(e);break;case 12:case 13:n=i[s++],o+=String.fromCharCode((31&e)<<6|63&n);break;case 14:n=i[s++],r=i[s++],o+=String.fromCharCode((15&e)<<12|(63&n)<<6|63&r)}return o}(t),(function(t,n){e=t?{}:n})),e}var d=n(92299),f=n.n(d);function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return y(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=n(71042),w=n(24319),j=n.n(w),x=n(46177),_=n.n(x),S=n(16953),O=n(59621),k=n(68032),T=n(48226),A={DEFAULT_BALANCE:5e4};function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E(r.key),r)}}function E(t){var e=function(t,e){if("object"!=C(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==C(e)?e:e+""}var I=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.balanceKey,r=void 0===n?"po-td-balance":n,i=e.tokenKey,o=void 0===i?"po-td-token":i,a=e.assetKey,s=void 0===a?"po-td-asset":a,c=e.firstFailModalKey,l=void 0===c?"po-td-first-fail":c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.balanceKey=r,this.tokenKey=o,this.assetKey=s,this.firstFailModalKey=l},(e=[{key:"getTryDemoToken",value:function(){var t=this.getFromLocalStorage(this.tokenKey);if("string"==typeof t&&10===t.length)return t;var e=(0,k.Ak)(10);return this.saveToLocalStorage(this.tokenKey,e),e}},{key:"getTryDemoBalance",value:function(){var t=A.DEFAULT_BALANCE,e=this.getFromLocalStorage(this.balanceKey);if("string"==typeof e){var n=(0,T.xr)(parseFloat(e),2);t=n<1?1:n}return this.saveToLocalStorage(this.balanceKey,t.toString()),t}},{key:"saveTryDemoBalance",value:function(t){if(!(Number.isNaN(t)||t<1))return this.saveToLocalStorage(this.balanceKey,t.toString()),t}},{key:"getIsFirstFailModalShown",value:function(){return Boolean(this.getFromLocalStorage(this.firstFailModalKey))}},{key:"saveFirstFailModalShown",value:function(){this.saveToLocalStorage(this.firstFailModalKey,1)}},{key:"getTryDemoAsset",value:function(){return this.getFromLocalStorage(this.assetKey)}},{key:"saveTryDemoAsset",value:function(t){return this.saveToLocalStorage(this.assetKey,t.toString()),t}},{key:"getFromLocalStorage",value:function(e){try{return window.localStorage.getItem(e)}catch(t){return null}}},{key:"saveToLocalStorage",value:function(e,n){try{window.localStorage.setItem(e,n)}catch(t){return!1}return!0}}])&&P(t.prototype,e),n&&P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),N=new I,D=n(75054),L=["requestId","chartId","type"];function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function R(t){return function(t){if(Array.isArray(t))return $(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||H(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||H(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(t,e){if(t){if("string"==typeof t)return $(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(t,e):void 0}}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W(r.key),r)}}function W(t){var e=function(t,e){if("object"!=M(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==M(e)?e:e+""}var U=Symbol(),V=Symbol(),G=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==V)throw"Cannot construct singleton";var n;this.isTryDemo=(0,O.Z5)(),this.isDemo=(0,O.Np)(),this.PING_PERIOD=60,this.listeners=(n={},[i.k3,i.my,i.Bf].forEach((function(t){[o.$9,o.Im,o.N1,o.wM,o.Z5,o.i8,o.sC,o.re,o.SF,o.DI].forEach((function(e){n[t+e]=new Map}))})),[i.my,i.Bf].forEach((function(t){[o.Xc,o.NJ,o.nY,o.VL,o.xY,o.ld,o.N_,o.au].forEach((function(e){n[t+e]=new Map}))})),[i.Bf].forEach((function(t){[o.gz,o.xg,o.yl,o.zC,o.E1,o.lw,o.rj,o.dZ,o.Qz,o.iW,o.EH,o.kG,o.L$,o.hC,o.$5,o.zn,o.F_].forEach((function(e){n[t+e]=new Map}))})),[o.A0,o.EG,o.n5,o.$k,o.GB,o.yr,o.el,o.Rb,o.T2,o.gG,o.jJ,o.od,o.iT,o.nk,o.lF,o.fV,o.z$,o.y0,o.QD,o.mS,o.mh,o.$S,o.qJ,o.Jd,o.nu,o.im,o.OS,o.MO,o.ns,o.Bh,o.ck,o.Ro,o.CV,o.L,o.g_].forEach((function(t){n[t]=new Map})),n),this.onceListeners=b({},o.iT,new Map),this.serverList=this.getActualServerList(),this.isTournament=(0,O.yq)(),this.isMobileVersion=(0,O.hP)(),this.uid=(0,O.v6)(),this.country=(0,O.lM)(),this.isMt5=(0,O.p)(),this.socket=null,this.serverTime=0,this.balance=0,this.activeSrv=null,this.lastRequestAnimationFrameTime=0,this.openedDealsCount=0,this.subscribeToListeners(),this.connectedSockets={},this.blackList=[],this.emitAuthTimeoutChecker=null,this.isConnecting=!1,this.saveChartDebounced=_()(this.saveChart.bind(this),2e3),this.changeFavoritesDebounced=_()(this.changeFavorites.bind(this),2e3)}return e=t,n=[{key:"getToken",value:function(){return this.isDemo?(0,D.A)("demoSessionId"):f().get("ci_session")}},{key:"copyOrder",value:function(t){if(this.listeners["".concat(i.k3).concat(o.Im)].forEach((function(t){return t()})),null===this.socket)return this.connect();this.socket.emit(o.Im,{copyTicket:t})}},{key:"openOrder",value:function(t){var e=t.amount,n=t.action,r=t.asset,a=t.time,s=t.closeAt,l=t.requestId;if(null===this.socket)return this.connect();l||(l=this.serverTime+(0,c.A)(1,100));var u={asset:r,amount:e,action:n,isDemo:i.jx,requestId:l,optionType:100};void 0!==s?u.closeAt=s:u.time=a,this.openedDealsCount++,this.socket.emit(o.N1,u)}},{key:"doubleUpOrder",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.bW,{ticket:t})}},{key:"rolloverOrder",value:function(t){var e=t.ticket,n=t.amount;if(null===this.socket)return this.connect();this.socket.emit(o.N_,{ticket:e,amount:n})}},{key:"copySignalOrder",value:function(t){var e=t.amount,n=t.action,r=t.symbol,a=t.createdAt,s=t.expiredAt,l=t.timeframe,u=t.signalId;if(null===this.socket)return this.connect();this.socket.emit(o.L$,{symbol:r,amount:e,expiredAt:s,action:n,isDemo:i.jx,requestId:this.serverTime+(0,c.A)(1,100),createdAt:a,timeframe:l,signalId:u})}},{key:"openAiTrade",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.yd,t)}},{key:"getSignalStats",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.kG,t)}},{key:"loadClosedExpresses",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.xg)}},{key:"openExpress",value:function(t,e){if(null===this.socket)return this.connect();this.socket.emit(o.Xc,[t,e])}},{key:"subscribeSignals",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.lu)}},{key:"unSubscribeSignals",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.Gu)}},{key:"subscribeSocialTradingOrders",value:function(t,e){if(null===this.socket)return this.connect();this.socket.emit(o.LE,{showOnlyWatched:t,symbols:e})}},{key:"updateSocialTradingSymbols",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.x,{symbols:t})}},{key:"unSubscribeSocialTradingOrders",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.ou)}},{key:"updateBalance",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.wM)}},{key:"loadIndicators",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.zC)}},{key:"addIndicator",value:function(t){if(null===this.socket)return this.connect();var e=t.requestId,n=t.chartId,r=t.type,i=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,L);this.socket.emit(o.sC,{requestId:e,chartId:n,type:r,settings:i,visible:1})}},{key:"editIndicator",value:function(t){if(null===this.socket)return this.connect();var e=t.id,n=t.settings;this.socket.emit(o.ns,{id:e,settings:n})}},{key:"deleteIndicator",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.lw,{id:t})}},{key:"deleteIndicators",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.rj,{chartId:t})}},{key:"favoriteIndicator",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.ck,{type:t})}},{key:"unfavoriteIndicator",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.Ro,{type:t})}},{key:"changeIndicatorVisibility",value:function(t){if(null===this.socket)return this.connect();var e=t.id,n=t.value;this.socket.emit(o.Bh,{id:e,visible:n?1:0})}},{key:"addDrawing",value:function(t){var e=t.chartId,n=t.settings,r=t.type,i=t.assetId,a=t.requestId;if(null===this.socket)return this.connect();this.socket.emit(o.re,{chartId:e,settings:n,type:r,assetId:i,requestId:a})}},{key:"editDrawing",value:function(t){var e=t.id,n=t.settings;if(null===this.socket)return this.connect();this.socket.emit(o.CV,{id:e,settings:n})}},{key:"updateDrawingPoints",value:function(t){if(null===this.socket)return this.connect();var e=t.map((function(t){return[t.drawingId,t.point,t.time,t.price,t.assetId,t.chartId]}));this.socket.emit(o.g0,e)}},{key:"updateDrawingPoint",value:function(t){var e=t.drawingId,n=t.point,r=t.time,i=t.price,a=t.assetId,s=t.chartId;if(null===this.socket)return this.connect();this.socket.emit(o.Hj,[e,n,r,i,a,s])}},{key:"deleteDrawingsWithIds",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.GV,t)}},{key:"deleteDrawing",value:function(t){var e=t.drawingId,n=t.chartId;if(null===this.socket)return this.connect();this.socket.emit(o.SF,{drawingId:e,chartId:n})}},{key:"updateOpenedDeals",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.nk)}},{key:"deleteDrawings",value:function(t){if(null===this.socket)return this.connect();var e=t.chartId,n=t.assetId;this.socket.emit(o.DI,{chartId:e,assetId:n})}},{key:"lockDrawings",value:function(t){var e=t.ids,n=t.value;if(null===this.socket)return this.connect();this.socket.emit(o.z2,[e,n])}},{key:"loadOrderChart",value:function(t){if(null===this.socket)return this.connect();var e={id:t.id,timeFrom:Math.floor(t.openTimestamp),timeTo:Math.ceil(t.closeTimestamp),digits:t.digits,price:t.openPrice,openTimestamp:t.openTimestamp,symbolId:t.symbolId};this.socket.emit(o.Qz,e)}},{key:"getSocialOpenDealInfo",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.iW,{copyTicket:t})}},{key:"getSocialCloseDealInfo",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.EH,{copyTicket:t})}},{key:"enableOnlyWatchedTrades",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.Rf)}},{key:"disableOnlyWatchedTrades",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.Q2)}},{key:"emitAuth",value:function(){var t=this;if(null===this.socket)return this.connect();this.emitAuthTimeoutChecker=setTimeout((function(){console.log("APP: ".concat(t.activeSrv," no answer, reconnecting...")),t.activeSrv&&(t.blackList.push(t.activeSrv),t.connectedSockets[t.activeSrv].disconnect(),t.connectTo())}),12e3),this.isTryDemo?this.socket.emit(o.mL,{token:N.getTryDemoToken(),balance:N.getTryDemoBalance()}):this.socket.emit(o.mL,{session:this.getToken(),isDemo:i.jx,uid:this.uid,platform:(0,D.A)("platform",0)}),this.listeners[o.A0].forEach((function(t){return t()}))}},{key:"getActualServerList",value:function(){return(0,O.Z5)()?r.Ay.TRY_DEMO_API_LIST:r.Ay.API_LIST}},{key:"connectTo",value:function(t){this.isConnecting=!0,null!==this.socket&&this.socket.close();var e=this.getActualServerList();this.serverList={};var n=j()(e,this.blackList);0===Object.keys(n).length&&this.blackList.length>0&&(console.log("Black list cleared."),this.blackList=[],n=e),t&&n[t]?this.serverList[t]=n[t]:this.serverList=n,this.connect()}},{key:"connect",value:function(){var t=this;this.activeSrv=null,console.log("APP: Connecting"),Object.keys(this.connectedSockets).forEach((function(e){t.connectedSockets[e]&&t.connectedSockets[e].disconnect(),t.connectedSockets[e]=null})),this.connectedSockets={},Object.values(this.serverList).forEach((function(e){var n=e.server;t.connectedSockets[n]=a.Ay.connect(n,{transports:["websocket"],timeout:r.Ay.CONNECT_TIMEOUT}),t.connectedSockets[n].on(o.A0,(function(){console.log("APP: ".concat(t.connectedSockets[n].connected?"[+]":"[-]"," ").concat(n)),null!==t.activeSrv&&t.activeSrv!==n||(t.activeSrv=n,Object.keys(t.connectedSockets).forEach((function(e){var r=t.connectedSockets[e];e!==n&&r.disconnect()})),t.socket=t.connectedSockets[n],t.isConnecting=!1,t.subscribe(),t.emitAuth())}));var i=function(e,r){t.connectedSockets[n]&&(console.log("APP: ".concat(e," ").concat(n)),r&&r.message&&console.log("Error due to: ",r.message),t.blackList.push(n),t.connectedSockets[n].disconnect(),t.connectTo())};t.connectedSockets[n].on(o.vg,(function(t){return i(o.vg,t)})),t.connectedSockets[n].on(o.Ou,(function(){return i(o.Ou)})),t.connectedSockets[n].on(o.xT,(function(){return i(o.xT)}))}))}},{key:"emitUpdateEnabledSocialOptions",value:function(t){var e=t.value,n=t.showOnlyWatchedTrades,r=t.symbols;(0,g.A)("enabled_social",e?1:0),e?this.subscribeSocialTradingOrders(n,r):this.unSubscribeSocialTradingOrders()}},{key:"subscribeToListeners",value:function(){var t=this;this.addEventListener(o.T2,(function(){t.pingServer()}))}},{key:"setLastRequestAnimationFrameTime",value:function(){this.lastRequestAnimationFrameTime===this.serverTime&&this.lastRequestAnimationFrameTime||(this.lastRequestAnimationFrameTime=this.serverTime,null!==this.socket&&!0===this.socket.connected||this.isConnecting||(console.log("APP: try connected"),null!==this.socket&&this.socket.off(),this.connect()))}},{key:"pingServer",value:function(){if(null===this.socket)return this.connect();this.lastRequestAnimationFrameTime%this.PING_PERIOD==0&&this.socket.emit(o.tc)}},{key:"refillDemo",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.Y_)}},{key:"subscribe",value:function(){var t=this;if(null===this.socket||!0!==this.socket.connected)return null!==this.socket&&this.socket.off(),void this.connect();this.socket.on(o.EG,(function(){console.log("APP: [-] ".concat(t.activeSrv)),null!=t.socket&&t.socket.off(),t.socket=null,t.lastRequestAnimationFrameTime=0})),this.socket.on(o.jJ,(function(e){(e=u(e)).uid!==t.uid&&t.listeners[o.jJ].forEach((function(t){return t(e)}))})),this.socket.on(o.OS,(function(e){var n=u(e).map((function(t){return{amount:(e=h(t,8))[0],profit:e[1],uid:e[2],avatarUser:e[3],nickname:e[4],asset:e[5],closeTimestamp:e[6],isOnline:e[7]};var e}));t.listeners[o.OS].forEach((function(t){return t(n)}))})),this.socket.on(o.gG,(function(){console.log("APP: Success auth"),null!==t.emitAuthTimeoutChecker&&(clearTimeout(t.emitAuthTimeoutChecker),t.emitAuthTimeoutChecker=null),t.listeners[o.gG].forEach((function(t){return t()}))})),this.socket.on(o.ZX,(function(){console.log("APP: Logout..."),window.location.reload()})),this.socket.on(o.nk,(function(e){var n=u(e);t.serverTime&&(n=n.filter((function(e){return e.closeTimestamp>t.serverTime}))),t.listeners[o.nk].forEach((function(t){return t(n)}))})),this.socket.on("".concat(i.Bf).concat(o.i8),(function(e){var n=u(e),r=n.profit;n.isDemo===i.jx&&t.listeners["".concat(i.Bf).concat(o.i8)].forEach((function(t){return t(r)}))})),this.socket.on("".concat(i.Bf).concat(o.wM),(function(e){var n=u(e),r=n.balance;if(n.isDemo===i.jx){var a=t.balance;t.balance=r,t.listeners["".concat(i.Bf).concat(o.wM)].forEach((function(t){return t(r,a)}))}})),this.socket.on(o.lF,(function(e){var n=u(e).map((function(t){return e=m(t,19),n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],e[6],e[7],e[8],c=e[9],l=e[10],u=e[11],d=e[12],f=e[13],h=e[14],p=e[15],y=e[16],v=e[17],{id:n,symbol:r,label:i,type:o,digits:a,payout:s,is_otc:c,otc_id:l,real_id:u,signals:d,expTime:f,active:h,timeframes:p,scheduledUntil:y,scheduledAt:e[18],minQuickTimeframe:v};var e,n,r,i,o,a,s,c,l,u,d,f,h,p,y,v}));t.isTournament&&(n=n.filter((function(t){return"cryptocurrency"!==t.type&&"stock"!==t.type&&"index"!==t.type}))),t.listeners[o.lF].forEach((function(t){return t(n)}))})),this.socket.on(o.Rb,(function(e){var n=u(e),r=n.history.sort((function(t,e){return t[0]-e[0]}));if(r.length>0){var i=B(r[r.length-1],2),a=i[0],s=i[1];t.updateStream([{asset:n.asset,time:a,price:s}],!0)}t.listeners[o.Rb].forEach((function(t){return t(n)}))})),this.socket.on(o.el,(function(e){var n=u(e);if(n.length){for(var r=[],i=0;i<n.length;i++){var o=B(n[i],3),a=o[0],s=o[1],c=o[2];r.push({asset:a,time:s,price:c})}t.updateStream(r)}})),this.socket.on(o.$k,(function(e){t.listeners[o.$k].forEach((function(t){return t(u(e))}))})),this.socket.on(o.T2,(function(e){var n=Math.floor(e);t.serverTime<n&&(t.serverTime=n,t.listeners[o.T2].forEach((function(e){return e(t.serverTime)})))})),this.socket.on(o.MO,(function(e){t.listeners[o.MO].forEach((function(t){return t(u(e))}))})),this.socket.on("".concat(i.my).concat(o.N1),(function(e){t.listeners["".concat(i.my).concat(o.N1)].forEach((function(t){return t(u(e))}))})),o.cQ.forEach((function(e){t.socket.on(e,(function(n){var r=u(n);t.listeners[e].forEach((function(t){return t(r)})),Object.hasOwnProperty.call(t.onceListeners,e)&&(t.onceListeners[e].forEach((function(t){return t(r)})),t.onceListeners[e]=new Map)}))}))}},{key:"updateStream",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.listeners[o.$S].forEach((function(e){return e(t)}));var r=Math.floor(Math.max.apply(Math,R(t.map((function(t){return t.time})))));(r>this.serverTime||n)&&(this.serverTime=r,this.listeners[o.T2].forEach((function(t){return t(e.serverTime)})))}},{key:"addOnceListener",value:function(t,e){var n=(0,s.A)();return this.onceListeners[t].set(n,e),n}},{key:"addEventListener",value:function(t,e){var n=(0,s.A)();return this.listeners[t].set(n,e),n}},{key:"removeEventListener",value:function(t,e){this.listeners[t].delete(e)}},{key:"cancelOrder",value:function(t){if(null===this.socket)return this.connect();this.listeners["".concat(i.k3).concat(o.$9)].forEach((function(e){return e(t)})),this.socket.emit(o.$9,{ticket:t})}},{key:"emitChangeSymbol",value:function(t){var e=t.asset,n=t.chartPeriod,r=void 0===n?S.YE.S5:n;if(null===this.socket)return this.connect();this.listeners[o.n5].forEach((function(t){return t(e)})),this.socket.emit(o.n5,{asset:e,period:S.VJ[r]})}},{key:"saveChart",value:function(t){var e=t.chartId,n=t.settings;if(null===this.socket)return this.connect();var r=function(t){var e=t.chartId,n=t.chartType,r=t.chartPeriod,i=t.candlesTimer,o=t.demoDealAmount,a=t.liveDealAmount,s=t.enabledTradeMonitor,c=t.enabledRatingWidget,l=t.isVisible,u=t.fastTimeframe,d=t.enabledAutoscroll,f=t.minimizedTradePanel,h=t.enabledGridSnap,p=t.symbol,m=t.fastCloseAt,y=t.enableQuickAutoOffset,v=t.quickAutoOffsetValue,b=t.showArea,g=t.percentAmount,w={chartId:e,chartType:n,chartPeriod:r,candlesTimer:i,symbol:p||t.currentAsset.symbol,demoDealAmount:o,liveDealAmount:a,enabledTradeMonitor:s,enabledRatingWidget:c,isVisible:l,fastTimeframe:u,enabledAutoscroll:d,enabledGridSnap:h,minimizedTradePanel:f,fastCloseAt:m,enableQuickAutoOffset:y,quickAutoOffsetValue:v,showArea:b,percentAmount:g};return t.currency&&(w.currency=t.currency),w}(n);this.socket.emit(o.qT,{chartId:e,settings:r})}},{key:"deleteChart",value:function(t){var e=t.chartId;if(null===this.socket)return this.connect();this.socket.emit(o.qQ,{chartId:e})}},{key:"subscribeAsset",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.Zv,t)}},{key:"unsubscribeAsset",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.Ak,t)}},{key:"createPendingOrder",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.xY,t)}},{key:"cancelPendingOrder",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.ld,{ticket:t})}},{key:"subscribeMarketForecast",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.DE,t)}},{key:"unsubscribeMarketForecast",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.C$,t)}},{key:"loadRegion",value:function(t){var e=t.asset,n=t.index,r=t.time,i=t.offset,a=t.period;if(null===this.socket)return this.connect();this.socket.emit(o.z$,{asset:e,index:n,time:r,offset:i,period:a})}},{key:"loadFavorites",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.hC)}},{key:"changeFavorites",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.$5,t)}},{key:"priceAlertsLoad",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.zn)}},{key:"priceAlertAdd",value:function(t){var e=t.price,n=t.assetId;if(null===this.socket)return this.connect();this.socket.emit(o.au,{price:e,assetId:n})}},{key:"priceAlertRemove",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.F_,{id:t})}},{key:"changePlatform",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.cw,{platform:t})}}],l=[{key:"instance",get:function(){return this[U]||(this[U]=new t(V)),this[U]}}],n&&F(e.prototype,n),l&&F(e,l),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,l}(),z=G},67380:function(t,e,n){"use strict";var r=n(96271),i=n(32858),o=n.n(i);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return(e=h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}var p=function(){return t=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zoom-width";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cookieName=n,this.data={},this.dataToSave=new Set,(r.A.cookies.getJSON(this.cookieName)||[]).forEach((function(t){var n=u(t,3),r=n[0],i=n[1],o=n[2],a="chart-".concat(r);void 0===e.data[a]?e.data[a]=l({},i,o):e.data[a][i]=o})),this.throttledSaveToCookie=o()(this.saveToCookie,1e3)},(e=[{key:"getData",value:function(){return this.data}},{key:"saveToCookie",value:function(){r.A.cookies.setJSON(this.cookieName,Array.from(this.dataToSave))}},{key:"save",value:function(){var t=this;this.dataToSave.clear(),Object.keys(this.data).forEach((function(e){Object.keys(t.data[e]).forEach((function(n){t.dataToSave.add([parseInt(t.getChartIdByChartName(e),10),parseInt(n,10),+Number(t.data[e][n]).toFixed(7)])}))})),this.throttledSaveToCookie()}},{key:"set",value:function(t){var e=t.chartId,n=t.chartType,r=t.secondWidth,i=this.data[e]||{};return this.data[e]=c(c({},i),{},l({},n,r)),this.save(),!0}},{key:"getChartIdByChartName",value:function(t){return t.replace("chart-","")}}])&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),m=new p;Object.freeze(m),e.A=m},36447:function(t,e,n){"use strict";n.d(e,{Ci:function(){return b},H0:function(){return p},Mt:function(){return u},Uh:function(){return h},Y5:function(){return v},Zf:function(){return x},dJ:function(){return _},eZ:function(){return j},m4:function(){return y},o0:function(){return f},pR:function(){return w},q9:function(){return g},rp:function(){return m},zx:function(){return l}});var r,i=n(16953),o=n(85727),a=n.n(o);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(t,e){return{x:t,y:e}},u=function(t){return t===i.M.Line},d=(c(c(c(c(c(c(c(c(c(c(r={},i.Jm.S5,5),i.Jm.S10,10),i.Jm.S15,15),i.Jm.S30,30),i.Jm.M1,60),i.Jm.M2,120),i.Jm.M3,180),i.Jm.M5,300),i.Jm.M10,600),i.Jm.M15,900),c(c(c(c(r,i.Jm.M30,1800),i.Jm.H1,3600),i.Jm.H4,14400),i.Jm.D1,86400)),f=function(t,e){return u(t)||!Object.prototype.hasOwnProperty.call(d,e)?1:d[e]};function h(t,e){var n=p(t,e);return n+(m(t,e)-n)/100*35}function p(t,e){var n=f(t,e);return 1===n?.04:6/n}function m(t,e){var n=f(t,e);return 1===n?10:50/n}function y(t,e,n){var r=p(e,n),i=m(e,n);return a()(t,r,i)}var v=function(t,e,n,r){var i=t.time,o=t.value,a=e.time,s=e.value,c=n.time,l=n.value,u=r.time,d=r.value,f={x:null,y:null,onLine1:!1,onLine2:!1},h=(d-l)*(a-i)-(u-c)*(s-o);if(0===h)return f;var p=o-l,m=i-c,y=(a-i)*p-(s-o)*m;return p=((u-c)*p-(d-l)*m)/h,m=y/h,f.x=i+p*(a-i),f.y=o+p*(s-o),p>0&&p<1&&(f.onLine1=!0),m>0&&m<1&&(f.onLine2=!0),f};function b(t,e){return t.left<=e.right&&e.left<=t.right&&t.top<=e.bottom&&e.top<=t.bottom}function g(t,e,n,r){var i=t.x,o=t.y,a=e.x,s=e.y,c=(o-s)/(i-a),u=o-i*c,d=0,f=0,h=n,p=r,m=l((f+0-u)/c,f+0),y=l((p-0-u)/c,p-0),v=function(t){var e=t.y;return e>=f&&e<=p};return v(m)&&v(y)?o>s?m:y:i>a?l(d+0,c*(d+0)+u):l(h-0,c*(h-0)+u)}function w(t,e){if(Object.prototype.hasOwnProperty.call(t,"value"))return t.value;switch(e){case i.U$.CLOSE:return t.exitValue;case i.U$.OPEN:return t.enterValue;case i.U$.HIGH:return t.maxValue;case i.U$.LOW:return t.minValue;case i.U$.HL2:return(t.maxValue+t.minValue)/2;case i.U$.HLC3:return(t.maxValue+t.minValue+t.exitValue)/3;case i.U$.OHLC4:return(t.enterValue+t.maxValue+t.minValue+t.exitValue)/4;case i.U$.HLCC4:return(t.maxValue+t.minValue+2*t.exitValue)/4}return t.value}function j(t,e){var n=w(t,i.U$.HIGH),r=w(t,i.U$.LOW),o=w(e,i.U$.CLOSE);return Math.max(n-r,Math.abs(n-o),Math.abs(r-o))}function x(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,r=0,i=e;i<e+n;i++)r+=t[i].value;return r/n}function _(t,e){for(var n=0,r=-1,i=0;i<t.length;i++){var o=Math.abs(t[i]-e);(0===i||o<n)&&(n=o,r=i)}return r}},20768:function(t,e,n){"use strict";n.d(e,{hX:function(){return c},pc:function(){return l}});var r=n(75054),i=n(67349),o=n.n(i),a=n(12284),s=n.n(a),c=function(t){var e=(0,r.A)("lang")||"en",n=o()((0,r.A)("base-url")||"","/"),i=s()(t,"/");return"".concat(n,"/").concat(e,"/").concat(i)},l=function(t){var e=o()((0,r.A)("base-url")||"","/"),n=s()(t,"/");return"".concat(e,"/").concat(n)}},90619:function(t,e,n){"use strict";function r(t){return(t<10?"0":"")+t}function i(t){return(t<10?"00":t<100?"0":"")+t}function o(t,e){return t.toLowerCase().includes(e)}n.d(e,{pJ:function(){return i},vD:function(){return o},wl:function(){return r}})},77380:function(t,e,n){"use strict";function r(t,e,n){return new Array(e-String(t).length+1).join(n||"0")+t}n.d(e,{Dp:function(){return o},ny:function(){return a}});var i=n(28683),o=(n(95616),function(t){t*=1e3;var e=6e4,n=36e5,i=864e5,o=Math.floor(t/i);t-=o*i;var a=Math.floor(t/n);t-=a*n;var s=Math.floor(t/e);t-=s*e;var c=Math.floor(t/1e3);return{d:o,H:r(a,2,"0"),i:r(s,2,"0"),s:r(c,2,"0")}}),a=function(t){var e=(0,i.tr)("short_days"),n="";return t.d>0&&(n=t.d+" "+e+" "),n+t.H+":"+t.i+":"+t.s}},89839:function(t,e,n){"use strict";var r=n(95616),i=n.n(r);e.A=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;0!==t.length&&t.each((function(t,n){var r=i()(n).find('[class*="__bar"]'),o=r.data("percent");o&&r.stop(!0).animate({width:"".concat(o,"%")},e)}))}},56217:function(t,e,n){"use strict";n.d(e,{pc:function(){return yt},mW:function(){return pt}});var r=n(95616),i=n.n(r),o=(n(84387),n(69581)),a=(n(57266),n(89839)),s=n(12268),c=n(30095);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function d(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}var f=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._modalId=e,this._dataAttributes=n},(e=[{key:"modalId",get:function(){return this._modalId}},{key:"dataAttributes",get:function(){return this._dataAttributes}}])&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),h=f;function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function y(t){var e=function(t,e){if("object"!=p(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==p(e)?e:e+""}var v=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._modalId=e},(e=[{key:"modalId",get:function(){return this._modalId}}])&&m(t.prototype,e),n&&m(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),b=v,g=n(59512);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function x(t,e,n){return e&&j(t.prototype,e),n&&j(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==w(e)?e:e+""}var S,O,k,T=x((function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t.instance)return t.instance;t.instance=this,this.init()}));S=T,k=void 0,(O=_(O="instance"))in S?Object.defineProperty(S,O,{value:k,enumerable:!0,configurable:!0,writable:!0}):S[O]=k;var A=T,C=n(25632),P=n.n(C),E=n(3171),I=n.n(E),N=n(75054),D=n(49697),L=n(40759),M=n(14804),R=n(83944),B=n(28683),H=n(46863),$=n(80479),F=n(59674),W=n(77380),U=n(95616);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y(r.key),r)}}function z(t,e,n){return(e=Y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y(t){var e=function(t,e){if("object"!=V(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==V(e)?e:e+""}var X=function(){return function(t,e,n){return e&&G(t.prototype,e),n&&G(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),z(this,"openConfirmActivateModalEventHandler",(function(t,n){e.$timers=U("#confirm-activate-modal .js-time-to-end"),e.startTimer()})),z(this,"closeConfirmActivateModalEventHandler",(function(){e.clearTimer(),e.$timers=[]})),this.timer=null,this.$timers=[]}),[{key:"init",value:function(){this.events()}},{key:"events",value:function(){s.A.subscribe("".concat(c.iz,".confirm-activate-modal"),this.openConfirmActivateModalEventHandler),s.A.subscribe("".concat(c.ub,".confirm-activate-modal"),this.closeConfirmActivateModalEventHandler)}},{key:"updateTimer",value:function(){0!==this.$timers.length&&this.$timers.each((function(t,e){var n=U(e),r=n.data("time-end");n.text((0,W.ny)((0,W.Dp)(r))),n.data("time-end",r-1)}))}},{key:"startTimer",value:function(){var t=this;this.timer=setInterval((function(){return t.updateTimer()}),1e3)}},{key:"clearTimer",value:function(){clearInterval(this.timer)}}])}(),q=X;function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J(r.key),r)}}function J(t){var e=function(t,e){if("object"!=K(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=K(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==K(e)?e:e+""}var Q=function(){return function(t,e,n){return e&&Z(t.prototype,e),n&&Z(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ps=e,this.updateParentHeight=this.updateParentHeight.bind(this)}),[{key:"init",value:function(){this.updateParentHeight(),this.events()}},{key:"events",value:function(){var t=this;window.addEventListener("resize",(function(){clearTimeout(window._resizeTimeout),window._resizeTimeout=setTimeout(t.updateParentHeight,150)}))}},{key:"updateParentHeight",value:function(){var t=document.querySelector(".confirm-activate-modal .tournaments-list"),e=t.querySelectorAll(".confirm-activate-modal .tournaments-list__item");if(t&&0!==e.length){for(var n=window.innerWidth<=439?2:3,r=0,i=0;i<Math.min(n,e.length);i++)r+=e[i].offsetHeight;r+=12*(n-1),t.style.setProperty("--height","".concat(r,"px")),this.ps&&this.ps.update()}}}])}(),tt=Q;function et(t,e,n){return e=rt(e),function(t,e){if(e&&("object"==ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,nt()?Reflect.construct(e,n||[],rt(t).constructor):e.apply(t,n))}function nt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nt=function(){return!!t})()}function rt(t){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rt(t)}function it(t,e){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},it(t,e)}function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lt(r.key),r)}}function ct(t,e,n){return e&&st(t.prototype,e),n&&st(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lt(t){var e=function(t,e){if("object"!=ot(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ot(e)?e:e+""}var ut="po-modal",dt=function(){return ct((function t(){at(this,t)}),null,[{key:"achievementInfoModal",value:function(t){I()((function(){return(0,o.A)(t.find(".js-count-to"))}))}},{key:"expInfoModal",value:function(t){(0,a.A)(t.find(".progress")),I()((function(){return(0,o.A)(t.find(".js-count-to"))}))}},{key:"unlockedAchievementsModal",value:function(t){t.find(".js-count-to").each((function(t,e){I()((function(){return(0,o.A)(i()(e))}))}))}},{key:"clawshornsAnalyticsModal",value:function(t){(0,F.A)(t.find(".js-perfectScrollbar"),{suppressScrollX:!0,wheelPropagation:!1})}},{key:"confirmTicketModal",value:function(t){var e=t.find(".js-perfectScrollbar"),n=e[0],r=(0,F.A)(e,{suppressScrollX:!0,wheelPropagation:!1})[n.dataset.psId];new tt(r).init(),(new q).init()}},{key:"welcomeModal",value:function(){i()("body").find(".mfp-bg").addClass("welcome-modal-mfp-bg")}}])}(),ft=function(t){var e=t.find(".mfp-content > div:first");return e.data("modal-id")?e.data("modal-id"):e.attr("id")?e.attr("id").split(" ")[0]:""},ht={enableEscapeKey:!1,closeOnBgClick:!1,showCloseBtn:!1},pt={enableEscapeKey:!1,closeOnBgClick:!1},mt={closeOnBgClick:!0,fixedContentPos:!1,tLoading:(new R.Ay).getForWindow(),closeMarkup:'<a class="mfp-close" title="'+(0,B.tr)("deals.close")+'"><svg class="svg-icon modal-close-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M10.3432 7.5L14.6075 3.23565C15.1308 2.71236 15.1308 1.86392 14.6075 1.3402L13.6598 0.392472C13.1365 -0.130824 12.2881 -0.130824 11.7643 0.392472L7.5 4.65682L3.23565 0.392472C2.71236 -0.130824 1.86392 -0.130824 1.3402 0.392472L0.392472 1.3402C-0.130824 1.86349 -0.130824 2.71193 0.392472 3.23565L4.65682 7.5L0.392472 11.7643C-0.130824 12.2876 -0.130824 13.1361 0.392472 13.6598L1.3402 14.6075C1.86349 15.1308 2.71236 15.1308 3.23565 14.6075L7.5 10.3432L11.7643 14.6075C12.2876 15.1308 13.1365 15.1308 13.6598 14.6075L14.6075 13.6598C15.1308 13.1365 15.1308 12.2881 14.6075 11.7643L10.3432 7.5Z"/>\n</svg></a>',removalDelay:0,mainClass:"my-mfp-zoom-in",callbacks:{beforeOpen:function(){},beforeClose:function(){},open:function(){var t=this.container.find(".js-count-to");t.length&&(0,o.A)(t);var e=this.container.find(".mfp-content > div");!e.hasClass(ut)&&e.addClass(ut),this.modalId=ft(this.container),s.A.publish("".concat(c.iz,".").concat(this.modalId),new h(this.modalId))},close:function(){var t=this.contentContainer.find('input[name="ajaxModalReturnUrl"]');t.length&&(i().magnificPopup.instance.st.callbacks=Object.assign(i().magnificPopup.instance.st.callbacks,{afterClose:function(){(new yt).openWithAjax(t.val())}})),s.A.publish("".concat(c.ub,".").concat(this.modalId),new b(this.modalId))},elementParse:function(){},ajaxContentAdded:function(){if(this.modalId=ft(this.container),this.content.closest(".mfp-content").addClass("ajax-content"),this.content.hasClass("confirm-purchase-modal")){var t=this.container.find(".js-count-to");t.length&&(0,o.A)(t)}this.content.hasClass("achievement-info-modal")&&dt.achievementInfoModal(this.content),this.content.hasClass("exp-info-modal")&&dt.expInfoModal(this.content),this.content.hasClass("unlocked-achievements-modal")&&dt.unlockedAchievementsModal(this.content),this.content.hasClass("clawshorns-analytics-modal")&&dt.clawshornsAnalyticsModal(this.content),this.content.hasClass("welcome-modal")&&dt.welcomeModal(this.content),this.content.hasClass("confirm-ticket-modal")&&dt.confirmTicketModal(this.content);var e=i().magnificPopup.instance.st.dataAttributes,n=void 0===e?{}:e;s.A.publish("".concat(c.iz,".").concat(this.modalId),new h(this.modalId,n))},parseAjax:function(t){try{i()(t.data)}catch(S){t.data="<div>".concat(t.data,"</div>")}var e=i()(t.data);return!e.hasClass(ut)&&e.addClass(ut),t.data=e.length&&null!=e[0]?e[0].outerHTML:"<div>".concat((0,B.tr)("unknown_error"),"</div>"),t}}},yt=function(t){function e(){return at(this,e),et(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&it(t,e)}(e,t),ct(e,[{key:"init",value:function(){return this.options=mt,this.$document=i()(document),this.notify=new H.A({position:$.XC,time:5e3}),this.extend(),this.events(),this.checkUrlModal(),this}},{key:"checkUrlModal",value:function(){var t=this;switch((0,D.A)("mo")){case"phone-save":this.openWithAjax((0,L.A)()+"cabinet/ajax/modal/phone-save-modal");break;case"help":i()('.js-left-sidebar a[href="#sub-menu-support-modal"]').click();break;case"phone-verification":this.openWithAjax((0,L.A)()+"cabinet/ajax/modal/phone-verification-modal");break;case"trading-profile":var e=(0,D.A)("uid");this.openWithAjax((0,L.A)()+"cabinet/ajax/modal/trader-information/"+e);break;case"settings":var n=parseInt((0,D.A)("oc"));this.openWithAjax((0,L.A)()+"cabinet/ajax/modal/settings"+(n?"?oc="+n:""));break;case"google-auth-modal":M.A.request({url:(0,L.A)()+"cabinet/api/2fa/types/google/on",success:function(e){e.modalHtml&&t.openWithHtml(e.modalHtml),e.error&&t.notify.red(e.error)}});break;case"social-trading":I()((function(){var t=document.querySelector(".js-right-sidebar .js-social-trading");t&&t.click()}),1e3);break;case"tournament":try{document.querySelector(".js-right-sidebar .js-tournament").click()}catch(S){}}if(!1!==window.location.href.indexOf("cabinet/my-safe"))switch((0,D.A)("mo")){case"deposit":i()('a[href*="cabinet/ajax/modal/your-safe/deposit"]').trigger("click");break;case"withdrawal":i()('a[href*="cabinet/ajax/modal/your-safe/withdrawal"]').trigger("click")}}},{key:"extend",value:function(){P()({},i().magnificPopup.defaults,this.options,i().magnificPopup.instance._onFocusIn=function(t){if(i()(t.target).hasClass("select2-search__field"))return!0;i().magnificPopup.proto._onFocusIn.call(this,t)})}},{key:"events",value:function(){var t=this;this.$document.on("click",".mfp-ajax-modal",(function(e){var n=i()(e.currentTarget);if(i()(e.target).data("no-mfp"))return!1;var r=n.attr("href")?n.attr("href"):!!n.data("href")&&n.data("href");if(!1!==r){e.preventDefault();var o={dataAttributes:n.data()};void 0!==n.data("mfp-no-close")&&(o=Object.assign({},o,ht)),t.openWithAjax(r,o)}})),this.$document.magnificPopup(P()({},i().magnificPopup.defaults,this.options,{delegate:".mfp-modal",type:"inline"})),this.$document.on("click",".mfp-close-modal",(function(){i().magnificPopup.close()}))}},{key:"close",value:function(){i().magnificPopup.close()}},{key:"openWithAjax",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.noClose&&(e=Object.assign({},e,ht));var n=P()({},i().magnificPopup.defaults,this.options,{items:{src:t,type:"ajax"}},e);n.hasOwnProperty("dataAttributes")&&Object.keys(n.dataAttributes).length>0&&i().ajaxSetup({data:n.dataAttributes,type:"post"}),i().ajaxSetup({beforeSend:function(t){t.setRequestHeader("Isdemo",g.D9),t.setRequestHeader("Istournament",+(0,N.A)("is-tournament")),t.setRequestHeader("Ischart",+(0,N.A)("is-chart"))},complete:function(){var t=i()("video[data-video-autoplay]")[0];void 0!==t&&t.play()}}),i().magnificPopup.open(n)}},{key:"openWithHtml",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){t instanceof i()||(t=i()(t)),!t.hasClass(ut)&&t.addClass(ut),t=t.get(0);var n=P()({},i().magnificPopup.defaults,this.options,{items:{src:t,type:"inline"}},e);i().magnificPopup.open(n)}}},{key:"openWithImage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0!==t.length){var n=P()({},i().magnificPopup.defaults,this.options,{type:"image"},e);t.magnificPopup(n)}}}])}(A)},66429:function(t,e,n){"use strict";n.d(e,{y:function(){return a}});var r=n(83896),i=n(37398),o=n(20768),a=(0,r.xP)({reducerPath:"poApi",baseQuery:(0,i.cw)({baseUrl:(0,o.hX)()}),endpoints:function(t){return{getAnalyticsData:t.query({query:function(){return{url:"/cabinet/ajax/modal/clawshorns-analytics/json",method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}})}}})},77863:function(t,e,n){"use strict";n.d(e,{s:function(){return c}});var r=n(83896),i=n(37398),o=n(20768),a=n(15430),s=n(90873),c=(0,r.xP)({reducerPath:"socialApi",baseQuery:(0,i.cw)({baseUrl:(0,o.hX)()}),endpoints:function(t){return{getTop24Hour:t.query({query:function(){return{url:"/api/social-modal/top-24-hour",method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}}),getTopTrades:t.query({query:function(t){return{url:"/api/social-modal/top-trades-".concat(t?"demo":"live"),method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}}),getCopiedTrades:t.query({query:function(){return{url:"/api/social-modal/my-copy-list",method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}}),getWhoCopyMe:t.query({query:function(){return{url:"/api/social-modal/who-copy-me",method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}}),updateWhoCopyWatchMe:t.mutation({query:function(t){var e=t.action,n=t.type,r=t.uid;return{url:"/api/social-modal/who-".concat(e,"-me/").concat(r,"/").concat(n),method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}},onQueryStarted:function(t,e){var n=t.action,r=t.type,i=t.uid,o=e.dispatch;e.queryFulfilled.then((function(t){var e=t.data;if(!0===(void 0===e?{}:e).status){var l=n===s.nx.COPY;i=parseInt(i,10),o(c.util.updateQueryData(l?"getWhoCopyMe":"getWhoWatchMe",void 0,(function(t){if(r===s.KD.DISALLOW){var e=t.data.list.find((function(t){return parseInt(t.uid,10)===i}));e&&(e.date_created=(0,a.CO)((0,a.v6)()),t.data.blackList.push(e)),t.data.list=t.data.list.filter((function(t){return parseInt(t.uid,10)!==i}))}else r===s.KD.ALLOW&&(t.data.blackList=t.data.blackList.filter((function(t){return parseInt(t.uid,10)!==i})))})))}})).catch((function(){}))}}),getMyWatchList:t.query({query:function(){return{url:"/api/social-modal/my-watch-list?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}}),getWhoWatchMeWatchingMe:t.query({query:function(){return{url:"/api/social-modal/who-watch-me/watching-me?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}}),getWhoWatchMeBlockedWatchers:t.query({query:function(){return{url:"/api/social-modal/who-watch-me/blocked-watchers?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}})}}})},32395:function(t,e,n){"use strict";n.d(e,{S:function(){return a}});var r=n(83896),i=n(37398),o=n(20768),a=(0,r.xP)({reducerPath:"tournamentApi",baseQuery:(0,i.cw)({baseUrl:(0,o.hX)()}),endpoints:function(t){return{getPosition:t.query({query:function(){return{url:"/api/tournaments/position",method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}}),getRankings:t.query({query:function(){return{url:"/api/tournaments/ranking/json",method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}},keepUnusedDataFor:5})}}})},46009:function(t,e,n){"use strict";n.d(e,{AU:function(){return x},Bx:function(){return g},E4:function(){return a},Pg:function(){return b},SQ:function(){return w},WN:function(){return v},Xb:function(){return h},YD:function(){return f},Zt:function(){return u},_A:function(){return m},aB:function(){return p},f4:function(){return j},ih:function(){return c},ip:function(){return d},jC:function(){return y},tu:function(){return l},zg:function(){return s}});var r=n(28683);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a="currency",s="cryptocurrency",c="commodity",l="stock",u="index",d="favorites",f="schedule",h="search",p="help",m="deals",y="profit",v="alphabet",b={ASC:"asc",DESC:"desc"},g=[a,s,c,l,u],w=[a,c],j=o(o(o(o(o({},a,"fa-usd"),s,"fa-btc"),c,"fa-tint"),l,"fa-file-text-o"),u,"fa-file-text-o"),x=function(t){switch(t){case l:return(0,r.tr)("assets.stocks_label");case c:return(0,r.tr)("assets.commodities_label");case a:return(0,r.tr)("assets.currencies_label");case s:return(0,r.tr)("assets.cryptocurrencies_label");case u:return(0,r.tr)("assets.indices_label");case d:return(0,r.tr)("assets.fav")}}},90873:function(t,e,n){"use strict";n.d(e,{$j:function(){return r},KD:function(){return o},nx:function(){return i}});var r={TAB_TOP_RANKED:"tab-top-ranked",TAB_TOP_RANKED_24H:"tab-top-ranked-24h",TAB_TOP_100:"tab-top-100",TAB_SEARCH:"tab-search",TAB_LIST_COPIED_TRADERS:"tab-list-copied-traders",TAB_LIST_OF_TRADERS_WHO_COPY_ME:"tab-list-of-traders-who-copy-me",TAB_LIST_WATCHED_TRADERS:"tab-list-watched-traders",TAB_LIST_OF_TRADERS_WHO_WATCH_ME:"tab-list-of-traders-who-watch-me",TAB_SETTINGS:"tab-settings"},i={COPY:"copy",WATCH:"watch"},o={ALLOW:"allow",DISALLOW:"disallow"}},3594:function(t,e,n){"use strict";n.d(e,{v:function(){return r}});var r={DESCRIPTION:"desc",RATING:"tournaments.rating",REG:"tournaments.reg",REBUY:"tournaments.rebuy"}},43460:function(t,e,n){"use strict";n.d(e,{F:function(){return r}});var r={DISABLED:0,ENABLED_WITH_APPROVE:1,ENABLED:2}},38462:function(t,e,n){"use strict";n.d(e,{Cj:function(){return D},IB:function(){return g},II:function(){return b},Jh:function(){return k},KZ:function(){return _},Lo:function(){return S},Lq:function(){return I},NG:function(){return A},Nz:function(){return M},OC:function(){return p},Ry:function(){return C},V4:function(){return w},Wu:function(){return L},_8:function(){return N},_H:function(){return P},bk:function(){return y},bp:function(){return h},fe:function(){return u},gY:function(){return T},gz:function(){return v},hQ:function(){return m},ku:function(){return O},sB:function(){return d},sS:function(){return z},ss:function(){return j},tw:function(){return E},vr:function(){return l},xx:function(){return f},yf:function(){return R},zQ:function(){return G},zk:function(){return x}});var r=n(16953),i=n(75054),o=n(71025),a=n(59621),s=n(48226),c=n(44236),l="HISTORY_SUCCESS_LOADED",u="CHANGE_CURRENT_DEAL_AMOUNT",d="CHANGE_PERCENT_AMOUNT",f="SAVE_PERCENT_AMOUNT",h="CHANGE_ASSET_TO_ACTIVE",p="CHANGE_CHART_ZOOM",m="ZOOM_BUTTON_CLICKED",y="ZOOM_BUTTON_READY",v="CHANGE_RATING_WIDGET",b="HIDE_CHART",g="SUBSCRIBE_MARKET_FORECAST",w="UNSUBSCRIBE_MARKET_FORECAST",j="Chart/Enable autoscroll",x="Chart/Change amount type",_="Chart/Change trade panel visibility",S="Chart/Change grid snap",O="Chart/Changed date range seconds",k="Chart/Changed date range unforce",T="Chart/Changed size",A="Chart/Changed show area",C="Chart/Fix quick timeframe",P="Chart/Set quick timeframe",E="Chart/Auto-offset enable",I="Chart/Auto-offset period",N="Chart/Amount multiplier",D=["chart-1","chart-2","chart-3","chart-4"],L={CLICKED_PLUS:"CLICKED_PLUS",CLICKED_MINUS:"CLICKED_MINUS",READY:"READY",RESTORE:"RESTORE"},M=[60,120,180,300,600,900,1800,2700,3600,7200,10800,14400],R={PERCENT:"percent",CURRENCY:"currency"};var B,H,$,F,W,U=(0,a.yq)()?10:(B=parseFloat((0,i.A)("user-balance")),H=(0,s.jp)({amount:1,currency:(0,i.A)("currency_code")}),$=isNaN(B)?H:Math.ceil(B/10),F=(0,c.zE)(o.ol.VIP_ELITE),W=(0,s.jp)({amount:F,currency:(0,i.A)("currency_code")}),$<H&&($=H),$>W&&($=W),$),V={};Object.values(r.M).forEach((function(t){return V[t]=3.5}));var G={"+S30":30,"+M1":60,"+M2":120,"+M3":180,"+M5":300,"+M30":1800},z={isQuickOption:!0,isCalendarMode:!1,isVisible:!0,chartType:r.M.Line,showArea:!0,chartPeriod:r.YE.M1,chartPeriodRaw:r.YE.M1,candlesTimer:!1,symbol:null,amountType:R.CURRENCY,percentAmount:1,demoDealAmount:10,liveDealAmount:U,fastTimeframe:o.EW.MIN_TIMEFRAME,fastCloseAt:0,enabledTradeMonitor:!1,enabledRatingWidget:!0,enabledAutoscroll:!0,enabledGridSnap:!0,zoom:V,zoomStatus:L.READY,minimizedTradePanel:!1,dateRangeMinutes:0,dateRangeMinutesRaw:0,dateRangeMinutesForce:!1,chartSize:{width:0,height:0},enableQuickAutoOffset:!0,quickAutoOffsetValue:G["+S30"],amountMultiplier:2}},1758:function(t,e,n){"use strict";n.d(e,{$9:function(){return s},$k:function(){return w},AI:function(){return r},In:function(){return b},KO:function(){return g},Lu:function(){return x},Ox:function(){return j},Q5:function(){return v},Si:function(){return y},WX:function(){return f},fG:function(){return a},i0:function(){return o},jC:function(){return i},jV:function(){return h},k:function(){return d},l1:function(){return c},pt:function(){return m},sh:function(){return l},vb:function(){return p},w3:function(){return u}});var r="open-orders",i="support",o="achievements",a="pending-withdrawal",s="pending-orders",c="gifts",l="purchases",u="mining",d="gems-lottery",f="chat",h="active-tournaments",p="user-shards",m="social-trading-list-of-copied",y="expresses",v="mining-licence-count",b="group-market",g="group-achievements",w="group-help",j="group-chat-vip",x="indicator-mining-licence"},47180:function(t,e,n){"use strict";n.d(e,{Gp:function(){return p},Jq:function(){return o},Ls:function(){return u},MY:function(){return a},Rr:function(){return d},SF:function(){return f},VP:function(){return h},Yz:function(){return l},Zl:function(){return m},e6:function(){return i},eb:function(){return c},ib:function(){return r},or:function(){return y},xD:function(){return s}});var r="CANCEL_DEAL",i="OPEN_DEAL",o="call",a="put",s="CHANGE_OPENED_DEALS",c="CHANGE_CLOSED_DEALS",l="SUCCESS_OPEN_DEAL",u="SUCCESS_CLOSE_DEALS",d="SUCCESS_COPY_DEAL",f="SUCCESS_CANCEL_DEAL",h="MARK_DEALS_AS_OLD",p="UPDATE_OPENED_DEAL_COPY_USER_INFO",m="UPDATE_CLOSED_DEAL_COPY_USER_INFO",y="SUCCESS_ROLLOVER"},28783:function(t,e,n){"use strict";n.d(e,{AY:function(){return r},Bd:function(){return v},DT:function(){return w},EV:function(){return a},FR:function(){return d},Li:function(){return o},MD:function(){return f},Mt:function(){return l},OU:function(){return x},PG:function(){return c},UP:function(){return j},YS:function(){return s},Yh:function(){return b},Z:function(){return y},h:function(){return h},m3:function(){return i},qW:function(){return u},tH:function(){return g},xp:function(){return p},yI:function(){return m}});var r={NEW:0,WIN:1,LOOSE:2,REFUND:3},i={PROCESSING:-1,NEW:0,WIN:1,LOOSE:2,REFUND:3},o={NEW:"new",OPENED:"opened",CLOSED:"closed",HELP:"help"},a="ADD_NEW_EXPRESS_ITEM",s="OPEN_EXPRESS",c="ADD_OPENED_EXPRESS",l="REMOVE_EXPRESS_ITEM",u="CLOSE_EXPRESS",d="CHANGE_EXPRESS_AMOUNT",f="CLOSE_EXPRESS_DEALS",h="RESTORE_LAST_EXPRESS",p="SHOW_OPENED_EXPRESS",m="LOAD_OPENED_EXPRESSES",y="LOAD_CLOSED_EXPRESSES",v="CHANGE_ACTIVE_TAB",b="CHANGE_OPENED_EXPRESS",g="UPDATE_OPENED_EXPRESS",w="CHANGE_SELECTED_ASSET_CATEGORY",j="CHANGE_SUBSCRIBED_SYMBOLS",x="SET_CLOSED_EXPRESSES_REQUESTED"},96261:function(t,e,n){"use strict";n.d(e,{Bs:function(){return l},Ck:function(){return h},EF:function(){return a},FE:function(){return m},HA:function(){return p},IQ:function(){return b},Ne:function(){return u},Qc:function(){return y},TD:function(){return d},U_:function(){return g},Vj:function(){return v},Wm:function(){return s},Y$:function(){return c},bD:function(){return f},de:function(){return i},kI:function(){return r},kN:function(){return w},zF:function(){return o}});var r="USER_SUCCESS_AUTHORIZED",i="USER_UPDATE_BALANCE",o="WINDOW_LAYOUT_BODY_CLASS_CHANGED",a="CHANGE_ASSET_SORT_TYPE",s="CLOSE_FIRST_DEAL_PANEL",c="CHANGE_ENABLED_HOT_KEYS",l="CHANGE_ENABLE_SOCIAL_TRADES",u="CHANGE_ENABLED_WATCHLISTING_OF_COPIED_BETS",d="CHANGE_SHOW_RATING",f="CHANGE_HIDE_MY_PROFILE_WATCHING",h="CHANGE_CHART_WATCHED_USERS",p="CHANGE_THEME",m="GLOBAL/CHANGE_COLLAPSE_INDICATORS_INFO",y="GLOBAL/HIDE_HOTKEYS_INFO",v="GLOBAL/Change fields",b="GLOBAL/Save fields",g="CHANGE_COUNTER",w="Demo/Add success trades count"},5393:function(t,e,n){"use strict";var r;function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{WA:function(){return c},rs:function(){return a},ue:function(){return s}});var a={FULL:"FULL",V2:"VERTICAL_2",H2:"HORIZONTAL_2",T2B1:"TOP_2_BOTTOM_1",T1B2:"TOP_1_BOTTOM_2",T2B2:"TOP_2_BOTTOM_2",L2R1:"LEFT_2_RIGHT_1",L1R2:"LEFT_1_RIGHT_2",V3:"VERTICAL_3",T3B1:"TOP_3_BOTTOM_1",T1B3:"TOP_1_BOTTOM_3",L1R3:"LEFT_1_RIGHT_3",L3R1:"LEFT_3_RIGHT_1"},s=(o(o(o(o(o(o(o(o(o(o(r={},a.FULL,1),a.V2,2),a.H2,2),a.T2B1,3),a.T1B2,3),a.L2R1,3),a.L1R2,3),a.V3,3),a.T2B2,4),a.T3B1,4),o(o(o(r,a.T1B3,4),a.L1R3,4),a.L3R1,4)),c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(var n in s)if(s[n]===t)return n;return e}},17949:function(t,e,n){"use strict";n.d(e,{j:function(){return r}});var r="ADD_MARKET_FORECAST"},27673:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{J2:function(){return s},Mw:function(){return c},NO:function(){return o},cs:function(){return a},lx:function(){return l},n5:function(){return u}});var o="CHANGE_MODAL_STATE",a="CHANGE_MODAL_STATES",s="CLOSE_OTHER_MODALS",c="CLOSE_ALL_MODALS",l={DEALS:"trades-modal",DEALS_WIDGET:"trades-modal-widget",SIGNALS:"signals-modal",SIGNALS_WIDGET:"signals-modal-widget",SOCIAL_TRADING:"social-modal",PENDING_ORDERS:"pending-orders-modal",EXPRESSES:"express-modal",TOURNAMENTS:"tournaments-modal",TOURNAMENT_DETAILS:"tournament-details",TOURNAMENT_HISTORY:"tournament-history",TOURNAMENT_RATINGS:"tournament-rating",ACCOUNT:"account-modal",PLATFORMS:"platforms-modal",ASSETS_LIST:"assets-list",TRADER_CHAT:"trader-chat",LEFT_TRADER_CHAT:"left-trader-chat",DRAWING_SETTINGS_PANEL:"drawing-settings-panel",ANALYTICS_MODAL:"analytics-modal",INDICATORS_MODAL:"indicators-modal",DRAWINGS_MODAL:"drawings-modal",CHART_SETTINGS:"chart-settings",TRADING_MODAL:"trading-modal",FINANCE_MODAL:"finance-modal",PROFILE_MODAL:"profile-modal",MARKET_MODAL:"market-modal",ACHIEVEMENTS_MODAL:"achievements-modal",SUPPORT_MODAL:"support-modal",ONLY_REGISTERED:"only-registered",ONLY_REAL_TRADING:"only-real-trading",INTRODUCTION_GUIDE_MODAL:"introduction-guide-modal",FIRST_FAIL_MODAL:"first-fail-modal",GOOD_JOB_MODAL:"good-job-modal",TUTORIAL_1_MODAL:"tutorial_1",AI_MODAL:"ai_trading",AI_TRADING_INFO:"ai_trading_info",TRADE_AND_UPGRADE:"trade_and_upgrade",REPEAT_MAX_DEPOSIT:"repeat_max_deposit",TRADER_BOX:"trader_box_modal",ACTIVATE_ISLAMIC:"activate_islamic",PROMO_CODE_MOD_50:"promo_code_mod_50",MARKET_WATCH:"market_watch",WELCOME:"welcome",MULTI_CURRENCY_HOW_TO:"multi_currency_how_to",WELCOME_BONUS:"welcome_bonus",WEBVIEW_CONDITION_4_POPUP:"webview_condition_4_popup",WELCOME_BACK_OCTOBER_EXP:"welcome_back_october_exp",EARTH_2025:"earth_2025"},u=i(i(i(i(i(i(i(i(i({},l.DEALS,!1),l.SIGNALS,!1),l.SOCIAL_TRADING,!1),l.EXPRESSES,!1),l.TOURNAMENTS,!1),l.TOURNAMENT_DETAILS,!1),l.TOURNAMENT_HISTORY,!1),l.PENDING_ORDERS,!1),l.ANALYTICS_MODAL,!1)},24374:function(t,e,n){"use strict";n.d(e,{PO:function(){return a},TT:function(){return r},kv:function(){return i},nR:function(){return o}});var r="ss",i="us",o={60:"M1",120:"M2",180:"M3",300:"M5",600:"M10",900:"M15",1800:"M30",2700:"M45",3600:"H1",7200:"H2",10800:"H3",14400:"H4"},a="right1"},13431:function(t,e,n){"use strict";n.d(e,{m:function(){return r}});var r={ALL_TOURNAMENTS:"ALL_TOURNAMENTS",STATISTICS:"STATISTICS"}},25741:function(t,e,n){"use strict";n.d(e,{By:function(){return h},S9:function(){return l},T8:function(){return r},U6:function(){return m},Yf:function(){return f},db:function(){return u},e7:function(){return b},gi:function(){return y},m4:function(){return v},nT:function(){return s},oY:function(){return i},p3:function(){return a},r9:function(){return d},rP:function(){return o},vJ:function(){return c},zZ:function(){return p}});var r="CHANGE_CHART_TYPE",i="CHANGE_CHART_PERIOD",o="CHANGE_CHART_CANDLES_TIMER",a="CHART_SETTINGS_LOADED",s="CHANGE_CURRENT_TIME",c="CHANGE_ENABLE_TOOLTIP_MESSAGE",l="CHANGE_SYMBOL",u="CHANGE_ASSETS",d="CHANGE_WINDOW_LAYOUT",f="CHANGE_INFO_ICON_STATE",h="CHANGE_EXISTS_ACTIVE_BONUS",p="REMOVE_BONUS",m="MOVE_SIGNALS_ICON_TO_LEFT_TOP",y="Chart/Change quick timeframe",v="Chart/Change quick close at",b="Chart/Change quick mode"},58342:function(t,e,n){"use strict";n.d(e,{Sp:function(){return l},Wc:function(){return d},an:function(){return s},cH:function(){return u},jA:function(){return c},nn:function(){return a}});var r=n(71025),i=n(85727),o=n.n(i);function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=r.jJ.find((function(t){return t.name===e})),o=t+(void 0!==i?i.payout:0),a=n>0?n:r.Ay.MAX_PAYOUT;return Math.min(a,o)}function s(t){return t.split("/").map((function(t){return t.toLowerCase()}))}function c(t){return-1!==t.indexOf("_otc")}function l(t){var e=t.asset;return e?e.minQuickTimeframe:r.EW.DEFAULT_TIMEFRAME}function u(t){var e=t.timeframe,n=t.max,r=void 0===n?14400:n,i=l({asset:t.asset}),a=parseInt(e,10);return isNaN(a)?i:o()(a,i,r)}function d(t){var e=t.asset,n=t.isIslamic,r=t.country,i=t.geoIPCountry,o=t.isProfileVerified,a=t.isDisabledOTCTrading,s=void 0!==a&&a,l=t.isDisabledMarketTrading,u=void 0!==l&&l,d=t.disabledSymbols,f=void 0===d?[]:d;if(s&&c(e.symbol))return!1;if(u&&!c(e.symbol))return!1;if(f.includes(e.symbol))return!1;var h=e.symbol.replace("_otc","");return(!n||!["NFLX","#MSFT","#FB","TWITTER","AUDNZD","NZDUSD","NZDJPY","EURNZD","USDPHP","JODCNY","EURGBP","GBPAUD","GBPJPY","GBPUSD","GBPCAD","GBPCHF","EURGBP","GBPJPY"].includes(h)&&!function(t){return"cryptocurrency"===t.type}(e))&&("IRRUSD_otc"===e.symbol?"IR"===r&&o:"SYPUSD_otc"===e.symbol?"SY"===r&&o:"UA"!==i&&"UA"!==r||!e.symbol.includes("RUB"))}},18437:function(t,e,n){"use strict";n.d(e,{gb:function(){return a},iC:function(){return o}});var r=n(96271);function i(t){return"cm_".concat(t)}function o(t){return Boolean(r.A.cookies.find(i(t),0,Number))}function a(t,e){return r.A.cookies.set(i(t),e?"1":"0")}},98576:function(t,e,n){"use strict";n.d(e,{Co:function(){return p},Jw:function(){return l},L5:function(){return c},O7:function(){return d},PP:function(){return w},S7:function(){return s},T$:function(){return f},ZN:function(){return b},dm:function(){return u},eY:function(){return m},nT:function(){return a},tY:function(){return y},u8:function(){return v},y0:function(){return g}});var r=n(48226),i=n(75887),o=n(64178);function a(t){return 0===t}function s(t){return 100===t.optionType}function c(t){return 0===t.optionType||s(t)}function l(t){var e=t.amount,n=t.price,r=t.openPrice,i=t.isCall,o=t.percentProfit,a=0;return(i&&n>r||!i&&n<r)&&(a=e*o/100),Math.round(100*a)/100}function u(t){var e=t.amount,n=t.price,r=t.openPrice,i=t.isCall,o=t.percentProfit;if(n===r)return e;var a=0;return(i&&n>r||!i&&n<r)&&(a=e+e*o/100),Math.round(100*a)/100}function d(t){var e=t.map((function(t){return t/100+1})).reduce((function(t,e){return t*e}),1);return(0,r.xr)(e)}function f(t){return Math.trunc(100*(t-1))}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=t.toString().split(e);return void 0!==n[1]?n[1]:""}function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=h(t),i=h(e),o=null!==n?n:Math.max(r.length,i.length);return Math.round(e*Math.pow(10,o))-Math.round(t*Math.pow(10,o))}function m(t){var e=t.refundTimestamp,n=t.openPrice,r=t.closePrice;return null!=e?n:r}function y(t){var e=t.refundTimestamp,n=t.closeTimestamp;return null!=e?e:n}function v(t){return null!=t.refundTimestamp}function b(t){var e=t.amount,n=t.profit;return Number((e+n).toFixed(2))}var g=function(t){return parseInt(t,10)===i.g.BY_TIME},w=function(t){var e=String(t.clientX),n=String(t.clientY),r=e.substring(e.length-2),i=n.substring(n.length-2);return Number("1".concat(r).concat(i,"0").concat((0,o.A)(10,99)))}},48226:function(t,e,n){"use strict";n.d(e,{D3:function(){return g},H1:function(){return h},H3:function(){return y},He:function(){return v},Vt:function(){return m},XT:function(){return f},jp:function(){return b},xr:function(){return p}});var r=n(71025),i=n(85727),o=n.n(i),a=n(75054),s=n(41608);var c=1,l=1e3,u=.01,d=100,f=function(t){var e=t.amount,n=t.positive,r=void 0===n||n,i=t.min,a=void 0===i?c:i,s=t.max,u=void 0===s?l:s,d=1;r?e>=10&&e<50?d=5:e>=50&&e<100?d=10:e>=100&&e<300?d=50:e>=300&&(d=100):e>10&&e<=50?d=5:e>50&&e<=100?d=10:e>100&&e<=300?d=50:e>300&&(d=100);var f=r?e+d:e-d;return o()(p(f),a,u)},h=function(t){var e=t.amount,n=t.positive,r=void 0===n||n,i=t.min,a=void 0===i?u:i,s=t.max,c=void 0===s?d:s,l=1;r?e>=15&&e<30?l=5:e>=30&&e<65?l=10:e>=65&&(l=15):e>15&&e<=30?l=5:e>30&&e<=65?l=10:e>65&&(l=15);var f=r?e+l:e-l;return o()(p(f,2),a,c)},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Number(t).toFixed(e);return n?r:+r};function m(t,e){return t<(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)?.01:Math.min(100,p(100*e/t,2))}function y(t){return t<(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)?.01:Math.max(.01,p(1/t*100,2))}function v(t){if("USD"===t||t===r.Ay.TOURNAMENT_CURRENCY_CODE)return 1;var e=g(t),n=(0,s.aZ)(t);return p((0,s.gR)(1*e,!0),n)}function b(t){var e=t.amount,n=t.currency;if("USD"===n||n===r.Ay.TOURNAMENT_CURRENCY_CODE)return e;var i=g(n),o=(0,s.aZ)(n);return p((0,s.gR)(e*i,!1),o)}function g(t){return function(t){var e=t.currency,n=t.rates,r=void 0===n?null:n;return r||(r=(0,a.A)("rates")),r&&r[e]?r[e]:(console.error("Rates not found"),1)}({currency:t,rates:(0,a.A)("rates_beauty")})}},27034:function(t,e,n){"use strict";function r(t){var e=t.closeTime,n=t.purchaseTime;return{fromTimestamp:e-parseInt(n),toTimestamp:e}}function i(t,e){return 60*Math.ceil((e-t-30)/60)}n.d(e,{F:function(){return i},w:function(){return r}})},47348:function(t,e,n){"use strict";n.d(e,{MK:function(){return c},WU:function(){return a},_2:function(){return o},h0:function(){return s}});var r=n(5393),i=["colors","show"];function o(t,e){switch(t){case r.rs.V2:return 2;case r.rs.H2:return 1;case r.rs.T2B1:return 2===e?1:2;case r.rs.T1B2:return 1===e?1:2;case r.rs.T2B2:case r.rs.L2R1:case r.rs.L1R2:return 2;case r.rs.V3:return 1;case r.rs.T3B1:return 4===e?1:3;case r.rs.T1B3:return 1===e?1:3;case r.rs.L1R3:case r.rs.L3R1:return 2}return 1}function a(t,e){switch(t){case r.rs.V2:case r.rs.V3:return 1;case r.rs.L2R1:return 3===e?1:2;case r.rs.L1R2:return 1===e?1:2;case r.rs.H2:case r.rs.T2B1:case r.rs.T1B2:case r.rs.T2B2:case r.rs.T3B1:case r.rs.T1B3:return 2;case r.rs.L1R3:return 1===e?1:3;case r.rs.L3R1:return 4===e?1:3}return 1}function s(t){return t===r.rs.FULL}function c(t){t.colors,t.show;var e=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,i);return Object.keys(e).length>0}},81146:function(t,e,n){"use strict";n.d(e,{Sx:function(){return f},UI:function(){return l},fr:function(){return u},lF:function(){return d}});var r=n(28683),i=n(24374);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var a,s,c,l=(a={up1:{label:(0,r.tr)("signals.buy_signal"),type:"buy",class:"price-up",signal:"up1"},up2:{label:(0,r.tr)("signals.strong_buy_signal"),type:"active-buy",class:"price-up",signal:"up2"},up3:{label:(0,r.tr)("signals.strong_buy_signal"),type:"active-buy",class:"price-up",signal:"up3"},down1:{label:(0,r.tr)("signals.sell_signal"),type:"sell",class:"price-down",signal:"down1"},down2:{label:(0,r.tr)("signals.strong_sell_signal"),type:"active-sell",class:"price-down",signal:"down2"},down3:{label:(0,r.tr)("signals.strong_sell_signal"),type:"active-sell",class:"price-down",signal:"down3"}},s=i.PO,c={label:(0,r.tr)("signals.neutral_signal"),type:"neutral",class:"",signal:i.PO},(s=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(s))in a?Object.defineProperty(a,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[s]=c,a),u=function(t){switch(t){case 1:return"up1";case 2:return"up2";case 3:return"down1";case 4:return"down2"}return i.PO},d=function(t,e){return t+e-5};function f(t){var e=t.symbol,n=t.timeframe,r=t.time;return"".concat(r+n,"-").concat(e,"-").concat(n)}},15430:function(t,e,n){"use strict";n.d(e,{CA:function(){return A},CO:function(){return B},GJ:function(){return O},Hv:function(){return k},Im:function(){return D},M7:function(){return b},Pw:function(){return R},Rt:function(){return m},Ss:function(){return N},Ux:function(){return H},VT:function(){return C},Z2:function(){return I},bU:function(){return M},cR:function(){return E},eD:function(){return g},hx:function(){return S},lQ:function(){return v},ow:function(){return P},pZ:function(){return y},uy:function(){return x},v6:function(){return j},vh:function(){return T},yd:function(){return $}});var r=n(66794),i=n(27034),o=n(75054),a=n(90619);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function h(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var m=function(t){return t>3600?(0,r.Xd)(t):(0,r.BR)(t)},y=function(t){var e=Math.floor(t/60),n={period:0,prefix:""};return t<60?(n.period=t,n.prefix="S"):e<60?(n.period=e,n.prefix="M"):e>=60&&e<1440?(n.period=Math.floor(e/60),n.prefix="H"):e>=1440&&e<10080&&(n.period=Math.floor(e/60/24),n.prefix="D"),n};function v(t){var e=t.openTimestamp,n=t.closeTimestamp,r=t.isFast?n-e:(0,i.F)(e,n);return y(r)}Date.now;function b(t){var e;if("string"==typeof t&&/^(\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2})$/.test(t)){var n=t.split(/[- :]/);n[1]--,e=function(t,e,n){if(f())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&d(i,n.prototype),i}(Date,h(n))}else e=new Date(t);return e.getTime()/1e3-60*e.getTimezoneOffset()}function g(t){return t%86400}function w(t){var e,n=t.timestamp,r=t.userTimeZone,i=void 0===r?0:r,o=t.serverTimeZone,a=void 0===o?120:o;return void 0!==n?(e=new Date(n)).setTime(e.getTime()+60*(i-a)*1e3):(e=new Date).setTime(e.getTime()+60*i*1e3),{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear(),hour:e.getUTCHours(),min:e.getUTCMinutes(),sec:e.getUTCSeconds(),ms:e.getUTCMilliseconds(),timestamp:e.getTime()/1e3}}function j(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=w({userTimeZone:x(),serverTimeZone:_()});return t?l(l({},e),{},{day:(0,a.wl)(e.day),month:(0,a.wl)(e.month),hour:(0,a.wl)(e.hour),min:(0,a.wl)(e.min),sec:(0,a.wl)(e.sec)}):e}function x(){var t=(0,o.A)("userTimeZoneOffset");return null==t?-1*(new Date).getTimezoneOffset():t}function _(){var t=(0,o.A)("serverTimeZoneOffset");return null==t?120:t}function S(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=w({timestamp:1e3*t,userTimeZone:x(),serverTimeZone:_()});return e?l(l({},n),{},{day:(0,a.wl)(n.day),month:(0,a.wl)(n.month),hour:(0,a.wl)(n.hour),min:(0,a.wl)(n.min),sec:(0,a.wl)(n.sec)}):n}function O(t){var e=S(t);return"".concat(e.hour,":").concat(e.min)}function k(t){var e=S(t);return"".concat(e.hour,":").concat(e.min,":").concat(e.sec,".").concat(e.ms)}function T(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=S(t),r=e||"00"!==n.sec&&0!==n.sec?":".concat(n.sec):"";return"".concat(n.hour,":").concat(n.min).concat(r)}function A(t){var e=S(t);return"".concat(e.day,".").concat(e.month)}function C(t){var e=S(t);return"".concat(e.day,".").concat(e.month,".").concat(e.year," ").concat(e.hour,":").concat(e.min)}function P(t){var e=S(t);return"".concat(e.day,".").concat(e.month,".").concat(e.year," ").concat(e.hour,":").concat(e.min,":").concat(e.sec)}function E(t){return S(t).timestamp}function I(){return N(x())}function N(t){if(t%60==0)return t/60;var e=Math.floor(Math.abs(t/60)),n=Math.abs(t%60);return"".concat(t<0?"-":"").concat(e).concat(n>0?":".concat(n):"".concat(n))}function D(t){return function(t,e,n){return t-60*e+60*n}(t,x(),_())}function L(t,e){void 0===e&&(e=x());var n=N(e);return"".concat(t," UTC").concat(e>=0?"+":"").concat(n)}function M(t){return function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("string"!=typeof t)return;var i=t.replace(/-/g,"/"),o=new Date(L(i,e));o.setTime(o.getTime()+60*n*1e3);var s=o.getUTCDate(),c=o.getUTCMonth()+1,l=o.getUTCFullYear(),u=o.getUTCHours(),d=o.getUTCMinutes(),f=o.getUTCSeconds(),h=o.getUTCMilliseconds();return{day:r?(0,a.wl)(s):s,month:r?(0,a.wl)(c):c,year:l,hour:r?(0,a.wl)(u):u,min:r?(0,a.wl)(d):d,sec:r?(0,a.wl)(f):f,ms:h,timestamp:o.getTime()/1e3}}(t,x(),_())}function R(t){return function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("string"!=typeof t)return;var i=t.replace(/-/g,"/"),o=new Date(L(i,n));o.setTime(o.getTime()+60*e*1e3);var s=o.getUTCDate(),c=o.getUTCMonth()+1,l=o.getUTCFullYear(),u=o.getUTCHours(),d=o.getUTCMinutes(),f=o.getUTCSeconds(),h=o.getUTCMilliseconds();return{day:r?(0,a.wl)(s):s,month:r?(0,a.wl)(c):c,year:l,hour:r?(0,a.wl)(u):u,min:r?(0,a.wl)(d):d,sec:r?(0,a.wl)(f):f,ms:h,timestamp:o.getTime()/1e3}}(t,x(),_())}function B(t){var e="".concat(t.year,"-").concat(t.month,"-").concat(t.day),n="".concat(t.hour,":").concat(t.min,":").concat(t.sec);return"".concat(e," ").concat(n)}function H(t){var e="".concat(t.day,".").concat(t.month,".").concat(t.year),n="".concat(t.hour,":").concat(t.min,":").concat(t.sec);return"".concat(e," ").concat(n)}function $(t){return"".concat(t.hour,":").concat(t.min,":").concat(t.sec)}},44236:function(t,e,n){"use strict";n.d(e,{$h:function(){return s},Ew:function(){return c},HI:function(){return i},h7:function(){return o},p3:function(){return l},zE:function(){return a}});var r=n(71025),i=function(t){return t!==r.ol.BEGINNER_1&&t!==r.ol.BEGINNER_2},o=function(t,e){var n=r.jJ.find((function(t){return t.name===e}));if(!n)return 0;var i=n.depositsSum-t;return i<0?0:Math.ceil(i)},a=function(t){var e=r.jJ.find((function(e){return e.name===t}));return void 0!==e?e.maxOpenAmount:1e3},s=function(t){var e=r.jJ.find((function(e){return e.name===t}));return void 0!==e?e.payout:0},c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=Math.min(t,e);return r<n?n:r},l=function(t){return(t=parseInt(t,10))===r.ol.VIP||t===r.ol.VIP_ELITE}},59621:function(t,e,n){"use strict";n.d(e,{Np:function(){return u},Z5:function(){return l},hP:function(){return o},lM:function(){return s},p:function(){return c},v6:function(){return a},yq:function(){return i}});var r=n(75054);function i(){return 1==+(0,r.A)("is-tournament")}function o(){return 1==+(0,r.A)("is-mobile-version")}function a(){return(0,r.A)("uid")}function s(){return(0,r.A)("geoip-country")}function c(){return 1==+(0,r.A)("is-mt5")}function l(){return 1==+(0,r.A)("is-try-demo")}function u(){return 1==+(0,r.A)("is-demo")}},24240:function(t,e,n){"use strict";n.d(e,{Ff:function(){return x},o1:function(){return j}});var r=n(25632),i=n.n(r),o=n(82754),a=n(83393),s=n.n(a),c=n(24319),l=n.n(c);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}var d=["assetId","chartId","requestId","type","symbol","copySettings"],f=["chartId","drawingId"];function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var v=function(t,e){e.payload.forEach((function(e){var n=e.chartId,r=e.drawingId,i=y(e,f);if(t.allIds.includes(r)&&t.byId[r].chartId===n){var o=t.byId[r].points,a=o.findIndex((function(t){return t.point===i.point}));-1===a?o.push(p({},i)):o[a]=p(p({},o[a]),i)}}))},b=function(t,e){var n=e.payload.drawingId;t.byId=l()(t.byId,n),t.allIds=Object.keys(t.byId),t.selectedIds=t.selectedIds.filter((function(e){return t.allIds.includes(e)}))};function g(t,e){var n=String(e.id);t.byId[n]=e,t.allIds.includes(n)||t.allIds.push(n)}var w=(0,o.Z0)({name:"drawings",initialState:{byId:{},allIds:[],selectedIds:[]},reducers:{add:function(t,e){var n=e.payload,r=n.assetId,i=n.chartId,o=n.requestId,a=n.type,s=n.symbol,c=n.copySettings,l=void 0===c?[]:c,u=y(n,d);g(t,{id:o,chartId:i,assetId:r,symbol:s,type:parseInt(a,10),settings:u,isLocked:!1,points:[],copySettings:l})},addSuccess:function(t,e){var n=e.payload,r=n.requestId,i=n.id;if(i=String(i),!t.allIds.includes(r))return t;var o=t.allIds.findIndex((function(t){return t===r}));t.allIds.splice(o,1),t.allIds.includes(i)||t.allIds.push(i),t.byId[i]=p(p({},t.byId[r]),{},{id:i,requestId:r}),delete t.byId[r];var a=t.selectedIds.findIndex((function(t){return t===r}));-1!==a&&(t.selectedIds.splice(a,1),t.selectedIds.includes(i)||t.selectedIds.push(i))},addFail:function(t,e){var n=e.payload.requestId;if(!t.allIds.includes(n))return t;t.byId=l()(t.byId,n),t.allIds=Object.keys(t.byId),t.selectedIds=t.selectedIds.filter((function(e){return t.allIds.includes(e)}))},load:function(t,e){e.payload.list.forEach((function(e){return g(t,e)}))},edit:function(t,e){var n=e.payload,r=n.id,o=n.settings;t.allIds.includes(r)&&(t.byId[r].settings=i()({},t.byId[r].settings,o))},pointEdit:function(t,e){v(t,{payload:[e.payload]})},pointsEdit:v,removeAllInChart:function(t,e){var n=e.payload,r=n.chartId,i=n.assetId;t.byId=s()(t.byId,(function(t){return t.chartId===r&&t.assetId===i})),t.allIds=Object.keys(t.byId),t.selectedIds=[]},remove:b,removeSuccess:function(t,e){return b(t,e)},select:function(t,e){var n=e.payload;if(!t.selectedIds.includes(n)&&t.allIds.includes(n)){var r=t.byId[n].chartId,i=[n];t.selectedIds.forEach((function(e){var n=t.byId[e].chartId;r===n&&i.push(e)})),t.selectedIds=i}},deselect:function(t,e){var n=e.payload;t.selectedIds.includes(n)&&t.allIds.includes(n)&&(t.selectedIds=t.selectedIds.filter((function(t){return n!==t})))},deselectAll:function(t){t.selectedIds=[]},changeSelected:function(t,e){var n=e.payload;t.selectedIds.forEach((function(e){var r=t.byId[e].settings.lines,i=void 0===r?{}:r,o=Object.keys(i);o.length>0&&Object.keys(n).forEach((function(r){o.forEach((function(i){Object.keys(t.byId[e].settings.lines[i]).includes(r)&&(t.byId[e].settings.lines[i][r]=n[r])}))}))}))},removeSelected:function(t){t.byId=l()(t.byId,t.selectedIds),t.allIds=Object.keys(t.byId),t.selectedIds=[]},removeAll:function(t){t.byId={},t.allIds=[],t.selectedIds=[]},lock:function(t,e){var n=e.payload,r=n.ids,i=n.value;t.allIds.filter((function(t){return r.includes(t)})).forEach((function(e){return t.byId[e].isLocked=i}))}}}),j={add:w.actions.add,addSuccess:w.actions.addSuccess,addFail:w.actions.addFail,load:w.actions.load,edit:w.actions.edit,pointEdit:w.actions.pointEdit,pointsEdit:w.actions.pointsEdit,removeAllInChart:w.actions.removeAllInChart,remove:w.actions.remove,removeSuccess:w.actions.removeSuccess,select:w.actions.select,deselect:w.actions.deselect,deselectAll:w.actions.deselectAll,changeSelected:w.actions.changeSelected,removeSelected:w.actions.removeSelected,removeAll:w.actions.removeAll,lock:w.actions.lock},x=w.reducer},81200:function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{F:function(){return c},o:function(){return s}});var o=function(t,e){t.list=e.payload},a=(0,n(82754).Z0)({name:"favorites",initialState:{list:[]},reducers:{load:o,add:function(t,e){t.list.includes(e.payload)||(t.list=[e.payload].concat(r(t.list)))},remove:function(t,e){t.list=t.list.filter((function(t){return t!==e.payload}))},change:o}}),s={load:a.actions.load,add:a.actions.add,remove:a.actions.remove,change:a.actions.change},c=a.reducer},25703:function(t,e,n){"use strict";n.d(e,{Ff:function(){return b},o1:function(){return v}});var r=n(82754),i=n(24319),o=n.n(i);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}var s=["chart_id","visible"],c=["chartId","requestId","type"];function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var h=function(t,e){var n=e.payload,r=t.allIds.findIndex((function(t){return t===n}));r>=0&&(t.allIds.splice(r,1),delete t.byId[n])},p=function(t,e){var n=e.payload,r={};t.allIds.forEach((function(e){t.byId[e].chartId!==n&&(r[e]=t.byId[e])})),t.byId=r,t.allIds=m(r)};function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"created_at",n=Object.keys(t);return 0===n.length?[]:(parseInt(n[0])===t[n[0]].id&&(n=n.map((function(t){return parseInt(t)}))),n.sort((function(n,r){return new Date(t[n][e])-new Date(t[r][e])})))}var y=(0,r.Z0)({name:"indicators",initialState:{byId:{},allIds:[],favorites:[]},reducers:{load:function(t,e){var n=e.payload,r=n.favorites,i=n.list.reduce((function(t,e){var n=e.chart_id,r=e.visible,i=void 0===r?1:r,o=f(e,s);return t[e.id]=u(u({},o),{},{chartId:n,visible:Boolean(+i)}),t}),{});t.byId=i,t.allIds=m(i),t.favorites=r},add:function(t,e){var n=e.payload,r=n.chartId,i=n.requestId,o=n.type;!function(t,e){t.byId[e.id]=e,t.allIds.includes(e.id)||t.allIds.push(e.id)}(t,{id:i,chartId:r,settings:f(n,c),type:o,visible:!0})},addSuccess:function(t,e){var n=e.payload,r=n.requestId,i=n.id;if(t.allIds.includes(r)){var o=t.allIds.findIndex((function(t){return t===r}));t.allIds.splice(o,1)}void 0!==t.byId[r]&&delete t.byId[r],t.allIds.includes(i)||t.allIds.push(i),t.byId[i]=e.payload},addFail:function(t,e){var n=e.payload.requestId;if(!t.allIds.includes(n))return t;t.byId=o()(t.byId,n),t.allIds=Object.keys(t.byId)},remove:h,removeSuccess:function(t,e){return h(t,e)},edit:function(t,e){var n=e.payload,r=n.id,i=n.settings;t.byId[r]=u(u({},t.byId[r]),{},{settings:u(u({},t.byId[r].settings),i)})},changeVisibility:function(t,e){var n=e.payload,r=n.id,i=n.value;t.byId[r].visible=i},changeHeight:function(t,e){var n=e.payload,r=n.id,i=n.expanded;return u(u({},t),{},{byId:u(u({},t.byId),{},d({},r,u(u({},t.byId[r]),{},{expanded:i})))})},favorite:function(t,e){var n=e.payload;t.favorites.includes(n)||t.favorites.push(n)},unfavorite:function(t,e){var n=e.payload,r=t.favorites.findIndex((function(t){return t===n}));r>=0&&t.favorites.splice(r,1)},removeAllInChart:p,removeAllInChartSuccess:function(t,e){return p(t,e)},removeAll:function(t){t.byId={},t.allIds=[]}}}),v={load:y.actions.load,add:y.actions.add,addSuccess:y.actions.addSuccess,addFail:y.actions.addFail,remove:y.actions.remove,removeSuccess:y.actions.removeSuccess,edit:y.actions.edit,changeVisibility:y.actions.changeVisibility,changeHeight:y.actions.changeHeight,favorite:y.actions.favorite,unfavorite:y.actions.unfavorite,removeAllInChart:y.actions.removeAllInChart,removeAllInChartSuccess:y.actions.removeAllInChartSuccess,removeAll:y.actions.removeAll},b=y.reducer},48045:function(t,e,n){"use strict";n.d(e,{Ff:function(){return l},Je:function(){return c},LO:function(){return o},SS:function(){return s},xk:function(){return a}});var r=(0,n(82754).Z0)({name:"pendingOrders",initialState:{byId:{},ids:[],selectedSymbol:null,selectedPrice:null,selectedPayout:null,selectedAmount:null,selectedTimeframe:null},reducers:{loadPendingOrders:function(t,e){e.payload.forEach((function(e){t.byId[e.ticket]=e})),t.ids=Object.keys(t.byId)},createPendingOrderSuccess:function(t,e){t.byId[e.payload.ticket]=e.payload,t.ids=Object.keys(t.byId)},removePendingOrder:function(t,e){var n=e.payload.ticket;t.ids.includes(n)&&(delete t.byId[n],t.ids=Object.keys(t.byId))},setSelectedAssetIdAndPrice:function(t,e){var n=e.payload,r=n.amount,i=n.symbol,o=n.price,a=n.payout,s=n.timeframe;t.selectedSymbol=i,t.selectedPrice=o,t.selectedPayout=a,t.selectedAmount=r,t.selectedTimeframe=s}}}),i=r.actions,o=i.createPendingOrderSuccess,a=i.loadPendingOrders,s=i.removePendingOrder,c=i.setSelectedAssetIdAndPrice,l=r.reducer},51687:function(t,e,n){"use strict";n.d(e,{F:function(){return o},o:function(){return i}});var r=(0,n(82754).Z0)({name:"priceAlerts",initialState:[],reducers:{load:function(t,e){e.payload.forEach((function(e){return t.push(e)}))},add:function(t,e){var n=e.payload,r=n.id,i=n.assetId,o=n.price;t.push({id:r,assetId:i,price:o})},remove:function(t,e){return t.filter((function(t){return t.id!==e.payload}))}}}),i={load:r.actions.load,add:r.actions.add,remove:r.actions.remove},o=r.reducer},41240:function(t,e,n){"use strict";n.d(e,{F:function(){return o},s:function(){return i}});var r=(0,n(82754).Z0)({name:"Quotes",initialState:{bySymbol:{}},reducers:{changeQuotesList:function(t,e){e.payload.forEach((function(e){var n=e.asset,r=e.time,i=e.price;return t.bySymbol[n]={time:r,price:i}}))}}}),i=r.actions.changeQuotesList,o=r.reducer},59384:function(t,e,n){"use strict";n.d(e,{$m:function(){return y},Ff:function(){return g},JS:function(){return m},PP:function(){return v},YX:function(){return b},cg:function(){return p}});var r=n(82754),i=n(81146),o=n(24374),a=n(25741);function s(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){if(t){if("string"==typeof t)return d(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var f=(0,r.Z0)({initialState:{all:{},updated:[],opened:{},requested:!1},name:"Signals",reducers:{updateSignals:function(t,e){var n,r=e.payload,a=r.signals,s=r.times,u=Array.from(new Set(t.updated.map((function(t){return t.symbol})))),d=!1,f=l(a);try{var h=function(){var e,r=c(n.value,3),a=r[0],f=r[1],h=r[2],p=l(f);try{var m=function(){var n=c(e.value,2),r=n[0],l=n[1],f=s[r],p=60*parseInt(r,10),m=(0,i.fr)(l);if(t.all[p]||(t.all[p]={}),t.all[p][a]={signal:m,price:h,time:f},u.includes(a)&&m!==o.PO){var y=(0,i.lF)(f,p);t.updated.findIndex((function(t){return t.timeframe===p&&t.symbol===a&&t.signal===m}))<0&&t.updated.push({symbol:a,timeframe:p,signal:m,price:h,time:f,hideAt:y,count:0}),d=!0}};for(p.s();!(e=p.n()).done;)m()}catch(y){p.e(y)}finally{p.f()}};for(f.s();!(n=f.n()).done;)h()}catch(p){f.e(p)}finally{f.f()}d&&t.updated.sort((function(t,e){return t.time===e.time?0:e.time-t.time}))},setUpdated:function(t,e){t.updated=s(e.payload),t.updated.sort((function(t,e){return t.time===e.time?0:e.time-t.time}))},updateStats:function(t,e){var n,r=e.payload,i=l(t.updated);try{for(i.s();!(n=i.n()).done;){var o,a=n.value,s=l(r);try{for(s.s();!(o=s.n()).done;){var u=c(o.value,2),d=u[0],f=u[1];if(d===a.time){var h,p=l(f);try{for(p.s();!(h=p.n()).done;){var m=c(h.value,3),y=m[0],v=m[1],b=m[2];y===a.symbol&&60*v===a.timeframe&&(a.count=b)}}catch(g){p.e(g)}finally{p.f()}}}}catch(g){s.e(g)}finally{s.f()}}}catch(g){i.e(g)}finally{i.f()}},addOpened:function(t,e){var n=e.payload,r=n.signalId,o=n.time;t.opened[r]=o;var a=t.updated.findIndex((function(t){return(0,i.Sx)(t)===r}));a>=0&&t.updated[a].count++},increaseOpened:function(t,e){var n=e.payload,r=t.updated.findIndex((function(t){return(0,i.Sx)(t)===n}));r>=0&&t.updated[r].count++}},extraReducers:function(t){t.addCase(o.TT,(function(t){t.requested=!0})),t.addCase(o.kv,(function(t){t.requested=!1})),t.addCase(a.nT,(function(t,e){var n=e.payload.time;t.updated.forEach((function(e,r){e.hideAt<n&&t.updated.splice(r,1)}))}))}}),h=f.actions,p=h.setUpdated,m=h.updateSignals,y=h.updateStats,v=h.addOpened,b=h.increaseOpened,g=f.reducer},91207:function(t,e,n){"use strict";n.d(e,{Ff:function(){return g},o1:function(){return b}});var r=n(27673),i=n(62832),o=n.n(i),a=n(82754),s=n(3594),c=n(13431),l=n(75054),u=n(32395);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function f(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h={selectedTab:c.m.ALL_TOURNAMENTS,tournaments:[],stats:null,history:[],historyModal:{isLoading:!1,loadingId:0,data:null},detailsModal:{isLoading:!1,loadingId:0,data:null,startTab:s.v.DESCRIPTION},isRegistering:!1,isRebuying:!1,isJoiningNext:!1,isTakingPrize:!1,isInitialLoading:!1,hideStatistics:!1,errorMessage:null,currentTournament:{id:+(0,l.A)("tournament-id",0),title:(0,l.A)("tournament-title",""),dateFinish:+(0,l.A)("tournament-date-finish"),changed:0,rank:0},enabledRatingWidget:!0,isAllowToRegister:!0},p=f(f({},r.lx.TOURNAMENT_HISTORY,"historyModal"),r.lx.TOURNAMENT_DETAILS,"detailsModal");function m(t){return t.sort((function(t,e){return t.isRegistered===e.isRegistered?0:t.isRegistered?-1:1})),t}var y=(0,a.Z0)({name:"tournaments",initialState:h,reducers:{preselectTournament:function(t,e){var n=e.payload,r=n.loadingId,i=n.startTab;t.detailsModal.loadingId=r,t.detailsModal.startTab=i},startLoadingTournamentModal:function(t,e){var n=p[e.payload.modalId];void 0!==n&&(t[n].isLoading=!0,t[n].loadingId=e.payload.id)},finishLoadingTournamentModal:function(t,e){var n=e.payload,i=n.data,o=n.modalId,a=n.detailsTab,s=p[o];if(t.hideStatistics=i.hideStatistics,void 0!==s&&i.tournament.id===t[s].loadingId){t[s].isLoading=!1,t[s].loadingId=0,t[s].data=i,o===r.lx.TOURNAMENT_DETAILS&&(t[s].startTab=a);var c=t.tournaments.findIndex((function(t){return t.id===i.tournament.id}));if(c>=0&&i.tournament){var l=i.tournament.changed?parseInt(i.tournament.changed,10):0,u=t.tournaments[c].rank,d=i.tournament.users.find((function(t){return t.isMe}));d&&(u=parseInt(d.rank,10)),t.tournaments[c].rank=u,t.tournaments[c].changed=l}}},errorLoadingTournamentModal:function(t,e){var n=p[e.payload.modalId];void 0!==n&&(t[n].isLoading=!1,t[n].loadingId=0,t[n].data=null)},startLoadingInitialData:function(t){t.isInitialLoading=!0},loadTournamentInitialData:function(t,e){var n=e.payload,r=n.history,i=void 0===r?[]:r,o=n.tournaments,a=void 0===o?[]:o,s=n.stats,c=void 0===s?{}:s,l=n.hideStatistics;if(t.history=i,t.stats=c,t.tournaments=m(a),t.currentTournament.rank>0){var u=t.tournaments.find((function(e){return e.id===t.currentTournament.id}));u&&(u.rank=t.currentTournament.rank,u.changed=t.currentTournament.changed)}t.isInitialLoading=!1,t.hideStatistics=l,t.isAllowToRegister=!l},startTournamentRegistration:function(t){t.isRegistering=!0},finishTournamentRegistration:function(t,e){var n=e.payload.id;t.tournaments.findIndex((function(t){return t.id===n}))<0&&t.tournaments.push(e.payload);var r=t.tournaments.findIndex((function(t){return t.id===n}));r>=0&&(t.tournaments[r]=e.payload),t.tournaments=m(t.tournaments),t.isRegistering=!1},errorTournamentRegistration:function(t){t.isRegistering=!1},startRebuyTournament:function(t){t.isRebuying=!0},finishRebuyTournament:function(t,e){var n=e.payload,r=n.id,i=n.tournamentBalance,a=t.tournaments.findIndex((function(t){return t.id===r}));a>=0&&(t.tournaments[a].tournamentBalance=i),o()(t.detailsModal,"data.tournament.id")===r&&(t.detailsModal.data.tournament.tournamentBalance=i),t.isRebuying=!1},errorRebuyTournament:function(t){t.isRebuying=!1},startOpeningNextTournament:function(t){t.isJoiningNext=!0},finishOpeningNextTournament:function(t){t.isJoiningNext=!1},errorOpeningNextTournament:function(t){t.isJoiningNext=!1},selectTournamentTab:function(t,e){t.selectedTab=e.payload},startTakingTournamentPrize:function(t){t.isTakingPrize=!0},finishTakingTournamentPrize:function(t,e){var n=e.payload.tournament;t.historyModal.data={tournament:n},t.isTakingPrize=!1},errorTakingTournamentPrize:function(t){t.isTakingPrize=!1},updateCurrentTournamentRank:function(t,e){var n=e.payload,r=n.changed,i=n.rank;t.currentTournament.changed=r,t.currentTournament.rank=i},toggleRatingWidget:function(t,e){t.enabledRatingWidget=Boolean(e.payload)}},extraReducers:function(t){t.addMatcher(u.S.endpoints.getPosition.matchFulfilled,(function(t,e){var n=e.payload;if(!n.isTournamentRatingModalOpened){var r=n.changed,i=void 0===r?0:r,o=n.rank;v(t,{rank:void 0===o?0:o,changed:i})}})),t.addMatcher(u.S.endpoints.getRankings.matchFulfilled,(function(t,e){var n=(e.payload||{}).ranking,r=(void 0===n?[]:n).find((function(t){return t.me}));r&&v(t,{rank:r.rank,changed:r.changed})}))}});function v(t,e){var n=e.rank,r=e.changed;t.currentTournament.rank=n,t.currentTournament.changed=r;var i=t.tournaments.find((function(e){return e.id===t.currentTournament.id}));i&&(i.rank=n,i.changed=r)}var b={preselectTournament:y.actions.preselectTournament,startLoadingTournamentModal:y.actions.startLoadingTournamentModal,finishLoadingTournamentModal:y.actions.finishLoadingTournamentModal,errorLoadingTournamentModal:y.actions.errorLoadingTournamentModal,startLoadingInitialData:y.actions.startLoadingInitialData,loadTournamentInitialData:y.actions.loadTournamentInitialData,startTournamentRegistration:y.actions.startTournamentRegistration,finishTournamentRegistration:y.actions.finishTournamentRegistration,errorTournamentRegistration:y.actions.errorTournamentRegistration,startRebuyTournament:y.actions.startRebuyTournament,finishRebuyTournament:y.actions.finishRebuyTournament,errorRebuyTournament:y.actions.errorRebuyTournament,startOpeningNextTournament:y.actions.startOpeningNextTournament,finishOpeningNextTournament:y.actions.finishOpeningNextTournament,errorOpeningNextTournament:y.actions.errorOpeningNextTournament,selectTournamentTab:y.actions.selectTournamentTab,startTakingTournamentPrize:y.actions.startTakingTournamentPrize,finishTakingTournamentPrize:y.actions.finishTakingTournamentPrize,errorTakingTournamentPrize:y.actions.errorTakingTournamentPrize,updateCurrentTournamentRank:y.actions.updateCurrentTournamentRank,toggleRatingWidget:y.actions.toggleRatingWidget},g=y.reducer},6743:function(t,e,n){"use strict";n.d(e,{E_:function(){return m},L5:function(){return h},Or:function(){return v},P7:function(){return p},Zn:function(){return b},gg:function(){return u},lw:function(){return g},o1:function(){return f},rC:function(){return l},rZ:function(){return d},vZ:function(){return y}});var r=n(24885),i=n(51392),o=n(62832),a=n.n(o),s=n(58342),c=n(74649),l=function(t){return t.assets.assetBySymbol},u=function(t){return t.assets.symbols},d=(0,r.Mz)([l,u],(function(t,e){return function(n){return e.includes(n)?t[n]:null}})),f=(0,r.Mz)([l],(function(t){return function(e){var n=Object.values(t).find((function(t){return t.id===e}));return n||null}})),h=(0,r.Mz)([l,u],(function(t,e){return function(n){return e.includes(n)?t[n].digits:3}})),p=(0,r.Mz)([l,u],(function(t,e){return function(n){return e.includes(n)?t[n].label:null}})),m=(0,r.Mz)([l,i.SS],(function(t,e){return function(n){return a()(t,[e[n].symbol],{})}})),y=((0,r.Mz)([l,i.SS],(function(t,e){for(var n in e)if(e[n].isVisible)return a()(t,[e[n].symbol],null);return null})),(0,r.Mz)([l,i.SS],(function(t,e){return function(n){var r=e[n].symbol;return t[r]&&t[r].minQuickTimeframe?t[r].minQuickTimeframe:60}}))),v=(0,r.Mz)([l],(function(t){return function(e){var n=t[e];return(0,s.Sp)({asset:n})}})),b=(0,r.Mz)([l,u],(function(t,e){return function(n){return e.includes(n)&&t[n].active}})),g=(0,r.Mz)([u,l,c.R1,c.Gh,c.N3,c.Nj,c.nR,c.R0,c.me],(function(t,e,n,r,i,o,a,c,l){return t.filter((function(t){var u=e[t];return!!u&&(0,s.Wc)({asset:u,isIslamic:n,country:r,isProfileVerified:i,isDisabledOTCTrading:o,isDisabledMarketTrading:a,disabledSymbols:c,geoIPCountry:l})}))}))},74649:function(t,e,n){"use strict";n.d(e,{$N:function(){return C},A4:function(){return j},AM:function(){return c},AQ:function(){return A},Ay:function(){return M},CN:function(){return P},Ei:function(){return f},Gh:function(){return d},Hf:function(){return h},Hz:function(){return g},My:function(){return s},N3:function(){return u},Nj:function(){return y},OY:function(){return a},Oi:function(){return _},PJ:function(){return S},PK:function(){return p},QL:function(){return R},QZ:function(){return l},R0:function(){return b},R1:function(){return m},Uk:function(){return E},X4:function(){return I},YY:function(){return N},cO:function(){return w},is:function(){return k},l9:function(){return T},me:function(){return x},nR:function(){return v},s9:function(){return O},sJ:function(){return L},xn:function(){return D}});var r=n(24885),i=n(5393),o=n(43460),a=function(t){return t.global.balance},s=function(t){return t.global.liveBalance},c=function(t){return t.global.depositsSum},l=function(t){return t.global.windowLayout},u=function(t){return t.global.isProfileVerified},d=function(t){return t.global.country},f=function(t){return t.global.isEmailVerified},h=function(t){return t.global.isTradingDisabled},p=function(t){return t.global.financeUserLevel},m=function(t){return t.global.isIslamicAccount},y=function(t){return t.global.isDisabledOTCTrading},v=function(t){return t.global.isDisabledMarketTrading},b=function(t){return t.global.disabledSymbols},g=function(t){return t.global.isLimitOrderAmountShowBlock},w=function(t){return t.global.isLimitOrderAmountEnabled},j=function(t){return t.global.limitOrderAmountValue},x=function(t){return t.global.geoIPCountry},_=function(t){return t.global.currencyCode},S=function(t){return t.global.currencyCodeMain},O=function(t){return t.global.currencyDigit},k=function(t){return t.global.ai_trading_mode},T=function(t){return 1===t.global.show_ai_trading_info_modal},A=function(t){return t.global.isTryDemo},C=function(t){return t.global.isDemo},P=function(t){return 1===t.global.enabled_market_watch},E=function(t){return 1===t.global.is_show_market_watch_modal},I=function(t){return t.global.isAiTradingWebviewAndroidVersion},N=function(t){return t.global.is_enabled_welcome_bonus},D=function(t){return t.global.isDeposited},L=function(t){return t.global.isDemoProfile},M=(0,r.Mz)([l],(function(t){return t===i.rs.FULL})),R=(0,r.Mz)([k,C,A],(function(t,e,n){return t!==o.F.DISABLED&&!e&&!n}))},51392:function(t,e,n){"use strict";n.d(e,{AI:function(){return S},AP:function(){return m},JB:function(){return u},Jt:function(){return b},KY:function(){return j},Ln:function(){return y},Ny:function(){return h},SS:function(){return d},TF:function(){return x},WN:function(){return w},Y:function(){return l},d8:function(){return _},oi:function(){return O},tv:function(){return f},u:function(){return g},vF:function(){return p}});var r=n(24885),i=n(47348),o=n(62832),a=n.n(o),s=n(24374),c=n(15720),l=function(t){return t.assets.assetBySymbol},u=function(t){return t.assets.symbols},d=function(t){return t.chartSettings.chartById},f=function(t){return t.modals.states},h=function(t){return t.global.isMobile},p=function(t){return t.global.mobileOrientation},m=function(t){return t.global.isDemo},y=function(t){return t.global.currentTime},v=function(t){return t.global.windowLayout},b=(0,r.Mz)([m,d],(function(t,e){return function(n){return e[n][t?"demoDealAmount":"liveDealAmount"]}})),g=(0,r.Mz)([d],(function(t){return function(e){return t[e].percentAmount}})),w=function(t){return!t.global.isMobile&&t.global.enabledTooltipMessage},j=function(t){return t.global.hideBoFeatures},x=(0,r.Mz)([h,p],(function(t,e){return t&&e===c.V})),_=function(t){return(0,r.Mz)([d,v,x],(function(e,n,r){var o=(0,i.h0)(n);return!r&&(o||!e[t].minimizedTradePanel)}))},S=(0,r.Mz)([function(t,e){return t.chartSettings.chartById[e.chartId].symbol},function(t){return t.marketForecasts}],(function(t,e){return e[t]?e[t]:50})),O=((0,r.Mz)([function(t){return t.signals.all}],(function(t){return function(e,n){return a()(t,"".concat(n,".").concat(e,".signal"),s.PO)}})),(0,r.Mz)([y],(function(t){return t>0})))},64652:function(t,e,n){"use strict";n.d(e,{A:function(){return on}});var r=n(88441),i=n(59384),o=n(25741),a=n(38462),s=n(95685),c=n.n(s),l=n(18264),u=n.n(l),d=n(36447),f=n(16953),h=n(58342),p=n(97241);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=m(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==m(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var j=(0,p.Ay)((function(t,e){switch(e.type){case o.p3:return function(t,e){var n=e.charts;t.chartById=n,t.chartIds=Object.keys(n),k(t)}(t,e.payload);case o.r9:return function(t,e){c()(e.charts)||(t.chartById=e.charts);t.chartIds=Object.keys(t.chartById),k(t)}(t,e.payload);case o.T8:var n=e.payload,r=n.chartId,i=n.chartType,s=t.chartById[r].chartPeriodRaw;return O(t,r,{chartType:i,chartPeriod:(0,d.Mt)(i)?f.YE.S1:s,chartPeriodRaw:s});case o.oY:var l=e.payload,u=l.chartId,h=l.chartPeriod;return O(t,u,{chartPeriod:h,chartPeriodRaw:h});case o.rP:var p=e.payload;return O(t,p.chartId,{candlesTimer:p.value});case o.S9:return x(t,e.payload);case a.fe:var m=e.payload,y=m.chartId,b=m.amount;return O(t,y,m.isDemo?{demoDealAmount:parseFloat(b)}:{liveDealAmount:parseFloat(b)});case a.bp:return x(t,e.payload);case a.gz:var g=e.payload;return O(t,g.chartId,{enabledRatingWidget:!!g.value});case a.OC:var w=e.payload,j=w.chartId,_=w.chartType,T=w.secondWidth;t.chartById[j].zoom[_]=T;break;case a.hQ:case a.bk:var A=e.payload;return O(t,A.chartId,{zoomStatus:A.zoomStatus});case a.II:return function(t,e){var n=e.chartId;t.chartById[n].isVisible=!1,k(t)}(t,e.payload);case o.db:return function(t,e){e.chartSymbols.forEach((function(e){var n=e.chartId,r=e.symbol;t.chartIds.includes(n)&&(t.chartById[n].symbol=r)})),k(t)}(t,e.payload);case o.gi:var C=e.payload;return O(t,C.chartId,{fastTimeframe:C.amount});case a.ss:var P=e.payload;return O(t,P.chartId,{enabledAutoscroll:P.value});case a.KZ:var E=e.payload;return O(t,E.chartId,{minimizedTradePanel:E.value});case a.Lo:var I=e.payload;return O(t,I.chartId,{enabledGridSnap:I.value});case a.ku:var N=e.payload;return O(t,N.chartId,{dateRangeMinutes:N.value,dateRangeMinutesForce:!0});case a.Jh:return O(t,e.payload.chartId,{dateRangeMinutesForce:!1});case a.gY:var D=e.payload,L=D.chartId,M=D.value,R=M.width,B=void 0===R?0:R,H=M.height;return O(t,L,{chartSize:{width:B,height:void 0===H?0:H}});case a.zk:var $=e.payload;return O(t,$.chartId,{amountType:$.amountType});case a.sB:var F=e.payload;return O(t,F.chartId,{percentAmount:F.amount});case a.NG:var W=e.payload;return O(t,W.chartId,{showArea:W.value});case a.Ry:return function(t,e){t.chartIds.forEach((function(n){S(t,v(v({},e),{},{chartId:n,timeframe:t.chartById[n].fastTimeframe}))}))}(t,e.payload);case a._H:return S(t,e.payload);case o.e7:var U=e.payload;return O(t,U.chartId,{isCalendarMode:!!U.value});case o.m4:var V=e.payload,G=V.chartId,z=V.value;return O(t,G,{fastCloseAt:parseInt(z,10)});case a.tw:var Y=e.payload;return O(t,Y.chartId,{enableQuickAutoOffset:!!Y.value});case a.Lq:var X=e.payload,q=X.chartId,K=X.value;return O(t,q,{quickAutoOffsetValue:parseInt(K,10)});case a._8:var Z=e.payload,J=Z.chartId,Q=Z.value;return O(t,J,{amountMultiplier:parseFloat(Q)})}}),{chartById:{},chartIds:[],visibleSymbols:[],visibleChartIds:[]});function x(t,e){var n=e.symbol,r=e.chartId,i=e.assets;!function(t,e){var n=e.symbol,r=e.chartId,i=e.assets,o=void 0===i?[]:i,a=o.find((function(t){return t.symbol===n}));if(!a)return;var s=t.chartById[r].fastTimeframe;t.chartById[r].symbol=n,t.chartById[r].fastTimeframe=_(s,a)}(t,{symbol:n,chartId:r,assets:void 0===i?[]:i}),k(t)}function _(t,e){var n=Math.max.apply(Math,g(e.timeframes.map((function(t){return t.time}))));return(0,h.cH)({timeframe:t,asset:e,max:n})}function S(t,e){var n=e.asset,r=e.timeframe,i=e.chartId;t.chartById[i].symbol===n.symbol&&(t.chartById[i].fastTimeframe=_(r,n))}function O(t,e,n){Object.keys(n).forEach((function(r){return t.chartById[e][r]=n[r]}))}function k(t){var e,n=T(e=t.chartById).map((function(t){return e[t].symbol}));u()(t.visibleSymbols,n)||(t.visibleSymbols=n);var r=T(t.chartById);u()(t.visibleChartIds,r)||(t.visibleChartIds=r)}function T(t){return Object.keys(t).filter((function(e){return t[e].isVisible}))}var A=n(96261),C=n(46009),P=["signals"];var E={assetBySymbol:{},symbols:[],assetSortType:C.jC,assetSortDirection:C.Pg.DESC},I=(0,p.Ay)((function(t,e){switch(e.type){case o.db:case A.de:e.payload.assets.forEach((function(e){e.signals;var n=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(e,P);return t.assetBySymbol[n.symbol]=n})),t.symbols=Object.keys(t.assetBySymbol);break;case A.EF:var n=e.payload,r=n.sortType,i=n.sortDirection;t.assetSortType=r,t.assetSortDirection=i}}),E),N=n(47180),D=n(71025),L=n(98576),M=n(67171),R=n.n(M),B=["ticket"];function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function $(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return F(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach((function(e){V(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function V(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=H(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==H(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var G=(0,p.Ay)((function(t,e){switch(e.type){case N.SF:return function(t,e){var n=e.deal,r=e.isTournament,i=n.refundTime,o=void 0===i?"":i,a=n.refundTimestamp,s=void 0===a?"":a,c=n.ticket,l=n.amount;if(!t.openedIds.includes(c))return;var u=l-t.openedById[c].amount,d=r?D.Ay.TOURNAMENT_CURRENCY_CODE:n.currency;t.closedById[c]=U(U({},t.openedById[c]),{},{refundTime:o,refundTimestamp:s,profit:u,isClosed:!0,currency:d}),t.closedIds=z(t.closedById,Object.keys(t.closedById));var f=t.openedIds.filter((function(t){return t!==c}));t.openedIds=z(t.openedById,f),t.openedById=R()(t.openedById,t.openedIds)}(t,e.payload);case N.Rr:return function(t,e){var n=e.deal,r=e.isTournament,i=r?D.Ay.TOURNAMENT_CURRENCY_CODE:n.currency;t.openedById[n.id]=U(U({},n),{},{isFast:(0,L.S7)(n),currency:i}),t.openedIds=z(t.openedById,Object.keys(t.openedById))}(t,e.payload);case N.Yz:return function(t,e){var n=e.deal,r=e.isTournament,i=r?D.Ay.TOURNAMENT_CURRENCY_CODE:n.currency;t.openedIds.forEach((function(e){return t.openedById[e].isNew=!1})),t.openedById[n.id]=U(U({},n),{},{isNew:!0,isFast:(0,L.S7)(n),currency:i}),t.openedIds=z(t.openedById,Object.keys(t.openedById)),X(t)}(t,e.payload);case N.Ls:return function(t,e){var n=e.deals,r=e.isTournament,i=n.map((function(t){return t.id}));t.openedIds=t.openedIds.filter((function(t){return!i.includes(t)})),t.openedById=R()(t.openedById,t.openedIds),n.forEach((function(e){var n=r?D.Ay.TOURNAMENT_CURRENCY_CODE:e.currency;t.closedById[e.id]=U(U({},e),{},{isNew:!0,isFast:(0,L.S7)(e),currency:n})})),t.closedIds=Y(t.closedById,Object.keys(t.closedById))}(t,e.payload);case N.xD:return function(t,e){var n=e.deals,r=e.isTournament,i={};n.forEach((function(e){if(t.openedById[e.id]){var n=t.openedById[e.id].copyUid,r=t.openedById[e.id].copyProfileName;n&&r&&(i[e.id]={copyUid:n,copyProfileName:r})}})),t.openedById={},t.openedIds=[],n.forEach((function(e){var n=r?D.Ay.TOURNAMENT_CURRENCY_CODE:e.currency,o=U(U({},e),{},{isFast:(0,L.S7)(e),currency:n});i[e.id]&&(o=Object.assign(o,i[e.id])),t.openedById[e.id]=o})),t.openedIds=z(t.openedById,Object.keys(t.openedById)),X(t)}(t,e.payload);case N.eb:return function(t,e){var n=e.deals,r=e.isTournament;n.forEach((function(e){var n=r?D.Ay.TOURNAMENT_CURRENCY_CODE:e.currency,i=U(U({},e),{},{isFast:(0,L.S7)(e),currency:n});if(t.closedById[e.id]){var o=t.closedById[e.id].copyUid,a=t.closedById[e.id].copyProfileName;o&&(i.copyUid=o),a&&(i.copyProfileName=a)}t.closedById[e.id]=i})),t.closedIds=Y(t.closedById,Object.keys(t.closedById))}(t,e.payload);case N.VP:return function(t){t.openedIds=t.openedIds.filter((function(e){return!t.openedById[e].isClosed})),t.openedIds.forEach((function(e){return t.openedById[e].isNew=!1})),t.openedById=R()(t.openedById,t.openedIds),t.closedIds.forEach((function(e){return t.closedById[e].isNew=!1}))}(t);case N.Gp:return function(t,e){var n,r=e.copyTicket,i=e.copyUid,o=e.copyProfileName,a=$(t.openedIds);try{for(a.s();!(n=a.n()).done;){var s=n.value,c=t.openedById[s];if(c.copyTicket===r){c.copyUid=i,c.copyProfileName=o;break}}}catch(l){a.e(l)}finally{a.f()}}(t,e.payload);case N.Zl:return function(t,e){var n,r=e.copyTicket,i=e.copyUid,o=e.copyProfileName,a=$(t.closedIds);try{for(a.s();!(n=a.n()).done;){var s=n.value,c=t.closedById[s];if(c.copyTicket===r){c.copyUid=i,c.copyProfileName=o;break}}}catch(l){a.e(l)}finally{a.f()}}(t,e.payload);case N.or:return function(t,e){var n=e.ticket,r=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(e,B);if(!t.openedIds.includes(n))return;t.openedById[n]=U(U({},t.openedById[n]),r)}(t,e.payload)}return t}),{openedById:{},openedIds:[],closedById:{},closedIds:[]});function z(t,e){return e.sort((function(e,n){var r=t[e].openTimestamp;return t[n].openTimestamp-r})),e}function Y(t,e){return e.sort((function(e,n){var r=t[e].refundTimestamp?t[e].refundTimestamp:t[e].closeTimestamp;return(t[n].refundTimestamp?t[n].refundTimestamp:t[n].closeTimestamp)-r})),e}function X(t){var e,n=$(t.openedIds);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=t.openedById[r];t.openedById[r].isHedged=!0===i.isHedged&&i.isHedged;var o,a=$(t.openedIds);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=t.openedById[s],l=c.closeTimestamp,u=c.command,d=c.asset;l===i.closeTimestamp&&d===i.asset&&u!==i.command&&r!==s&&(t.openedById[r].isHedged=!0,t.openedById[s].isHedged=!0)}}catch(f){a.e(f)}finally{a.f()}}}catch(f){n.e(f)}finally{n.f()}}var q,K=n(41240),Z=n(1758);function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function Q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(n),!0).forEach((function(e){et(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function et(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=J(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==J(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nt=(et(et(et(et(et(et(et(et(et(et(q={},Z.jC,0),Z.i0,0),Z.fG,0),Z.l1,0),Z.sh,0),Z.w3,0),Z.k,0),Z.WX,0),Z.jV,0),Z.vb,0),et(et(et(et(et(q,Z.pt,0),Z.In,!1),Z.KO,!1),Z.$k,!1),Z.Ox,!1)),rt=n(5393),it=n(75054),ot=n(96271),at=n(91207),st=n(59621),ct=n(30775);function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(n),!0).forEach((function(e){ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ft(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=lt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ht="hide_hotkeys_info",pt=1==+(0,it.A)("is-tournament"),mt=1==+(0,it.A)("is-tournament-started"),yt={isChart:1==+(0,it.A)("is-chart"),isMt5:(0,st.p)(),isTryDemo:(0,st.Z5)(),isAuthorized:!1,enabledTooltipMessage:1==+(0,it.A)("enabled_tooltip_messages"),isMobile:1==+(0,it.A)("is-mobile-version"),isDetectedMobile:1==+(0,it.A)("is-detected-mobile"),isFullVerified:1==+(0,it.A)("is-fully-verified"),isForexUser:1==+(0,it.A)("is-forex-user"),currentTime:null,currency:(0,it.A)("currency"),currencyCode:(0,it.A)("currency_code"),currencyCodeMain:(0,it.A)("currency_code_main"),currencyDigit:(0,it.A)("currency_digit",2),windowLayout:ot.A.cookies.get("windowLayout")||rt.rs.FULL,isTournament:pt,isTournamentStarted:mt,tournamentFinishAt:+(0,it.A)("tournament-date-finish"),infoIcons:{bonus:1==+(0,it.A)("top_left_info_icons_bonus"),signal:1==+(0,it.A)("top_left_info_icons_signals"),analytics:1==+(0,it.A)("top_left_info_icons_clawshorns_analytics"),gemsLotto:1==+(0,it.A)("top_left_info_icons_gems_lottery"),moveSignalsIcon:null},isExistsActiveBonus:1==+(0,it.A)("is-exists-active-bonus"),openingFirstDealPanel:(0,it.A)("opening-first-deal_panel"),bonusDepositUrl:(0,it.A)("bonus-deposit-url"),isStartedGemsLottery:1==+(0,it.A)("is-started-gems-lottery"),balance:0,liveBalance:+(0,it.A)("user-balance"),demoSuccessTradesCount:+(0,it.A)("user-demo-count-trades-win"),mt5LiveBalance:+(0,it.A)("balances.mt5_real"),mt5CfdLiveBalance:+(0,it.A)("balances.mt5_cfd_real"),mt4LiveBalance:+(0,it.A)("balances.mt4_real"),isDemo:1==+(0,it.A)("is-demo"),isDemoProfile:!!(0,it.A)("is-demo-profile"),windowLayoutBodyClassChanged:rt.rs.FULL,enabledHotKeys:1==+(0,it.A)("enabled_chart_hotkeys"),hideHotkeysInfo:ot.A.cookies.findBool(ht,!1),enabledSocialTrading:!1,enabledWatchlistingOfCopiedBets:1==+(0,it.A)("enabled_watchlisting_of_copied_bets"),showRating:1==+(0,it.A)("show_rating"),hideMyProfileWatching:1==+(0,it.A)("hide_my_profile_watching"),showOnlyWatchedTraders:1==+(0,it.A)("show_only_watched_traders"),theme:(0,it.A)("theme"),uid:(0,it.A)("uid"),collapseIndicatorsInfo:!1,candleUpColor:(0,it.A)("candleUpColor"),candleDownColor:(0,it.A)("candleDownColor"),shadowStyle:(0,it.A)("shadowStyle"),isWebview:1==+(0,it.A)("isWebview"),isWebViewWithoutVersion:1==+(0,it.A)("isWebViewWithoutVersion"),webViewPlatform:(0,it.A)("webViewPlatform"),mobileOrientation:ct.o,country:(0,it.A)("country"),geoIPCountry:(0,it.A)("geoip-country"),isProfileVerified:1==+(0,it.A)("isProfileVerified"),isEmailVerified:1==+(0,it.A)("isEmailVerified"),hideTournament:1==+(0,it.A)("isHideT"),hideBoFeatures:1==+(0,it.A)("hideBoFeatures"),isShowMetaTraderLinks:1==+(0,it.A)("isShowMetaTraderLinks"),financeUserLevel:+(0,it.A)("financeUserLevel"),isTradingDisabled:1==+(0,it.A)("disable_highlow"),depositsSum:+(0,it.A)("depositsSum"),isIslamicAccount:1==+(0,it.A)("isIslamicAccount"),isDisabledOTCTrading:1==+(0,it.A)("disabled_otc"),isDisabledMarketTrading:1==+(0,it.A)("disabled_market"),disabledSymbols:(0,it.A)("disabled_symbols",[]),isLimitOrderAmountShowBlock:1==+(0,it.A)("limit_order_amount_show_block"),isLimitOrderAmountEnabled:1==+(0,it.A)("limit_order_amount_enabled"),limitOrderAmountValue:+(0,it.A)("limit_order_amount_value"),ai_trading_mode:+(0,it.A)("ai_trading_mode"),show_ai_trading_info_modal:+(0,it.A)("show_ai_trading_info_modal"),maxPayout:+(0,it.A)("max_payout",0),enabled_market_watch:+(0,it.A)("enabled_market_watch"),is_show_market_watch_modal:+(0,it.A)("is_show_market_watch_modal"),isAiTradingWebviewAndroidVersion:1==+(0,it.A)("isAiTradingWebviewAndroidVersion"),is_enabled_welcome_bonus:1==+(0,it.A)("is_enabled_welcome_bonus"),isDeposited:1==+(0,it.A)("deposited")},vt=n(81200),bt=n(27673),gt=n(28783),wt=n(49697);function jt(t){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}function xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(n),!0).forEach((function(e){St(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function St(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=jt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ot=1==+(0,it.A)("is-mobile-version"),kt="indicators"===(0,wt.A)("mo"),Tt={};Object.keys(bt.lx).forEach((function(t){Tt[bt.lx[t]]=!1})),Tt[bt.lx.DEALS_WIDGET]=ot.A.cookies.findBool("trades-modal-widget",!Ot),Tt[bt.lx.SIGNALS_WIDGET]=ot.A.cookies.findBool("signals-modal-widget",!1),Tt[bt.lx.INDICATORS_MODAL]=kt;var At={states:Tt};function Ct(t,e){var n,r=_t({},t.states);return Object.keys(bt.n5).forEach((function(t){return r[t]=!1})),r[e]=!0,(n=e)!==bt.lx.DEALS_WIDGET&&n!==bt.lx.SIGNALS_WIDGET&&(r[bt.lx.DEALS_WIDGET]=!1,r[bt.lx.SIGNALS_WIDGET]=!1),_t(_t({},t),{},{states:r})}var Pt=n(17949);function Et(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return It(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?It(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Nt=(0,p.Ay)((function(t,e){if(e.type===Pt.j)e.payload.forEach((function(e){var n=Et(e,2),r=n[0],i=n[1];return t[r]=i}));return t}),{}),Dt=n(25703),Lt=n(48226),Mt=n(27034),Rt=["deals"],Bt=["deals"];function Ht(t){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(t)}function $t(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(n),!0).forEach((function(e){Ut(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ut(t,e,n){return(e=Vt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vt(t){var e=function(t,e){if("object"!=Ht(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ht(e)?e:e+""}var Gt=(0,it.A)("currency_code")||"USD",zt=(0,Lt.He)(Gt),Yt={assetBySymbol:{},assetSymbols:[],amount:zt,amountString:zt.toString()},Xt={new:Yt,prevNew:Yt,opened:{expressById:{},expressIds:[],dealById:{},dealIds:[]},closed:{expressById:{},expressIds:[],dealById:{},dealIds:[]},selectedTab:gt.Li.NEW,selectedExpresses:null,isConfirming:!1,expirationTimes:{byTimeframe:{},allTimeframes:[],lastUpdateTime:0},selectedAssetCategory:C.tu,subscribedSymbols:[],isClosedExpressesRequested:!1};function qt(t,e,n){var r={},i={};n.forEach((function(t){var e=t.deals,n=$t(t,Bt);r[n.expressId]=n,e.forEach((function(t){return i[t.id]=t}))}));var o=Object.keys(r).sort((function(t,e){var n=r[t].openTimestamp,i=r[e].openTimestamp;return n===i?0:n>i?-1:1})),a=Object.keys(i);return Wt(Wt({},e),{},Ut({},t,Wt(Wt({},e[t]),{},{expressById:r,dealById:i,expressIds:o,dealIds:a})))}var Kt=n(48045),Zt=n(24240),Jt=n(66429),Qt=n(77863),te=n(32395),ee=n(82754),ne=(0,ee.Z0)({name:"siteTour",initialState:{isOpen:!1,currentStep:0},reducers:{openSiteTour:function(t){t.isOpen=!0},closeSiteTour:function(t){t.isOpen=!1,t.currentStep=0},changeStep:function(t,e){t.currentStep=e.payload}}}),re=(ne.actions.openSiteTour,ne.actions.closeSiteTour,ne.actions.changeStep,ne.reducer),ie=n(51687);function oe(t){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oe(t)}function ae(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=oe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oe(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var se=(0,r.HY)(ae(ae(ae({chartSettings:j,indicators:Dt.Ff,drawings:Zt.Ff,signals:i.Ff,assets:I,deals:G,quotes:K.F,global:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case A.Y$:var n=!!e.payload.value,r=!n&&t.hideHotkeysInfo;return dt(dt({},t),{},{enabledHotKeys:n,hideHotkeysInfo:r});case A.Qc:return dt(dt({},t),{},{hideHotkeysInfo:!0});case A.Wm:return dt(dt({},t),{},{openingFirstDealPanel:!1});case A.kI:return dt(dt({},t),{},{isAuthorized:!0});case o.nT:return dt(dt({},t),{},{currentTime:e.payload.time});case o.vJ:return dt(dt({},t),{},{enabledTooltipMessage:!!e.payload});case o.r9:case a.II:var i=e.payload.windowLayout;return dt(dt({},t),{},{windowLayout:i});case o.p3:if(e.payload.isMobile)return dt(dt({},t),{},{windowLayout:rt.rs.FULL});var s=e.payload.charts,c=Object.keys(s).filter((function(t){return s[t].isVisible})).length;return rt.ue[t.windowLayout]!==c?dt(dt({},t),{},{windowLayout:(0,rt.WA)(c,rt.rs.FULL)}):t;case o.Yf:var l=e.payload,u=l.settingName,d=l.value,f={top_left_info_icons_bonus:"bonus",top_left_info_icons_signals:"signal",top_left_info_icons_clawshorns_analytics:"analytics",top_left_info_icons_gems_lottery:"gemsLotto"};return void 0===f[u]?t:dt(dt({},t),{},{infoIcons:dt(dt({},t.infoIcons),ft({},f[u],Boolean(d)))});case o.By:return dt(dt({},t),{},{isExistsActiveBonus:e.payload});case A.de:case at.o1.finishTakingTournamentPrize.type:var h=e.payload.balance;return t.isDemo||t.isTournament?dt(dt({},t),{},{balance:h}):dt(dt({},t),{},{liveBalance:h,balance:h});case at.o1.finishRebuyTournament.type:return t.isTournament?dt(dt({},t),{},{liveBalance:Number(e.payload.liveBalance)}):t;case A.zF:var p=e.payload.windowLayout;return dt(dt({},t),{},{windowLayoutBodyClassChanged:p});case A.Bs:return dt(dt({},t),{},{enabledSocialTrading:!!e.payload.value});case A.Ne:return dt(dt({},t),{},{enabledWatchlistingOfCopiedBets:!!e.payload.value});case A.TD:return dt(dt({},t),{},{showRating:!!e.payload.value});case A.bD:return dt(dt({},t),{},{hideMyProfileWatching:!!e.payload.value});case A.Ck:return dt(dt({},t),{},{showOnlyWatchedTraders:!!e.payload.value});case o.U6:return dt(dt({},t),{},{infoIcons:dt(dt({},t.infoIcons),{},{moveSignalsIcon:e.payload})});case A.HA:return dt(dt({},t),{},{theme:e.payload.value});case A.FE:return dt(dt({},t),{},{collapseIndicatorsInfo:e.payload});case A.Vj:case A.IQ:var m=e.payload.reduce((function(t,e){return t[e.field]=e.value,t}),{});return dt(dt({},t),m);case A.kN:return dt(dt({},t),{},{demoSuccessTradesCount:t.demoSuccessTradesCount+e.payload})}return t},counters:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,e=arguments.length>1?arguments[1]:void 0;if(e.type===A.U_){var n=e.payload,r=n.count,i=n.type;return void 0===t[i]?t:tt(tt({},t),{},et({},i,r))}return t},favorites:vt.F,modals:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case bt.NO:var n=e.payload,r=n.modalId,i=n.value;return _t(_t({},t),{},{states:_t(_t({},t.states),{},St({},r,i))});case bt.cs:return _t(_t({},t),{},{states:_t(_t({},t.states),e.payload)});case gt.xp:return Ct(t,bt.lx.EXPRESSES);case at.o1.startLoadingTournamentModal.type:return _t(_t({},t),{},{states:_t(_t({},t.states),{},St(St({},bt.lx.TOURNAMENT_DETAILS,!1),bt.lx.TOURNAMENT_HISTORY,!1))});case at.o1.finishLoadingTournamentModal.type:return _t(_t({},t),{},{states:_t(_t({},t.states),{},St({},e.payload.modalId,!0))});case bt.J2:return Ct(t,e.payload);case bt.Mw:var a=_t({},t.states);return Object.keys(bt.n5).forEach((function(t){a[t]=!1})),_t(_t({},t),{},{states:a});case o.p3:return e.payload.isOpenChartSettingsModal?_t(_t({},t),{},{states:_t(_t({},t.states),{},St({},bt.lx.CHART_SETTINGS,!0))}):t}return t},marketForecasts:Nt,expresses:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case gt.EV:return function(t,e){var n=e.symbol,r=Wt(Wt({},t.new.assetBySymbol),{},Ut({},n,e)),i=Object.keys(r);return Wt(Wt({},t),{},{new:Wt(Wt({},t.new),{},{assetBySymbol:r,assetSymbols:i})})}(t,e.payload);case gt.Mt:return function(t,e){var n=Wt({},t.new.assetBySymbol),r=(n[e],$t(n,[e].map(Vt))),i=Object.keys(r);return Wt(Wt({},t),{},{new:Wt(Wt({},t.new),{},{assetBySymbol:r,assetSymbols:i})})}(t,e.payload);case gt.YS:return function(t){return Wt(Wt({},t),{},{prevNew:Wt({},t.new),isConfirming:!0})}(t);case gt.FR:return function(t,e){return Wt(Wt({},t),{},{new:Wt(Wt({},t.new),{},{amount:(0,Lt.xr)(e,2),amountString:e})})}(t,e.payload);case gt.PG:return function(t,e){var n={};e.deals.forEach((function(t){return n[t.id]=Wt(Wt({},t),{},{status:gt.AY.NEW})}));var r=Wt(Wt({},t.opened.dealById),n),i=Object.keys(r),o=(e.deals,$t(e,Rt)),a=Wt(Ut({},o.expressId,Wt({},o)),t.opened.expressById),s=Object.keys(a).sort((function(t,e){var n=a[t].openTimestamp,r=a[e].openTimestamp;return n===r?0:n>r?-1:1}));return Wt(Wt({},t),{},{new:Yt,prevNew:Yt,opened:Wt(Wt({},t.opened),{},{expressById:a,expressIds:s,dealById:r,dealIds:i}),isConfirming:!1,selectedTab:gt.Li.OPENED,selectedExpresses:o.expressId})}(t,e.payload);case gt.qW:return function(t,e){var n=e.expressId,r=t.opened.expressById,i=(r[n],$t(r,[n].map(Vt))),o=Object.keys(i),a={},s={};t.opened.dealIds.forEach((function(e){var r=t.opened.dealById[e];n===r.expressId?s[e]=r:a[e]=r}));var c=Object.keys(a),l=Wt(Wt({},t.closed.dealById),s),u=Wt(Ut({},n,e),t.closed.expressById),d=Object.keys(u).sort((function(t,e){var n=u[t].openTimestamp,r=u[e].openTimestamp;return n===r?0:n>r?-1:1})),f=Object.keys(l);return Wt(Wt({},t),{},{opened:Wt(Wt({},t.opened),{},{expressById:i,expressIds:o,dealById:a,dealIds:c}),closed:Wt(Wt({},t.closed),{},{expressById:u,dealById:l,expressIds:d,dealIds:f})})}(t,e.payload);case gt.MD:return function(t,e){if(!e.length)return t;var n={},r={};return e.forEach((function(e){t.opened.dealIds.includes(e.id)&&(n[e.id]=e),t.closed.dealIds.includes(e.id)&&(r[e.id]=e)})),Wt(Wt({},t),{},{opened:Wt(Wt({},t.opened),{},{dealById:Wt(Wt({},t.opened.dealById),n)}),closed:Wt(Wt({},t.closed),{},{dealById:Wt(Wt({},t.closed.dealById),r)})})}(t,e.payload);case gt.h:return function(t){return Wt(Wt({},t),{},{new:Wt({},t.prevNew),prevNew:Yt,isConfirming:!1})}(t,e.payload);case gt.yI:return qt("opened",t,e.payload);case gt.Z:return qt("closed",t,e.payload);case gt.Bd:return function(t,e){return Wt(Wt({},t),{},{selectedTab:e})}(t,e.payload);case gt.Yh:return function(t,e){return Wt(Wt({},t),{},{selectedExpresses:e})}(t,e.payload);case gt.xp:return function(t,e){return Wt(Wt({},t),{},{selectedTab:gt.Li.OPENED,selectedExpresses:e})}(t,e.payload);case gt.tH:return function(t,e){var n=e.expressId,r=e.factor;if(!t.opened.expressIds.includes(n))return t;var i=Wt(Wt({},t.opened.expressById[n]),{},{factor:r}),o=Wt(Wt({},t.opened.expressById),{},Ut({},n,i));return Wt(Wt({},t),{},{opened:Wt(Wt({},t.opened),{},{expressById:o})})}(t,e.payload);case o.nT:return function(t,e){var n=e.time,r=n-n%D.Ay.PURCHASE_TIME;if(r<=t.expirationTimes.lastUpdateTime)return t;var i=n+1,o={},s=i-i%D.Ay.EXPIRATION_STEP;return a.Nz.forEach((function(t){var e=s+t;e-D.Ay.PURCHASE_TIME<i&&(e=(s=e)+t);var n=(0,Mt.w)({closeTime:e,purchaseTime:D.Ay.PURCHASE_TIME});o[t]=Wt(Wt({},n),{},{closeTime:e})})),Wt(Wt({},t),{},{expirationTimes:{byTimeframe:o,allTimeframes:Object.keys(o),lastUpdateTime:r}})}(t,e.payload);case gt.DT:return Wt(Wt({},t),{},{selectedAssetCategory:e.payload});case gt.UP:return Wt(Wt({},t),{},{subscribedSymbols:e.payload});case gt.OU:return Wt(Wt({},t),{},{isClosedExpressesRequested:!0});default:return t}},tournaments:at.Ff,pendingOrders:Kt.Ff,welcomeTour:re,priceAlerts:ie.F},Jt.y.reducerPath,Jt.y.reducer),Qt.s.reducerPath,Qt.s.reducer),te.S.reducerPath,te.S.reducer)),ce=n(32660),le=n(12268),ue=n(6065),de=n(98515),fe=function(t,e,n){var r=t.getState();switch(e.type){case bt.NO:case bt.cs:var i=n.modals.states["trades-modal-widget"],o=r.modals.states["trades-modal-widget"];i!==o&&(o&&le.A.publish("".concat(de.kA,".tournaments-modal"),new ue.A("tournaments-modal")),ot.A.cookies.set("trades-modal-widget",o?"1":"0"));var a=n.modals.states["signals-modal-widget"],s=r.modals.states["signals-modal-widget"];a!==s&&(s&&le.A.publish("".concat(de.kA,".tournaments-modal"),new ue.A("tournaments-modal")),ot.A.cookies.set("signals-modal-widget",s?"1":"0"))}},he=function(t,e,n){var r=n.chartSettings.chartIds,i=ce.A.instance;switch(e.type){case o.p3:case o.r9:!function(t){var e=t.store,n=t.socket,r=t.oldChartIds,i=t.loadedChartIds,o=e.getState(),a=o.chartSettings,s=a.chartIds,c=a.visibleSymbols;s.forEach((function(t){!i.includes(t)&&me({store:e,socket:n,chartId:t})})),r.length>s.length&&r.forEach((function(t){!s.includes(t)&&n.deleteChart({chartId:t})}));o.global.enabledSocialTrading&&n.updateSocialTradingSymbols(c)}({store:t,socket:i,oldChartIds:r,loadedChartIds:e.type===o.p3?Object.keys(e.payload.save):[]})}},pe=function(t,e){var n=ce.A.instance;switch(e.type){case o.T8:case o.oY:case o.rP:case o.S9:case a.xx:case a.fe:case o.gi:case a.ss:case a.Lo:case a.KZ:case a.II:case a.tw:case a.Lq:case a.NG:me({store:t,socket:n,chartId:e.payload.chartId,debounce:!0})}};function me(t){var e=t.store,n=t.socket,r=t.chartId,i=t.debounce,o=void 0!==i&&i,a=e.getState().chartSettings.chartById[r];null!=a.symbol&&(o?n.saveChartDebounced({chartId:r,settings:a}):n.saveChart({chartId:r,settings:a}))}var ye=function(t){return function(e){return function(n){var r=t.getState(),i=e(n);return pe(t,n),he(t,n,r),fe(t,n,r),i}}},ve=n(25632),be=n.n(ve),ge=n(1419),we=n.n(ge),je=n(67380),xe=n(18437),_e=n(74649),Se=n(6743),Oe=n(30095),ke=n(41608),Te=n(55424),Ae=n.n(Te);function Ce(t){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(t)}function Pe(t){return function(t){if(Array.isArray(t))return Ee(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ee(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ie(Object(n),!0).forEach((function(e){De(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function De(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Ce(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ce(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Le=function(t){var e=t.store,n=t.action,r=t.socket,i=e.getState(),o=i.global,a=o.isDemo,s=o.maxPayout,c=a?D.ol.VIP_ELITE:(0,_e.PK)(i),l=n.payload.assets.map((function(t){var e=t.originPayout,n=t.payout;null==e&&(e=n);var r=(0,h.nn)(e,c,s);return Ne(Ne({},t),{},{originPayout:e,payout:r})})),u=[];i.chartSettings.chartIds.forEach((function(t){if(i.chartSettings.chartById[t].isVisible){var e=i.chartSettings.chartById[t],n=e.symbol,o=e.chartPeriod;l.some((function(t){return t.symbol===n&&t.active}))||(i.deals.openedIds.length&&r.updateOpenedDeals(),u.push({chartId:t,symbol:Ue({symbol:n,socket:r,chartPeriod:o,state:i})}))}})),n.payload.assets=l,n.payload.currentTime=i.global.currentTime,n.payload.chartSymbols=u},Me=function(t){var e=t.assets,n=e.symbols,r=e.assetBySymbol;return n.map((function(t){return r[t]}))};function Re(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.filter((function(e){var n;return null===(n=t[e])||void 0===n?void 0:n.active}));if(n&&(r=r.filter((function(e){var n;return null===(n=t[e])||void 0===n?void 0:n.is_otc}))),0===r.length)return console.log("Selecting active symbols failed"),null;for(var i=r.map((function(e){var n;return null===(n=t[e])||void 0===n?void 0:n.payout})).reduce((function(t,e){return Math.max(t,e)}),0),o=0,a=["EURUSD_otc","AUDCAD_otc","AEDCNY_otc","AUDCHF_otc","EURCHF_otc"];o<a.length;o++){var s=a[o];if(r.includes(s)&&!(t[s].payout<i))return s}var c=r.filter((function(e){return t[e].payout===i}));return c.length>0?Ae()(c):r[0]}var Be=function(t){var e=t.store,n=t.action,r=t.socket,i=Object.keys(n.payload.save),o=e.getState(),s=o.assets.assetBySymbol,c=(0,_e.Oi)(o),l=(0,Se.lw)(o),u={};if(i.length>0)i.forEach((function(t){var e=be()({},Ne(Ne({},a.sS),{},{chartId:t}),n.payload.save[t]),r=parseInt(e.chartType,10);Object.values(f.M).includes(r)||(e.chartType=f.M.Candles);var i=parseInt(e.chartPeriod,10);e.chartPeriod=(0,d.Mt)(r)?f.YE.S1:i!==f.YE.S1&&Object.values(f.YE).includes(i)?i:f.YE.M1,e.isCalendarMode=(0,xe.iC)(t)&&Boolean(e.fastCloseAt);var p=Object.values(a.zQ);e.quickAutoOffsetValue=p.includes(e.quickAutoOffsetValue)?e.quickAutoOffsetValue:a.zQ["+M1"],e.isQuickOption=!0,e.symbol||(e.symbol=Re(s,l));var m=s[e.symbol];e.fastTimeframe=(0,h.cH)({timeframe:e.fastTimeframe,asset:m}),e.liveDealAmount<1&&(e.liveDealAmount=1);var y=o.global,v=y.isDemo,b=y.isTryDemo,g=y.isTournament;v||b||g||((e.currency||"USD")!==c&&(e.liveDealAmount=(0,Lt.He)(c)),e.liveDealAmount=(0,Lt.xr)(e.liveDealAmount,(0,ke.aZ)(c)),e.currency=c);e.demoDealAmount<1&&(e.demoDealAmount=1),u[t]=e}));else{var p="chart-1",m=Ne(Ne({},a.sS),{},{chartId:p});m.symbol=Re(s,l),m.fastTimeframe=(0,h.jA)(m.symbol)?5:60,u[p]=m}var y=o.global.isMobile,v=0,b=Object.keys(u),g=b.filter((function(t){return u[t].isVisible}));g.length||(u[b[0]].isVisible=!0,g=[b[0]]),b.forEach((function(t){y&&v>0&&(u[t].isVisible=!1),u[t].isVisible&&v++}));var w=rt.ue[o.global.windowLayout];o.global.isMobile?n.payload.windowLayout=rt.rs.FULL:n.payload.windowLayout=w!==g.length?(0,rt.WA)(g.length,rt.rs.FULL):o.global.windowLayout;var j=!1;if("chart-settings"===(0,wt.A)("mo")){var x=parseInt((0,wt.A)("mo1"),10);if(Object.values(f.M).includes(x)&&1===v){var _=Object.values(u).find((function(t){return t.isVisible}));_&&(_.chartType=x,_.chartPeriod=(0,d.Mt)(x)?f.YE.S1:f.YE.M1,j=!0)}}b.forEach((function(t){var e=u[t],n=e.symbol,i=e.isVisible,a=e.chartPeriod;i&&(u[t].symbol=Ue({symbol:n,socket:r,chartPeriod:a,state:o}))})),n.payload.charts=u,n.payload.isMobile=y,n.payload.isOpenChartSettingsModal=j},He=function(t){var e=t.store,n=t.action,r=t.socket,i=n.payload.windowLayout,o=e.getState(),s=o.global.windowLayout,c=Pe(o.favorites.list);if(i!==s){var l=rt.ue[i],u=rt.ue[s],d={},f=o.chartSettings.chartIds,h=[],p=o.chartSettings.visibleSymbols,m=p.length>0?p[0]:null;if(l>u){var y=null,v=0;f.forEach((function(t){var e=o.chartSettings.chartById[t];e.isVisible?(y=e,d[t]=Ne({},e),v++):h.push(e)})),h.forEach((function(t){var e=v<l;d[t.chartId]=Ne(Ne({},t),{},{isVisible:e}),e&&v++}));for(var b=Object.keys(d),g=b.length,w=0;w<l-g;w++){var j=Fe(a.Cj,b),x=Ne(Ne({},we()(y)),{},{chartId:j,isVisible:!0,enableQuickAutoOffset:!0,quickAutoOffsetValue:a.zQ["+S30"]}),_=null!=m?m:c.shift();_&&(x.symbol=_),d[j]=x,b.push(j)}}else if(l<u){var S=0;f.forEach((function(t){var e=o.chartSettings.chartById[t],n=e.isVisible&&S<l;n&&S++,d[t]=Ne(Ne({},e),{},{isVisible:n})}))}Object.keys(d).filter((function(t){return d[t].isVisible})).forEach((function(t){var e=d[t],n=e.symbol,a=e.chartPeriod;d[t].symbol=Ue({symbol:n,socket:r,chartPeriod:a,state:o}),i!==rt.rs.FULL&&(d[t].enabledTradeMonitor=!1)})),n.payload.charts=d,$e(n.payload.windowLayout)}else n.payload.charts=o.chartSettings.chartById},$e=function(t){ot.A.cookies.set("windowLayout",t.toString())},Fe=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=null,r=0;r<t.length;r++)if(!e.includes(t[r])){n=t[r];break}return n},We=function(t){var e=t.store,n=t.action,r=n.payload.chartId,i=e.getState().global.windowLayout,o=e.getState().chartSettings.visibleChartIds,s=a.Cj.filter((function(t){return o.includes(t)})),c=rt.rs.FULL,l=s.findIndex((function(t){return t===r}));switch(i){case rt.rs.T2B1:0===l||1===l?c=rt.rs.H2:2===l&&(c=rt.rs.V2);break;case rt.rs.T1B2:0===l?c=rt.rs.V2:1!==l&&2!==l||(c=rt.rs.H2);break;case rt.rs.T2B2:0===l||1===l?c=rt.rs.T1B2:2!==l&&3!==l||(c=rt.rs.T2B1);break;case rt.rs.L2R1:0===l||1===l?c=rt.rs.V2:2===l&&(c=rt.rs.H2);break;case rt.rs.L1R2:0===l?c=rt.rs.V2:1!==l&&2!==l||(c=rt.rs.H2);break;case rt.rs.V3:c=rt.rs.V2;break;case rt.rs.T3B1:c=3===l?rt.rs.V3:rt.rs.T2B1;break;case rt.rs.T1B3:c=0===l?rt.rs.V3:rt.rs.T1B2;break;case rt.rs.L1R3:c=rt.rs.L1R2;break;case rt.rs.L3R1:c=rt.rs.L2R1}n.payload.windowLayout=c,$e(n.payload.windowLayout)},Ue=function(t){var e,n,r=t.symbol,i=t.socket,o=t.chartPeriod,a=t.state,s=a.assets.assetBySymbol;null!==(e=s[r])&&void 0!==e&&e.active?n=r:n=Re(s,(0,Se.lw)(a),!0);return n&&i.emitChangeSymbol({asset:n,chartPeriod:o}),n},Ve=function(t){return function(e){return function(n){var r=ce.A.instance;switch(n.type){case o.p3:Be({store:t,action:n,socket:r});break;case o.r9:He({store:t,action:n,socket:r});break;case a.II:We({store:t,action:n,socket:r});break;case N.ib:r.cancelOrder(n.payload.ticket);break;case N.e6:var i=n.payload,s=i.chartId,c=i.requestId,l=t.getState(),u=l.chartSettings.chartById[s],d=u.symbol,f=u.fastTimeframe,h=u.demoDealAmount,p=u.liveDealAmount,m=u.isCalendarMode,y=u.fastCloseAt,v=l.global,b=v.isDemo,g=v.isWebview,w={asset:d,amount:b?h:p,action:n.payload.action,isFast:!0,requestId:c};if(!m||g?w.time=g?600:f:w.closeAt=y,(0,_e.cO)(l)){var j=(0,_e.Oi)(l),x=(0,_e.A4)(l);if(w.amount>x)return le.A.publish(Oe.$k,{limit:x,amount:w.amount,currency:j,asset:d})}r.openOrder(w);break;case a.vr:var _=t.getState();n.payload.currentTime=t.getState().global.currentTime,n.payload.assets=Me(_);break;case o.db:var S=t.getState().global;n.payload.currentTime=S.currentTime,Le({store:t,action:n,socket:r,balance:n.payload.balance});break;case A.de:var O=t.getState(),k=O.global;n.payload.assets=Me(O),n.payload.currentTime=k.currentTime,Le({store:t,action:n,socket:r,balance:k.isDemo?k.liveBalance:n.payload.balance});break;case o.S9:var T=t.getState(),C=n.payload,P=C.chartId,E=C.symbol;r.emitChangeSymbol({asset:E,chartPeriod:T.chartSettings.chartById[P].chartPeriod}),n.payload.assets=Me(T),n.payload.currentTime=T.global.currentTime;break;case a.bp:var I=t.getState(),D=n.payload,L=D.chartId,M=D.symbol,R=I.chartSettings.chartById[L].chartPeriod;n.payload.symbol=Ue({symbol:M,chartPeriod:R,socket:r,state:I}),n.payload.assets=Me(I);break;case a.IB:var B=n.payload.chartId,H=t.getState().chartSettings.chartById[B].symbol;r.subscribeMarketForecast(H);break;case a.V4:var $=n.payload.chartId,F=t.getState().chartSettings.chartById[$].symbol;r.unsubscribeMarketForecast(F);break;case a.OC:je.A.set(n.payload)}return e(n)}}},Ge=n(24374),ze=n(71042),Ye=n(60204),Xe=function(t){return function(e){return function(n){var r=ce.A.instance;switch(n.type){case N.xD:n.payload.deals.map((function(t){return t.asset})).forEach((function(t){return r.subscribeAsset(t)}));break;case gt.YS:var i=n.payload,o=t.getState(),a=o.assets,s=o.expresses,c=s.new,l=c.assetBySymbol,u=c.assetSymbols;if((0,_e.cO)(o)){var d=(0,_e.Oi)(o),f=(0,_e.A4)(o);if(i>f)return le.A.publish(Oe.$k,{limit:f,amount:i,currency:d})}if(s.isConfirming)return;var h=u.map((function(t){if(!a.assetBySymbol[t])return!1;var e=l[t],n=e.actionType,r=e.timeframe,i=s.expirationTimes.byTimeframe[r];return!!i&&[t,n,i.toTimestamp]})).filter((function(t){return t}));r.openExpress(i,h);break;case gt.DT:var p=t.getState(),m=p.expresses;p.global.isMobile&&m.selectedAssetCategory===C.aB&&ot.A.cookies.findBool("exp_show_help",!0)&&ot.A.cookies.set("exp_show_help","0")}return e(n)}}},qe=["assetId","symbol","chartId","requestId","type"];var Ke=function(t,e,n){var r=e.type,i=e.payload;switch(r){case Zt.o1.add.type:var o=i.assetId,a=i.symbol,s=i.chartId,c=i.requestId,l=i.type,u=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(i,qe);return n.addDrawing({symbol:a,assetId:o,chartId:s,requestId:c,type:l,settings:u});case Zt.o1.edit.type:var d=i.id,f=i.settings;i.shouldUpload&&n.editDrawing({id:d,settings:f});break;case Zt.o1.pointEdit.type:return n.updateDrawingPoint(i);case Zt.o1.pointsEdit.type:return n.updateDrawingPoints(i);case Zt.o1.changeSelected.type:var h=t.getState().drawings,p=h.selectedIds,m=h.byId;p.forEach((function(t){return n.editDrawing(m[t])}));break;case Zt.o1.lock.type:var y=i.ids,v=i.value;return n.lockDrawings({ids:y,value:v});case Zt.o1.remove.type:var b=i.drawingId,g=i.chartId;return n.deleteDrawing({drawingId:b,chartId:g});case Zt.o1.removeAll.type:return n.deleteDrawings(i);case Zt.o1.removeSelected.type:return n.deleteDrawingsWithIds(i);case Zt.o1.removeAllInChart.type:return n.deleteDrawings(i)}},Ze=function(t){return function(e){return function(n){return function(r){var i=n(r);return Ke(e,r,t),i}}}},Je=function(t,e,n){var r=e.type,i=e.payload;switch(r){case Dt.o1.add.type:return n.addIndicator(i);case Dt.o1.edit.type:var o=i.id,a=i.settings;i.shouldUpload&&n.editIndicator({id:o,settings:a});break;case Dt.o1.remove.type:return n.deleteIndicator(i);case Dt.o1.changeVisibility.type:var s=i.id,c=i.value;return n.changeIndicatorVisibility({id:s,value:c});case Dt.o1.favorite.type:return n.favoriteIndicator(i);case Dt.o1.unfavorite.type:return n.unfavoriteIndicator(i);case Dt.o1.removeAllInChart.type:return n.deleteIndicators(i);case Dt.o1.removeAll.type:var l=i.chartId;return n.deleteIndicators(l)}},Qe=function(t){return function(e){return function(n){return function(r){var i=n(r);return Je(e,r,t),i}}}},tn=function(t,e,n){te.S.endpoints.getPosition.matchFulfilled(e)&&(e.payload.isTournamentRatingModalOpened=n.modals.states[bt.lx.TOURNAMENT_RATINGS])},en=function(t){return function(e){return function(n){var r=t.getState();return tn(t,n,r),e(n)}}},nn=[function(){return function(t){return function(e){var n=ce.A.instance;switch(e.type){case Ge.TT:n.subscribeSignals();break;case Ge.kv:n.unSubscribeSignals();break;case o.Yf:var r=e.payload,i=r.settingName,a=r.value;(0,ze.A)(i,a?1:0);break;case A.Wm:(0,ze.A)("opening-first-deal_panel",0);break;case A.Ne:(0,ze.A)("enabled_watchlisting_of_copied_bets",e.payload.value?1:0);break;case A.TD:(0,ze.A)("show_rating",e.payload.value?1:0);break;case A.bD:(0,ze.A)("hide_my_profile_watching",e.payload.value?1:0);break;case A.Ck:(0,ze.A)("chart_watched_users",e.payload.value?1:0);break;case A.Y$:e.payload.value&&ot.A.cookies.remove(ht),(0,ze.A)("enabled_chart_hotkeys",e.payload.value?1:0);break;case A.Qc:ot.A.cookies.set(ht,"1");break;case o.zZ:var s=e.payload,c=s.code,l=s.balance;le.A.publish(Oe.lA,new ue.A(l)),le.A.publish(Oe.M9,new Ye.A(c));break;case at.o1.finishTournamentRegistration.type:case at.o1.finishRebuyTournament.type:case at.o1.finishTakingTournamentPrize.type:n.updateBalance();break;case A.IQ:e.payload.forEach((function(t){var e=t.field,n=t.value;return(0,ze.A)(e,n)}))}return t(e)}}},Ve,Xe,Ze(ce.A.instance),Qe(ce.A.instance),en,ye,Jt.y.middleware,Qt.s.middleware,te.S.middleware],rn=(0,ee.U1)({reducer:se,middleware:function(t){return t({serializableCheck:!1,immutableCheck:!1}).concat(nn)},devTools:!1});console.log("[STORE] OPTIONS");var on=rn},75624:function(t,e,n){"use strict";n.d(e,{J:function(){return r}});var r="update-balance"},92180:function(t,e,n){"use strict";n.d(e,{T:function(){return r}});var r=function(t){return function(e){return e.balances[t]}}},91171:function(t,e,n){"use strict";n.d(e,{O:function(){return r},s:function(){return i}});var r=function(t){return function(e){return e.balances[t]}},i=function(t){return t.balances}},93704:function(t,e,n){"use strict";n.d(e,{U_:function(){return r},p6:function(){return o},tQ:function(){return i}});var r="change-counter",i="increment-counter",o="decrement-counter"},38388:function(t,e,n){"use strict";n.d(e,{p:function(){return r}});var r=function(t){return function(e){return e.counters[t]}}},47619:function(t,e,n){"use strict";n.d(e,{g:function(){return r}});var r=function(t){return t.counters}},80461:function(t,e,n){"use strict";n.d(e,{JD:function(){return F},B1:function(){return W},xO:function(){return V}});var r=n(64169),i=n(61477),o=n(75624),a=n(62832),s=n.n(a);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f={balances:s()(window,"AppData.balances",{})},h=function(t,e){if(e.type===o.J)return u(u({},t),{},{balances:u(u({},t.balances),{},d({},e.payload.type,e.payload.val))})};function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=p(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==p(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b,g={gems:v(v(v(v({},"red",s()(window,"AppData.gems.red",0)),"blue",s()(window,"AppData.gems.blue",0)),"green",s()(window,"AppData.gems.green",0)),"secret",s()(window,"AppData.gems.secret",0))},w=function(t,e){if("update-gem"===e.type)return y(y({},t),{},{gems:y(y({},t.gems),{},v({},e.payload.type,e.payload.val))})},j=n(1758),x=n(93704);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){k(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=_(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T={counters:(b={},k(k(k(k(k(k(k(k(k(k(b,j.i0,0),j.jV,0),j.k,0),j.l1,0),j.w3,0),j.fG,0),j.sh,0),j.pt,0),j.jC,0),j.vb,0),k(k(k(k(k(k(k(b,j.WX,0),j.Q5,0),j.KO,!1),j.$k,!1),j.In,!1),j.Ox,!1),j.Lu,!1))},A=[j.l1,j.sh,j.k,j.w3,j.vb],C=[j.KO,j.$k,j.In,j.Lu],P=function(t,e){switch(e.type){case x.tQ:var n=t.counters[e.payload.type]+e.payload.val;return O(O({},t),{},{counters:O(O({},t.counters),{},k({},e.payload.type,n))});case x.p6:var r=t.counters[e.payload.type]-e.payload.val;return r<0&&(r=0),O(O({},t),{},{counters:O(O({},t.counters),{},k({},e.payload.type,r))});case x.U_:var i=e.payload,o=i.val,a=i.type;if(C.includes(a))return t;var s=k({},a,o);return a===j.Q5&&(s[j.Lu]=o>0),A.includes(a)&&(s[j.In]=A.some((function(e){return e===a?o>0:t.counters[e]>0}))),a===j.i0&&(s[j.KO]=o>0),a===j.jC&&(s[j.$k]=o>0),O(O({},t),{},{counters:O(O({},t.counters),s)})}},E=n(97241),I=n(76067),N=function(t,e){switch(e.type){case I.JB:return(0,E.Ay)(t,(function(n){null===t.web_view_popups.start_balance&&(n.web_view_popups.start_balance=e.payload.balance),n.web_view_popups.current_balance=e.payload.balance}));case I._$:return(0,E.Ay)(t,(function(t){t.web_view_popups.count_successful_deals+=e.payload.count}));case I.oC:return(0,E.Ay)(t,(function(t){t.web_view_popups.is_finished=!0}))}};function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){R(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function R(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=D(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==D(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var B=M(M(M(M({},g),f),T),{web_view_popups:{is_finished:!1,count_successful_deals:0,start_balance:null,current_balance:0}}),H=(0,r.lt)((0,r.eh)((0,r.xw)((function(){return M(M(M(M({},w.apply(void 0,arguments)),h.apply(void 0,arguments)),P.apply(void 0,arguments)),N.apply(void 0,arguments))}),B)),{name:"cabinet-store",enabled:!1}),$=(0,i.vt)(H),F=$.dispatch,W=$.subscribe,U=$.getState,V=function(t){return t(U())},G=n(95616),z=n.n(G),Y=n(69581),X=n(91171),q=n(92180),K=n(97481),Z=n(41608);Object.keys(V(X.s)).map((function(t){W((0,q.T)(t),(function(e,n){var r=z()(".js-".concat(t));if(0!==r.length){var i="USD",o=t.substring(t.length-3);(0,Z.e6)()[o]&&(i=o),r.each((function(t,r){var o=z()(r);if(!o.hasClass("js-hd")||(o.data("hd-show",(0,K.A)(e)),"hide"!==o.data("hd-status"))){var a=(0,Z.Fl)(e,i),s=o.hasClass("no-animation")?0:1,c={startVal:n,endVal:e,separator:",",duration:s,decimalPlaces:a.split(".")[1]?a.split(".")[1].length:0};(0,Y.A)(o,c)}}))}}))}));Object.keys(V((function(t){return t.gems}))).map((function(t){var e;W((e=t,function(t){return t.gems[e]}),(function(e,n){var r=z()(".js-".concat(t,"-gem-count"));0!==r.length&&(0,Y.A)(r,{startVal:n,endVal:e})}))}));var J,Q=n(92605),tt=n(47619),et=n(38388);function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function rt(){rt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,a=Object.create(o.prototype),s=new P(r||[]);return i(a,"_invoke",{value:k(t,n,s)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};l(w,a,(function(){return this}));var j=Object.getPrototypeOf,x=j&&j(j(E([])));x&&x!==n&&r.call(x,a)&&(w=x);var _=g.prototype=v.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(i,o,a,s){var c=d(t[i],t,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==nt(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function k(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=d(e,n,r);if("normal"===l.type){if(i=r.done?m:h,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function T(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function E(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(nt(e)+" is not iterable")}return b.prototype=g,i(_,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new O(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(_),l(_,c,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=E,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:E(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function it(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function ot(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){it(o,r,i,a,s,"next",t)}function s(t){it(o,r,i,a,s,"throw",t)}a(void 0)}))}}function at(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=nt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var st=(at(at(at(at(at(at(at(at(at(at(J={},j.jC,".js-counter--support .counter__number"),j.i0,".js-counter--achievements .counter__number"),j.fG,".js-counter--pending-withdrawal .counter__number"),j.l1,".js-counter--gifts .counter__number"),j.sh,".js-counter--purchases .counter__number"),j.w3,".js-counter--mining .counter__number"),j.k,".js-counter--gems-lottery .counter__number"),j.WX,".js-counter--chat .counter__number"),j.vb,".js-counter--user-shards .counter__number"),j.In,".js-counter--group-market"),at(at(at(at(at(J,j.KO,".js-counter--group-achievements"),j.$k,".js-counter--group-help"),j.Ox,".js-counter--group-chat-vip"),j.jV,".js-counter--active-tournaments"),j.Lu,".js-counter--indicator-mining-licence"));var ct=function(t,e){try{var n=z()(st[e]),r="none"===n.css("display");if(0===n.length)return;t&&r&&n.fadeIn(),!t&&!r&&n.fadeOut()}catch(i){console.error("Counters2",i)}},lt=function(){var t=ot(rt().mark((function t(e,n,r){var i,o,a,s,c,l;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,0!==(i=z()(st[r])).length){t.next=4;break}return t.abrupt("return");case 4:if(ut(i),o=i.first().closest(".counter"),s=(u=e)>99?"99+":u,c=n>99?99:n,l=e>99?99:e,!(a=e>0)||!o.is(":hidden")){t.next=13;break}return t.next=13,dt(i.closest(".counter"));case 13:(0,Y.A)(i,{startVal:c,endVal:l},(function(){i.text(s),a||ft(i.closest(".counter"))})),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.error("Err counters",t.t0);case 19:case"end":return t.stop()}var u}),t,null,[[0,16]])})));return function(e,n,r){return t.apply(this,arguments)}}(),ut=function(t){t.addClass("hidden").removeClass("animated").removeClass("zoomOut").removeClass("zoomIn").removeClass("hidden")},dt=function(){var t=ot(rt().mark((function t(e){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){e.addClass("animated").addClass("zoomIn").show(),setTimeout((function(){e.removeClass("animated").removeClass("zoomIn"),t()}),300)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ft=function(t){t.first().one((0,Q.A)(),(function(){return t.hide().removeClass("animated").removeClass("zoomOut")})),t.addClass("animated").addClass("zoomOut")};Object.keys(V(tt.g)).map((function(t){W((0,et.p)(t),(function(e,n){return t.startsWith("group-")||t.startsWith("indicator-")?ct(e,t):void lt(e,n,t)}))}))},86087:function(t,e,n){"use strict";n.d(e,{Ez:function(){return a},fB:function(){return i},uo:function(){return o}});var r=n(76067),i=function(){return{type:r.oC}},o=function(t){return{type:r.JB,payload:{balance:t}}},a=function(t){return{type:r._$,payload:{count:t}}}},76067:function(t,e,n){"use strict";n.d(e,{JB:function(){return i},_$:function(){return o},oC:function(){return r}});var r="set_finished",i="update_balance",o="inc_successful_deals"},78797:function(t,e,n){"use strict";n.d(e,{W:function(){return i},x:function(){return r}});var r=function(){return function(t){return t.web_view_popups.is_finished}},i=function(){return function(t){return t.web_view_popups.current_balance}}},14804:function(t,e,n){"use strict";n.d(e,{A:function(){return m}});var r=n(95616),i=n.n(r),o=n(59512),a=n(75054),s={dataType:"json",headers:{Isdemo:o.D9,Istournament:+(0,a.A)("is-tournament"),Ischart:+(0,a.A)("is-chart")}},c=["catch"];function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return(e=p(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function p(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}var m=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},n=[{key:"request",value:function(t){var e=t.catch,n=function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,c),r=new Promise((function(t,e){i().ajax(d(d({},s),n)).done(t).fail(e)}));return"function"==typeof e?r.catch(e):r.catch((function(){return{}}))}},{key:"requestAbortable",value:function(t){var e=i().ajax(d(d({},s),t)),n=Promise.resolve(e);return n.catch((function(){})),{promise:n,abort:function(){e.abort()}}}}],(e=null)&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}()},83944:function(t,e,n){"use strict";n.d(e,{X8:function(){return y},iV:function(){return p},pP:function(){return v}});var r=n(44852),i=n.n(r),o=n(62832),a=n.n(o),s=n(95616),c=n.n(s);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function d(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}var f=null,h=null,p="button",m="window",y="block",v={base:"",button:"",window:"",block:"",backing:"",absolute:""},b=function(){return t=function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!i()(window.AppData,"ajaxLoader.template"))throw Error("Не найден AppData.ajaxLoader.template для отрисовки ajax лоадера");if(!i()(window.AppData,"ajaxLoader.classList"))throw Error("Не найден AppData.ajaxLoader.classList список классов для ajax лоадера");var e=a()(window.AppData,"ajaxLoader.template","<div></div>");v.base=a()(window.AppData,"ajaxLoader.classList.base"),v.button=a()(window.AppData,"ajaxLoader.classList.button"),v.window=a()(window.AppData,"ajaxLoader.classList.window"),v.block=a()(window.AppData,"ajaxLoader.classList.block"),v.backing=a()(window.AppData,"ajaxLoader.classList.backing"),v.absolute=a()(window.AppData,"ajaxLoader.classList.absolute"),h=c()(e),f=h.find("svg"),this._wrapperClassList=[],this._childrenClassList=[],this._backing=!1,this._absolute=!1},(e=[{key:"get",value:function(){this.make()}},{key:"getForButton",value:function(){return this.make(p)}},{key:"getForWindow",value:function(){return this.make(m)}},{key:"getForBlock",value:function(){return this.make(y)}},{key:"make",value:function(t){return this._childrenClassList.length&&this._childrenClassList.forEach((function(t){return f.addClass(t)})),this.getWrapperClassList(t).forEach((function(t){return h.addClass(t)})),this.isBacking()&&h.prepend(this.getBackingHtml()),h.append(f)}},{key:"getWrapperClassList",value:function(t){var e=[];switch((this.isBacking()||this.isAbsolute())&&e.push(v.absolute),t){case y:e.push(v.block);break;case p:e.push(v.button);break;case m:e.push(v.window)}return this._wrapperClassList.length&&this._wrapperClassList.forEach((function(t){return e.push(t)})),e}},{key:"getBackingHtml",value:function(){return this.isBacking()?'<div class="'.concat(v.backing,'"></div>'):""}},{key:"getByType",value:function(t){return this.make(t)}},{key:"isBacking",value:function(){return!0===this._backing}},{key:"setBacking",value:function(t){return this._backing=t,this}},{key:"isAbsolute",value:function(){return!0===this._absolute}},{key:"setAbsolute",value:function(t){return this._absolute=t,this}},{key:"setWrapperClassList",value:function(t){return this._wrapperClassList=t,this}},{key:"getChildrenClassList",value:function(){return this._childrenClassList}},{key:"setChildrenClassList",value:function(t){return this._childrenClassList=t,this}}])&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.Ay=b},12268:function(t,e,n){"use strict";var r=n(52188),i=n.n(r);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}var c=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},n=[{key:"subscribe",value:function(t,e){return i().subscribe(t,e)}},{key:"unsubscribe",value:function(t){i().unsubscribe(t)}},{key:"publish",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i().publish(t,e)}}],(e=null)&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.A=c},46863:function(t,e,n){"use strict";n.d(e,{A:function(){return v}});var r=n(95616),i=n.n(r);!function(t){t.gritter={},t.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3,to:"",tpl_close:'<a class="gritter-close" href="#" tabindex="1">Close Notification</a>',tpl_title:'<span class="gritter-item__title">[[title]]</span>',tpl_item:'\n            <div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none" role="alert">\n                <div class="gritter-item">\n                    [[close]]\n                    [[title]]\n                    <div class="gritter-item__text">[[text]]</div>\n                </div>\n            </div>',tpl_wrap:'<div id="gritter-notice-wrapper" class="[[wrapperClassName]] [[position]]"></div>'},t.gritter.add=function(t){try{return e.add(t||{})}catch(r){var n="Gritter Error: "+r;"undefined"!=typeof console&&console.error?console.error(n,t):alert(n)}},t.gritter.remove=function(t,n){e.removeSpecific(t,n||{})},t.gritter.removeAll=function(t){e.stop(t||{})};var e={position:"",fade_in_speed:"",fade_out_speed:"",time:"",to:"",_custom_timer:0,_item_count:0,_is_setup:0,_getWrapperSelector:function(){var e="#gritter-notice-wrapper";return"string"==typeof this.wrapperSelector&&(e+=".".concat(this.wrapperSelector)),"string"==typeof t.gritter.options.position&&(e+="."+t.gritter.options.position),this.to.length&&(e=this.to+" "+e),e},add:function(n){if("string"==typeof n&&(n={text:n}),null===n.text)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var r=n.title,i=n.text,o=n.sticky||!1,a=n.class_name||t.gritter.options.class_name,s=t.gritter.options.position,c=n.time||"",l=n.tpl_item||t.gritter.options.tpl_item;this.fade_out_speed=n.fade_out_speed||n.speed,this.limit_items=n.limit_items||null,this.tpl_wrap=n.tpl_wrap||t.gritter.options.tpl_wrap,this.tpl_close=n.tpl_close||t.gritter.options.tpl_close,this.wrapperSelector="string"==typeof n.wrapperSelector?n.wrapperSelector:null,this.to=n.to||"",this.fade_in_speed=n.fade_in_speed||"medium",this._verifyWrapper(),this._item_count++;var u=this._item_count,d=l;if(t(["before_open","after_open","before_close","after_close"]).each((function(r,i){e["_"+i+"_"+u]=t.isFunction(n[i])?n[i]:function(){}})),this._custom_timer=0,c&&(this._custom_timer=c),r=r?this._str_replace("[[title]]",r,t.gritter.options.tpl_title):"",d=this._str_replace(["[[title]]","[[text]]","[[close]]","[[number]]","[[item_class]]"],[r,i,this.tpl_close,this._item_count,a],d),!1===this["_before_open_"+u]())return!1;t(this._getWrapperSelector()).addClass(s).append(d);var f=t("#gritter-item-"+this._item_count);if(f.fadeIn(this.fade_in_speed,(function(){e["_after_open_"+u](t(this))})),o||this._setFadeTimer(f,u),t(f).bind("mouseenter mouseleave",(function(n){"mouseenter"===n.type?o||e._restoreItemIfFading(t(this),u):o||e._setFadeTimer(t(this),u),e._hoverState(t(this),n.type)})),t(f).find(".gritter-close").click((function(){return e.removeSpecific(u,{},null,!0),!1})),"number"==typeof this.limit_items&&this.limit_items>0){var h=t(this._getWrapperSelector()).children();h.length>this.limit_items&&h.slice(0,h.length-this.limit_items).map((function(t,e){return e.remove()}))}return u},_countRemoveWrapper:function(t,e,n){var r=e.closest("#gritter-notice-wrapper");e.remove(),this["_after_close_"+t](e,n),0===r.find(".gritter-item-wrapper").length&&r.remove()},_fade:function(t,n,r,i){var o=void 0===(r=r||{}).fade||r.fade,a=r.speed||this.fade_out_speed,s=i;this["_before_close_"+n](t,s),i&&t.unbind("mouseenter mouseleave"),o?t.animate({opacity:0},a,(function(){t.animate({height:0},300,(function(){e._countRemoveWrapper(n,t,s)}))})):this._countRemoveWrapper(n,t)},_hoverState:function(t,e){"mouseenter"==e?(t.addClass("hover"),t.find(".gritter-close").show()):(t.removeClass("hover"),t.find(".gritter-close").hide())},removeSpecific:function(e,n,r,i){if(!r)r=t("#gritter-item-"+e);this._fade(r,e,n||{},i)},_restoreItemIfFading:function(t,e){clearTimeout(this["_int_id_"+e]),t.stop().css({opacity:"",height:""})},_runSetup:function(){for(var e in t.gritter.options)this[e]=t.gritter.options[e];this._is_setup=1},_setFadeTimer:function(t,n){var r=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+n]=setTimeout((function(){e._fade(t,n)}),r)},stop:function(e){var n=t.isFunction(e.before_close)?e.before_close:function(){},r=t.isFunction(e.after_close)?e.after_close:function(){},i=t(this._getWrapperSelector());n(i),i.fadeOut((function(){t(this).remove(),t(".gritter-notice-wrapper-streamer").remove(),r()}))},_str_replace:function(t,e,n,r){var i,o=0,a=0,s="",c="",l=0,u=[].concat(t),d=[].concat(e),f=n,h=d instanceof Array,p=f instanceof Array;for(f=[].concat(f),r&&(this.window[r]=0),o=0,i=f.length;o<i;o++)if(""!==f[o])for(a=0,l=u.length;a<l;a++)s=f[o]+"",c=h?void 0!==d[a]?d[a]:"":d[0],f[o]=s.split(u[a]).join(c),r&&f[o]!==s&&(this.window[r]+=(s.length-f[o].length)/u[a].length);return p?f:f[0]},_verifyWrapper:function(){if(0===t(this._getWrapperSelector()).length){var e=this.tpl_wrap.replace("[[wrapperClassName]]","string"==typeof this.wrapperSelector?this.wrapperSelector:"").replace("[[position]]",t.gritter.options.position||"");this.to.length?t(this.to).append(e):t("body").append(e)}}}}(n(95616));var o=n(80479),a=n(77455),s=n.n(a),c=n(12268),l=n(15071);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return(e=m(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function m(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:e+""}var y=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=s()({},{sticky:!1,position:o.fX,time:1e3},e)},e=[{key:"prepare",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={text:""};return"string"==typeof t?r.text=t:"object"===h(t)&&(r=t),"object"===h(e)&&Object.keys(e).length>0&&(r=s()(r,e)),n.hasOwnProperty("class_name")&&(r.class_name=r.hasOwnProperty("class_name")?r.class_name+" "+n.class_name:n.class_name),r}},{key:"red",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.message(this.prepare(t,e,{class_name:o.k5}))}},{key:"green",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.message(this.prepare(t,e,{class_name:o.g$}))}},{key:"gold",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.message(this.prepare(t,e,{class_name:o.hj}))}},{key:"default",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.message(this.prepare(t,e,{class_name:o.Kt}))}},{key:"message",value:function(t){var e=d(d({},this.options),t);return i().gritter.options.position=e.position,c.A.publish(l.oe),i().gritter.add(e)}},{key:"remove",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().gritter.remove(t,e)}}],e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),v=y},59674:function(t,e,n){"use strict";n.d(e,{A:function(){return o}});var r=n(59111),i={wheelSpeed:1,wheelPropagation:!0,minScrollbarLength:20},o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},i,e),o={};return t.each((function(t,e){o[e.dataset.psId]=new r.A(e,n)})),o}},92605:function(t,e){"use strict";e.A=function(){return function(t){var e={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var n in e)if(void 0!==t.style[n])return e[n]}(document.createElement("div"))}},69581:function(t,e,n){"use strict";var r=n(95616),i=n.n(r),o=n(40195);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}e.A=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};"function"!=typeof n&&(n=function(){});var r={startVal:0,endVal:0,separator:"",duration:1,decimal:"."};"number"==typeof e?r.endVal=e:"object"===a(e)&&i().extend(!0,r,e),t.each((function(t,e){var a=i()(e);if(void 0!==a.data("decimals")&&(r.decimals=a.data("decimals")),void 0!==a.data("from")&&(r.startVal=parseFloat(a.data("from"))||0),void 0!==a.data("to")&&(r.endVal=parseFloat(a.data("to"))||0),void 0!==a.data("duration")&&(r.duration=a.data("duration")),r.startVal!==r.endVal){var s=new o.CountUp(e,r.endVal,r);s.error||s.start((function(){n(),a.trigger("count-up-end")}))}}))}},41608:function(t,e,n){"use strict";n.d(e,{AR:function(){return l},Fl:function(){return p},Ip:function(){return w},L9:function(){return s},MU:function(){return h},aZ:function(){return d},e6:function(){return c},ej:function(){return f},fD:function(){return u},gR:function(){return v},vv:function(){return y},yg:function(){return m}});var r=n(75054),i=n(97481),o=n(62832),a=n.n(o),s=function(){return a()(window,"AppData.currency_code","USD")},c=function(){return(0,r.A)("currencyCodeToSymbol")};function l(t){if(!t)return"$";var e=c();return e?e[t]||t:"$"}function u(t){return"/themes/cabinet/svg/icons/currency/icons/".concat(t.toLowerCase(),".svg")}function d(t){var e=(0,r.A)("currencyDigitsList");return void 0!==e[t]?e[t]:2}function f(t,e){return t<0?"-"+y(p(Math.abs(t),e),e):y(p(t,e),e)}function h(t,e){return(t>0?"+":"")+y(p(Math.abs(t),e),e)}function p(t,e){return m(t,d(e))}function m(t,e){var n=(0,i.A)(t,e,".",",");return t%1==0&&n.includes(".")&&(n=(n=n.replace(new RegExp("[0]+$"),"")).replace(new RegExp("[.]+$"),"")),n}function y(t,e){return function(t){return(0,r.A)("currencyLeftSideList").includes(t)}(e)?l(e)+t:t+" "+l(e)}function v(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Math.pow(10,Math.ceil(Math.log10(t))-2);return e?Math.ceil(t/n)*n:Math.floor(t/n)*n}var b="big-number-1",g="big-number-2";function w(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:13,r="";t>n?r=g:t>e&&(r=b);return r}(String(t).length)}},47510:function(t,e,n){"use strict";function r(){return Date.now()/(Math.random()+1)+Math.random()}n.d(e,{A:function(){return r}})},64178:function(t,e,n){"use strict";function r(t,e){var n=t+Math.random()*(e-t);return n=Math.round(n)}n.d(e,{A:function(){return r}})},30775:function(t,e,n){"use strict";n.d(e,{o:function(){return s}});var r=n(12268),i=n(15720),o=n(89061),a=window.matchMedia("(orientation: portrait)"),s=a.matches?i.V:i.p,c=function(t){s=t.matches?i.V:i.p,r.A.publish(o.h,s)};"function"==typeof a.addEventListener?a.addEventListener("change",c):"function"==typeof a.addListener?a.addListener(c):console.error("mediaQueryList addEventListener | addListener not found")},40759:function(t,e,n){"use strict";var r=n(75054);e.A=function(){return(0,r.A)("site-url")}},49697:function(t,e){"use strict";e.A=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}},75054:function(t,e,n){"use strict";n.d(e,{A:function(){return o}});var r=n(62832),i=n.n(r);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i()(window,"AppData.".concat(t),function(t,e){var n=document.getElementById("var-".concat(t));if(!n)return e;return"value"in n.dataset?n.dataset.value:n.innerHTML}(t,e))}},79302:function(t,e,n){"use strict";var r=n(16300);e.A=function(t,e){e="function"==typeof e?e:function(){};try{e(null,JSON.parse(t))}catch(n){r.A.error("".concat(n,": ").concat(t)),e(n.message,null)}}},28683:function(t,e,n){"use strict";n.d(e,{Lb:function(){return c},Xo:function(){return u},tr:function(){return l}});var r=n(62832),i=n.n(r),o=n(54679),a=n.n(o),s=n(75054),c=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0;return t.replace(/%s%|%s|%d%|%d|{[^}]*}/g,(function(){return n[i++]}))},l=function(t){if(!window.translations)return t;var e=i()(window.translations,t);if(!e)return t;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(1===r.length&&a()(r[0])){var s=r[0];return Object.keys(s).forEach((function(t){e=e.replace("{".concat(t,"}"),s[t]).replace("%".concat(t,"%"),s[t])})),e}return r.length>0?c.apply(void 0,[e].concat(r)):e};function u(){var t=(0,s.A)("lang");return null==t&&void 0!==window.APP&&void 0!==window.APP.lang&&(t=window.APP.lang),t}},97481:function(t,e,n){"use strict";function r(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";e=parseInt(t=(+t||0).toFixed(r))+"";var a=t<0?4:3;return(n=e.length)>a?n%=3:n=0,(n?e.substr(0,n)+o:"")+e.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+o)+(r?i+Math.abs(t-e).toFixed(r).replace(/-/,0).slice(2):"")}n.d(e,{A:function(){return r}})},15720:function(t,e,n){"use strict";n.d(e,{V:function(){return i},p:function(){return r}});var r="landscape",i="portrait"},89061:function(t,e,n){"use strict";n.d(e,{h:function(){return r}});var r="orientation_detected"},59615:function(){var t=document.documentElement.clientWidth,e=document.documentElement.clientHeight;!function(n,r,i){i=i||window;var o=!1;i.addEventListener(n,(function(){o||(o=!0,requestAnimationFrame((function(){var n=null;"function"==typeof window.CustomEvent?n=new CustomEvent(r):(n=document.createEvent("CustomEvent")).initCustomEvent(r,!1,!1,void 0),n.dir=null,document.documentElement.clientWidth!==t&&(n.dir="horizontal",t=document.documentElement.clientWidth),document.documentElement.clientHeight!==e&&(n.dir="vertical",e=document.documentElement.clientHeight),i.dispatchEvent(n),o=!1})))}))}("resize","optimizedResize")},71042:function(t,e,n){"use strict";n.d(e,{A:function(){return a},q:function(){return o}});var r=n(95616),i=n.n(r),o=(0,n(20768).hX)("cabinet/save-var");function a(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return window.AppData[t]=e,new Promise((function(r,a){n?i().ajax({url:o,data:{key:t,value:e},success:function(t){return r(t)},error:function(t){return a(t)}}):r()})).catch((function(){}))}},66794:function(t,e,n){"use strict";n.d(e,{BR:function(){return l},E$:function(){return h},GQ:function(){return d},Pe:function(){return f},TO:function(){return c},Xd:function(){return a},_d:function(){return o},a3:function(){return u},eH:function(){return s}});var r=n(90619),i=n(28683);function o(t){if(t<0)return"00:00:00";var e=Math.floor(t/86400),n=t%86400,r=Math.floor(n/3600),i=n%3600,o=Math.floor(i/60),a=i%60,s=Math.ceil(a);return r<10&&(r="0"+r),o<10&&(o="0"+o),s<10&&(s="0"+s),"".concat(e>1?e+"d ":"").concat(r,":").concat(o,":").concat(s)}function a(t){var e=s(t),n=e.hours<10?"0"+e.hours:e.hours,r=e.minutes<10?"0"+e.minutes:e.minutes,i=e.seconds<10?"0"+e.seconds:e.seconds;return"".concat(n,":").concat(r,":").concat(i)}function s(t){if(t<0)return{hours:0,minutes:0,seconds:0};var e=t%3600,n=e%60;return{hours:Math.floor(t/3600),minutes:Math.floor(e/60),seconds:Math.ceil(n)}}function c(t){if(t<0)return"00:00:00";var e=Math.floor(t/3600),n=t%3600,r=Math.floor(n/60),i=n%60,o=Math.ceil(i);r<10&&(r="0"+r),o<10&&(o="0"+o);var a=r+":"+o;return e>0&&(e<10&&(e="0"+e),a=e+":"+a),a}function l(t){return a(t).substr(3)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Date(1e3*t),i=e?n.getUTCFullYear():n.getFullYear(),o=(0,r.wl)(e?n.getUTCMonth()+1:n.getMonth()+1),a=(0,r.wl)(e?n.getUTCDate():n.getDate()),s=(0,r.wl)(e?n.getUTCHours():n.getHours()),c=(0,r.wl)(e?n.getUTCMinutes():n.getMinutes()),l=(0,r.wl)(e?n.getUTCSeconds():n.getSeconds());return"".concat(i,"-").concat(o,"-").concat(a," ").concat(s,":").concat(c,":").concat(l)}function d(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Date(1e3*t),i=e?n.getUTCFullYear():n.getFullYear(),o=(0,r.wl)(e?n.getUTCMonth()+1:n.getMonth()+1),a=(0,r.wl)(e?n.getUTCDate():n.getDate()),s=(0,r.wl)(e?n.getUTCHours():n.getHours()),c=(0,r.wl)(e?n.getUTCMinutes():n.getMinutes()),l=(0,r.wl)(e?n.getUTCSeconds():n.getSeconds());return"".concat(a,".").concat(o,".").concat(i," ").concat(s,":").concat(c,":").concat(l)}function f(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{h:"h",m:"m",s:"s",h1:"h",m1:"m",s1:"s"},r=new Date(1e3*t),o=e?r.getUTCHours():r.getHours(),a=e?r.getUTCMinutes():r.getMinutes(),s=e?r.getUTCSeconds():r.getSeconds(),c="";return o>0&&(c+="".concat((0,i.tr)(1===o?n.h1:n.h,o)," ")),a>0&&(c+="".concat((0,i.tr)(1===a?n.m1:n.m,a)," ")),s>0&&(c+="".concat((0,i.tr)(1===s?n.s1:n.s,s)," ")),c.toLocaleLowerCase().trim()}function h(t){var e=Math.floor(t/60),n=Math.floor(e/60),r=e%60,i=Math.floor(n/24),o=n%24,a="";return i>0&&(a+="".concat(i,"d")),a+="".concat(o,"h ").concat(r,"m")}},43966:function(){}},o={};function a(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={id:t,loaded:!1,exports:{}};return i[t].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=i,t=[],a.O=function(e,n,r,i){if(!n){var o=1/0;for(u=0;u<t.length;u++){n=t[u][0],r=t[u][1],i=t[u][2];for(var s=!0,c=0;c<n.length;c++)(!1&i||o>=i)&&Object.keys(a.O).every((function(t){return a.O[t](n[c])}))?n.splice(c--,1):(s=!1,i<o&&(o=i));if(s){t.splice(u--,1);var l=r();void 0!==l&&(e=l)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,r,i]},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,{a:e}),e},n=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},a.t=function(t,r){if(1&r&&(t=this(t)),8&r)return t;if("object"==typeof t&&t){if(4&r&&t.__esModule)return t;if(16&r&&"function"==typeof t.then)return t}var i=Object.create(null);a.r(i);var o={};e=e||[null,n({}),n([]),n(n)];for(var s=2&r&&t;"object"==typeof s&&!~e.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return t[e]}}));return o.default=function(){return t},a.d(i,o),i},a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,n){return a.f[n](t,e),e}),[]))},a.u=function(t){return t+".js"},a.miniCssF=function(t){},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r={},a.l=function(t,e,n,i){if(r[t])r[t].push(e);else{var o,s;if(void 0!==n)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==t){o=u;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.src=t),r[t]=[e];var d=function(e,n){o.onerror=o.onload=null,clearTimeout(f);var i=r[t];if(delete r[t],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(t){return t(n)})),e)return e(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),s&&document.head.appendChild(o)}},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t}(),function(){var t={792:0};a.f.j=function(e,n){var r=a.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=t[e]=[n,i]}));n.push(r[2]=i);var o=a.p+a.u(e),s=new Error;a.l(o,(function(n){if(a.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,i,o=n[0],s=n[1],c=n[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(c)var u=c(a)}for(e&&e(n);l<o.length;l++)i=o[l],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var s=a.O(void 0,[121],(function(){return a(42610)}));s=a.O(s)}();
//# sourceMappingURL=main.js.map